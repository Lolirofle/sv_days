!function(e) {
    if ("object" == typeof exports && "undefined" != typeof module)module.exports = e();
    else if ("function" == typeof define && define.amd)define([], e);
    else {
        var f;
        "undefined" != typeof window ? f = window : "undefined" != typeof global ? f = global : "undefined" != typeof self && (f = self), f.io = e()
    }
}(function() {
    var define, module, exports;
    return (function e(t, n, r) {
        function s(o, u) {
            if (!n[o]) {
                if (!t[o]) {
                    var a = typeof require == "function" && require;
                    if (!u && a)return a(o, !0);
                    if (i)return i(o, !0);
                    throw new Error("Cannot find module '" + o + "'")
                }
                var f = n[o] = { exports: {} };
                t[o][0].call(f.exports, function(e) {
                    var n = t[o][1][e];
                    return s(n ? n : e)
                }, f, f.exports, e, t, n, r)
            }
            return n[o].exports
        }

        var i = typeof require == "function" && require;
        for (var o = 0; o < r.length; o++)s(r[o]);
        return s
    })({
        1: [
            function(_dereq_, module, exports) {

                module.exports = _dereq_('./lib/');

            }, { "./lib/": 2 }
        ],
        2: [
            function(_dereq_, module, exports) {

/**
 * Module dependencies.
 */

                var url = _dereq_('./url');
                var parser = _dereq_('socket.io-parser');
                var Manager = _dereq_('./manager');
                var debug = _dereq_('debug')('socket.io-client');

/**
 * Module exports.
 */

                module.exports = exports = lookup;

/**
 * Managers cache.
 */

                var cache = exports.managers = {};

/**
 * Looks up an existing `Manager` for multiplexing.
 * If the user summons:
 *
 *   `io('http://localhost/a');`
 *   `io('http://localhost/b');`
 *
 * We reuse the existing instance based on same scheme/port/host,
 * and we initialize sockets for each namespace.
 *
 * @api public
 */

                function lookup(uri, opts) {
                    if (typeof uri == 'object') {
                        opts = uri;
                        uri = undefined;
                    }

                    opts = opts || {};

                    var parsed = url(uri);
                    var source = parsed.source;
                    var id = parsed.id;
                    var io;

                    if (opts.forceNew || opts['force new connection'] || false === opts.multiplex) {
                        debug('ignoring socket cache for %s', source);
                        io = Manager(source, opts);
                    } else {
                        if (!cache[id]) {
                            debug('new io instance for %s', source);
                            cache[id] = Manager(source, opts);
                        }
                        io = cache[id];
                    }

                    return io.socket(parsed.path);
                }

/**
 * Protocol version.
 *
 * @api public
 */

                exports.protocol = parser.protocol;

/**
 * `connect`.
 *
 * @param {String} uri
 * @api public
 */

                exports.connect = lookup;

/**
 * Expose constructors for standalone build.
 *
 * @api public
 */

                exports.Manager = _dereq_('./manager');
                exports.Socket = _dereq_('./socket');

            }, { "./manager": 3, "./socket": 5, "./url": 6, "debug": 10, "socket.io-parser": 44 }
        ],
        3: [
            function(_dereq_, module, exports) {

/**
 * Module dependencies.
 */

                var url = _dereq_('./url');
                var eio = _dereq_('engine.io-client');
                var Socket = _dereq_('./socket');
                var Emitter = _dereq_('component-emitter');
                var parser = _dereq_('socket.io-parser');
                var on = _dereq_('./on');
                var bind = _dereq_('component-bind');
                var object = _dereq_('object-component');
                var debug = _dereq_('debug')('socket.io-client:manager');
                var indexOf = _dereq_('indexof');
                var Backoff = _dereq_('backo2');

/**
 * Module exports
 */

                module.exports = Manager;

/**
 * `Manager` constructor.
 *
 * @param {String} engine instance or engine uri/opts
 * @param {Object} options
 * @api public
 */

                function Manager(uri, opts) {
                    if (!(this instanceof Manager)) return new Manager(uri, opts);
                    if (uri && ('object' == typeof uri)) {
                        opts = uri;
                        uri = undefined;
                    }
                    opts = opts || {};

                    opts.path = opts.path || '/socket.io';
                    this.nsps = {};
                    this.subs = [];
                    this.opts = opts;
                    this.reconnection(opts.reconnection !== false);
                    this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);
                    this.reconnectionDelay(opts.reconnectionDelay || 1000);
                    this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);
                    this.randomizationFactor(opts.randomizationFactor || 0.5);
                    this.backoff = new Backoff({
                        min: this.reconnectionDelay(),
                        max: this.reconnectionDelayMax(),
                        jitter: this.randomizationFactor()
                    });
                    this.timeout(null == opts.timeout ? 20000 : opts.timeout);
                    this.readyState = 'closed';
                    this.uri = uri;
                    this.connected = [];
                    this.encoding = false;
                    this.packetBuffer = [];
                    this.encoder = new parser.Encoder();
                    this.decoder = new parser.Decoder();
                    this.autoConnect = opts.autoConnect !== false;
                    if (this.autoConnect) this.open();
                }

/**
 * Propagate given event to sockets and emit on `this`
 *
 * @api private
 */

                Manager.prototype.emitAll = function() {
                    this.emit.apply(this, arguments);
                    for (var nsp in this.nsps) {
                        this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);
                    }
                };

/**
 * Update `socket.id` of all sockets
 *
 * @api private
 */

                Manager.prototype.updateSocketIds = function() {
                    for (var nsp in this.nsps) {
                        this.nsps[nsp].id = this.engine.id;
                    }
                };

/**
 * Mix in `Emitter`.
 */

                Emitter(Manager.prototype);

/**
 * Sets the `reconnection` config.
 *
 * @param {Boolean} true/false if it should automatically reconnect
 * @return {Manager} self or value
 * @api public
 */

                Manager.prototype.reconnection = function(v) {
                    if (!arguments.length) return this._reconnection;
                    this._reconnection = !!v;
                    return this;
                };

/**
 * Sets the reconnection attempts config.
 *
 * @param {Number} max reconnection attempts before giving up
 * @return {Manager} self or value
 * @api public
 */

                Manager.prototype.reconnectionAttempts = function(v) {
                    if (!arguments.length) return this._reconnectionAttempts;
                    this._reconnectionAttempts = v;
                    return this;
                };

/**
 * Sets the delay between reconnections.
 *
 * @param {Number} delay
 * @return {Manager} self or value
 * @api public
 */

                Manager.prototype.reconnectionDelay = function(v) {
                    if (!arguments.length) return this._reconnectionDelay;
                    this._reconnectionDelay = v;
                    this.backoff && this.backoff.setMin(v);
                    return this;
                };

                Manager.prototype.randomizationFactor = function(v) {
                    if (!arguments.length) return this._randomizationFactor;
                    this._randomizationFactor = v;
                    this.backoff && this.backoff.setJitter(v);
                    return this;
                };

/**
 * Sets the maximum delay between reconnections.
 *
 * @param {Number} delay
 * @return {Manager} self or value
 * @api public
 */

                Manager.prototype.reconnectionDelayMax = function(v) {
                    if (!arguments.length) return this._reconnectionDelayMax;
                    this._reconnectionDelayMax = v;
                    this.backoff && this.backoff.setMax(v);
                    return this;
                };

/**
 * Sets the connection timeout. `false` to disable
 *
 * @return {Manager} self or value
 * @api public
 */

                Manager.prototype.timeout = function(v) {
                    if (!arguments.length) return this._timeout;
                    this._timeout = v;
                    return this;
                };

/**
 * Starts trying to reconnect if reconnection is enabled and we have not
 * started reconnecting yet
 *
 * @api private
 */

                Manager.prototype.maybeReconnectOnOpen = function() {
                    // Only try to reconnect if it's the first time we're connecting
                    if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {
                        // keeps reconnection from firing twice for the same reconnection loop
                        this.reconnect();
                    }
                };


/**
 * Sets the current transport `socket`.
 *
 * @param {Function} optional, callback
 * @return {Manager} self
 * @api public
 */

                Manager.prototype.open =
                    Manager.prototype.connect = function(fn) {
                        debug('readyState %s', this.readyState);
                        if (~this.readyState.indexOf('open')) return this;

                        debug('opening %s', this.uri);
                        this.engine = eio(this.uri, this.opts);
                        var socket = this.engine;
                        var self = this;
                        this.readyState = 'opening';
                        this.skipReconnect = false;

                        // emit `open`
                        var openSub = on(socket, 'open', function() {
                            self.onopen();
                            fn && fn();
                        });

                        // emit `connect_error`
                        var errorSub = on(socket, 'error', function(data) {
                            debug('connect_error');
                            self.cleanup();
                            self.readyState = 'closed';
                            self.emitAll('connect_error', data);
                            if (fn) {
                                var err = new Error('Connection error');
                                err.data = data;
                                fn(err);
                            } else {
                                // Only do this if there is no fn to handle the error
                                self.maybeReconnectOnOpen();
                            }
                        });

                        // emit `connect_timeout`
                        if (false !== this._timeout) {
                            var timeout = this._timeout;
                            debug('connect attempt will timeout after %d', timeout);

                            // set timer
                            var timer = setTimeout(function() {
                                debug('connect attempt timed out after %d', timeout);
                                openSub.destroy();
                                socket.close();
                                socket.emit('error', 'timeout');
                                self.emitAll('connect_timeout', timeout);
                            }, timeout);

                            this.subs.push({
                                destroy: function() {
                                    clearTimeout(timer);
                                }
                            });
                        }

                        this.subs.push(openSub);
                        this.subs.push(errorSub);

                        return this;
                    };

/**
 * Called upon transport open.
 *
 * @api private
 */

                Manager.prototype.onopen = function() {
                    debug('open');

                    // clear old subs
                    this.cleanup();

                    // mark as open
                    this.readyState = 'open';
                    this.emit('open');

                    // add new subs
                    var socket = this.engine;
                    this.subs.push(on(socket, 'data', bind(this, 'ondata')));
                    this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));
                    this.subs.push(on(socket, 'error', bind(this, 'onerror')));
                    this.subs.push(on(socket, 'close', bind(this, 'onclose')));
                };

/**
 * Called with data.
 *
 * @api private
 */

                Manager.prototype.ondata = function(data) {
                    this.decoder.add(data);
                };

/**
 * Called when parser fully decodes a packet.
 *
 * @api private
 */

                Manager.prototype.ondecoded = function(packet) {
                    this.emit('packet', packet);
                };

/**
 * Called upon socket error.
 *
 * @api private
 */

                Manager.prototype.onerror = function(err) {
                    debug('error', err);
                    this.emitAll('error', err);
                };

/**
 * Creates a new socket for the given `nsp`.
 *
 * @return {Socket}
 * @api public
 */

                Manager.prototype.socket = function(nsp) {
                    var socket = this.nsps[nsp];
                    if (!socket) {
                        socket = new Socket(this, nsp);
                        this.nsps[nsp] = socket;
                        var self = this;
                        socket.on('connect', function() {
                            socket.id = self.engine.id;
                            if (!~indexOf(self.connected, socket)) {
                                self.connected.push(socket);
                            }
                        });
                    }
                    return socket;
                };

/**
 * Called upon a socket close.
 *
 * @param {Socket} socket
 */

                Manager.prototype.destroy = function(socket) {
                    var index = indexOf(this.connected, socket);
                    if (~index) this.connected.splice(index, 1);
                    if (this.connected.length) return;

                    this.close();
                };

/**
 * Writes a packet.
 *
 * @param {Object} packet
 * @api private
 */

                Manager.prototype.packet = function(packet) {
                    debug('writing packet %j', packet);
                    var self = this;

                    if (!self.encoding) {
                        // encode, then write to engine with result
                        self.encoding = true;
                        this.encoder.encode(packet, function(encodedPackets) {
                            for (var i = 0; i < encodedPackets.length; i++) {
                                self.engine.write(encodedPackets[i]);
                            }
                            self.encoding = false;
                            self.processPacketQueue();
                        });
                    } else { // add packet to the queue
                        self.packetBuffer.push(packet);
                    }
                };

/**
 * If packet buffer is non-empty, begins encoding the
 * next packet in line.
 *
 * @api private
 */

                Manager.prototype.processPacketQueue = function() {
                    if (this.packetBuffer.length > 0 && !this.encoding) {
                        var pack = this.packetBuffer.shift();
                        this.packet(pack);
                    }
                };

/**
 * Clean up transport subscriptions and packet buffer.
 *
 * @api private
 */

                Manager.prototype.cleanup = function() {
                    var sub;
                    while (sub = this.subs.shift()) sub.destroy();

                    this.packetBuffer = [];
                    this.encoding = false;

                    this.decoder.destroy();
                };

/**
 * Close the current socket.
 *
 * @api private
 */

                Manager.prototype.close =
                    Manager.prototype.disconnect = function() {
                        this.skipReconnect = true;
                        this.backoff.reset();
                        this.readyState = 'closed';
                        this.engine && this.engine.close();
                    };

/**
 * Called upon engine close.
 *
 * @api private
 */

                Manager.prototype.onclose = function(reason) {
                    debug('close');
                    this.cleanup();
                    this.backoff.reset();
                    this.readyState = 'closed';
                    this.emit('close', reason);
                    if (this._reconnection && !this.skipReconnect) {
                        this.reconnect();
                    }
                };

/**
 * Attempt a reconnection.
 *
 * @api private
 */

                Manager.prototype.reconnect = function() {
                    if (this.reconnecting || this.skipReconnect) return this;

                    var self = this;

                    if (this.backoff.attempts >= this._reconnectionAttempts) {
                        debug('reconnect failed');
                        this.backoff.reset();
                        this.emitAll('reconnect_failed');
                        this.reconnecting = false;
                    } else {
                        var delay = this.backoff.duration();
                        debug('will wait %dms before reconnect attempt', delay);

                        this.reconnecting = true;
                        var timer = setTimeout(function() {
                            if (self.skipReconnect) return;

                            debug('attempting reconnect');
                            self.emitAll('reconnect_attempt', self.backoff.attempts);
                            self.emitAll('reconnecting', self.backoff.attempts);

                            // check again for the case socket closed in above events
                            if (self.skipReconnect) return;

                            self.open(function(err) {
                                if (err) {
                                    debug('reconnect attempt error');
                                    self.reconnecting = false;
                                    self.reconnect();
                                    self.emitAll('reconnect_error', err.data);
                                } else {
                                    debug('reconnect success');
                                    self.onreconnect();
                                }
                            });
                        }, delay);

                        this.subs.push({
                            destroy: function() {
                                clearTimeout(timer);
                            }
                        });
                    }
                };

/**
 * Called upon successful reconnect.
 *
 * @api private
 */

                Manager.prototype.onreconnect = function() {
                    var attempt = this.backoff.attempts;
                    this.reconnecting = false;
                    this.backoff.reset();
                    this.updateSocketIds();
                    this.emitAll('reconnect', attempt);
                };

            }, { "./on": 4, "./socket": 5, "./url": 6, "backo2": 7, "component-bind": 8, "component-emitter": 9, "debug": 10, "engine.io-client": 11, "indexof": 40, "object-component": 41, "socket.io-parser": 44 }
        ],
        4: [
            function(_dereq_, module, exports) {

/**
 * Module exports.
 */

                module.exports = on;

/**
 * Helper for subscriptions.
 *
 * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`
 * @param {String} event name
 * @param {Function} callback
 * @api public
 */

                function on(obj, ev, fn) {
                    obj.on(ev, fn);
                    return {
                        destroy: function() {
                            obj.removeListener(ev, fn);
                        }
                    };
                }

            }, {}
        ],
        5: [
            function(_dereq_, module, exports) {

/**
 * Module dependencies.
 */

                var parser = _dereq_('socket.io-parser');
                var Emitter = _dereq_('component-emitter');
                var toArray = _dereq_('to-array');
                var on = _dereq_('./on');
                var bind = _dereq_('component-bind');
                var debug = _dereq_('debug')('socket.io-client:socket');
                var hasBin = _dereq_('has-binary');

/**
 * Module exports.
 */

                module.exports = exports = Socket;

/**
 * Internal events (blacklisted).
 * These events can't be emitted by the user.
 *
 * @api private
 */

                var events = {
                    connect: 1,
                    connect_error: 1,
                    connect_timeout: 1,
                    disconnect: 1,
                    error: 1,
                    reconnect: 1,
                    reconnect_attempt: 1,
                    reconnect_failed: 1,
                    reconnect_error: 1,
                    reconnecting: 1
                };

/**
 * Shortcut to `Emitter#emit`.
 */

                var emit = Emitter.prototype.emit;

/**
 * `Socket` constructor.
 *
 * @api public
 */

                function Socket(io, nsp) {
                    this.io = io;
                    this.nsp = nsp;
                    this.json = this; // compat
                    this.ids = 0;
                    this.acks = {};
                    if (this.io.autoConnect) this.open();
                    this.receiveBuffer = [];
                    this.sendBuffer = [];
                    this.connected = false;
                    this.disconnected = true;
                }

/**
 * Mix in `Emitter`.
 */

                Emitter(Socket.prototype);

/**
 * Subscribe to open, close and packet events
 *
 * @api private
 */

                Socket.prototype.subEvents = function() {
                    if (this.subs) return;

                    var io = this.io;
                    this.subs = [
                        on(io, 'open', bind(this, 'onopen')),
                        on(io, 'packet', bind(this, 'onpacket')),
                        on(io, 'close', bind(this, 'onclose'))
                    ];
                };

/**
 * "Opens" the socket.
 *
 * @api public
 */

                Socket.prototype.open =
                    Socket.prototype.connect = function() {
                        if (this.connected) return this;

                        this.subEvents();
                        this.io.open(); // ensure open
                        if ('open' == this.io.readyState) this.onopen();
                        return this;
                    };

/**
 * Sends a `message` event.
 *
 * @return {Socket} self
 * @api public
 */

                Socket.prototype.send = function() {
                    var args = toArray(arguments);
                    args.unshift('message');
                    this.emit.apply(this, args);
                    return this;
                };

/**
 * Override `emit`.
 * If the event is in `events`, it's emitted normally.
 *
 * @param {String} event name
 * @return {Socket} self
 * @api public
 */

                Socket.prototype.emit = function(ev) {
                    if (events.hasOwnProperty(ev)) {
                        emit.apply(this, arguments);
                        return this;
                    }

                    var args = toArray(arguments);
                    var parserType = parser.EVENT; // default
                    if (hasBin(args)) {
                        parserType = parser.BINARY_EVENT;
                    } // binary
                    var packet = { type: parserType, data: args };

                    // event ack callback
                    if ('function' == typeof args[args.length - 1]) {
                        debug('emitting packet with ack id %d', this.ids);
                        this.acks[this.ids] = args.pop();
                        packet.id = this.ids++;
                    }

                    if (this.connected) {
                        this.packet(packet);
                    } else {
                        this.sendBuffer.push(packet);
                    }

                    return this;
                };

/**
 * Sends a packet.
 *
 * @param {Object} packet
 * @api private
 */

                Socket.prototype.packet = function(packet) {
                    packet.nsp = this.nsp;
                    this.io.packet(packet);
                };

/**
 * Called upon engine `open`.
 *
 * @api private
 */

                Socket.prototype.onopen = function() {
                    debug('transport is open - connecting');

                    // write connect packet if necessary
                    if ('/' != this.nsp) {
                        this.packet({ type: parser.CONNECT });
                    }
                };

/**
 * Called upon engine `close`.
 *
 * @param {String} reason
 * @api private
 */

                Socket.prototype.onclose = function(reason) {
                    debug('close (%s)', reason);
                    this.connected = false;
                    this.disconnected = true;
                    delete this.id;
                    this.emit('disconnect', reason);
                };

/**
 * Called with socket packet.
 *
 * @param {Object} packet
 * @api private
 */

                Socket.prototype.onpacket = function(packet) {
                    if (packet.nsp != this.nsp) return;

                    switch (packet.type) {
                    case parser.CONNECT:
                        this.onconnect();
                        break;

                    case parser.EVENT:
                        this.onevent(packet);
                        break;

                    case parser.BINARY_EVENT:
                        this.onevent(packet);
                        break;

                    case parser.ACK:
                        this.onack(packet);
                        break;

                    case parser.BINARY_ACK:
                        this.onack(packet);
                        break;

                    case parser.DISCONNECT:
                        this.ondisconnect();
                        break;

                    case parser.ERROR:
                        this.emit('error', packet.data);
                        break;
                    }
                };

/**
 * Called upon a server event.
 *
 * @param {Object} packet
 * @api private
 */

                Socket.prototype.onevent = function(packet) {
                    var args = packet.data || [];
                    debug('emitting event %j', args);

                    if (null != packet.id) {
                        debug('attaching ack callback to event');
                        args.push(this.ack(packet.id));
                    }

                    if (this.connected) {
                        emit.apply(this, args);
                    } else {
                        this.receiveBuffer.push(args);
                    }
                };

/**
 * Produces an ack callback to emit with an event.
 *
 * @api private
 */

                Socket.prototype.ack = function(id) {
                    var self = this;
                    var sent = false;
                    return function() {
                        // prevent double callbacks
                        if (sent) return;
                        sent = true;
                        var args = toArray(arguments);
                        debug('sending ack %j', args);

                        var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;
                        self.packet({
                            type: type,
                            id: id,
                            data: args
                        });
                    };
                };

/**
 * Called upon a server acknowlegement.
 *
 * @param {Object} packet
 * @api private
 */

                Socket.prototype.onack = function(packet) {
                    debug('calling ack %s with %j', packet.id, packet.data);
                    var fn = this.acks[packet.id];
                    fn.apply(this, packet.data);
                    delete this.acks[packet.id];
                };

/**
 * Called upon server connect.
 *
 * @api private
 */

                Socket.prototype.onconnect = function() {
                    this.connected = true;
                    this.disconnected = false;
                    this.emit('connect');
                    this.emitBuffered();
                };

/**
 * Emit buffered events (received and emitted).
 *
 * @api private
 */

                Socket.prototype.emitBuffered = function() {
                    var i;
                    for (i = 0; i < this.receiveBuffer.length; i++) {
                        emit.apply(this, this.receiveBuffer[i]);
                    }
                    this.receiveBuffer = [];

                    for (i = 0; i < this.sendBuffer.length; i++) {
                        this.packet(this.sendBuffer[i]);
                    }
                    this.sendBuffer = [];
                };

/**
 * Called upon server disconnect.
 *
 * @api private
 */

                Socket.prototype.ondisconnect = function() {
                    debug('server disconnect (%s)', this.nsp);
                    this.destroy();
                    this.onclose('io server disconnect');
                };

/**
 * Called upon forced client/server side disconnections,
 * this method ensures the manager stops tracking us and
 * that reconnections don't get triggered for this.
 *
 * @api private.
 */

                Socket.prototype.destroy = function() {
                    if (this.subs) {
                        // clean subscriptions to avoid reconnections
                        for (var i = 0; i < this.subs.length; i++) {
                            this.subs[i].destroy();
                        }
                        this.subs = null;
                    }

                    this.io.destroy(this);
                };

/**
 * Disconnects the socket manually.
 *
 * @return {Socket} self
 * @api public
 */

                Socket.prototype.close =
                    Socket.prototype.disconnect = function() {
                        if (this.connected) {
                            debug('performing disconnect (%s)', this.nsp);
                            this.packet({ type: parser.DISCONNECT });
                        }

                        // remove socket from pool
                        this.destroy();

                        if (this.connected) {
                            // fire events
                            this.onclose('io client disconnect');
                        }
                        return this;
                    };

            }, { "./on": 4, "component-bind": 8, "component-emitter": 9, "debug": 10, "has-binary": 36, "socket.io-parser": 44, "to-array": 48 }
        ],
        6: [
            function(_dereq_, module, exports) {
                (function(global) {

/**
 * Module dependencies.
 */

                    var parseuri = _dereq_('parseuri');
                    var debug = _dereq_('debug')('socket.io-client:url');

/**
 * Module exports.
 */

                    module.exports = url;

/**
 * URL parser.
 *
 * @param {String} url
 * @param {Object} An object meant to mimic window.location.
 *                 Defaults to window.location.
 * @api public
 */

                    function url(uri, loc) {
                        var obj = uri;

                        // default to window.location
                        var loc = loc || global.location;
                        if (null == uri) uri = loc.protocol + '//' + loc.host;

                        // relative path support
                        if ('string' == typeof uri) {
                            if ('/' == uri.charAt(0)) {
                                if ('/' == uri.charAt(1)) {
                                    uri = loc.protocol + uri;
                                } else {
                                    uri = loc.hostname + uri;
                                }
                            }

                            if (!/^(https?|wss?):\/\//.test(uri)) {
                                debug('protocol-less url %s', uri);
                                if ('undefined' != typeof loc) {
                                    uri = loc.protocol + '//' + uri;
                                } else {
                                    uri = 'https://' + uri;
                                }
                            }

                            // parse
                            debug('parse %s', uri);
                            obj = parseuri(uri);
                        }

                        // make sure we treat `localhost:80` and `localhost` equally
                        if (!obj.port) {
                            if (/^(http|ws)$/.test(obj.protocol)) {
                                obj.port = '80';
                            } else if (/^(http|ws)s$/.test(obj.protocol)) {
                                obj.port = '443';
                            }
                        }

                        obj.path = obj.path || '/';

                        // define unique id
                        obj.id = obj.protocol + '://' + obj.host + ':' + obj.port;
                        // define href
                        obj.href = obj.protocol + '://' + obj.host + (loc && loc.port == obj.port ? '' : (':' + obj.port));

                        return obj;
                    }

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "debug": 10, "parseuri": 42 }
        ],
        7: [
            function(_dereq_, module, exports) {

/**
 * Expose `Backoff`.
 */

                module.exports = Backoff;

/**
 * Initialize backoff timer with `opts`.
 *
 * - `min` initial timeout in milliseconds [100]
 * - `max` max timeout [10000]
 * - `jitter` [0]
 * - `factor` [2]
 *
 * @param {Object} opts
 * @api public
 */

                function Backoff(opts) {
                    opts = opts || {};
                    this.ms = opts.min || 100;
                    this.max = opts.max || 10000;
                    this.factor = opts.factor || 2;
                    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;
                    this.attempts = 0;
                }

/**
 * Return the backoff duration.
 *
 * @return {Number}
 * @api public
 */

                Backoff.prototype.duration = function() {
                    var ms = this.ms * Math.pow(this.factor, this.attempts++);
                    if (this.jitter) {
                        var rand = Math.random();
                        var deviation = Math.floor(rand * this.jitter * ms);
                        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;
                    }
                    return Math.min(ms, this.max) | 0;
                };

/**
 * Reset the number of attempts.
 *
 * @api public
 */

                Backoff.prototype.reset = function() {
                    this.attempts = 0;
                };

/**
 * Set the minimum duration
 *
 * @api public
 */

                Backoff.prototype.setMin = function(min) {
                    this.ms = min;
                };

/**
 * Set the maximum duration
 *
 * @api public
 */

                Backoff.prototype.setMax = function(max) {
                    this.max = max;
                };

/**
 * Set the jitter
 *
 * @api public
 */

                Backoff.prototype.setJitter = function(jitter) {
                    this.jitter = jitter;
                };


            }, {}
        ],
        8: [
            function(_dereq_, module, exports) {
/**
 * Slice reference.
 */

                var slice = [].slice;

/**
 * Bind `obj` to `fn`.
 *
 * @param {Object} obj
 * @param {Function|String} fn or string
 * @return {Function}
 * @api public
 */

                module.exports = function(obj, fn) {
                    if ('string' == typeof fn) fn = obj[fn];
                    if ('function' != typeof fn) throw new Error('bind() requires a function');
                    var args = slice.call(arguments, 2);
                    return function() {
                        return fn.apply(obj, args.concat(slice.call(arguments)));
                    };
                };

            }, {}
        ],
        9: [
            function(_dereq_, module, exports) {

/**
 * Expose `Emitter`.
 */

                module.exports = Emitter;

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

                function Emitter(obj) {
                    if (obj) return mixin(obj);
                };

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

                function mixin(obj) {
                    for (var key in Emitter.prototype) {
                        obj[key] = Emitter.prototype[key];
                    }
                    return obj;
                }

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

                Emitter.prototype.on =
                    Emitter.prototype.addEventListener = function(event, fn) {
                        this._callbacks = this._callbacks || {};
                        (this._callbacks[event] = this._callbacks[event] || [])
                            .push(fn);
                        return this;
                    };

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

                Emitter.prototype.once = function(event, fn) {
                    var self = this;
                    this._callbacks = this._callbacks || {};

                    function on() {
                        self.off(event, on);
                        fn.apply(this, arguments);
                    }

                    on.fn = fn;
                    this.on(event, on);
                    return this;
                };

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

                Emitter.prototype.off =
                    Emitter.prototype.removeListener =
                    Emitter.prototype.removeAllListeners =
                    Emitter.prototype.removeEventListener = function(event, fn) {
                        this._callbacks = this._callbacks || {};

                        // all
                        if (0 == arguments.length) {
                            this._callbacks = {};
                            return this;
                        }

                        // specific event
                        var callbacks = this._callbacks[event];
                        if (!callbacks) return this;

                        // remove all handlers
                        if (1 == arguments.length) {
                            delete this._callbacks[event];
                            return this;
                        }

                        // remove specific handler
                        var cb;
                        for (var i = 0; i < callbacks.length; i++) {
                            cb = callbacks[i];
                            if (cb === fn || cb.fn === fn) {
                                callbacks.splice(i, 1);
                                break;
                            }
                        }
                        return this;
                    };

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

                Emitter.prototype.emit = function(event) {
                    this._callbacks = this._callbacks || {};
                    var args = [].slice.call(arguments, 1), callbacks = this._callbacks[event];

                    if (callbacks) {
                        callbacks = callbacks.slice(0);
                        for (var i = 0, len = callbacks.length; i < len; ++i) {
                            callbacks[i].apply(this, args);
                        }
                    }

                    return this;
                };

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

                Emitter.prototype.listeners = function(event) {
                    this._callbacks = this._callbacks || {};
                    return this._callbacks[event] || [];
                };

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

                Emitter.prototype.hasListeners = function(event) {
                    return !! this.listeners(event).length;
                };

            }, {}
        ],
        10: [
            function(_dereq_, module, exports) {

/**
 * Expose `debug()` as the module.
 */

                module.exports = debug;

/**
 * Create a debugger with the given `name`.
 *
 * @param {String} name
 * @return {Type}
 * @api public
 */

                function debug(name) {
                    if (!debug.enabled(name)) return function() {};

                    return function(fmt) {
                        fmt = coerce(fmt);

                        var curr = new Date;
                        var ms = curr - (debug[name] || curr);
                        debug[name] = curr;

                        fmt = name
                            + ' '
                            + fmt
                            + ' +' + debug.humanize(ms);

                        // This hackery is required for IE8
                        // where `console.log` doesn't have 'apply'
                        window.console
                            && console.log
                            && Function.prototype.apply.call(console.log, console, arguments);
                    };
                }

/**
 * The currently active debug mode names.
 */

                debug.names = [];
                debug.skips = [];

/**
 * Enables a debug mode by name. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} name
 * @api public
 */

                debug.enable = function(name) {
                    return false;
                    try {
                        localStorage.debug = name;
                    } catch (e) {
                    }

                    var split = (name || '').split(/[\s,]+/), len = split.length;

                    for (var i = 0; i < len; i++) {
                        name = split[i].replace('*', '.*?');
                        if (name[0] === '-') {
                            debug.skips.push(new RegExp('^' + name.substr(1) + '$'));
                        } else {
                            debug.names.push(new RegExp('^' + name + '$'));
                        }
                    }
                };

/**
 * Disable debug output.
 *
 * @api public
 */

                debug.disable = function() {
                    debug.enable('');
                };

/**
 * Humanize the given `ms`.
 *
 * @param {Number} m
 * @return {String}
 * @api private
 */

                debug.humanize = function(ms) {
                    var sec = 1000,
                        min = 60 * 1000,
                        hour = 60 * min;

                    if (ms >= hour) return (ms / hour).toFixed(1) + 'h';
                    if (ms >= min) return (ms / min).toFixed(1) + 'm';
                    if (ms >= sec) return (ms / sec | 0) + 's';
                    return ms + 'ms';
                };

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

                debug.enabled = function(name) {
                    for (var i = 0, len = debug.skips.length; i < len; i++) {
                        if (debug.skips[i].test(name)) {
                            return false;
                        }
                    }
                    for (var i = 0, len = debug.names.length; i < len; i++) {
                        if (debug.names[i].test(name)) {
                            return true;
                        }
                    }
                    return false;
                };

/**
 * Coerce `val`.
 */

                function coerce(val) {
                    if (val instanceof Error) return val.stack || val.message;
                    return val;
                }

// persist

                try {
                    //if (window.localStorage) debug.enable(localStorage.debug);
                } catch (e) {
                }

            }, {}
        ],
        11: [
            function(_dereq_, module, exports) {

                module.exports = _dereq_('./lib/');

            }, { "./lib/": 12 }
        ],
        12: [
            function(_dereq_, module, exports) {

                module.exports = _dereq_('./socket');

/**
 * Exports parser
 *
 * @api public
 *
 */
                module.exports.parser = _dereq_('engine.io-parser');

            }, { "./socket": 13, "engine.io-parser": 25 }
        ],
        13: [
            function(_dereq_, module, exports) {
                (function(global) {
/**
 * Module dependencies.
 */

                    var transports = _dereq_('./transports');
                    var Emitter = _dereq_('component-emitter');
                    var debug = _dereq_('debug')('engine.io-client:socket');
                    var index = _dereq_('indexof');
                    var parser = _dereq_('engine.io-parser');
                    var parseuri = _dereq_('parseuri');
                    var parsejson = _dereq_('parsejson');
                    var parseqs = _dereq_('parseqs');

/**
 * Module exports.
 */

                    module.exports = Socket;

/**
 * Noop function.
 *
 * @api private
 */

                    function noop() {}

/**
 * Socket constructor.
 *
 * @param {String|Object} uri or options
 * @param {Object} options
 * @api public
 */

                    function Socket(uri, opts) {
                        if (!(this instanceof Socket)) return new Socket(uri, opts);

                        opts = opts || {};

                        if (uri && 'object' == typeof uri) {
                            opts = uri;
                            uri = null;
                        }

                        if (uri) {
                            uri = parseuri(uri);
                            opts.host = uri.host;
                            opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';
                            opts.port = uri.port;
                            if (uri.query) opts.query = uri.query;
                        }

                        this.secure = null != opts.secure ? opts.secure :
                        (global.location && 'https:' == location.protocol);

                        if (opts.host) {
                            var pieces = opts.host.split(':');
                            opts.hostname = pieces.shift();
                            if (pieces.length) {
                                opts.port = pieces.pop();
                            } else if (!opts.port) {
                                // if no port is specified manually, use the protocol default
                                opts.port = this.secure ? '443' : '80';
                            }
                        }

                        this.agent = opts.agent || false;
                        this.hostname = opts.hostname ||
                        (global.location ? location.hostname : 'localhost');
                        this.port = opts.port || (global.location && location.port ?
                            location.port :
                            (this.secure ? 443 : 80));
                        this.query = opts.query || {};
                        if ('string' == typeof this.query) this.query = parseqs.decode(this.query);
                        this.upgrade = false !== opts.upgrade;
                        this.path = (opts.path || '/engine.io').replace(/\/$/, '') + '/';
                        this.forceJSONP = !!opts.forceJSONP;
                        this.jsonp = false !== opts.jsonp;
                        this.forceBase64 = !!opts.forceBase64;
                        this.enablesXDR = !!opts.enablesXDR;
                        this.timestampParam = opts.timestampParam || 't';
                        this.timestampRequests = opts.timestampRequests;
                        this.transports = opts.transports || ['polling', 'websocket'];
                        this.readyState = '';
                        this.writeBuffer = [];
                        this.callbackBuffer = [];
                        this.policyPort = opts.policyPort || 843;
                        this.rememberUpgrade = opts.rememberUpgrade || false;
                        this.binaryType = null;
                        this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;

                        // SSL options for Node.js client
                        this.pfx = opts.pfx || null;
                        this.key = opts.key || null;
                        this.passphrase = opts.passphrase || null;
                        this.cert = opts.cert || null;
                        this.ca = opts.ca || null;
                        this.ciphers = opts.ciphers || null;
                        this.rejectUnauthorized = opts.rejectUnauthorized || null;

                        this.open();
                    }

                    Socket.priorWebsocketSuccess = false;

/**
 * Mix in `Emitter`.
 */

                    Emitter(Socket.prototype);

/**
 * Protocol version.
 *
 * @api public
 */

                    Socket.protocol = parser.protocol; // this is an int

/**
 * Expose deps for legacy compatibility
 * and standalone browser access.
 */

                    Socket.Socket = Socket;
                    Socket.Transport = _dereq_('./transport');
                    Socket.transports = _dereq_('./transports');
                    Socket.parser = _dereq_('engine.io-parser');

/**
 * Creates transport of the given type.
 *
 * @param {String} transport name
 * @return {Transport}
 * @api private
 */

                    Socket.prototype.createTransport = function(name) {
                        debug('creating transport "%s"', name);
                        var query = clone(this.query);

                        // append engine.io protocol identifier
                        query.EIO = parser.protocol;

                        // transport name
                        query.transport = name;

                        // session id if we already have one
                        if (this.id) query.sid = this.id;

                        var transport = new transports[name]({
                            agent: this.agent,
                            hostname: this.hostname,
                            port: this.port,
                            secure: this.secure,
                            path: this.path,
                            query: query,
                            forceJSONP: this.forceJSONP,
                            jsonp: this.jsonp,
                            forceBase64: this.forceBase64,
                            enablesXDR: this.enablesXDR,
                            timestampRequests: this.timestampRequests,
                            timestampParam: this.timestampParam,
                            policyPort: this.policyPort,
                            socket: this,
                            pfx: this.pfx,
                            key: this.key,
                            passphrase: this.passphrase,
                            cert: this.cert,
                            ca: this.ca,
                            ciphers: this.ciphers,
                            rejectUnauthorized: this.rejectUnauthorized
                        });

                        return transport;
                    };

                    function clone(obj) {
                        var o = {};
                        for (var i in obj) {
                            if (obj.hasOwnProperty(i)) {
                                o[i] = obj[i];
                            }
                        }
                        return o;
                    }

/**
 * Initializes transport to use and starts probe.
 *
 * @api private
 */
                    Socket.prototype.open = function() {
                        var transport;
                        if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {
                            transport = 'websocket';
                        } else if (0 == this.transports.length) {
                            // Emit error on next tick so it can be listened to
                            var self = this;
                            setTimeout(function() {
                                self.emit('error', 'No transports available');
                            }, 0);
                            return;
                        } else {
                            transport = this.transports[0];
                        }
                        this.readyState = 'opening';

                        // Retry with the next transport if the transport is disabled (jsonp: false)
                        var transport;
                        try {
                            transport = this.createTransport(transport);
                        } catch (e) {
                            this.transports.shift();
                            this.open();
                            return;
                        }

                        transport.open();
                        this.setTransport(transport);
                    };

/**
 * Sets the current transport. Disables the existing one (if any).
 *
 * @api private
 */

                    Socket.prototype.setTransport = function(transport) {
                        debug('setting transport %s', transport.name);
                        var self = this;

                        if (this.transport) {
                            debug('clearing existing transport %s', this.transport.name);
                            this.transport.removeAllListeners();
                        }

                        // set up transport
                        this.transport = transport;

                        // set up transport listeners
                        transport
                            .on('drain', function() {
                                self.onDrain();
                            })
                            .on('packet', function(packet) {
                                self.onPacket(packet);
                            })
                            .on('error', function(e) {
                                self.onError(e);
                            })
                            .on('close', function() {
                                self.onClose('transport close');
                            });
                    };

/**
 * Probes a transport.
 *
 * @param {String} transport name
 * @api private
 */

                    Socket.prototype.probe = function(name) {
                        debug('probing transport "%s"', name);
                        var transport = this.createTransport(name, { probe: 1 }),
                            failed = false,
                            self = this;

                        Socket.priorWebsocketSuccess = false;

                        function onTransportOpen() {
                            if (self.onlyBinaryUpgrades) {
                                var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;
                                failed = failed || upgradeLosesBinary;
                            }
                            if (failed) return;

                            debug('probe transport "%s" opened', name);
                            transport.send([{ type: 'ping', data: 'probe' }]);
                            transport.once('packet', function(msg) {
                                if (failed) return;
                                if ('pong' == msg.type && 'probe' == msg.data) {
                                    debug('probe transport "%s" pong', name);
                                    self.upgrading = true;
                                    self.emit('upgrading', transport);
                                    if (!transport) return;
                                    Socket.priorWebsocketSuccess = 'websocket' == transport.name;

                                    debug('pausing current transport "%s"', self.transport.name);
                                    self.transport.pause(function() {
                                        if (failed) return;
                                        if ('closed' == self.readyState) return;
                                        debug('changing transport and sending upgrade packet');

                                        cleanup();

                                        self.setTransport(transport);
                                        transport.send([{ type: 'upgrade' }]);
                                        self.emit('upgrade', transport);
                                        transport = null;
                                        self.upgrading = false;
                                        self.flush();
                                    });
                                } else {
                                    debug('probe transport "%s" failed', name);
                                    var err = new Error('probe error');
                                    err.transport = transport.name;
                                    self.emit('upgradeError', err);
                                }
                            });
                        }

                        function freezeTransport() {
                            if (failed) return;

                            // Any callback called by transport should be ignored since now
                            failed = true;

                            cleanup();

                            transport.close();
                            transport = null;
                        }

                        //Handle any error that happens while probing
                        function onerror(err) {
                            var error = new Error('probe error: ' + err);
                            error.transport = transport.name;

                            freezeTransport();

                            debug('probe transport "%s" failed because of error: %s', name, err);

                            self.emit('upgradeError', error);
                        }

                        function onTransportClose() {
                            onerror("transport closed");
                        }

                        //When the socket is closed while we're probing
                        function onclose() {
                            onerror("socket closed");
                        }

                        //When the socket is upgraded while we're probing
                        function onupgrade(to) {
                            if (transport && to.name != transport.name) {
                                debug('"%s" works - aborting "%s"', to.name, transport.name);
                                freezeTransport();
                            }
                        }

                        //Remove all listeners on the transport and on self
                        function cleanup() {
                            transport.removeListener('open', onTransportOpen);
                            transport.removeListener('error', onerror);
                            transport.removeListener('close', onTransportClose);
                            self.removeListener('close', onclose);
                            self.removeListener('upgrading', onupgrade);
                        }

                        transport.once('open', onTransportOpen);
                        transport.once('error', onerror);
                        transport.once('close', onTransportClose);

                        this.once('close', onclose);
                        this.once('upgrading', onupgrade);

                        transport.open();

                    };

/**
 * Called when connection is deemed open.
 *
 * @api public
 */

                    Socket.prototype.onOpen = function() {
                        debug('socket open');
                        this.readyState = 'open';
                        Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;
                        this.emit('open');
                        this.flush();

                        // we check for `readyState` in case an `open`
                        // listener already closed the socket
                        if ('open' == this.readyState && this.upgrade && this.transport.pause) {
                            debug('starting upgrade probes');
                            for (var i = 0, l = this.upgrades.length; i < l; i++) {
                                this.probe(this.upgrades[i]);
                            }
                        }
                    };

/**
 * Handles a packet.
 *
 * @api private
 */

                    Socket.prototype.onPacket = function(packet) {
                        if ('opening' == this.readyState || 'open' == this.readyState) {
                            debug('socket receive: type "%s", data "%s"', packet.type, packet.data);

                            this.emit('packet', packet);

                            // Socket is live - any packet counts
                            this.emit('heartbeat');

                            switch (packet.type) {
                            case 'open':
                                this.onHandshake(parsejson(packet.data));
                                break;

                            case 'pong':
                                this.setPing();
                                break;

                            case 'error':
                                var err = new Error('server error');
                                err.code = packet.data;
                                this.emit('error', err);
                                break;

                            case 'message':
                                this.emit('data', packet.data);
                                this.emit('message', packet.data);
                                break;
                            }
                        } else {
                            debug('packet received with socket readyState "%s"', this.readyState);
                        }
                    };

/**
 * Called upon handshake completion.
 *
 * @param {Object} handshake obj
 * @api private
 */

                    Socket.prototype.onHandshake = function(data) {
                        this.emit('handshake', data);
                        this.id = data.sid;
                        this.transport.query.sid = data.sid;
                        this.upgrades = this.filterUpgrades(data.upgrades);
                        this.pingInterval = data.pingInterval;
                        this.pingTimeout = data.pingTimeout;
                        this.onOpen();
                        // In case open handler closes socket
                        if ('closed' == this.readyState) return;
                        this.setPing();

                        // Prolong liveness of socket on heartbeat
                        this.removeListener('heartbeat', this.onHeartbeat);
                        this.on('heartbeat', this.onHeartbeat);
                    };

/**
 * Resets ping timeout.
 *
 * @api private
 */

                    Socket.prototype.onHeartbeat = function(timeout) {
                        clearTimeout(this.pingTimeoutTimer);
                        var self = this;
                        self.pingTimeoutTimer = setTimeout(function() {
                            if ('closed' == self.readyState) return;
                            self.onClose('ping timeout');
                        }, timeout || (self.pingInterval + self.pingTimeout));
                    };

/**
 * Pings server every `this.pingInterval` and expects response
 * within `this.pingTimeout` or closes connection.
 *
 * @api private
 */

                    Socket.prototype.setPing = function() {
                        var self = this;
                        clearTimeout(self.pingIntervalTimer);
                        self.pingIntervalTimer = setTimeout(function() {
                            debug('writing ping packet - expecting pong within %sms', self.pingTimeout);
                            self.ping();
                            self.onHeartbeat(self.pingTimeout);
                        }, self.pingInterval);
                    };

/**
* Sends a ping packet.
*
* @api public
*/

                    Socket.prototype.ping = function() {
                        this.sendPacket('ping');
                    };

/**
 * Called on `drain` event
 *
 * @api private
 */

                    Socket.prototype.onDrain = function() {
                        for (var i = 0; i < this.prevBufferLen; i++) {
                            if (this.callbackBuffer[i]) {
                                this.callbackBuffer[i]();
                            }
                        }

                        this.writeBuffer.splice(0, this.prevBufferLen);
                        this.callbackBuffer.splice(0, this.prevBufferLen);

                        // setting prevBufferLen = 0 is very important
                        // for example, when upgrading, upgrade packet is sent over,
                        // and a nonzero prevBufferLen could cause problems on `drain`
                        this.prevBufferLen = 0;

                        if (this.writeBuffer.length == 0) {
                            this.emit('drain');
                        } else {
                            this.flush();
                        }
                    };

/**
 * Flush write buffers.
 *
 * @api private
 */

                    Socket.prototype.flush = function() {
                        if ('closed' != this.readyState && this.transport.writable &&
                            !this.upgrading && this.writeBuffer.length) {
                            debug('flushing %d packets in socket', this.writeBuffer.length);
                            this.transport.send(this.writeBuffer);
                            // keep track of current length of writeBuffer
                            // splice writeBuffer and callbackBuffer on `drain`
                            this.prevBufferLen = this.writeBuffer.length;
                            this.emit('flush');
                        }
                    };

/**
 * Sends a message.
 *
 * @param {String} message.
 * @param {Function} callback function.
 * @return {Socket} for chaining.
 * @api public
 */

                    Socket.prototype.write =
                        Socket.prototype.send = function(msg, fn) {
                            this.sendPacket('message', msg, fn);
                            return this;
                        };

/**
 * Sends a packet.
 *
 * @param {String} packet type.
 * @param {String} data.
 * @param {Function} callback function.
 * @api private
 */

                    Socket.prototype.sendPacket = function(type, data, fn) {
                        if ('closing' == this.readyState || 'closed' == this.readyState) {
                            return;
                        }

                        var packet = { type: type, data: data };
                        this.emit('packetCreate', packet);
                        this.writeBuffer.push(packet);
                        this.callbackBuffer.push(fn);
                        this.flush();
                    };

/**
 * Closes the connection.
 *
 * @api private
 */

                    Socket.prototype.close = function() {
                        if ('opening' == this.readyState || 'open' == this.readyState) {
                            this.readyState = 'closing';

                            var self = this;

                            function close() {
                                self.onClose('forced close');
                                debug('socket closing - telling transport to close');
                                self.transport.close();
                            }

                            function cleanupAndClose() {
                                self.removeListener('upgrade', cleanupAndClose);
                                self.removeListener('upgradeError', cleanupAndClose);
                                close();
                            }

                            function waitForUpgrade() {
                                // wait for upgrade to finish since we can't send packets while pausing a transport
                                self.once('upgrade', cleanupAndClose);
                                self.once('upgradeError', cleanupAndClose);
                            }

                            if (this.writeBuffer.length) {
                                this.once('drain', function() {
                                    if (this.upgrading) {
                                        waitForUpgrade();
                                    } else {
                                        close();
                                    }
                                });
                            } else if (this.upgrading) {
                                waitForUpgrade();
                            } else {
                                close();
                            }
                        }

                        return this;
                    };

/**
 * Called upon transport error
 *
 * @api private
 */

                    Socket.prototype.onError = function(err) {
                        debug('socket error %j', err);
                        Socket.priorWebsocketSuccess = false;
                        this.emit('error', err);
                        this.onClose('transport error', err);
                    };

/**
 * Called upon transport close.
 *
 * @api private
 */

                    Socket.prototype.onClose = function(reason, desc) {
                        if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {
                            debug('socket close with reason: "%s"', reason);
                            var self = this;

                            // clear timers
                            clearTimeout(this.pingIntervalTimer);
                            clearTimeout(this.pingTimeoutTimer);

                            // clean buffers in next tick, so developers can still
                            // grab the buffers on `close` event
                            setTimeout(function() {
                                self.writeBuffer = [];
                                self.callbackBuffer = [];
                                self.prevBufferLen = 0;
                            }, 0);

                            // stop event from firing again for transport
                            this.transport.removeAllListeners('close');

                            // ensure transport won't stay open
                            this.transport.close();

                            // ignore further transport communication
                            this.transport.removeAllListeners();

                            // set ready state
                            this.readyState = 'closed';

                            // clear session id
                            this.id = null;

                            // emit close event
                            this.emit('close', reason, desc);
                        }
                    };

/**
 * Filters upgrades, returning only those matching client transports.
 *
 * @param {Array} server upgrades
 * @api private
 *
 */

                    Socket.prototype.filterUpgrades = function(upgrades) {
                        var filteredUpgrades = [];
                        for (var i = 0, j = upgrades.length; i < j; i++) {
                            if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);
                        }
                        return filteredUpgrades;
                    };

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "./transport": 14, "./transports": 15, "component-emitter": 9, "debug": 22, "engine.io-parser": 25, "indexof": 40, "parsejson": 32, "parseqs": 33, "parseuri": 34 }
        ],
        14: [
            function(_dereq_, module, exports) {
/**
 * Module dependencies.
 */

                var parser = _dereq_('engine.io-parser');
                var Emitter = _dereq_('component-emitter');

/**
 * Module exports.
 */

                module.exports = Transport;

/**
 * Transport abstract constructor.
 *
 * @param {Object} options.
 * @api private
 */

                function Transport(opts) {
                    this.path = opts.path;
                    this.hostname = opts.hostname;
                    this.port = opts.port;
                    this.secure = opts.secure;
                    this.query = opts.query;
                    this.timestampParam = opts.timestampParam;
                    this.timestampRequests = opts.timestampRequests;
                    this.readyState = '';
                    this.agent = opts.agent || false;
                    this.socket = opts.socket;
                    this.enablesXDR = opts.enablesXDR;

                    // SSL options for Node.js client
                    this.pfx = opts.pfx;
                    this.key = opts.key;
                    this.passphrase = opts.passphrase;
                    this.cert = opts.cert;
                    this.ca = opts.ca;
                    this.ciphers = opts.ciphers;
                    this.rejectUnauthorized = opts.rejectUnauthorized;
                }

/**
 * Mix in `Emitter`.
 */

                Emitter(Transport.prototype);

/**
 * A counter used to prevent collisions in the timestamps used
 * for cache busting.
 */

                Transport.timestamps = 0;

/**
 * Emits an error.
 *
 * @param {String} str
 * @return {Transport} for chaining
 * @api public
 */

                Transport.prototype.onError = function(msg, desc) {
                    var err = new Error(msg);
                    err.type = 'TransportError';
                    err.description = desc;
                    this.emit('error', err);
                    return this;
                };

/**
 * Opens the transport.
 *
 * @api public
 */

                Transport.prototype.open = function() {
                    if ('closed' == this.readyState || '' == this.readyState) {
                        this.readyState = 'opening';
                        this.doOpen();
                    }

                    return this;
                };

/**
 * Closes the transport.
 *
 * @api private
 */

                Transport.prototype.close = function() {
                    if ('opening' == this.readyState || 'open' == this.readyState) {
                        this.doClose();
                        this.onClose();
                    }

                    return this;
                };

/**
 * Sends multiple packets.
 *
 * @param {Array} packets
 * @api private
 */

                Transport.prototype.send = function(packets) {
                    if ('open' == this.readyState) {
                        this.write(packets);
                    } else {
                        throw new Error('Transport not open');
                    }
                };

/**
 * Called upon open
 *
 * @api private
 */

                Transport.prototype.onOpen = function() {
                    this.readyState = 'open';
                    this.writable = true;
                    this.emit('open');
                };

/**
 * Called with data.
 *
 * @param {String} data
 * @api private
 */

                Transport.prototype.onData = function(data) {
                    var packet = parser.decodePacket(data, this.socket.binaryType);
                    this.onPacket(packet);
                };

/**
 * Called with a decoded packet.
 */

                Transport.prototype.onPacket = function(packet) {
                    this.emit('packet', packet);
                };

/**
 * Called upon close.
 *
 * @api private
 */

                Transport.prototype.onClose = function() {
                    this.readyState = 'closed';
                    this.emit('close');
                };

            }, { "component-emitter": 9, "engine.io-parser": 25 }
        ],
        15: [
            function(_dereq_, module, exports) {
                (function(global) {
/**
 * Module dependencies
 */

                    var XMLHttpRequest = _dereq_('xmlhttprequest');
                    var XHR = _dereq_('./polling-xhr');
                    var JSONP = _dereq_('./polling-jsonp');
                    var websocket = _dereq_('./websocket');

/**
 * Export transports.
 */

                    exports.polling = polling;
                    exports.websocket = websocket;

/**
 * Polling transport polymorphic constructor.
 * Decides on xhr vs jsonp based on feature detection.
 *
 * @api private
 */

                    function polling(opts) {
                        var xhr;
                        var xd = false;
                        var xs = false;
                        var jsonp = false !== opts.jsonp;

                        if (global.location) {
                            var isSSL = 'https:' == location.protocol;
                            var port = location.port;

                            // some user agents have empty `location.port`
                            if (!port) {
                                port = isSSL ? 443 : 80;
                            }

                            xd = opts.hostname != location.hostname || port != opts.port;
                            xs = opts.secure != isSSL;
                        }

                        opts.xdomain = xd;
                        opts.xscheme = xs;
                        xhr = new XMLHttpRequest(opts);

                        if ('open' in xhr && !opts.forceJSONP) {
                            return new XHR(opts);
                        } else {
                            if (!jsonp) throw new Error('JSONP disabled');
                            return new JSONP(opts);
                        }
                    }

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "./polling-jsonp": 16, "./polling-xhr": 17, "./websocket": 19, "xmlhttprequest": 20 }
        ],
        16: [
            function(_dereq_, module, exports) {
                (function(global) {

/**
 * Module requirements.
 */

                    var Polling = _dereq_('./polling');
                    var inherit = _dereq_('component-inherit');

/**
 * Module exports.
 */

                    module.exports = JSONPPolling;

/**
 * Cached regular expressions.
 */

                    var rNewline = /\n/g;
                    var rEscapedNewline = /\\n/g;

/**
 * Global JSONP callbacks.
 */

                    var callbacks;

/**
 * Callbacks count.
 */

                    var index = 0;

/**
 * Noop.
 */

                    function empty() {}

/**
 * JSONP Polling constructor.
 *
 * @param {Object} opts.
 * @api public
 */

                    function JSONPPolling(opts) {
                        Polling.call(this, opts);

                        this.query = this.query || {};

                        // define global callbacks array if not present
                        // we do this here (lazily) to avoid unneeded global pollution
                        if (!callbacks) {
                            // we need to consider multiple engines in the same page
                            if (!global.___eio) global.___eio = [];
                            callbacks = global.___eio;
                        }

                        // callback identifier
                        this.index = callbacks.length;

                        // add callback to jsonp global
                        var self = this;
                        callbacks.push(function(msg) {
                            self.onData(msg);
                        });

                        // append to query string
                        this.query.j = this.index;

                        // prevent spurious errors from being emitted when the window is unloaded
                        if (global.document && global.addEventListener) {
                            global.addEventListener('beforeunload', function() {
                                if (self.script) self.script.onerror = empty;
                            }, false);
                        }
                    }

/**
 * Inherits from Polling.
 */

                    inherit(JSONPPolling, Polling);

/*
 * JSONP only supports binary as base64 encoded strings
 */

                    JSONPPolling.prototype.supportsBinary = false;

/**
 * Closes the socket.
 *
 * @api private
 */

                    JSONPPolling.prototype.doClose = function() {
                        if (this.script) {
                            this.script.parentNode.removeChild(this.script);
                            this.script = null;
                        }

                        if (this.form) {
                            this.form.parentNode.removeChild(this.form);
                            this.form = null;
                            this.iframe = null;
                        }

                        Polling.prototype.doClose.call(this);
                    };

/**
 * Starts a poll cycle.
 *
 * @api private
 */

                    JSONPPolling.prototype.doPoll = function() {
                        var self = this;
                        var script = document.createElement('script');

                        if (this.script) {
                            this.script.parentNode.removeChild(this.script);
                            this.script = null;
                        }

                        script.async = true;
                        script.src = this.uri();
                        script.onerror = function(e) {
                            self.onError('jsonp poll error', e);
                        };

                        var insertAt = document.getElementsByTagName('script')[0];
                        insertAt.parentNode.insertBefore(script, insertAt);
                        this.script = script;

                        var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);

                        if (isUAgecko) {
                            setTimeout(function() {
                                var iframe = document.createElement('iframe');
                                document.body.appendChild(iframe);
                                document.body.removeChild(iframe);
                            }, 100);
                        }
                    };

/**
 * Writes with a hidden iframe.
 *
 * @param {String} data to send
 * @param {Function} called upon flush.
 * @api private
 */

                    JSONPPolling.prototype.doWrite = function(data, fn) {
                        var self = this;

                        if (!this.form) {
                            var form = document.createElement('form');
                            var area = document.createElement('textarea');
                            var id = this.iframeId = 'eio_iframe_' + this.index;
                            var iframe;

                            form.className = 'socketio';
                            form.style.position = 'absolute';
                            form.style.top = '-1000px';
                            form.style.left = '-1000px';
                            form.target = id;
                            form.method = 'POST';
                            form.setAttribute('accept-charset', 'utf-8');
                            area.name = 'd';
                            form.appendChild(area);
                            document.body.appendChild(form);

                            this.form = form;
                            this.area = area;
                        }

                        this.form.action = this.uri();

                        function complete() {
                            initIframe();
                            fn();
                        }

                        function initIframe() {
                            if (self.iframe) {
                                try {
                                    self.form.removeChild(self.iframe);
                                } catch (e) {
                                    self.onError('jsonp polling iframe removal error', e);
                                }
                            }

                            try {
                                // ie6 dynamic iframes with target="" support (thanks Chris Lambacher)
                                var html = '<iframe src="javascript:0" name="' + self.iframeId + '">';
                                iframe = document.createElement(html);
                            } catch (e) {
                                iframe = document.createElement('iframe');
                                iframe.name = self.iframeId;
                                iframe.src = 'javascript:0';
                            }

                            iframe.id = self.iframeId;

                            self.form.appendChild(iframe);
                            self.iframe = iframe;
                        }

                        initIframe();

                        // escape \n to prevent it from being converted into \r\n by some UAs
                        // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side
                        data = data.replace(rEscapedNewline, '\\\n');
                        this.area.value = data.replace(rNewline, '\\n');

                        try {
                            this.form.submit();
                        } catch (e) {
                        }

                        if (this.iframe.attachEvent) {
                            this.iframe.onreadystatechange = function() {
                                if (self.iframe.readyState == 'complete') {
                                    complete();
                                }
                            };
                        } else {
                            this.iframe.onload = complete;
                        }
                    };

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "./polling": 18, "component-inherit": 21 }
        ],
        17: [
            function(_dereq_, module, exports) {
                (function(global) {
/**
 * Module requirements.
 */

                    var XMLHttpRequest = _dereq_('xmlhttprequest');
                    var Polling = _dereq_('./polling');
                    var Emitter = _dereq_('component-emitter');
                    var inherit = _dereq_('component-inherit');
                    var debug = _dereq_('debug')('engine.io-client:polling-xhr');

/**
 * Module exports.
 */

                    module.exports = XHR;
                    module.exports.Request = Request;

/**
 * Empty function
 */

                    function empty() {}

/**
 * XHR Polling constructor.
 *
 * @param {Object} opts
 * @api public
 */

                    function XHR(opts) {
                        Polling.call(this, opts);

                        if (global.location) {
                            var isSSL = 'https:' == location.protocol;
                            var port = location.port;

                            // some user agents have empty `location.port`
                            if (!port) {
                                port = isSSL ? 443 : 80;
                            }

                            this.xd = opts.hostname != global.location.hostname ||
                                port != opts.port;
                            this.xs = opts.secure != isSSL;
                        }
                    }

/**
 * Inherits from Polling.
 */

                    inherit(XHR, Polling);

/**
 * XHR supports binary
 */

                    XHR.prototype.supportsBinary = true;

/**
 * Creates a request.
 *
 * @param {String} method
 * @api private
 */

                    XHR.prototype.request = function(opts) {
                        opts = opts || {};
                        opts.uri = this.uri();
                        opts.xd = this.xd;
                        opts.xs = this.xs;
                        opts.agent = this.agent || false;
                        opts.supportsBinary = this.supportsBinary;
                        opts.enablesXDR = this.enablesXDR;

                        // SSL options for Node.js client
                        opts.pfx = this.pfx;
                        opts.key = this.key;
                        opts.passphrase = this.passphrase;
                        opts.cert = this.cert;
                        opts.ca = this.ca;
                        opts.ciphers = this.ciphers;
                        opts.rejectUnauthorized = this.rejectUnauthorized;

                        return new Request(opts);
                    };

/**
 * Sends data.
 *
 * @param {String} data to send.
 * @param {Function} called upon flush.
 * @api private
 */

                    XHR.prototype.doWrite = function(data, fn) {
                        var isBinary = typeof data !== 'string' && data !== undefined;
                        var req = this.request({ method: 'POST', data: data, isBinary: isBinary });
                        var self = this;
                        req.on('success', fn);
                        req.on('error', function(err) {
                            self.onError('xhr post error', err);
                        });
                        this.sendXhr = req;
                    };

/**
 * Starts a poll cycle.
 *
 * @api private
 */

                    XHR.prototype.doPoll = function() {
                        debug('xhr poll');
                        var req = this.request();
                        var self = this;
                        req.on('data', function(data) {
                            self.onData(data);
                        });
                        req.on('error', function(err) {
                            self.onError('xhr poll error', err);
                        });
                        this.pollXhr = req;
                    };

/**
 * Request constructor
 *
 * @param {Object} options
 * @api public
 */

                    function Request(opts) {
                        this.method = opts.method || 'GET';
                        this.uri = opts.uri;
                        this.xd = !!opts.xd;
                        this.xs = !!opts.xs;
                        this.async = false !== opts.async;
                        this.data = undefined != opts.data ? opts.data : null;
                        this.agent = opts.agent;
                        this.isBinary = opts.isBinary;
                        this.supportsBinary = opts.supportsBinary;
                        this.enablesXDR = opts.enablesXDR;

                        // SSL options for Node.js client
                        this.pfx = opts.pfx;
                        this.key = opts.key;
                        this.passphrase = opts.passphrase;
                        this.cert = opts.cert;
                        this.ca = opts.ca;
                        this.ciphers = opts.ciphers;
                        this.rejectUnauthorized = opts.rejectUnauthorized;

                        this.create();
                    }

/**
 * Mix in `Emitter`.
 */

                    Emitter(Request.prototype);

/**
 * Creates the XHR object and sends the request.
 *
 * @api private
 */

                    Request.prototype.create = function() {
                        var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };

                        // SSL options for Node.js client
                        opts.pfx = this.pfx;
                        opts.key = this.key;
                        opts.passphrase = this.passphrase;
                        opts.cert = this.cert;
                        opts.ca = this.ca;
                        opts.ciphers = this.ciphers;
                        opts.rejectUnauthorized = this.rejectUnauthorized;

                        var xhr = this.xhr = new XMLHttpRequest(opts);
                        var self = this;

                        try {
                            debug('xhr open %s: %s', this.method, this.uri);
                            xhr.open(this.method, this.uri, this.async);
                            if (this.supportsBinary) {
                                // This has to be done after open because Firefox is stupid
                                // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension
                                xhr.responseType = 'arraybuffer';
                            }

                            if ('POST' == this.method) {
                                try {
                                    if (this.isBinary) {
                                        xhr.setRequestHeader('Content-type', 'application/octet-stream');
                                    } else {
                                        xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');
                                    }
                                } catch (e) {
                                }
                            }

                            // ie6 check
                            if ('withCredentials' in xhr) {
                                xhr.withCredentials = true;
                            }

                            if (this.hasXDR()) {
                                xhr.onload = function() {
                                    self.onLoad();
                                };
                                xhr.onerror = function() {
                                    self.onError(xhr.responseText);
                                };
                            } else {
                                xhr.onreadystatechange = function() {
                                    if (4 != xhr.readyState) return;
                                    if (200 == xhr.status || 1223 == xhr.status) {
                                        self.onLoad();
                                    } else {
                                        // make sure the `error` event handler that's user-set
                                        // does not throw in the same tick and gets caught here
                                        setTimeout(function() {
                                            self.onError(xhr.status);
                                        }, 0);
                                    }
                                };
                            }

                            debug('xhr data %s', this.data);
                            xhr.send(this.data);
                        } catch (e) {
                            // Need to defer since .create() is called directly fhrom the constructor
                            // and thus the 'error' event can only be only bound *after* this exception
                            // occurs.  Therefore, also, we cannot throw here at all.
                            setTimeout(function() {
                                self.onError(e);
                            }, 0);
                            return;
                        }

                        if (global.document) {
                            this.index = Request.requestsCount++;
                            Request.requests[this.index] = this;
                        }
                    };

/**
 * Called upon successful response.
 *
 * @api private
 */

                    Request.prototype.onSuccess = function() {
                        this.emit('success');
                        this.cleanup();
                    };

/**
 * Called if we have data.
 *
 * @api private
 */

                    Request.prototype.onData = function(data) {
                        this.emit('data', data);
                        this.onSuccess();
                    };

/**
 * Called upon error.
 *
 * @api private
 */

                    Request.prototype.onError = function(err) {
                        this.emit('error', err);
                        this.cleanup(true);
                    };

/**
 * Cleans up house.
 *
 * @api private
 */

                    Request.prototype.cleanup = function(fromError) {
                        if ('undefined' == typeof this.xhr || null === this.xhr) {
                            return;
                        }
                        // xmlhttprequest
                        if (this.hasXDR()) {
                            this.xhr.onload = this.xhr.onerror = empty;
                        } else {
                            this.xhr.onreadystatechange = empty;
                        }

                        if (fromError) {
                            try {
                                this.xhr.abort();
                            } catch (e) {
                            }
                        }

                        if (global.document) {
                            delete Request.requests[this.index];
                        }

                        this.xhr = null;
                    };

/**
 * Called upon load.
 *
 * @api private
 */

                    Request.prototype.onLoad = function() {
                        var data;
                        try {
                            var contentType;
                            try {
                                contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];
                            } catch (e) {
                            }
                            if (contentType === 'application/octet-stream') {
                                data = this.xhr.response;
                            } else {
                                if (!this.supportsBinary) {
                                    data = this.xhr.responseText;
                                } else {
                                    data = 'ok';
                                }
                            }
                        } catch (e) {
                            this.onError(e);
                        }
                        if (null != data) {
                            this.onData(data);
                        }
                    };

/**
 * Check if it has XDomainRequest.
 *
 * @api private
 */

                    Request.prototype.hasXDR = function() {
                        return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;
                    };

/**
 * Aborts the request.
 *
 * @api public
 */

                    Request.prototype.abort = function() {
                        this.cleanup();
                    };

/**
 * Aborts pending requests when unloading the window. This is needed to prevent
 * memory leaks (e.g. when using IE) and to ensure that no spurious error is
 * emitted.
 */

                    if (global.document) {
                        Request.requestsCount = 0;
                        Request.requests = {};
                        if (global.attachEvent) {
                            global.attachEvent('onunload', unloadHandler);
                        } else if (global.addEventListener) {
                            global.addEventListener('beforeunload', unloadHandler, false);
                        }
                    }

                    function unloadHandler() {
                        for (var i in Request.requests) {
                            if (Request.requests.hasOwnProperty(i)) {
                                Request.requests[i].abort();
                            }
                        }
                    }

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "./polling": 18, "component-emitter": 9, "component-inherit": 21, "debug": 22, "xmlhttprequest": 20 }
        ],
        18: [
            function(_dereq_, module, exports) {
/**
 * Module dependencies.
 */

                var Transport = _dereq_('../transport');
                var parseqs = _dereq_('parseqs');
                var parser = _dereq_('engine.io-parser');
                var inherit = _dereq_('component-inherit');
                var debug = _dereq_('debug')('engine.io-client:polling');

/**
 * Module exports.
 */

                module.exports = Polling;

/**
 * Is XHR2 supported?
 */

                var hasXHR2 = (function() {
                    var XMLHttpRequest = _dereq_('xmlhttprequest');
                    var xhr = new XMLHttpRequest({ xdomain: false });
                    return null != xhr.responseType;
                })();

/**
 * Polling interface.
 *
 * @param {Object} opts
 * @api private
 */

                function Polling(opts) {
                    var forceBase64 = (opts && opts.forceBase64);
                    if (!hasXHR2 || forceBase64) {
                        this.supportsBinary = false;
                    }
                    Transport.call(this, opts);
                }

/**
 * Inherits from Transport.
 */

                inherit(Polling, Transport);

/**
 * Transport name.
 */

                Polling.prototype.name = 'polling';

/**
 * Opens the socket (triggers polling). We write a PING message to determine
 * when the transport is open.
 *
 * @api private
 */

                Polling.prototype.doOpen = function() {
                    this.poll();
                };

/**
 * Pauses polling.
 *
 * @param {Function} callback upon buffers are flushed and transport is paused
 * @api private
 */

                Polling.prototype.pause = function(onPause) {
                    var pending = 0;
                    var self = this;

                    this.readyState = 'pausing';

                    function pause() {
                        debug('paused');
                        self.readyState = 'paused';
                        onPause();
                    }

                    if (this.polling || !this.writable) {
                        var total = 0;

                        if (this.polling) {
                            debug('we are currently polling - waiting to pause');
                            total++;
                            this.once('pollComplete', function() {
                                debug('pre-pause polling complete');
                                --total || pause();
                            });
                        }

                        if (!this.writable) {
                            debug('we are currently writing - waiting to pause');
                            total++;
                            this.once('drain', function() {
                                debug('pre-pause writing complete');
                                --total || pause();
                            });
                        }
                    } else {
                        pause();
                    }
                };

/**
 * Starts polling cycle.
 *
 * @api public
 */

                Polling.prototype.poll = function() {
                    debug('polling');
                    this.polling = true;
                    this.doPoll();
                    this.emit('poll');
                };

/**
 * Overloads onData to detect payloads.
 *
 * @api private
 */

                Polling.prototype.onData = function(data) {
                    var self = this;
                    debug('polling got data %s', data);
                    var callback = function(packet, index, total) {
                        // if its the first message we consider the transport open
                        if ('opening' == self.readyState) {
                            self.onOpen();
                        }

                        // if its a close packet, we close the ongoing requests
                        if ('close' == packet.type) {
                            self.onClose();
                            return false;
                        }

                        // otherwise bypass onData and handle the message
                        self.onPacket(packet);
                    };

                    // decode payload
                    parser.decodePayload(data, this.socket.binaryType, callback);

                    // if an event did not trigger closing
                    if ('closed' != this.readyState) {
                        // if we got data we're not polling
                        this.polling = false;
                        this.emit('pollComplete');

                        if ('open' == this.readyState) {
                            this.poll();
                        } else {
                            debug('ignoring poll - transport state "%s"', this.readyState);
                        }
                    }
                };

/**
 * For polling, send a close packet.
 *
 * @api private
 */

                Polling.prototype.doClose = function() {
                    var self = this;

                    function close() {
                        debug('writing close packet');
                        self.write([{ type: 'close' }]);
                    }

                    if ('open' == this.readyState) {
                        debug('transport open - closing');
                        close();
                    } else {
                        // in case we're trying to close while
                        // handshaking is in progress (GH-164)
                        debug('transport not open - deferring close');
                        this.once('open', close);
                    }
                };

/**
 * Writes a packets payload.
 *
 * @param {Array} data packets
 * @param {Function} drain callback
 * @api private
 */

                Polling.prototype.write = function(packets) {
                    var self = this;
                    this.writable = false;
                    var callbackfn = function() {
                        self.writable = true;
                        self.emit('drain');
                    };

                    var self = this;
                    parser.encodePayload(packets, this.supportsBinary, function(data) {
                        self.doWrite(data, callbackfn);
                    });
                };

/**
 * Generates uri for connection.
 *
 * @api private
 */

                Polling.prototype.uri = function() {
                    var query = this.query || {};
                    var schema = this.secure ? 'https' : 'http';
                    var port = '';

                    // cache busting is forced
                    if (false !== this.timestampRequests) {
                        query[this.timestampParam] = +new Date + '-' + Transport.timestamps++;
                    }

                    if (!this.supportsBinary && !query.sid) {
                        query.b64 = 1;
                    }

                    query = parseqs.encode(query);

                    // avoid port if default for schema
                    if (this.port && (('https' == schema && this.port != 443) ||
                    ('http' == schema && this.port != 80))) {
                        port = ':' + this.port;
                    }

                    // prepend ? to query
                    if (query.length) {
                        query = '?' + query;
                    }

                    return schema + '://' + this.hostname + port + this.path + query;
                };

            }, { "../transport": 14, "component-inherit": 21, "debug": 22, "engine.io-parser": 25, "parseqs": 33, "xmlhttprequest": 20 }
        ],
        19: [
            function(_dereq_, module, exports) {
/**
 * Module dependencies.
 */

                var Transport = _dereq_('../transport');
                var parser = _dereq_('engine.io-parser');
                var parseqs = _dereq_('parseqs');
                var inherit = _dereq_('component-inherit');
                var debug = _dereq_('debug')('engine.io-client:websocket');

/**
 * `ws` exposes a WebSocket-compatible interface in
 * Node, or the `WebSocket` or `MozWebSocket` globals
 * in the browser.
 */

                var WebSocket = _dereq_('ws');

/**
 * Module exports.
 */

                module.exports = WS;

/**
 * WebSocket transport constructor.
 *
 * @api {Object} connection options
 * @api public
 */

                function WS(opts) {
                    var forceBase64 = (opts && opts.forceBase64);
                    if (forceBase64) {
                        this.supportsBinary = false;
                    }
                    Transport.call(this, opts);
                }

/**
 * Inherits from Transport.
 */

                inherit(WS, Transport);

/**
 * Transport name.
 *
 * @api public
 */

                WS.prototype.name = 'websocket';

/*
 * WebSockets support binary
 */

                WS.prototype.supportsBinary = true;

/**
 * Opens socket.
 *
 * @api private
 */

                WS.prototype.doOpen = function() {
                    if (!this.check()) {
                        // let probe timeout
                        return;
                    }

                    var self = this;
                    var uri = this.uri();
                    var protocols = void(0);
                    var opts = { agent: this.agent };

                    // SSL options for Node.js client
                    opts.pfx = this.pfx;
                    opts.key = this.key;
                    opts.passphrase = this.passphrase;
                    opts.cert = this.cert;
                    opts.ca = this.ca;
                    opts.ciphers = this.ciphers;
                    opts.rejectUnauthorized = this.rejectUnauthorized;

                    this.ws = new WebSocket(uri, protocols, opts);

                    if (this.ws.binaryType === undefined) {
                        this.supportsBinary = false;
                    }

                    this.ws.binaryType = 'arraybuffer';
                    this.addEventListeners();
                };

/**
 * Adds event listeners to the socket
 *
 * @api private
 */

                WS.prototype.addEventListeners = function() {
                    var self = this;

                    this.ws.onopen = function() {
                        self.onOpen();
                    };
                    this.ws.onclose = function() {
                        self.onClose();
                    };
                    this.ws.onmessage = function(ev) {
                        self.onData(ev.data);
                    };
                    this.ws.onerror = function(e) {
                        self.onError('websocket error', e);
                    };
                };

/**
 * Override `onData` to use a timer on iOS.
 * See: https://gist.github.com/mloughran/2052006
 *
 * @api private
 */

                if ('undefined' != typeof navigator
                    && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {
                    WS.prototype.onData = function(data) {
                        var self = this;
                        setTimeout(function() {
                            Transport.prototype.onData.call(self, data);
                        }, 0);
                    };
                }

/**
 * Writes data to socket.
 *
 * @param {Array} array of packets.
 * @api private
 */

                WS.prototype.write = function(packets) {
                    var self = this;
                    this.writable = false;
                    // encodePacket efficient as it uses WS framing
                    // no need for encodePayload
                    for (var i = 0, l = packets.length; i < l; i++) {
                        parser.encodePacket(packets[i], this.supportsBinary, function(data) {
                            //Sometimes the websocket has already been closed but the browser didn't
                            //have a chance of informing us about it yet, in that case send will
                            //throw an error
                            try {
                                self.ws.send(data);
                            } catch (e) {
                                debug('websocket closed before onclose event');
                            }
                        });
                    }

                    function ondrain() {
                        self.writable = true;
                        self.emit('drain');
                    }

// fake drain
                    // defer to next tick to allow Socket to clear writeBuffer
                    setTimeout(ondrain, 0);
                };

/**
 * Called upon close
 *
 * @api private
 */

                WS.prototype.onClose = function() {
                    Transport.prototype.onClose.call(this);
                };

/**
 * Closes socket.
 *
 * @api private
 */

                WS.prototype.doClose = function() {
                    if (typeof this.ws !== 'undefined') {
                        this.ws.close();
                    }
                };

/**
 * Generates uri for connection.
 *
 * @api private
 */

                WS.prototype.uri = function() {
                    var query = this.query || {};
                    var schema = this.secure ? 'wss' : 'ws';
                    var port = '';

                    // avoid port if default for schema
                    if (this.port && (('wss' == schema && this.port != 443)
                        || ('ws' == schema && this.port != 80))) {
                        port = ':' + this.port;
                    }

                    // append timestamp to URI
                    if (this.timestampRequests) {
                        query[this.timestampParam] = +new Date;
                    }

                    // communicate binary support capabilities
                    if (!this.supportsBinary) {
                        query.b64 = 1;
                    }

                    query = parseqs.encode(query);

                    // prepend ? to query
                    if (query.length) {
                        query = '?' + query;
                    }

                    return schema + '://' + this.hostname + port + this.path + query;
                };

/**
 * Feature detection for WebSocket.
 *
 * @return {Boolean} whether this transport is available.
 * @api public
 */

                WS.prototype.check = function() {
                    return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);
                };

            }, { "../transport": 14, "component-inherit": 21, "debug": 22, "engine.io-parser": 25, "parseqs": 33, "ws": 35 }
        ],
        20: [
            function(_dereq_, module, exports) {
// browser shim for xmlhttprequest module
                var hasCORS = _dereq_('has-cors');

                module.exports = function(opts) {
                    var xdomain = opts.xdomain;

                    // scheme must be same when usign XDomainRequest
                    // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx
                    var xscheme = opts.xscheme;

                    // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.
                    // https://github.com/Automattic/engine.io-client/pull/217
                    var enablesXDR = opts.enablesXDR;

                    // XMLHttpRequest can be disabled on IE
                    try {
                        if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {
                            return new XMLHttpRequest();
                        }
                    } catch (e) {
                    }

                    // Use XDomainRequest for IE8 if enablesXDR is true
                    // because loading bar keeps flashing when using jsonp-polling
                    // https://github.com/yujiosaka/socke.io-ie8-loading-example
                    try {
                        if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {
                            return new XDomainRequest();
                        }
                    } catch (e) {
                    }

                    if (!xdomain) {
                        try {
                            return new ActiveXObject('Microsoft.XMLHTTP');
                        } catch (e) {
                        }
                    }
                };
            }, { "has-cors": 38 }
        ],
        21: [
            function(_dereq_, module, exports) {

                module.exports = function(a, b) {
                    var fn = function() {};
                    fn.prototype = b.prototype;
                    a.prototype = new fn;
                    a.prototype.constructor = a;
                };
            }, {}
        ],
        22: [
            function(_dereq_, module, exports) {

/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

                exports = module.exports = _dereq_('./debug');
                exports.log = log;
                exports.formatArgs = formatArgs;
                exports.save = save;
                exports.load = load;
                exports.useColors = useColors;

/**
 * Colors.
 */

                exports.colors = [
                    'lightseagreen',
                    'forestgreen',
                    'goldenrod',
                    'dodgerblue',
                    'darkorchid',
                    'crimson'
                ];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

                function useColors() {
                    // is webkit? http://stackoverflow.com/a/16459606/376773
                    return ('WebkitAppearance' in document.documentElement.style) ||
                        // is firebug? http://stackoverflow.com/a/398120/376773
                        (window.console && (console.firebug || (console.exception && console.table))) ||
                        // is firefox >= v31?
                        // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
                        (navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31);
                }

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

                exports.formatters.j = function(v) {
                    return JSON.stringify(v);
                };


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

                function formatArgs() {
                    var args = arguments;
                    var useColors = this.useColors;

                    args[0] = (useColors ? '%c' : '')
                        + this.namespace
                        + (useColors ? ' %c' : ' ')
                        + args[0]
                        + (useColors ? '%c ' : ' ')
                        + '+' + exports.humanize(this.diff);

                    if (!useColors) return args;

                    var c = 'color: ' + this.color;
                    args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));

                    // the final "%c" is somewhat tricky, because there could be other
                    // arguments passed either before or after the %c, so we need to
                    // figure out the correct index to insert the CSS into
                    var index = 0;
                    var lastC = 0;
                    args[0].replace(/%[a-z%]/g, function(match) {
                        if ('%%' === match) return;
                        index++;
                        if ('%c' === match) {
                            // we only are interested in the *last* %c
                            // (the user may have provided their own)
                            lastC = index;
                        }
                    });

                    args.splice(lastC, 0, c);
                    return args;
                }

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

                function log() {
                    // This hackery is required for IE8,
                    // where the `console.log` function doesn't have 'apply'
                    return 'object' == typeof console
                        && 'function' == typeof console.log
                        && Function.prototype.apply.call(console.log, console, arguments);
                }

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

                function save(namespaces) {
                    try {
                        if (null == namespaces) {
                            //localStorage.removeItem('debug');
                        } else {
                            //localStorage.debug = namespaces;
                        }
                    } catch (e) {
                    }
                }

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

                function load() {
                    var r;
                    try {
                        //r = localStorage.debug;
                    } catch (e) {
                    }
                    return r;
                }

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

                exports.enable(load());

            }, { "./debug": 23 }
        ],
        23: [
            function(_dereq_, module, exports) {

/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

                exports = module.exports = debug;
                exports.coerce = coerce;
                exports.disable = disable;
                exports.enable = enable;
                exports.enabled = enabled;
                exports.humanize = _dereq_('ms');

/**
 * The currently active debug mode names, and names to skip.
 */

                exports.names = [];
                exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lowercased letter, i.e. "n".
 */

                exports.formatters = {};

/**
 * Previously assigned color.
 */

                var prevColor = 0;

/**
 * Previous log timestamp.
 */

                var prevTime;

/**
 * Select a color.
 *
 * @return {Number}
 * @api private
 */

                function selectColor() {
                    return exports.colors[prevColor++ % exports.colors.length];
                }

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

                function debug(namespace) {

                    // define the `disabled` version
                    function disabled() {
                    }

                    disabled.enabled = false;

                    // define the `enabled` version
                    function enabled() {

                        var self = enabled;

                        // set `diff` timestamp
                        var curr = +new Date();
                        var ms = curr - (prevTime || curr);
                        self.diff = ms;
                        self.prev = prevTime;
                        self.curr = curr;
                        prevTime = curr;

                        // add the `color` if not set
                        if (null == self.useColors) self.useColors = exports.useColors();
                        if (null == self.color && self.useColors) self.color = selectColor();

                        var args = Array.prototype.slice.call(arguments);

                        args[0] = exports.coerce(args[0]);

                        if ('string' !== typeof args[0]) {
                            // anything else let's inspect with %o
                            args = ['%o'].concat(args);
                        }

                        // apply any `formatters` transformations
                        var index = 0;
                        args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {
                            // if we encounter an escaped % then don't increase the array index
                            if (match === '%%') return match;
                            index++;
                            var formatter = exports.formatters[format];
                            if ('function' === typeof formatter) {
                                var val = args[index];
                                match = formatter.call(self, val);

                                // now we need to remove `args[index]` since it's inlined in the `format`
                                args.splice(index, 1);
                                index--;
                            }
                            return match;
                        });

                        if ('function' === typeof exports.formatArgs) {
                            args = exports.formatArgs.apply(self, args);
                        }
                        var logFn = enabled.log || exports.log || console.log.bind(console);
                        logFn.apply(self, args);
                    }

                    enabled.enabled = true;

                    var fn = exports.enabled(namespace) ? enabled : disabled;

                    fn.namespace = namespace;

                    return fn;
                }

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

                function enable(namespaces) {
                    exports.save(namespaces);

                    var split = (namespaces || '').split(/[\s,]+/);
                    var len = split.length;

                    for (var i = 0; i < len; i++) {
                        if (!split[i]) continue; // ignore empty strings
                        namespaces = split[i].replace(/\*/g, '.*?');
                        if (namespaces[0] === '-') {
                            exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
                        } else {
                            exports.names.push(new RegExp('^' + namespaces + '$'));
                        }
                    }
                }

/**
 * Disable debug output.
 *
 * @api public
 */

                function disable() {
                    exports.enable('');
                }

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

                function enabled(name) {
                    var i, len;
                    for (i = 0, len = exports.skips.length; i < len; i++) {
                        if (exports.skips[i].test(name)) {
                            return false;
                        }
                    }
                    for (i = 0, len = exports.names.length; i < len; i++) {
                        if (exports.names[i].test(name)) {
                            return true;
                        }
                    }
                    return false;
                }

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

                function coerce(val) {
                    if (val instanceof Error) return val.stack || val.message;
                    return val;
                }

            }, { "ms": 24 }
        ],
        24: [
            function(_dereq_, module, exports) {
/**
 * Helpers.
 */

                var s = 1000;
                var m = s * 60;
                var h = m * 60;
                var d = h * 24;
                var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} options
 * @return {String|Number}
 * @api public
 */

                module.exports = function(val, options) {
                    options = options || {};
                    if ('string' == typeof val) return parse(val);
                    return options.long
                        ? long(val)
                        : short(val);
                };

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

                function parse(str) {
                    var match = /^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);
                    if (!match) return;
                    var n = parseFloat(match[1]);
                    var type = (match[2] || 'ms').toLowerCase();
                    switch (type) {
                    case 'years':
                    case 'year':
                    case 'y':
                        return n * y;
                    case 'days':
                    case 'day':
                    case 'd':
                        return n * d;
                    case 'hours':
                    case 'hour':
                    case 'h':
                        return n * h;
                    case 'minutes':
                    case 'minute':
                    case 'm':
                        return n * m;
                    case 'seconds':
                    case 'second':
                    case 's':
                        return n * s;
                    case 'ms':
                        return n;
                    }
                }

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

                function short(ms) {
                    if (ms >= d) return Math.round(ms / d) + 'd';
                    if (ms >= h) return Math.round(ms / h) + 'h';
                    if (ms >= m) return Math.round(ms / m) + 'm';
                    if (ms >= s) return Math.round(ms / s) + 's';
                    return ms + 'ms';
                }

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

                function long(ms) {
                    return plural(ms, d, 'day')
                        || plural(ms, h, 'hour')
                        || plural(ms, m, 'minute')
                        || plural(ms, s, 'second')
                        || ms + ' ms';
                }

/**
 * Pluralization helper.
 */

                function plural(ms, n, name) {
                    if (ms < n) return;
                    if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;
                    return Math.ceil(ms / n) + ' ' + name + 's';
                }

            }, {}
        ],
        25: [
            function(_dereq_, module, exports) {
                (function(global) {
/**
 * Module dependencies.
 */

                    var keys = _dereq_('./keys');
                    var hasBinary = _dereq_('has-binary');
                    var sliceBuffer = _dereq_('arraybuffer.slice');
                    var base64encoder = _dereq_('base64-arraybuffer');
                    var after = _dereq_('after');
                    var utf8 = _dereq_('utf8');

/**
 * Check if we are running an android browser. That requires us to use
 * ArrayBuffer with polling transports...
 *
 * http://ghinda.net/jpeg-blob-ajax-android/
 */

                    var isAndroid = navigator.userAgent.match(/Android/i);

/**
 * Check if we are running in PhantomJS.
 * Uploading a Blob with PhantomJS does not work correctly, as reported here:
 * https://github.com/ariya/phantomjs/issues/11395
 * @type boolean
 */
                    var isPhantomJS = /PhantomJS/i.test(navigator.userAgent);

/**
 * When true, avoids using Blobs to encode payloads.
 * @type boolean
 */
                    var dontSendBlobs = isAndroid || isPhantomJS;

/**
 * Current protocol version.
 */

                    exports.protocol = 3;

/**
 * Packet types.
 */

                    var packets = exports.packets = {
                        open: 0 // non-ws
                        ,
                        close: 1 // non-ws
                        ,
                        ping: 2,
                        pong: 3,
                        message: 4,
                        upgrade: 5,
                        noop: 6
                    };

                    var packetslist = keys(packets);

/**
 * Premade error packet.
 */

                    var err = { type: 'error', data: 'parser error' };

/**
 * Create a blob api even for blob builder when vendor prefixes exist
 */

                    var Blob = _dereq_('blob');

/**
 * Encodes a packet.
 *
 *     <packet type id> [ <data> ]
 *
 * Example:
 *
 *     5hello world
 *     3
 *     4
 *
 * Binary is encoded in an identical principle
 *
 * @api private
 */

                    exports.encodePacket = function(packet, supportsBinary, utf8encode, callback) {
                        if ('function' == typeof supportsBinary) {
                            callback = supportsBinary;
                            supportsBinary = false;
                        }

                        if ('function' == typeof utf8encode) {
                            callback = utf8encode;
                            utf8encode = null;
                        }

                        var data = (packet.data === undefined)
                            ? undefined
                            : packet.data.buffer || packet.data;

                        if (global.ArrayBuffer && data instanceof ArrayBuffer) {
                            return encodeArrayBuffer(packet, supportsBinary, callback);
                        } else if (Blob && data instanceof global.Blob) {
                            return encodeBlob(packet, supportsBinary, callback);
                        }

                        // might be an object with { base64: true, data: dataAsBase64String }
                        if (data && data.base64) {
                            return encodeBase64Object(packet, callback);
                        }

                        // Sending data as a utf-8 string
                        var encoded = packets[packet.type];

                        // data fragment is optional
                        if (undefined !== packet.data) {
                            encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);
                        }

                        return callback('' + encoded);

                    };

                    function encodeBase64Object(packet, callback) {
                        // packet data is an object { base64: true, data: dataAsBase64String }
                        var message = 'b' + exports.packets[packet.type] + packet.data.data;
                        return callback(message);
                    }

/**
 * Encode packet helpers for binary types
 */

                    function encodeArrayBuffer(packet, supportsBinary, callback) {
                        if (!supportsBinary) {
                            return exports.encodeBase64Packet(packet, callback);
                        }

                        var data = packet.data;
                        var contentArray = new Uint8Array(data);
                        var resultBuffer = new Uint8Array(1 + data.byteLength);

                        resultBuffer[0] = packets[packet.type];
                        for (var i = 0; i < contentArray.length; i++) {
                            resultBuffer[i + 1] = contentArray[i];
                        }

                        return callback(resultBuffer.buffer);
                    }

                    function encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {
                        if (!supportsBinary) {
                            return exports.encodeBase64Packet(packet, callback);
                        }

                        var fr = new FileReader();
                        fr.onload = function() {
                            packet.data = fr.result;
                            exports.encodePacket(packet, supportsBinary, true, callback);
                        };
                        return fr.readAsArrayBuffer(packet.data);
                    }

                    function encodeBlob(packet, supportsBinary, callback) {
                        if (!supportsBinary) {
                            return exports.encodeBase64Packet(packet, callback);
                        }

                        if (dontSendBlobs) {
                            return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);
                        }

                        var length = new Uint8Array(1);
                        length[0] = packets[packet.type];
                        var blob = new Blob([length.buffer, packet.data]);

                        return callback(blob);
                    }

/**
 * Encodes a packet with binary data in a base64 string
 *
 * @param {Object} packet, has `type` and `data`
 * @return {String} base64 encoded message
 */

                    exports.encodeBase64Packet = function(packet, callback) {
                        var message = 'b' + exports.packets[packet.type];
                        if (Blob && packet.data instanceof Blob) {
                            var fr = new FileReader();
                            fr.onload = function() {
                                var b64 = fr.result.split(',')[1];
                                callback(message + b64);
                            };
                            return fr.readAsDataURL(packet.data);
                        }

                        var b64data;
                        try {
                            b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));
                        } catch (e) {
                            // iPhone Safari doesn't let you apply with typed arrays
                            var typed = new Uint8Array(packet.data);
                            var basic = new Array(typed.length);
                            for (var i = 0; i < typed.length; i++) {
                                basic[i] = typed[i];
                            }
                            b64data = String.fromCharCode.apply(null, basic);
                        }
                        message += global.btoa(b64data);
                        return callback(message);
                    };

/**
 * Decodes a packet. Changes format to Blob if requested.
 *
 * @return {Object} with `type` and `data` (if any)
 * @api private
 */

                    exports.decodePacket = function(data, binaryType, utf8decode) {
                        // String data
                        if (typeof data == 'string' || data === undefined) {
                            if (data.charAt(0) == 'b') {
                                return exports.decodeBase64Packet(data.substr(1), binaryType);
                            }

                            if (utf8decode) {
                                try {
                                    data = utf8.decode(data);
                                } catch (e) {
                                    return err;
                                }
                            }
                            var type = data.charAt(0);

                            if (Number(type) != type || !packetslist[type]) {
                                return err;
                            }

                            if (data.length > 1) {
                                return { type: packetslist[type], data: data.substring(1) };
                            } else {
                                return { type: packetslist[type] };
                            }
                        }

                        var asArray = new Uint8Array(data);
                        var type = asArray[0];
                        var rest = sliceBuffer(data, 1);
                        if (Blob && binaryType === 'blob') {
                            rest = new Blob([rest]);
                        }
                        return { type: packetslist[type], data: rest };
                    };

/**
 * Decodes a packet encoded in a base64 string
 *
 * @param {String} base64 encoded message
 * @return {Object} with `type` and `data` (if any)
 */

                    exports.decodeBase64Packet = function(msg, binaryType) {
                        var type = packetslist[msg.charAt(0)];
                        if (!global.ArrayBuffer) {
                            return { type: type, data: { base64: true, data: msg.substr(1) } };
                        }

                        var data = base64encoder.decode(msg.substr(1));

                        if (binaryType === 'blob' && Blob) {
                            data = new Blob([data]);
                        }

                        return { type: type, data: data };
                    };

/**
 * Encodes multiple messages (payload).
 *
 *     <length>:data
 *
 * Example:
 *
 *     11:hello world2:hi
 *
 * If any contents are binary, they will be encoded as base64 strings. Base64
 * encoded strings are marked with a b before the length specifier
 *
 * @param {Array} packets
 * @api private
 */

                    exports.encodePayload = function(packets, supportsBinary, callback) {
                        if (typeof supportsBinary == 'function') {
                            callback = supportsBinary;
                            supportsBinary = null;
                        }

                        var isBinary = hasBinary(packets);

                        if (supportsBinary && isBinary) {
                            if (Blob && !dontSendBlobs) {
                                return exports.encodePayloadAsBlob(packets, callback);
                            }

                            return exports.encodePayloadAsArrayBuffer(packets, callback);
                        }

                        if (!packets.length) {
                            return callback('0:');
                        }

                        function setLengthHeader(message) {
                            return message.length + ':' + message;
                        }

                        function encodeOne(packet, doneCallback) {
                            exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {
                                doneCallback(null, setLengthHeader(message));
                            });
                        }

                        map(packets, encodeOne, function(err, results) {
                            return callback(results.join(''));
                        });
                    };

/**
 * Async array map using after
 */

                    function map(ary, each, done) {
                        var result = new Array(ary.length);
                        var next = after(ary.length, done);

                        var eachWithIndex = function(i, el, cb) {
                            each(el, function(error, msg) {
                                result[i] = msg;
                                cb(error, result);
                            });
                        };

                        for (var i = 0; i < ary.length; i++) {
                            eachWithIndex(i, ary[i], next);
                        }
                    }

/*
 * Decodes data when a payload is maybe expected. Possible binary contents are
 * decoded from their base64 representation
 *
 * @param {String} data, callback method
 * @api public
 */

                    exports.decodePayload = function(data, binaryType, callback) {
                        if (typeof data != 'string') {
                            return exports.decodePayloadAsBinary(data, binaryType, callback);
                        }

                        if (typeof binaryType === 'function') {
                            callback = binaryType;
                            binaryType = null;
                        }

                        var packet;
                        if (data == '') {
                            // parser error - ignoring payload
                            return callback(err, 0, 1);
                        }

                        var length = '', n, msg;

                        for (var i = 0, l = data.length; i < l; i++) {
                            var chr = data.charAt(i);

                            if (':' != chr) {
                                length += chr;
                            } else {
                                if ('' == length || (length != (n = Number(length)))) {
                                    // parser error - ignoring payload
                                    return callback(err, 0, 1);
                                }

                                msg = data.substr(i + 1, n);

                                if (length != msg.length) {
                                    // parser error - ignoring payload
                                    return callback(err, 0, 1);
                                }

                                if (msg.length) {
                                    packet = exports.decodePacket(msg, binaryType, true);

                                    if (err.type == packet.type && err.data == packet.data) {
                                        // parser error in individual packet - ignoring payload
                                        return callback(err, 0, 1);
                                    }

                                    var ret = callback(packet, i + n, l);
                                    if (false === ret) return;
                                }

                                // advance cursor
                                i += n;
                                length = '';
                            }
                        }

                        if (length != '') {
                            // parser error - ignoring payload
                            return callback(err, 0, 1);
                        }

                    };

/**
 * Encodes multiple messages (payload) as binary.
 *
 * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number
 * 255><data>
 *
 * Example:
 * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers
 *
 * @param {Array} packets
 * @return {ArrayBuffer} encoded payload
 * @api private
 */

                    exports.encodePayloadAsArrayBuffer = function(packets, callback) {
                        if (!packets.length) {
                            return callback(new ArrayBuffer(0));
                        }

                        function encodeOne(packet, doneCallback) {
                            exports.encodePacket(packet, true, true, function(data) {
                                return doneCallback(null, data);
                            });
                        }

                        map(packets, encodeOne, function(err, encodedPackets) {
                            var totalLength = encodedPackets.reduce(function(acc, p) {
                                var len;
                                if (typeof p === 'string') {
                                    len = p.length;
                                } else {
                                    len = p.byteLength;
                                }
                                return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2
                            }, 0);

                            var resultArray = new Uint8Array(totalLength);

                            var bufferIndex = 0;
                            encodedPackets.forEach(function(p) {
                                var isString = typeof p === 'string';
                                var ab = p;
                                if (isString) {
                                    var view = new Uint8Array(p.length);
                                    for (var i = 0; i < p.length; i++) {
                                        view[i] = p.charCodeAt(i);
                                    }
                                    ab = view.buffer;
                                }

                                if (isString) { // not true binary
                                    resultArray[bufferIndex++] = 0;
                                } else { // true binary
                                    resultArray[bufferIndex++] = 1;
                                }

                                var lenStr = ab.byteLength.toString();
                                for (var i = 0; i < lenStr.length; i++) {
                                    resultArray[bufferIndex++] = parseInt(lenStr[i]);
                                }
                                resultArray[bufferIndex++] = 255;

                                var view = new Uint8Array(ab);
                                for (var i = 0; i < view.length; i++) {
                                    resultArray[bufferIndex++] = view[i];
                                }
                            });

                            return callback(resultArray.buffer);
                        });
                    };

/**
 * Encode as Blob
 */

                    exports.encodePayloadAsBlob = function(packets, callback) {
                        function encodeOne(packet, doneCallback) {
                            exports.encodePacket(packet, true, true, function(encoded) {
                                var binaryIdentifier = new Uint8Array(1);
                                binaryIdentifier[0] = 1;
                                if (typeof encoded === 'string') {
                                    var view = new Uint8Array(encoded.length);
                                    for (var i = 0; i < encoded.length; i++) {
                                        view[i] = encoded.charCodeAt(i);
                                    }
                                    encoded = view.buffer;
                                    binaryIdentifier[0] = 0;
                                }

                                var len = (encoded instanceof ArrayBuffer)
                                    ? encoded.byteLength
                                    : encoded.size;

                                var lenStr = len.toString();
                                var lengthAry = new Uint8Array(lenStr.length + 1);
                                for (var i = 0; i < lenStr.length; i++) {
                                    lengthAry[i] = parseInt(lenStr[i]);
                                }
                                lengthAry[lenStr.length] = 255;

                                if (Blob) {
                                    var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);
                                    doneCallback(null, blob);
                                }
                            });
                        }

                        map(packets, encodeOne, function(err, results) {
                            return callback(new Blob(results));
                        });
                    };

/*
 * Decodes data when a payload is maybe expected. Strings are decoded by
 * interpreting each byte as a key code for entries marked to start with 0. See
 * description of encodePayloadAsBinary
 *
 * @param {ArrayBuffer} data, callback method
 * @api public
 */

                    exports.decodePayloadAsBinary = function(data, binaryType, callback) {
                        if (typeof binaryType === 'function') {
                            callback = binaryType;
                            binaryType = null;
                        }

                        var bufferTail = data;
                        var buffers = [];

                        var numberTooLong = false;
                        while (bufferTail.byteLength > 0) {
                            var tailArray = new Uint8Array(bufferTail);
                            var isString = tailArray[0] === 0;
                            var msgLength = '';

                            for (var i = 1;; i++) {
                                if (tailArray[i] == 255) break;

                                if (msgLength.length > 310) {
                                    numberTooLong = true;
                                    break;
                                }

                                msgLength += tailArray[i];
                            }

                            if (numberTooLong) return callback(err, 0, 1);

                            bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);
                            msgLength = parseInt(msgLength);

                            var msg = sliceBuffer(bufferTail, 0, msgLength);
                            if (isString) {
                                try {
                                    msg = String.fromCharCode.apply(null, new Uint8Array(msg));
                                } catch (e) {
                                    // iPhone Safari doesn't let you apply to typed arrays
                                    var typed = new Uint8Array(msg);
                                    msg = '';
                                    for (var i = 0; i < typed.length; i++) {
                                        msg += String.fromCharCode(typed[i]);
                                    }
                                }
                            }

                            buffers.push(msg);
                            bufferTail = sliceBuffer(bufferTail, msgLength);
                        }

                        var total = buffers.length;
                        buffers.forEach(function(buffer, i) {
                            callback(exports.decodePacket(buffer, binaryType, true), i, total);
                        });
                    };

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "./keys": 26, "after": 27, "arraybuffer.slice": 28, "base64-arraybuffer": 29, "blob": 30, "has-binary": 36, "utf8": 31 }
        ],
        26: [
            function(_dereq_, module, exports) {

/**
 * Gets the keys for an object.
 *
 * @return {Array} keys
 * @api private
 */

                module.exports = Object.keys || function keys(obj) {
                    var arr = [];
                    var has = Object.prototype.hasOwnProperty;

                    for (var i in obj) {
                        if (has.call(obj, i)) {
                            arr.push(i);
                        }
                    }
                    return arr;
                };

            }, {}
        ],
        27: [
            function(_dereq_, module, exports) {
                module.exports = after;

                function after(count, callback, err_cb) {
                    var bail = false;
                    err_cb = err_cb || noop;
                    proxy.count = count;
                    return (count === 0) ? callback() : proxy;

                    function proxy(err, result) {
                        if (proxy.count <= 0) {
                            throw new Error('after called too many times');
                        }
                        --proxy.count; // after first error, rest are passed to err_cb
                        if (err) {
                            bail = true;
                            callback(err); // future error callbacks will go to error handler
                            callback = err_cb;
                        } else if (proxy.count === 0 && !bail) {
                            callback(null, result);
                        }
                    }
                }

                function noop() {}

            }, {}
        ],
        28: [
            function(_dereq_, module, exports) {
/**
 * An abstraction for slicing an arraybuffer even when
 * ArrayBuffer.prototype.slice is not supported
 *
 * @api public
 */

                module.exports = function(arraybuffer, start, end) {
                    var bytes = arraybuffer.byteLength;
                    start = start || 0;
                    end = end || bytes;

                    if (arraybuffer.slice) {
                        return arraybuffer.slice(start, end);
                    }

                    if (start < 0) {
                        start += bytes;
                    }
                    if (end < 0) {
                        end += bytes;
                    }
                    if (end > bytes) {
                        end = bytes;
                    }

                    if (start >= bytes || start >= end || bytes === 0) {
                        return new ArrayBuffer(0);
                    }

                    var abv = new Uint8Array(arraybuffer);
                    var result = new Uint8Array(end - start);
                    for (var i = start, ii = 0; i < end; i++, ii++) {
                        result[ii] = abv[i];
                    }
                    return result.buffer;
                };

            }, {}
        ],
        29: [
            function(_dereq_, module, exports) {
/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
                (function(chars) {
                    "use strict";

                    exports.encode = function(arraybuffer) {
                        var bytes = new Uint8Array(arraybuffer),
                            i,
                            len = bytes.length,
                            base64 = "";

                        for (i = 0; i < len; i += 3) {
                            base64 += chars[bytes[i] >> 2];
                            base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];
                            base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];
                            base64 += chars[bytes[i + 2] & 63];
                        }

                        if ((len % 3) === 2) {
                            base64 = base64.substring(0, base64.length - 1) + "=";
                        } else if (len % 3 === 1) {
                            base64 = base64.substring(0, base64.length - 2) + "==";
                        }

                        return base64;
                    };

                    exports.decode = function(base64) {
                        var bufferLength = base64.length * 0.75,
                            len = base64.length,
                            i,
                            p = 0,
                            encoded1,
                            encoded2,
                            encoded3,
                            encoded4;

                        if (base64[base64.length - 1] === "=") {
                            bufferLength--;
                            if (base64[base64.length - 2] === "=") {
                                bufferLength--;
                            }
                        }

                        var arraybuffer = new ArrayBuffer(bufferLength),
                            bytes = new Uint8Array(arraybuffer);

                        for (i = 0; i < len; i += 4) {
                            encoded1 = chars.indexOf(base64[i]);
                            encoded2 = chars.indexOf(base64[i + 1]);
                            encoded3 = chars.indexOf(base64[i + 2]);
                            encoded4 = chars.indexOf(base64[i + 3]);

                            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);
                            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);
                            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);
                        }

                        return arraybuffer;
                    };
                })("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");

            }, {}
        ],
        30: [
            function(_dereq_, module, exports) {
                (function(global) {
/**
 * Create a blob builder even when vendor prefixes exist
 */

                    var BlobBuilder = global.BlobBuilder
                        || global.WebKitBlobBuilder
                        || global.MSBlobBuilder
                        || global.MozBlobBuilder;

/**
 * Check if Blob constructor is supported
 */

                    var blobSupported = (function() {
                        try {
                            var a = new Blob(['hi']);
                            return a.size === 2;
                        } catch (e) {
                            return false;
                        }
                    })();

/**
 * Check if Blob constructor supports ArrayBufferViews
 * Fails in Safari 6, so we need to map to ArrayBuffers there.
 */

                    var blobSupportsArrayBufferView = blobSupported && (function() {
                        try {
                            var b = new Blob([new Uint8Array([1, 2])]);
                            return b.size === 2;
                        } catch (e) {
                            return false;
                        }
                    })();

/**
 * Check if BlobBuilder is supported
 */

                    var blobBuilderSupported = BlobBuilder
                        && BlobBuilder.prototype.append
                        && BlobBuilder.prototype.getBlob;

/**
 * Helper function that maps ArrayBufferViews to ArrayBuffers
 * Used by BlobBuilder constructor and old browsers that didn't
 * support it in the Blob constructor.
 */

                    function mapArrayBufferViews(ary) {
                        for (var i = 0; i < ary.length; i++) {
                            var chunk = ary[i];
                            if (chunk.buffer instanceof ArrayBuffer) {
                                var buf = chunk.buffer;

                                // if this is a subarray, make a copy so we only
                                // include the subarray region from the underlying buffer
                                if (chunk.byteLength !== buf.byteLength) {
                                    var copy = new Uint8Array(chunk.byteLength);
                                    copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));
                                    buf = copy.buffer;
                                }

                                ary[i] = buf;
                            }
                        }
                    }

                    function BlobBuilderConstructor(ary, options) {
                        options = options || {};

                        var bb = new BlobBuilder();
                        mapArrayBufferViews(ary);

                        for (var i = 0; i < ary.length; i++) {
                            bb.append(ary[i]);
                        }

                        return (options.type) ? bb.getBlob(options.type) : bb.getBlob();
                    };

                    function BlobConstructor(ary, options) {
                        mapArrayBufferViews(ary);
                        return new Blob(ary, options || {});
                    };

                    module.exports = (function() {
                        if (blobSupported) {
                            return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;
                        } else if (blobBuilderSupported) {
                            return BlobBuilderConstructor;
                        } else {
                            return undefined;
                        }
                    })();

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, {}
        ],
        31: [
            function(_dereq_, module, exports) {
                (function(global) {
/*! https://mths.be/utf8js v2.0.0 by @mathias */
                    ;
                    (function(root) {

                        // Detect free variables `exports`
                        var freeExports = typeof exports == 'object' && exports;

                        // Detect free variable `module`
                        var freeModule = typeof module == 'object' && module &&
                            module.exports == freeExports && module;

                        // Detect free variable `global`, from Node.js or Browserified code,
                        // and use it as `root`
                        var freeGlobal = typeof global == 'object' && global;
                        if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {
                            root = freeGlobal;
                        }

                        /*--------------------------------------------------------------------------*/

                        var stringFromCharCode = String.fromCharCode;

                        // Taken from https://mths.be/punycode
                        function ucs2decode(string) {
                            var output = [];
                            var counter = 0;
                            var length = string.length;
                            var value;
                            var extra;
                            while (counter < length) {
                                value = string.charCodeAt(counter++);
                                if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
                                    // high surrogate, and there is a next character
                                    extra = string.charCodeAt(counter++);
                                    if ((extra & 0xFC00) == 0xDC00) { // low surrogate
                                        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
                                    } else {
                                        // unmatched surrogate; only append this code unit, in case the next
                                        // code unit is the high surrogate of a surrogate pair
                                        output.push(value);
                                        counter--;
                                    }
                                } else {
                                    output.push(value);
                                }
                            }
                            return output;
                        }

                        // Taken from https://mths.be/punycode
                        function ucs2encode(array) {
                            var length = array.length;
                            var index = -1;
                            var value;
                            var output = '';
                            while (++index < length) {
                                value = array[index];
                                if (value > 0xFFFF) {
                                    value -= 0x10000;
                                    output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
                                    value = 0xDC00 | value & 0x3FF;
                                }
                                output += stringFromCharCode(value);
                            }
                            return output;
                        }

                        function checkScalarValue(codePoint) {
                            if (codePoint >= 0xD800 && codePoint <= 0xDFFF) {
                                throw Error(
                                    'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +
                                    ' is not a scalar value'
                                );
                            }
                        }

/*--------------------------------------------------------------------------*/

                        function createByte(codePoint, shift) {
                            return stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);
                        }

                        function encodeCodePoint(codePoint) {
                            if ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence
                                return stringFromCharCode(codePoint);
                            }
                            var symbol = '';
                            if ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence
                                symbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);
                            } else if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence
                                checkScalarValue(codePoint);
                                symbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);
                                symbol += createByte(codePoint, 6);
                            } else if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence
                                symbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);
                                symbol += createByte(codePoint, 12);
                                symbol += createByte(codePoint, 6);
                            }
                            symbol += stringFromCharCode((codePoint & 0x3F) | 0x80);
                            return symbol;
                        }

                        function utf8encode(string) {
                            var codePoints = ucs2decode(string);
                            var length = codePoints.length;
                            var index = -1;
                            var codePoint;
                            var byteString = '';
                            while (++index < length) {
                                codePoint = codePoints[index];
                                byteString += encodeCodePoint(codePoint);
                            }
                            return byteString;
                        }

                        /*--------------------------------------------------------------------------*/

                        function readContinuationByte() {
                            if (byteIndex >= byteCount) {
                                throw Error('Invalid byte index');
                            }

                            var continuationByte = byteArray[byteIndex] & 0xFF;
                            byteIndex++;

                            if ((continuationByte & 0xC0) == 0x80) {
                                return continuationByte & 0x3F;
                            }

                            // If we end up here, it’s not a continuation byte
                            throw Error('Invalid continuation byte');
                        }

                        function decodeSymbol() {
                            var byte1;
                            var byte2;
                            var byte3;
                            var byte4;
                            var codePoint;

                            if (byteIndex > byteCount) {
                                throw Error('Invalid byte index');
                            }

                            if (byteIndex == byteCount) {
                                return false;
                            }

                            // Read first byte
                            byte1 = byteArray[byteIndex] & 0xFF;
                            byteIndex++;

                            // 1-byte sequence (no continuation bytes)
                            if ((byte1 & 0x80) == 0) {
                                return byte1;
                            }

                            // 2-byte sequence
                            if ((byte1 & 0xE0) == 0xC0) {
                                var byte2 = readContinuationByte();
                                codePoint = ((byte1 & 0x1F) << 6) | byte2;
                                if (codePoint >= 0x80) {
                                    return codePoint;
                                } else {
                                    throw Error('Invalid continuation byte');
                                }
                            }

                            // 3-byte sequence (may include unpaired surrogates)
                            if ((byte1 & 0xF0) == 0xE0) {
                                byte2 = readContinuationByte();
                                byte3 = readContinuationByte();
                                codePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;
                                if (codePoint >= 0x0800) {
                                    checkScalarValue(codePoint);
                                    return codePoint;
                                } else {
                                    throw Error('Invalid continuation byte');
                                }
                            }

                            // 4-byte sequence
                            if ((byte1 & 0xF8) == 0xF0) {
                                byte2 = readContinuationByte();
                                byte3 = readContinuationByte();
                                byte4 = readContinuationByte();
                                codePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |
                                (byte3 << 0x06) | byte4;
                                if (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {
                                    return codePoint;
                                }
                            }

                            throw Error('Invalid UTF-8 detected');
                        }

                        var byteArray;
                        var byteCount;
                        var byteIndex;

                        function utf8decode(byteString) {
                            byteArray = ucs2decode(byteString);
                            byteCount = byteArray.length;
                            byteIndex = 0;
                            var codePoints = [];
                            var tmp;
                            while ((tmp = decodeSymbol()) !== false) {
                                codePoints.push(tmp);
                            }
                            return ucs2encode(codePoints);
                        }

                        /*--------------------------------------------------------------------------*/

                        var utf8 = {
                            'version': '2.0.0',
                            'encode': utf8encode,
                            'decode': utf8decode
                        };

                        // Some AMD build optimizers, like r.js, check for specific condition patterns
                        // like the following:
                        if (
                            typeof define == 'function' &&
                                typeof define.amd == 'object' &&
                                define.amd
                        ) {
                            define(function() {
                                return utf8;
                            });
                        } else if (freeExports && !freeExports.nodeType) {
                            if (freeModule) { // in Node.js or RingoJS v0.8.0+
                                freeModule.exports = utf8;
                            } else { // in Narwhal or RingoJS v0.7.0-
                                var object = {};
                                var hasOwnProperty = object.hasOwnProperty;
                                for (var key in utf8) {
                                    hasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);
                                }
                            }
                        } else { // in Rhino or a web browser
                            root.utf8 = utf8;
                        }

                    }(this));

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, {}
        ],
        32: [
            function(_dereq_, module, exports) {
                (function(global) {
/**
 * JSON parse.
 *
 * @see Based on jQuery#parseJSON (MIT) and JSON2
 * @api private
 */

                    var rvalidchars = /^[\],:{}\s]*$/;
                    var rvalidescape = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g;
                    var rvalidtokens = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;
                    var rvalidbraces = /(?:^|:|,)(?:\s*\[)+/g;
                    var rtrimLeft = /^\s+/;
                    var rtrimRight = /\s+$/;

                    module.exports = function parsejson(data) {
                        if ('string' != typeof data || !data) {
                            return null;
                        }

                        data = data.replace(rtrimLeft, '').replace(rtrimRight, '');

                        // Attempt to parse using the native JSON parser first
                        if (global.JSON && JSON.parse) {
                            return JSON.parse(data);
                        }

                        if (rvalidchars.test(data.replace(rvalidescape, '@')
                            .replace(rvalidtokens, ']')
                            .replace(rvalidbraces, ''))) {
                            return (new Function('return ' + data))();
                        }
                    };
                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, {}
        ],
        33: [
            function(_dereq_, module, exports) {
/**
 * Compiles a querystring
 * Returns string representation of the object
 *
 * @param {Object}
 * @api private
 */

                exports.encode = function(obj) {
                    var str = '';

                    for (var i in obj) {
                        if (obj.hasOwnProperty(i)) {
                            if (str.length) str += '&';
                            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);
                        }
                    }

                    return str;
                };

/**
 * Parses a simple querystring into an object
 *
 * @param {String} qs
 * @api private
 */

                exports.decode = function(qs) {
                    var qry = {};
                    var pairs = qs.split('&');
                    for (var i = 0, l = pairs.length; i < l; i++) {
                        var pair = pairs[i].split('=');
                        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
                    }
                    return qry;
                };

            }, {}
        ],
        34: [
            function(_dereq_, module, exports) {
/**
 * Parses an URI
 *
 * @author Steven Levithan <stevenlevithan.com> (MIT license)
 * @api private
 */

                var re = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;

                var parts = [
                    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'
                ];

                module.exports = function parseuri(str) {
                    var src = str,
                        b = str.indexOf('['),
                        e = str.indexOf(']');

                    if (b != -1 && e != -1) {
                        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);
                    }

                    var m = re.exec(str || ''),
                        uri = {},
                        i = 14;

                    while (i--) {
                        uri[parts[i]] = m[i] || '';
                    }

                    if (b != -1 && e != -1) {
                        uri.source = src;
                        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');
                        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');
                        uri.ipv6uri = true;
                    }

                    return uri;
                };

            }, {}
        ],
        35: [
            function(_dereq_, module, exports) {

/**
 * Module dependencies.
 */

                var global = (function() { return this; })();

/**
 * WebSocket constructor.
 */

                var WebSocket = global.WebSocket || global.MozWebSocket;

/**
 * Module exports.
 */

                module.exports = WebSocket ? ws : null;

/**
 * WebSocket constructor.
 *
 * The third `opts` options object gets ignored in web browsers, since it's
 * non-standard, and throws a TypeError if passed to the constructor.
 * See: https://github.com/einaros/ws/issues/227
 *
 * @param {String} uri
 * @param {Array} protocols (optional)
 * @param {Object) opts (optional)
 * @api public
 */

                function ws(uri, protocols, opts) {
                    var instance;
                    if (protocols) {
                        instance = new WebSocket(uri, protocols);
                    } else {
                        instance = new WebSocket(uri);
                    }
                    return instance;
                }

                if (WebSocket) ws.prototype = WebSocket.prototype;

            }, {}
        ],
        36: [
            function(_dereq_, module, exports) {
                (function(global) {

/*
 * Module requirements.
 */

                    var isArray = _dereq_('isarray');

/**
 * Module exports.
 */

                    module.exports = hasBinary;

/**
 * Checks for binary data.
 *
 * Right now only Buffer and ArrayBuffer are supported..
 *
 * @param {Object} anything
 * @api public
 */

                    function hasBinary(data) {

                        function _hasBinary(obj) {
                            if (!obj) return false;

                            if ((global.Buffer && global.Buffer.isBuffer(obj)) ||
                                (global.ArrayBuffer && obj instanceof ArrayBuffer) ||
                                (global.Blob && obj instanceof Blob) ||
                                (global.File && obj instanceof File)
                            ) {
                                return true;
                            }

                            if (isArray(obj)) {
                                for (var i = 0; i < obj.length; i++) {
                                    if (_hasBinary(obj[i])) {
                                        return true;
                                    }
                                }
                            } else if (obj && 'object' == typeof obj) {
                                if (obj.toJSON) {
                                    obj = obj.toJSON();
                                }

                                for (var key in obj) {
                                    if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {
                                        return true;
                                    }
                                }
                            }

                            return false;
                        }

                        return _hasBinary(data);
                    }

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "isarray": 37 }
        ],
        37: [
            function(_dereq_, module, exports) {
                module.exports = Array.isArray || function(arr) {
                    return Object.prototype.toString.call(arr) == '[object Array]';
                };

            }, {}
        ],
        38: [
            function(_dereq_, module, exports) {

/**
 * Module dependencies.
 */

                var global = _dereq_('global');

/**
 * Module exports.
 *
 * Logic borrowed from Modernizr:
 *
 *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js
 */

                try {
                    module.exports = 'XMLHttpRequest' in global &&
                        'withCredentials' in new global.XMLHttpRequest();
                } catch (err) {
                    // if XMLHttp support is disabled in IE then it will throw
                    // when trying to create
                    module.exports = false;
                }

            }, { "global": 39 }
        ],
        39: [
            function(_dereq_, module, exports) {

/**
 * Returns `this`. Execute this without a "context" (i.e. without it being
 * attached to an object of the left-hand side), and `this` points to the
 * "global" scope of the current JS execution.
 */

                module.exports = (function() { return this; })();

            }, {}
        ],
        40: [
            function(_dereq_, module, exports) {

                var indexOf = [].indexOf;

                module.exports = function(arr, obj) {
                    if (indexOf) return arr.indexOf(obj);
                    for (var i = 0; i < arr.length; ++i) {
                        if (arr[i] === obj) return i;
                    }
                    return -1;
                };
            }, {}
        ],
        41: [
            function(_dereq_, module, exports) {

/**
 * HOP ref.
 */

                var has = Object.prototype.hasOwnProperty;

/**
 * Return own keys in `obj`.
 *
 * @param {Object} obj
 * @return {Array}
 * @api public
 */

                exports.keys = Object.keys || function(obj) {
                    var keys = [];
                    for (var key in obj) {
                        if (has.call(obj, key)) {
                            keys.push(key);
                        }
                    }
                    return keys;
                };

/**
 * Return own values in `obj`.
 *
 * @param {Object} obj
 * @return {Array}
 * @api public
 */

                exports.values = function(obj) {
                    var vals = [];
                    for (var key in obj) {
                        if (has.call(obj, key)) {
                            vals.push(obj[key]);
                        }
                    }
                    return vals;
                };

/**
 * Merge `b` into `a`.
 *
 * @param {Object} a
 * @param {Object} b
 * @return {Object} a
 * @api public
 */

                exports.merge = function(a, b) {
                    for (var key in b) {
                        if (has.call(b, key)) {
                            a[key] = b[key];
                        }
                    }
                    return a;
                };

/**
 * Return length of `obj`.
 *
 * @param {Object} obj
 * @return {Number}
 * @api public
 */

                exports.length = function(obj) {
                    return exports.keys(obj).length;
                };

/**
 * Check if `obj` is empty.
 *
 * @param {Object} obj
 * @return {Boolean}
 * @api public
 */

                exports.isEmpty = function(obj) {
                    return 0 == exports.length(obj);
                };
            }, {}
        ],
        42: [
            function(_dereq_, module, exports) {
/**
 * Parses an URI
 *
 * @author Steven Levithan <stevenlevithan.com> (MIT license)
 * @api private
 */

                var re = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;

                var parts = [
                    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'
                ];

                module.exports = function parseuri(str) {
                    var m = re.exec(str || ''),
                        uri = {},
                        i = 14;

                    while (i--) {
                        uri[parts[i]] = m[i] || '';
                    }

                    return uri;
                };

            }, {}
        ],
        43: [
            function(_dereq_, module, exports) {
                (function(global) {
/*global Blob,File*/

/**
 * Module requirements
 */

                    var isArray = _dereq_('isarray');
                    var isBuf = _dereq_('./is-buffer');

/**
 * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.
 * Anything with blobs or files should be fed through removeBlobs before coming
 * here.
 *
 * @param {Object} packet - socket.io event packet
 * @return {Object} with deconstructed packet and list of buffers
 * @api public
 */

                    exports.deconstructPacket = function(packet) {
                        var buffers = [];
                        var packetData = packet.data;

                        function _deconstructPacket(data) {
                            if (!data) return data;

                            if (isBuf(data)) {
                                var placeholder = { _placeholder: true, num: buffers.length };
                                buffers.push(data);
                                return placeholder;
                            } else if (isArray(data)) {
                                var newData = new Array(data.length);
                                for (var i = 0; i < data.length; i++) {
                                    newData[i] = _deconstructPacket(data[i]);
                                }
                                return newData;
                            } else if ('object' == typeof data && !(data instanceof Date)) {
                                var newData = {};
                                for (var key in data) {
                                    newData[key] = _deconstructPacket(data[key]);
                                }
                                return newData;
                            }
                            return data;
                        }

                        var pack = packet;
                        pack.data = _deconstructPacket(packetData);
                        pack.attachments = buffers.length; // number of binary 'attachments'
                        return { packet: pack, buffers: buffers };
                    };

/**
 * Reconstructs a binary packet from its placeholder packet and buffers
 *
 * @param {Object} packet - event packet with placeholders
 * @param {Array} buffers - binary buffers to put in placeholder positions
 * @return {Object} reconstructed packet
 * @api public
 */

                    exports.reconstructPacket = function(packet, buffers) {
                        var curPlaceHolder = 0;

                        function _reconstructPacket(data) {
                            if (data && data._placeholder) {
                                var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)
                                return buf;
                            } else if (isArray(data)) {
                                for (var i = 0; i < data.length; i++) {
                                    data[i] = _reconstructPacket(data[i]);
                                }
                                return data;
                            } else if (data && 'object' == typeof data) {
                                for (var key in data) {
                                    data[key] = _reconstructPacket(data[key]);
                                }
                                return data;
                            }
                            return data;
                        }

                        packet.data = _reconstructPacket(packet.data);
                        packet.attachments = undefined; // no longer useful
                        return packet;
                    };

/**
 * Asynchronously removes Blobs or Files from data via
 * FileReader's readAsArrayBuffer method. Used before encoding
 * data as msgpack. Calls callback with the blobless data.
 *
 * @param {Object} data
 * @param {Function} callback
 * @api private
 */

                    exports.removeBlobs = function(data, callback) {
                        function _removeBlobs(obj, curKey, containingObject) {
                            if (!obj) return obj;

                            // convert any blob
                            if ((global.Blob && obj instanceof Blob) ||
                            (global.File && obj instanceof File)) {
                                pendingBlobs++;

                                // async filereader
                                var fileReader = new FileReader();
                                fileReader.onload = function() { // this.result == arraybuffer
                                    if (containingObject) {
                                        containingObject[curKey] = this.result;
                                    } else {
                                        bloblessData = this.result;
                                    }

                                    // if nothing pending its callback time
                                    if (! --pendingBlobs) {
                                        callback(bloblessData);
                                    }
                                };

                                fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer
                            } else if (isArray(obj)) { // handle array
                                for (var i = 0; i < obj.length; i++) {
                                    _removeBlobs(obj[i], i, obj);
                                }
                            } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object
                                for (var key in obj) {
                                    _removeBlobs(obj[key], key, obj);
                                }
                            }
                        }

                        var pendingBlobs = 0;
                        var bloblessData = data;
                        _removeBlobs(bloblessData);
                        if (!pendingBlobs) {
                            callback(bloblessData);
                        }
                    };

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, { "./is-buffer": 45, "isarray": 46 }
        ],
        44: [
            function(_dereq_, module, exports) {

/**
 * Module dependencies.
 */

                var debug = _dereq_('debug')('socket.io-parser');
                var json = _dereq_('json3');
                var isArray = _dereq_('isarray');
                var Emitter = _dereq_('component-emitter');
                var binary = _dereq_('./binary');
                var isBuf = _dereq_('./is-buffer');

/**
 * Protocol version.
 *
 * @api public
 */

                exports.protocol = 4;

/**
 * Packet types.
 *
 * @api public
 */

                exports.types = [
                    'CONNECT',
                    'DISCONNECT',
                    'EVENT',
                    'BINARY_EVENT',
                    'ACK',
                    'BINARY_ACK',
                    'ERROR'
                ];

/**
 * Packet type `connect`.
 *
 * @api public
 */

                exports.CONNECT = 0;

/**
 * Packet type `disconnect`.
 *
 * @api public
 */

                exports.DISCONNECT = 1;

/**
 * Packet type `event`.
 *
 * @api public
 */

                exports.EVENT = 2;

/**
 * Packet type `ack`.
 *
 * @api public
 */

                exports.ACK = 3;

/**
 * Packet type `error`.
 *
 * @api public
 */

                exports.ERROR = 4;

/**
 * Packet type 'binary event'
 *
 * @api public
 */

                exports.BINARY_EVENT = 5;

/**
 * Packet type `binary ack`. For acks with binary arguments.
 *
 * @api public
 */

                exports.BINARY_ACK = 6;

/**
 * Encoder constructor.
 *
 * @api public
 */

                exports.Encoder = Encoder;

/**
 * Decoder constructor.
 *
 * @api public
 */

                exports.Decoder = Decoder;

/**
 * A socket.io Encoder instance
 *
 * @api public
 */

                function Encoder() {}

/**
 * Encode a packet as a single string if non-binary, or as a
 * buffer sequence, depending on packet type.
 *
 * @param {Object} obj - packet object
 * @param {Function} callback - function to handle encodings (likely engine.write)
 * @return Calls callback with Array of encodings
 * @api public
 */

                Encoder.prototype.encode = function(obj, callback) {
                    debug('encoding packet %j', obj);

                    if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {
                        encodeAsBinary(obj, callback);
                    } else {
                        var encoding = encodeAsString(obj);
                        callback([encoding]);
                    }
                };

/**
 * Encode packet as string.
 *
 * @param {Object} packet
 * @return {String} encoded
 * @api private
 */

                function encodeAsString(obj) {
                    var str = '';
                    var nsp = false;

                    // first is type
                    str += obj.type;

                    // attachments if we have them
                    if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {
                        str += obj.attachments;
                        str += '-';
                    }

                    // if we have a namespace other than `/`
                    // we append it followed by a comma `,`
                    if (obj.nsp && '/' != obj.nsp) {
                        nsp = true;
                        str += obj.nsp;
                    }

                    // immediately followed by the id
                    if (null != obj.id) {
                        if (nsp) {
                            str += ',';
                            nsp = false;
                        }
                        str += obj.id;
                    }

                    // json data
                    if (null != obj.data) {
                        if (nsp) str += ',';
                        str += json.stringify(obj.data);
                    }

                    debug('encoded %j as %s', obj, str);
                    return str;
                }

/**
 * Encode packet as 'buffer sequence' by removing blobs, and
 * deconstructing packet into object with placeholders and
 * a list of buffers.
 *
 * @param {Object} packet
 * @return {Buffer} encoded
 * @api private
 */

                function encodeAsBinary(obj, callback) {

                    function writeEncoding(bloblessData) {
                        var deconstruction = binary.deconstructPacket(bloblessData);
                        var pack = encodeAsString(deconstruction.packet);
                        var buffers = deconstruction.buffers;

                        buffers.unshift(pack); // add packet info to beginning of data list
                        callback(buffers); // write all the buffers
                    }

                    binary.removeBlobs(obj, writeEncoding);
                }

/**
 * A socket.io Decoder instance
 *
 * @return {Object} decoder
 * @api public
 */

                function Decoder() {
                    this.reconstructor = null;
                }

/**
 * Mix in `Emitter` with Decoder.
 */

                Emitter(Decoder.prototype);

/**
 * Decodes an ecoded packet string into packet JSON.
 *
 * @param {String} obj - encoded packet
 * @return {Object} packet
 * @api public
 */

                Decoder.prototype.add = function(obj) {
                    var packet;
                    if ('string' == typeof obj) {
                        packet = decodeString(obj);
                        if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json
                            this.reconstructor = new BinaryReconstructor(packet);

                            // no attachments, labeled binary but no binary data to follow
                            if (this.reconstructor.reconPack.attachments === 0) {
                                this.emit('decoded', packet);
                            }
                        } else { // non-binary full packet
                            this.emit('decoded', packet);
                        }
                    } else if (isBuf(obj) || obj.base64) { // raw binary data
                        if (!this.reconstructor) {
                            throw new Error('got binary data when not reconstructing a packet');
                        } else {
                            packet = this.reconstructor.takeBinaryData(obj);
                            if (packet) { // received final buffer
                                this.reconstructor = null;
                                this.emit('decoded', packet);
                            }
                        }
                    } else {
                        throw new Error('Unknown type: ' + obj);
                    }
                };

/**
 * Decode a packet String (JSON data)
 *
 * @param {String} str
 * @return {Object} packet
 * @api private
 */

                function decodeString(str) {
                    var p = {};
                    var i = 0;

                    // look up type
                    p.type = Number(str.charAt(0));
                    if (null == exports.types[p.type]) return error();

                    // look up attachments if type binary
                    if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {
                        var buf = '';
                        while (str.charAt(++i) != '-') {
                            buf += str.charAt(i);
                            if (i == str.length) break;
                        }
                        if (buf != Number(buf) || str.charAt(i) != '-') {
                            throw new Error('Illegal attachments');
                        }
                        p.attachments = Number(buf);
                    }

                    // look up namespace (if any)
                    if ('/' == str.charAt(i + 1)) {
                        p.nsp = '';
                        while (++i) {
                            var c = str.charAt(i);
                            if (',' == c) break;
                            p.nsp += c;
                            if (i == str.length) break;
                        }
                    } else {
                        p.nsp = '/';
                    }

                    // look up id
                    var next = str.charAt(i + 1);
                    if ('' !== next && Number(next) == next) {
                        p.id = '';
                        while (++i) {
                            var c = str.charAt(i);
                            if (null == c || Number(c) != c) {
                                --i;
                                break;
                            }
                            p.id += str.charAt(i);
                            if (i == str.length) break;
                        }
                        p.id = Number(p.id);
                    }

                    // look up json data
                    if (str.charAt(++i)) {
                        try {
                            p.data = json.parse(str.substr(i));
                        } catch (e) {
                            return error();
                        }
                    }

                    debug('decoded %s as %j', str, p);
                    return p;
                }

/**
 * Deallocates a parser's resources
 *
 * @api public
 */

                Decoder.prototype.destroy = function() {
                    if (this.reconstructor) {
                        this.reconstructor.finishedReconstruction();
                    }
                };

/**
 * A manager of a binary event's 'buffer sequence'. Should
 * be constructed whenever a packet of type BINARY_EVENT is
 * decoded.
 *
 * @param {Object} packet
 * @return {BinaryReconstructor} initialized reconstructor
 * @api private
 */

                function BinaryReconstructor(packet) {
                    this.reconPack = packet;
                    this.buffers = [];
                }

/**
 * Method to be called when binary data received from connection
 * after a BINARY_EVENT packet.
 *
 * @param {Buffer | ArrayBuffer} binData - the raw binary data received
 * @return {null | Object} returns null if more binary data is expected or
 *   a reconstructed packet object if all buffers have been received.
 * @api private
 */

                BinaryReconstructor.prototype.takeBinaryData = function(binData) {
                    this.buffers.push(binData);
                    if (this.buffers.length == this.reconPack.attachments) { // done with buffer list
                        var packet = binary.reconstructPacket(this.reconPack, this.buffers);
                        this.finishedReconstruction();
                        return packet;
                    }
                    return null;
                };

/**
 * Cleans up binary packet reconstruction variables.
 *
 * @api private
 */

                BinaryReconstructor.prototype.finishedReconstruction = function() {
                    this.reconPack = null;
                    this.buffers = [];
                };

                function error(data) {
                    return {
                        type: exports.ERROR,
                        data: 'parser error'
                    };
                }

            }, { "./binary": 43, "./is-buffer": 45, "component-emitter": 9, "debug": 10, "isarray": 46, "json3": 47 }
        ],
        45: [
            function(_dereq_, module, exports) {
                (function(global) {

                    module.exports = isBuf;

/**
 * Returns true if obj is a buffer or an arraybuffer.
 *
 * @api private
 */

                    function isBuf(obj) {
                        return (global.Buffer && global.Buffer.isBuffer(obj)) ||
                        (global.ArrayBuffer && obj instanceof ArrayBuffer);
                    }

                }).call(this, typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, {}
        ],
        46: [
            function(_dereq_, module, exports) {
                module.exports = _dereq_(37);
            }, {}
        ],
        47: [
            function(_dereq_, module, exports) {
/*! JSON v3.2.6 | http://bestiejs.github.io/json3 | Copyright 2012-2013, Kit Cambridge | http://kit.mit-license.org */
                ;
                (function(window) {
                    // Convenience aliases.
                    var getClass = {}.toString, isProperty, forEach, undef;

                    // Detect the `define` function exposed by asynchronous module loaders. The
                    // strict `define` check is necessary for compatibility with `r.js`.
                    var isLoader = typeof define === "function" && define.amd;

                    // Detect native implementations.
                    var nativeJSON = typeof JSON == "object" && JSON;

                    // Set up the JSON 3 namespace, preferring the CommonJS `exports` object if
                    // available.
                    var JSON3 = typeof exports == "object" && exports && !exports.nodeType && exports;

                    if (JSON3 && nativeJSON) {
                        // Explicitly delegate to the native `stringify` and `parse`
                        // implementations in CommonJS environments.
                        JSON3.stringify = nativeJSON.stringify;
                        JSON3.parse = nativeJSON.parse;
                    } else {
                        // Export for web browsers, JavaScript engines, and asynchronous module
                        // loaders, using the global `JSON` object if available.
                        JSON3 = window.JSON = nativeJSON || {};
                    }

                    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.
                    var isExtended = new Date(-3509827334573292);
                    try {
                        // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical
                        // results for certain dates in Opera >= 10.53.
                        isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&
                            // Safari < 2.0.2 stores the internal millisecond time value correctly,
                            // but clips the values returned by the date methods to the range of
                            // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).
                            isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;
                    } catch (exception) {
                    }

                    // Internal: Determines whether the native `JSON.stringify` and `parse`
                    // implementations are spec-compliant. Based on work by Ken Snyder.
                    function has(name) {
                        if (has[name] !== undef) {
                            // Return cached feature test result.
                            return has[name];
                        }

                        var isSupported;
                        if (name == "bug-string-char-index") {
                            // IE <= 7 doesn't support accessing string characters using square
                            // bracket notation. IE 8 only supports this for primitives.
                            isSupported = "a"[0] != "a";
                        } else if (name == "json") {
                            // Indicates whether both `JSON.stringify` and `JSON.parse` are
                            // supported.
                            isSupported = has("json-stringify") && has("json-parse");
                        } else {
                            var value, serialized = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
                            // Test `JSON.stringify`.
                            if (name == "json-stringify") {
                                var stringify = JSON3.stringify, stringifySupported = typeof stringify == "function" && isExtended;
                                if (stringifySupported) {
                                    // A test function object with a custom `toJSON` method.
                                    (value = function() {
                                        return 1;
                                    }).toJSON = value;
                                    try {
                                        stringifySupported =
                                            // Firefox 3.1b1 and b2 serialize string, number, and boolean
                                            // primitives as object literals.
                                            stringify(0) === "0" &&
                                            // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object
                                            // literals.
                                            stringify(new Number()) === "0" &&
                                            stringify(new String()) == '""' &&
                                            // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or
                                            // does not define a canonical JSON representation (this applies to
                                            // objects with `toJSON` properties as well, *unless* they are nested
                                            // within an object or array).
                                            stringify(getClass) === undef &&
                                            // IE 8 serializes `undefined` as `"undefined"`. Safari <= 5.1.7 and
                                            // FF 3.1b3 pass this test.
                                            stringify(undef) === undef &&
                                            // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,
                                            // respectively, if the value is omitted entirely.
                                            stringify() === undef &&
                                            // FF 3.1b1, 2 throw an error if the given value is not a number,
                                            // string, array, object, Boolean, or `null` literal. This applies to
                                            // objects with custom `toJSON` methods as well, unless they are nested
                                            // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`
                                            // methods entirely.
                                            stringify(value) === "1" &&
                                            stringify([value]) == "[1]" &&
                                            // Prototype <= 1.6.1 serializes `[undefined]` as `"[]"` instead of
                                            // `"[null]"`.
                                            stringify([undef]) == "[null]" &&
                                            // YUI 3.0.0b1 fails to serialize `null` literals.
                                            stringify(null) == "null" &&
                                            // FF 3.1b1, 2 halts serialization if an array contains a function:
                                            // `[1, true, getClass, 1]` serializes as "[1,true,],". FF 3.1b3
                                            // elides non-JSON values from objects and arrays, unless they
                                            // define custom `toJSON` methods.
                                            stringify([undef, getClass, null]) == "[null,null,null]" &&
                                            // Simple serialization test. FF 3.1b1 uses Unicode escape sequences
                                            // where character escape codes are expected (e.g., `\b` => `\u0008`).
                                            stringify({ "a": [value, true, false, null, "\x00\b\n\f\r\t"] }) == serialized &&
                                            // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.
                                            stringify(null, value) === "1" &&
                                            stringify([1, 2], null, 1) == "[\n 1,\n 2\n]" &&
                                            // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly
                                            // serialize extended years.
                                            stringify(new Date(-8.64e15)) == '"-271821-04-20T00:00:00.000Z"' &&
                                            // The milliseconds are optional in ES 5, but required in 5.1.
                                            stringify(new Date(8.64e15)) == '"+275760-09-13T00:00:00.000Z"' &&
                                            // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative
                                            // four-digit years instead of six-digit years. Credits: @Yaffle.
                                            stringify(new Date(-621987552e5)) == '"-000001-01-01T00:00:00.000Z"' &&
                                            // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond
                                            // values less than 1000. Credits: @Yaffle.
                                            stringify(new Date(-1)) == '"1969-12-31T23:59:59.999Z"';
                                    } catch (exception) {
                                        stringifySupported = false;
                                    }
                                }
                                isSupported = stringifySupported;
                            }
                            // Test `JSON.parse`.
                            if (name == "json-parse") {
                                var parse = JSON3.parse;
                                if (typeof parse == "function") {
                                    try {
                                        // FF 3.1b1, b2 will throw an exception if a bare literal is provided.
                                        // Conforming implementations should also coerce the initial argument to
                                        // a string prior to parsing.
                                        if (parse("0") === 0 && !parse(false)) {
                                            // Simple parsing test.
                                            value = parse(serialized);
                                            var parseSupported = value["a"].length == 5 && value["a"][0] === 1;
                                            if (parseSupported) {
                                                try {
                                                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.
                                                    parseSupported = !parse('"\t"');
                                                } catch (exception) {
                                                }
                                                if (parseSupported) {
                                                    try {
                                                        // FF 4.0 and 4.0.1 allow leading `+` signs and leading
                                                        // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow
                                                        // certain octal literals.
                                                        parseSupported = parse("01") !== 1;
                                                    } catch (exception) {
                                                    }
                                                }
                                                if (parseSupported) {
                                                    try {
                                                        // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal
                                                        // points. These environments, along with FF 3.1b1 and 2,
                                                        // also allow trailing commas in JSON objects and arrays.
                                                        parseSupported = parse("1.") !== 1;
                                                    } catch (exception) {
                                                    }
                                                }
                                            }
                                        }
                                    } catch (exception) {
                                        parseSupported = false;
                                    }
                                }
                                isSupported = parseSupported;
                            }
                        }
                        return has[name] = !!isSupported;
                    }

                    if (!has("json")) {
                        // Common `[[Class]]` name aliases.
                        var functionClass = "[object Function]";
                        var dateClass = "[object Date]";
                        var numberClass = "[object Number]";
                        var stringClass = "[object String]";
                        var arrayClass = "[object Array]";
                        var booleanClass = "[object Boolean]";

                        // Detect incomplete support for accessing string characters by index.
                        var charIndexBuggy = has("bug-string-char-index");

                        // Define additional utility methods if the `Date` methods are buggy.
                        if (!isExtended) {
                            var floor = Math.floor;
                            // A mapping between the months of the year and the number of days between
                            // January 1st and the first of the respective month.
                            var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
                            // Internal: Calculates the number of days between the Unix epoch and the
                            // first day of the given month.
                            var getDay = function(year, month) {
                                return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);
                            };
                        }

                        // Internal: Determines if a property is a direct property of the given
                        // object. Delegates to the native `Object#hasOwnProperty` method.
                        if (!(isProperty = {}.hasOwnProperty)) {
                            isProperty = function(property) {
                                var members = {}, constructor;
                                if ((members.__proto__ = null, members.__proto__ = {
                                    // The *proto* property cannot be set multiple times in recent
                                    // versions of Firefox and SeaMonkey.
                                    "toString": 1
                                }, members).toString != getClass) {
                                    // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but
                                    // supports the mutable *proto* property.
                                    isProperty = function(property) {
                                        // Capture and break the object's prototype chain (see section 8.6.2
                                        // of the ES 5.1 spec). The parenthesized expression prevents an
                                        // unsafe transformation by the Closure Compiler.
                                        var original = this.__proto__, result = property in (this.__proto__ = null, this);
                                        // Restore the original prototype chain.
                                        this.__proto__ = original;
                                        return result;
                                    };
                                } else {
                                    // Capture a reference to the top-level `Object` constructor.
                                    constructor = members.constructor;
                                    // Use the `constructor` property to simulate `Object#hasOwnProperty` in
                                    // other environments.
                                    isProperty = function(property) {
                                        var parent = (this.constructor || constructor).prototype;
                                        return property in this && !(property in parent && this[property] === parent[property]);
                                    };
                                }
                                members = null;
                                return isProperty.call(this, property);
                            };
                        }

                        // Internal: A set of primitive types used by `isHostType`.
                        var PrimitiveTypes = {
                            'boolean': 1,
                            'number': 1,
                            'string': 1,
                            'undefined': 1
                        };

                        // Internal: Determines if the given object `property` value is a
                        // non-primitive.
                        var isHostType = function(object, property) {
                            var type = typeof object[property];
                            return type == 'object' ? !!object[property] : !PrimitiveTypes[type];
                        };

                        // Internal: Normalizes the `for...in` iteration algorithm across
                        // environments. Each enumerated key is yielded to a `callback` function.
                        forEach = function(object, callback) {
                            var size = 0, Properties, members, property;

                            // Tests for bugs in the current environment's `for...in` algorithm. The
                            // `valueOf` property inherits the non-enumerable flag from
                            // `Object.prototype` in older versions of IE, Netscape, and Mozilla.
                            (Properties = function() {
                                this.valueOf = 0;
                            }).prototype.valueOf = 0;

                            // Iterate over a new instance of the `Properties` class.
                            members = new Properties();
                            for (property in members) {
                                // Ignore all properties inherited from `Object.prototype`.
                                if (isProperty.call(members, property)) {
                                    size++;
                                }
                            }
                            Properties = members = null;

                            // Normalize the iteration algorithm.
                            if (!size) {
                                // A list of non-enumerable properties inherited from `Object.prototype`.
                                members = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"];
                                // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable
                                // properties.
                                forEach = function(object, callback) {
                                    var isFunction = getClass.call(object) == functionClass, property, length;
                                    var hasProperty = !isFunction && typeof object.constructor != 'function' && isHostType(object, 'hasOwnProperty') ? object.hasOwnProperty : isProperty;
                                    for (property in object) {
                                        // Gecko <= 1.0 enumerates the `prototype` property of functions under
                                        // certain conditions; IE does not.
                                        if (!(isFunction && property == "prototype") && hasProperty.call(object, property)) {
                                            callback(property);
                                        }
                                    }
                                    // Manually invoke the callback for each non-enumerable property.
                                    for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));
                                };
                            } else if (size == 2) {
                                // Safari <= 2.0.4 enumerates shadowed properties twice.
                                forEach = function(object, callback) {
                                    // Create a set of iterated properties.
                                    var members = {}, isFunction = getClass.call(object) == functionClass, property;
                                    for (property in object) {
                                        // Store each property name to prevent double enumeration. The
                                        // `prototype` property of functions is not enumerated due to cross-
                                        // environment inconsistencies.
                                        if (!(isFunction && property == "prototype") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {
                                            callback(property);
                                        }
                                    }
                                };
                            } else {
                                // No bugs detected; use the standard `for...in` algorithm.
                                forEach = function(object, callback) {
                                    var isFunction = getClass.call(object) == functionClass, property, isConstructor;
                                    for (property in object) {
                                        if (!(isFunction && property == "prototype") && isProperty.call(object, property) && !(isConstructor = property === "constructor")) {
                                            callback(property);
                                        }
                                    }
                                    // Manually invoke the callback for the `constructor` property due to
                                    // cross-environment inconsistencies.
                                    if (isConstructor || isProperty.call(object, (property = "constructor"))) {
                                        callback(property);
                                    }
                                };
                            }
                            return forEach(object, callback);
                        };

                        // Public: Serializes a JavaScript `value` as a JSON string. The optional
                        // `filter` argument may specify either a function that alters how object and
                        // array members are serialized, or an array of strings and numbers that
                        // indicates which properties should be serialized. The optional `width`
                        // argument may be either a string or number that specifies the indentation
                        // level of the output.
                        if (!has("json-stringify")) {
                            // Internal: A map of control characters and their escaped equivalents.
                            var Escapes = {
                                92: "\\\\",
                                34: '\\"',
                                8: "\\b",
                                12: "\\f",
                                10: "\\n",
                                13: "\\r",
                                9: "\\t"
                            };

                            // Internal: Converts `value` into a zero-padded string such that its
                            // length is at least equal to `width`. The `width` must be <= 6.
                            var leadingZeroes = "000000";
                            var toPaddedString = function(width, value) {
                                // The `|| 0` expression is necessary to work around a bug in
                                // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== "0"`.
                                return (leadingZeroes + (value || 0)).slice(-width);
                            };

                            // Internal: Double-quotes a string `value`, replacing all ASCII control
                            // characters (characters with code unit values between 0 and 31) with
                            // their escaped equivalents. This is an implementation of the
                            // `Quote(value)` operation defined in ES 5.1 section 15.12.3.
                            var unicodePrefix = "\\u00";
                            var quote = function(value) {
                                var result = '"', index = 0, length = value.length, isLarge = length > 10 && charIndexBuggy, symbols;
                                if (isLarge) {
                                    symbols = value.split("");
                                }
                                for (; index < length; index++) {
                                    var charCode = value.charCodeAt(index);
                                    // If the character is a control character, append its Unicode or
                                    // shorthand escape sequence; otherwise, append the character as-is.
                                    switch (charCode) {
                                    case 8:
                                    case 9:
                                    case 10:
                                    case 12:
                                    case 13:
                                    case 34:
                                    case 92:
                                        result += Escapes[charCode];
                                        break;
                                    default:
                                        if (charCode < 32) {
                                            result += unicodePrefix + toPaddedString(2, charCode.toString(16));
                                            break;
                                        }
                                        result += isLarge ? symbols[index] : charIndexBuggy ? value.charAt(index) : value[index];
                                    }
                                }
                                return result + '"';
                            };

                            // Internal: Recursively serializes an object. Implements the
                            // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.
                            var serialize = function(property, object, callback, properties, whitespace, indentation, stack) {
                                var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;
                                try {
                                    // Necessary for host object support.
                                    value = object[property];
                                } catch (exception) {
                                }
                                if (typeof value == "object" && value) {
                                    className = getClass.call(value);
                                    if (className == dateClass && !isProperty.call(value, "toJSON")) {
                                        if (value > -1 / 0 && value < 1 / 0) {
                                            // Dates are serialized according to the `Date#toJSON` method
                                            // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15
                                            // for the ISO 8601 date time string format.
                                            if (getDay) {
                                                // Manually compute the year, month, date, hours, minutes,
                                                // seconds, and milliseconds if the `getUTC*` methods are
                                                // buggy. Adapted from @Yaffle's `date-shim` project.
                                                date = floor(value / 864e5);
                                                for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);
                                                for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);
                                                date = 1 + date - getDay(year, month);
                                                // The `time` value specifies the time within the day (see ES
                                                // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used
                                                // to compute `A modulo B`, as the `%` operator does not
                                                // correspond to the `modulo` operation for negative numbers.
                                                time = (value % 864e5 + 864e5) % 864e5;
                                                // The hours, minutes, seconds, and milliseconds are obtained by
                                                // decomposing the time within the day. See section 15.9.1.10.
                                                hours = floor(time / 36e5) % 24;
                                                minutes = floor(time / 6e4) % 60;
                                                seconds = floor(time / 1e3) % 60;
                                                milliseconds = time % 1e3;
                                            } else {
                                                year = value.getUTCFullYear();
                                                month = value.getUTCMonth();
                                                date = value.getUTCDate();
                                                hours = value.getUTCHours();
                                                minutes = value.getUTCMinutes();
                                                seconds = value.getUTCSeconds();
                                                milliseconds = value.getUTCMilliseconds();
                                            }
                                            // Serialize extended years correctly.
                                            value = (year <= 0 || year >= 1e4 ? (year < 0 ? "-" : "+") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +
                                                "-" + toPaddedString(2, month + 1) + "-" + toPaddedString(2, date) +
                                                // Months, dates, hours, minutes, and seconds should have two
                                                // digits; milliseconds should have three.
                                                "T" + toPaddedString(2, hours) + ":" + toPaddedString(2, minutes) + ":" + toPaddedString(2, seconds) +
                                                // Milliseconds are optional in ES 5.0, but required in 5.1.
                                                "." + toPaddedString(3, milliseconds) + "Z";
                                        } else {
                                            value = null;
                                        }
                                    } else if (typeof value.toJSON == "function" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, "toJSON"))) {
                                        // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the
                                        // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3
                                        // ignores all `toJSON` methods on these objects unless they are
                                        // defined directly on an instance.
                                        value = value.toJSON(property);
                                    }
                                }
                                if (callback) {
                                    // If a replacement function was provided, call it to obtain the value
                                    // for serialization.
                                    value = callback.call(object, property, value);
                                }
                                if (value === null) {
                                    return "null";
                                }
                                className = getClass.call(value);
                                if (className == booleanClass) {
                                    // Booleans are represented literally.
                                    return "" + value;
                                } else if (className == numberClass) {
                                    // JSON numbers must be finite. `Infinity` and `NaN` are serialized as
                                    // `"null"`.
                                    return value > -1 / 0 && value < 1 / 0 ? "" + value : "null";
                                } else if (className == stringClass) {
                                    // Strings are double-quoted and escaped.
                                    return quote("" + value);
                                }
                                // Recursively serialize objects and arrays.
                                if (typeof value == "object") {
                                    // Check for cyclic structures. This is a linear search; performance
                                    // is inversely proportional to the number of unique nested objects.
                                    for (length = stack.length; length--;) {
                                        if (stack[length] === value) {
                                            // Cyclic structures cannot be serialized by `JSON.stringify`.
                                            throw TypeError();
                                        }
                                    }
                                    // Add the object to the stack of traversed objects.
                                    stack.push(value);
                                    results = [];
                                    // Save the current indentation level and indent one additional level.
                                    prefix = indentation;
                                    indentation += whitespace;
                                    if (className == arrayClass) {
                                        // Recursively serialize array elements.
                                        for (index = 0, length = value.length; index < length; index++) {
                                            element = serialize(index, value, callback, properties, whitespace, indentation, stack);
                                            results.push(element === undef ? "null" : element);
                                        }
                                        result = results.length ? (whitespace ? "[\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "]" : ("[" + results.join(",") + "]")) : "[]";
                                    } else {
                                        // Recursively serialize object members. Members are selected from
                                        // either a user-specified list of property names, or the object
                                        // itself.
                                        forEach(properties || value, function(property) {
                                            var element = serialize(property, value, callback, properties, whitespace, indentation, stack);
                                            if (element !== undef) {
                                                // According to ES 5.1 section 15.12.3: "If `gap` {whitespace}
                                                // is not the empty string, let `member` {quote(property) + ":"}
                                                // be the concatenation of `member` and the `space` character."
                                                // The "`space` character" refers to the literal space
                                                // character, not the `space` {width} argument provided to
                                                // `JSON.stringify`.
                                                results.push(quote(property) + ":" + (whitespace ? " " : "") + element);
                                            }
                                        });
                                        result = results.length ? (whitespace ? "{\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "}" : ("{" + results.join(",") + "}")) : "{}";
                                    }
                                    // Remove the object from the traversed object stack.
                                    stack.pop();
                                    return result;
                                }
                            };

                            // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.
                            JSON3.stringify = function(source, filter, width) {
                                var whitespace, callback, properties, className;
                                if (typeof filter == "function" || typeof filter == "object" && filter) {
                                    if ((className = getClass.call(filter)) == functionClass) {
                                        callback = filter;
                                    } else if (className == arrayClass) {
                                        // Convert the property names array into a makeshift set.
                                        properties = {};
                                        for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));
                                    }
                                }
                                if (width) {
                                    if ((className = getClass.call(width)) == numberClass) {
                                        // Convert the `width` to an integer and create a string containing
                                        // `width` number of space characters.
                                        if ((width -= width % 1) > 0) {
                                            for (whitespace = "", width > 10 && (width = 10); whitespace.length < width; whitespace += " ");
                                        }
                                    } else if (className == stringClass) {
                                        whitespace = width.length <= 10 ? width : width.slice(0, 10);
                                    }
                                }
                                // Opera <= 7.54u2 discards the values associated with empty string keys
                                // (`""`) only if they are used directly within an object member list
                                // (e.g., `!("" in { "": 1})`).
                                return serialize("", (value = {}, value[""] = source, value), callback, properties, whitespace, "", []);
                            };
                        }

                        // Public: Parses a JSON source string.
                        if (!has("json-parse")) {
                            var fromCharCode = String.fromCharCode;

                            // Internal: A map of escaped control characters and their unescaped
                            // equivalents.
                            var Unescapes = {
                                92: "\\",
                                34: '"',
                                47: "/",
                                98: "\b",
                                116: "\t",
                                110: "\n",
                                102: "\f",
                                114: "\r"
                            };

                            // Internal: Stores the parser state.
                            var Index, Source;

                            // Internal: Resets the parser state and throws a `SyntaxError`.
                            var abort = function() {
                                Index = Source = null;
                                throw SyntaxError();
                            };

                            // Internal: Returns the next token, or `"$"` if the parser has reached
                            // the end of the source string. A token may be a string, number, `null`
                            // literal, or Boolean literal.
                            var lex = function() {
                                var source = Source, length = source.length, value, begin, position, isSigned, charCode;
                                while (Index < length) {
                                    charCode = source.charCodeAt(Index);
                                    switch (charCode) {
                                    case 9:
                                    case 10:
                                    case 13:
                                    case 32:
                                        // Skip whitespace tokens, including tabs, carriage returns, line
                                        // feeds, and space characters.
                                        Index++;
                                        break;
                                    case 123:
                                    case 125:
                                    case 91:
                                    case 93:
                                    case 58:
                                    case 44:
                                        // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at
                                        // the current position.
                                        value = charIndexBuggy ? source.charAt(Index) : source[Index];
                                        Index++;
                                        return value;
                                    case 34:
                                        // `"` delimits a JSON string; advance to the next character and
                                        // begin parsing the string. String tokens are prefixed with the
                                        // sentinel `@` character to distinguish them from punctuators and
                                        // end-of-string tokens.
                                        for (value = "@", Index++; Index < length;) {
                                            charCode = source.charCodeAt(Index);
                                            if (charCode < 32) {
                                                // Unescaped ASCII control characters (those with a code unit
                                                // less than the space character) are not permitted.
                                                abort();
                                            } else if (charCode == 92) {
                                                // A reverse solidus (`\`) marks the beginning of an escaped
                                                // control character (including `"`, `\`, and `/`) or Unicode
                                                // escape sequence.
                                                charCode = source.charCodeAt(++Index);
                                                switch (charCode) {
                                                case 92:
                                                case 34:
                                                case 47:
                                                case 98:
                                                case 116:
                                                case 110:
                                                case 102:
                                                case 114:
                                                    // Revive escaped control characters.
                                                    value += Unescapes[charCode];
                                                    Index++;
                                                    break;
                                                case 117:
                                                    // `\u` marks the beginning of a Unicode escape sequence.
                                                    // Advance to the first character and validate the
                                                    // four-digit code point.
                                                    begin = ++Index;
                                                    for (position = Index + 4; Index < position; Index++) {
                                                        charCode = source.charCodeAt(Index);
                                                        // A valid sequence comprises four hexdigits (case-
                                                        // insensitive) that form a single hexadecimal value.
                                                        if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {
                                                            // Invalid Unicode escape sequence.
                                                            abort();
                                                        }
                                                    }
                                                    // Revive the escaped character.
                                                    value += fromCharCode("0x" + source.slice(begin, Index));
                                                    break;
                                                default:
                                                    // Invalid escape sequence.
                                                    abort();
                                                }
                                            } else {
                                                if (charCode == 34) {
                                                    // An unescaped double-quote character marks the end of the
                                                    // string.
                                                    break;
                                                }
                                                charCode = source.charCodeAt(Index);
                                                begin = Index;
                                                // Optimize for the common case where a string is valid.
                                                while (charCode >= 32 && charCode != 92 && charCode != 34) {
                                                    charCode = source.charCodeAt(++Index);
                                                }
                                                // Append the string as-is.
                                                value += source.slice(begin, Index);
                                            }
                                        }
                                        if (source.charCodeAt(Index) == 34) {
                                            // Advance to the next character and return the revived string.
                                            Index++;
                                            return value;
                                        }
                                        // Unterminated string.
                                        abort();
                                    default:
                                        // Parse numbers and literals.
                                        begin = Index;
                                        // Advance past the negative sign, if one is specified.
                                        if (charCode == 45) {
                                            isSigned = true;
                                            charCode = source.charCodeAt(++Index);
                                        }
                                        // Parse an integer or floating-point value.
                                        if (charCode >= 48 && charCode <= 57) {
                                            // Leading zeroes are interpreted as octal literals.
                                            if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {
                                                // Illegal octal literal.
                                                abort();
                                            }
                                            isSigned = false;
                                            // Parse the integer component.
                                            for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);
                                            // Floats cannot contain a leading decimal point; however, this
                                            // case is already accounted for by the parser.
                                            if (source.charCodeAt(Index) == 46) {
                                                position = ++Index;
                                                // Parse the decimal component.
                                                for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);
                                                if (position == Index) {
                                                    // Illegal trailing decimal.
                                                    abort();
                                                }
                                                Index = position;
                                            }
                                            // Parse exponents. The `e` denoting the exponent is
                                            // case-insensitive.
                                            charCode = source.charCodeAt(Index);
                                            if (charCode == 101 || charCode == 69) {
                                                charCode = source.charCodeAt(++Index);
                                                // Skip past the sign following the exponent, if one is
                                                // specified.
                                                if (charCode == 43 || charCode == 45) {
                                                    Index++;
                                                }
                                                // Parse the exponential component.
                                                for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);
                                                if (position == Index) {
                                                    // Illegal empty exponent.
                                                    abort();
                                                }
                                                Index = position;
                                            }
                                            // Coerce the parsed value to a JavaScript number.
                                            return +source.slice(begin, Index);
                                        }
                                        // A negative sign may only precede numbers.
                                        if (isSigned) {
                                            abort();
                                        }
                                        // `true`, `false`, and `null` literals.
                                        if (source.slice(Index, Index + 4) == "true") {
                                            Index += 4;
                                            return true;
                                        } else if (source.slice(Index, Index + 5) == "false") {
                                            Index += 5;
                                            return false;
                                        } else if (source.slice(Index, Index + 4) == "null") {
                                            Index += 4;
                                            return null;
                                        }
                                        // Unrecognized token.
                                        abort();
                                    }
                                }
                                // Return the sentinel `$` character if the parser has reached the end
                                // of the source string.
                                return "$";
                            };

                            // Internal: Parses a JSON `value` token.
                            var get = function(value) {
                                var results, hasMembers;
                                if (value == "$") {
                                    // Unexpected end of input.
                                    abort();
                                }
                                if (typeof value == "string") {
                                    if ((charIndexBuggy ? value.charAt(0) : value[0]) == "@") {
                                        // Remove the sentinel `@` character.
                                        return value.slice(1);
                                    }
                                    // Parse object and array literals.
                                    if (value == "[") {
                                        // Parses a JSON array, returning a new JavaScript array.
                                        results = [];
                                        for (;; hasMembers || (hasMembers = true)) {
                                            value = lex();
                                            // A closing square bracket marks the end of the array literal.
                                            if (value == "]") {
                                                break;
                                            }
                                            // If the array literal contains elements, the current token
                                            // should be a comma separating the previous element from the
                                            // next.
                                            if (hasMembers) {
                                                if (value == ",") {
                                                    value = lex();
                                                    if (value == "]") {
                                                        // Unexpected trailing `,` in array literal.
                                                        abort();
                                                    }
                                                } else {
                                                    // A `,` must separate each array element.
                                                    abort();
                                                }
                                            }
                                            // Elisions and leading commas are not permitted.
                                            if (value == ",") {
                                                abort();
                                            }
                                            results.push(get(value));
                                        }
                                        return results;
                                    } else if (value == "{") {
                                        // Parses a JSON object, returning a new JavaScript object.
                                        results = {};
                                        for (;; hasMembers || (hasMembers = true)) {
                                            value = lex();
                                            // A closing curly brace marks the end of the object literal.
                                            if (value == "}") {
                                                break;
                                            }
                                            // If the object literal contains members, the current token
                                            // should be a comma separator.
                                            if (hasMembers) {
                                                if (value == ",") {
                                                    value = lex();
                                                    if (value == "}") {
                                                        // Unexpected trailing `,` in object literal.
                                                        abort();
                                                    }
                                                } else {
                                                    // A `,` must separate each object member.
                                                    abort();
                                                }
                                            }
                                            // Leading commas are not permitted, object property names must be
                                            // double-quoted strings, and a `:` must separate each property
                                            // name and value.
                                            if (value == "," || typeof value != "string" || (charIndexBuggy ? value.charAt(0) : value[0]) != "@" || lex() != ":") {
                                                abort();
                                            }
                                            results[value.slice(1)] = get(lex());
                                        }
                                        return results;
                                    }
                                    // Unexpected token encountered.
                                    abort();
                                }
                                return value;
                            };

                            // Internal: Updates a traversed object member.
                            var update = function(source, property, callback) {
                                var element = walk(source, property, callback);
                                if (element === undef) {
                                    delete source[property];
                                } else {
                                    source[property] = element;
                                }
                            };

                            // Internal: Recursively traverses a parsed JSON object, invoking the
                            // `callback` function for each value. This is an implementation of the
                            // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.
                            var walk = function(source, property, callback) {
                                var value = source[property], length;
                                if (typeof value == "object" && value) {
                                    // `forEach` can't be used to traverse an array in Opera <= 8.54
                                    // because its `Object#hasOwnProperty` implementation returns `false`
                                    // for array indices (e.g., `![1, 2, 3].hasOwnProperty("0")`).
                                    if (getClass.call(value) == arrayClass) {
                                        for (length = value.length; length--;) {
                                            update(value, length, callback);
                                        }
                                    } else {
                                        forEach(value, function(property) {
                                            update(value, property, callback);
                                        });
                                    }
                                }
                                return callback.call(source, property, value);
                            };

                            // Public: `JSON.parse`. See ES 5.1 section 15.12.2.
                            JSON3.parse = function(source, callback) {
                                var result, value;
                                Index = 0;
                                Source = "" + source;
                                result = get(lex());
                                // If a JSON string contains multiple tokens, it is invalid.
                                if (lex() != "$") {
                                    abort();
                                }
                                // Reset the parser state.
                                Index = Source = null;
                                return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[""] = result, value), "", callback) : result;
                            };
                        }
                    }

                    // Export for asynchronous module loaders.
                    if (isLoader) {
                        define(function() {
                            return JSON3;
                        });
                    }
                }(this));

            }, {}
        ],
        48: [
            function(_dereq_, module, exports) {
                module.exports = toArray;

                function toArray(list, index) {
                    var array = [];
                    index = index || 0;
                    for (var i = index || 0; i < list.length; i++) {
                        array[i - index] = list[i];
                    }

                    return array;
                }

            }, {}
        ]
    }, {}, [1])
    (1);
});
/*! jQuery v2.1.3 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=hb(),z=hb(),A=hb(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},eb=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fb){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function gb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+rb(o[l]);w=ab.test(a)&&pb(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function hb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ib(a){return a[u]=!0,a}function jb(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function kb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function lb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function nb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function ob(a){return ib(function(b){return b=+b,ib(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pb(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=gb.support={},f=gb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=gb.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",eb,!1):e.attachEvent&&e.attachEvent("onunload",eb)),p=!f(g),c.attributes=jb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=jb(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=jb(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(jb(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),jb(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&jb(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return lb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?lb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},gb.matches=function(a,b){return gb(a,null,null,b)},gb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return gb(b,n,null,[a]).length>0},gb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},gb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},gb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},gb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=gb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=gb.selectors={cacheLength:50,createPseudo:ib,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||gb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&gb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=gb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||gb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ib(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ib(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ib(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ib(function(a){return function(b){return gb(a,b).length>0}}),contains:ib(function(a){return a=a.replace(cb,db),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ib(function(a){return W.test(a||"")||gb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:ob(function(){return[0]}),last:ob(function(a,b){return[b-1]}),eq:ob(function(a,b,c){return[0>c?c+b:c]}),even:ob(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:ob(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:ob(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:ob(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=mb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=nb(b);function qb(){}qb.prototype=d.filters=d.pseudos,d.setFilters=new qb,g=gb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?gb.error(a):z(a,i).slice(0)};function rb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function tb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ub(a,b,c){for(var d=0,e=b.length;e>d;d++)gb(a,b[d],c);return c}function vb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wb(a,b,c,d,e,f){return d&&!d[u]&&(d=wb(d)),e&&!e[u]&&(e=wb(e,f)),ib(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ub(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:vb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=vb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=vb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sb(function(a){return a===b},h,!0),l=sb(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sb(tb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wb(i>1&&tb(m),i>1&&rb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xb(a.slice(i,e)),f>e&&xb(a=a.slice(e)),f>e&&rb(a))}m.push(c)}return tb(m)}function yb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=vb(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&gb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ib(f):f}return h=gb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,yb(e,d)),f.selector=a}return f},i=gb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&pb(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&rb(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&pb(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=jb(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),jb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||kb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&jb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||kb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),jb(function(a){return null==a.getAttribute("disabled")})||kb(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),gb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)
},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))
},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec=/#.*$/,fc=/([?&])_=[^&]*/,gc=/^(.*?):[ \t]*([^\r\n]*)$/gm,hc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ic=/^(?:GET|HEAD)$/,jc=/^\/\//,kc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lc={},mc={},nc="*/".concat("*"),oc=a.location.href,pc=kc.exec(oc.toLowerCase())||[];function qc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rc(a,b,c,d){var e={},f=a===mc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function uc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oc,type:"GET",isLocal:hc.test(pc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sc(sc(a,n.ajaxSettings),b):sc(n.ajaxSettings,a)},ajaxPrefilter:qc(lc),ajaxTransport:qc(mc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gc.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||oc)+"").replace(ec,"").replace(jc,pc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pc[1]&&h[2]===pc[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pc[3]||("http:"===pc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rc(lc,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ic.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fc.test(d)?d.replace(fc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rc(mc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tc(k,v,f)),u=uc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vc=/%20/g,wc=/\[\]$/,xc=/\r?\n/g,yc=/^(?:submit|button|image|reset|file)$/i,zc=/^(?:input|select|textarea|keygen)/i;function Ac(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wc.test(a)?d(a,e):Ac(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ac(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ac(c,a[c],b,e);return d.join("&").replace(vc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zc.test(this.nodeName)&&!yc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xc,"\r\n")}}):{name:b.name,value:c.replace(xc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bc=0,Cc={},Dc={0:200,1223:204},Ec=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cc)Cc[a]()}),k.cors=!!Ec&&"withCredentials"in Ec,k.ajax=Ec=!!Ec,n.ajaxTransport(function(a){var b;return k.cors||Ec&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Dc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fc=[],Gc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hc)return Hc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ic=a.document.documentElement;function Jc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ic;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ic})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kc=a.jQuery,Lc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lc),b&&a.jQuery===n&&(a.jQuery=Kc),n},typeof b===U&&(a.jQuery=a.$=n),n});
//# sourceMappingURL=jquery.min.map;
/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);
i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);
return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;
if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};
f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));
return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;
this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});
/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(Q,W,t){'use strict';function R(b){return function(){var a=arguments[0],c;c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.3.15/"+(b?b+"/":"")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var d=encodeURIComponent,e;e=arguments[a];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Sa(b){if(null==b||Ta(b))return!1;var a=b.length;return b.nodeType===
qa&&a?!0:C(b)||H(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d,e;if(b)if(G(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(H(b)||Sa(b)){var f="object"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Ed(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,
b[d[e]],d[e]);return d}function mc(b){return function(a,c){b(c,a)}}function Fd(){return++ob}function nc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function w(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}nc(b,a);return b}function aa(b){return parseInt(b,10)}function Ob(b,a){return w(Object.create(b),a)}function E(){}function ra(b){return b}function ea(b){return function(){return b}}function x(b){return"undefined"===
typeof b}function y(b){return"undefined"!==typeof b}function J(b){return null!==b&&"object"===typeof b}function C(b){return"string"===typeof b}function Y(b){return"number"===typeof b}function ga(b){return"[object Date]"===Ca.call(b)}function G(b){return"function"===typeof b}function Ua(b){return"[object RegExp]"===Ca.call(b)}function Ta(b){return b&&b.window===b}function Va(b){return b&&b.$evalAsync&&b.$watch}function Wa(b){return"boolean"===typeof b}function oc(b){return!(!b||!(b.nodeName||b.prop&&
b.attr&&b.find))}function Gd(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function va(b){return z(b.nodeName||b[0]&&b[0].nodeName)}function Xa(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return a}function Da(b,a,c,d){if(Ta(b)||Va(b))throw Ja("cpws");if(a){if(b===a)throw Ja("cpi");c=c||[];d=d||[];if(J(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(H(b))for(var f=a.length=0;f<b.length;f++)e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);
else{var g=a.$$hashKey;H(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);nc(a,g)}}else if(a=b)H(b)?a=Da(b,[],c,d):ga(b)?a=new Date(b.getTime()):Ua(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):J(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Da(b,e,c,d));return a}function sa(b,a){if(H(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(J(b))for(c in a=a||{},
b)if("$"!==c.charAt(0)||"$"!==c.charAt(1))a[c]=b[c];return a||b}function ha(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(H(b)){if(!H(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ha(b[d],a[d]))return!1;return!0}}else{if(ga(b))return ga(a)?ha(b.getTime(),a.getTime()):!1;if(Ua(b))return Ua(a)?b.toString()==a.toString():!1;if(Va(b)||Va(a)||Ta(b)||Ta(a)||H(a)||ga(a)||Ua(a))return!1;c={};for(d in b)if("$"!==
d.charAt(0)&&!G(b[d])){if(!ha(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==t&&!G(a[d]))return!1;return!0}return!1}function Ya(b,a,c){return b.concat(Za.call(a,c))}function pc(b,a){var c=2<arguments.length?Za.call(arguments,2):[];return!G(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Ya(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Hd(b,a){var c=a;"string"===typeof b&&
"$"===b.charAt(0)&&"$"===b.charAt(1)?c=t:Ta(a)?c="$WINDOW":a&&W===a?c="$DOCUMENT":Va(a)&&(c="$SCOPE");return c}function $a(b,a){if("undefined"===typeof b)return t;Y(a)||(a=a?2:null);return JSON.stringify(b,Hd,a)}function qc(b){return C(b)?JSON.parse(b):b}function wa(b){b=A(b).clone();try{b.empty()}catch(a){}var c=A("<div>").append(b).html();try{return b[0].nodeType===pb?z(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+z(b)})}catch(d){return z(c)}}function rc(b){try{return decodeURIComponent(b)}catch(a){}}
function sc(b){var a={},c,d;r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=rc(c[0]),y(d)&&(b=y(c[1])?rc(c[1]):!0,tc.call(a,d)?H(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Pb(b){var a=[];r(b,function(b,d){H(b)?r(b,function(b){a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))}):a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))});return a.length?a.join("&"):""}function qb(b){return Ea(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ea(b,a){return encodeURIComponent(b).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Id(b,a){var c,d,e=rb.length;b=A(b);for(d=0;d<e;++d)if(c=rb[d]+a,C(c=b.attr(c)))return c;return null}function Jd(b,a){var c,d,e={};r(rb,function(a){a+="app";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});r(rb,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==Id(c,"strict-di"),
a(c,d?[d]:[],e))}function uc(b,a,c){J(c)||(c={});c=w({strictDi:!1},c);var d=function(){b=A(b);if(b.injector()){var d=b[0]===W?"document":wa(b);throw Ja("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);a.unshift("ng");d=ab(a,c.strictDi);d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;Q&&e.test(Q.name)&&(c.debugInfoEnabled=!0,Q.name=Q.name.replace(e,""));if(Q&&!f.test(Q.name))return d();Q.name=Q.name.replace(f,"");ca.resumeBootstrap=function(b){r(b,function(b){a.push(b)});return d()};G(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function Kd(){Q.name="NG_ENABLE_DEBUG_INFO!"+Q.name;Q.location.reload()}function Ld(b){b=ca.element(b).injector();if(!b)throw Ja("test");return b.get("$$testability")}
function vc(b,a){a=a||"_";return b.replace(Md,function(b,d){return(d?a:"")+b.toLowerCase()})}function Nd(){var b;wc||((ta=Q.jQuery)&&ta.fn.on?(A=ta,w(ta.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=ta.cleanData,ta.cleanData=function(a){var c;if(Qb)Qb=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=ta._data(e,"events"))&&c.$destroy&&ta(e).triggerHandler("$destroy");b(a)}):A=T,ca.element=A,wc=!0)}function Rb(b,a,c){if(!b)throw Ja("areq",
a||"?",c||"required");return b}function sb(b,a,c){c&&H(b)&&(b=b[b.length-1]);Rb(G(b),a,"not a function, got "+(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function La(b,a){if("hasOwnProperty"===b)throw Ja("badname",a);}function xc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&G(b)?pc(e,b):b}function tb(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return A(c)}function ia(){return Object.create(null)}
function Od(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=R("$injector"),d=R("ng");b=a(b,"angular",Object);b.$$minErr=b.$$minErr||R;return a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");g&&b.hasOwnProperty(f)&&(b[f]=null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||"push"]([c,d,arguments]);return u}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],q=a("$injector","invoke","push",d),u={_invokeQueue:b,_configBlocks:d,
_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){e.push(a);return this}};h&&q(h);return u})}})}function Pd(b){w(b,{bootstrap:uc,copy:Da,extend:w,equals:ha,
element:A,forEach:r,injector:ab,noop:E,bind:pc,toJson:$a,fromJson:qc,identity:ra,isUndefined:x,isDefined:y,isString:C,isFunction:G,isObject:J,isNumber:Y,isElement:oc,isArray:H,version:Qd,isDate:ga,lowercase:z,uppercase:ub,callbacks:{counter:0},getTestability:Ld,$$minErr:R,$$csp:bb,reloadWithDebugInfo:Kd});cb=Od(Q);try{cb("ngLocale")}catch(a){cb("ngLocale",[]).provider("$locale",Rd)}cb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Sd});a.provider("$compile",yc).directive({a:Td,
input:zc,textarea:zc,form:Ud,script:Vd,select:Wd,style:Xd,option:Yd,ngBind:Zd,ngBindHtml:$d,ngBindTemplate:ae,ngClass:be,ngClassEven:ce,ngClassOdd:de,ngCloak:ee,ngController:fe,ngForm:ge,ngHide:he,ngIf:ie,ngInclude:je,ngInit:ke,ngNonBindable:le,ngPluralize:me,ngRepeat:ne,ngShow:oe,ngStyle:pe,ngSwitch:qe,ngSwitchWhen:re,ngSwitchDefault:se,ngOptions:te,ngTransclude:ue,ngModel:ve,ngList:we,ngChange:xe,pattern:Ac,ngPattern:Ac,required:Bc,ngRequired:Bc,minlength:Cc,ngMinlength:Cc,maxlength:Dc,ngMaxlength:Dc,
ngValue:ye,ngModelOptions:ze}).directive({ngInclude:Ae}).directive(vb).directive(Ec);a.provider({$anchorScroll:Be,$animate:Ce,$browser:De,$cacheFactory:Ee,$controller:Fe,$document:Ge,$exceptionHandler:He,$filter:Fc,$interpolate:Ie,$interval:Je,$http:Ke,$httpBackend:Le,$location:Me,$log:Ne,$parse:Oe,$rootScope:Pe,$q:Qe,$$q:Re,$sce:Se,$sceDelegate:Te,$sniffer:Ue,$templateCache:Ve,$templateRequest:We,$$testability:Xe,$timeout:Ye,$window:Ze,$$rAF:$e,$$asyncCallback:af,$$jqLite:bf})}])}function db(b){return b.replace(cf,
function(a,b,d,e){return e?d.toUpperCase():d}).replace(df,"Moz$1")}function Gc(b){b=b.nodeType;return b===qa||!b||9===b}function Hc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Sb.test(b)){c=c||e.appendChild(a.createElement("div"));d=(ef.exec(b)||["",""])[1].toLowerCase();d=ja[d]||ja._default;c.innerHTML=d[1]+b.replace(ff,"<$1></$2>")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Ya(f,c.childNodes);c=e.firstChild;c.textContent=""}else f.push(a.createTextNode(b));e.textContent="";e.innerHTML="";r(f,function(a){e.appendChild(a)});
return e}function T(b){if(b instanceof T)return b;var a;C(b)&&(b=N(b),a=!0);if(!(this instanceof T)){if(a&&"<"!=b.charAt(0))throw Tb("nosel");return new T(b)}if(a){a=W;var c;b=(c=gf.exec(b))?[a.createElement(c[1])]:(c=Hc(b,a))?c.childNodes:[]}Ic(this,b)}function Ub(b){return b.cloneNode(!0)}function wb(b,a){a||xb(b);if(b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)xb(c[d])}function Jc(b,a,c,d){if(y(d))throw Tb("offargs");var e=(d=yb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(" "),
function(a){if(y(c)){var d=e[a];Xa(d||[],c);if(d&&0<d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function xb(b,a){var c=b.ng339,d=c&&zb[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Jc(b)),delete zb[c],b.ng339=t))}function yb(b,a){var c=b.ng339,c=c&&zb[c];a&&!c&&(b.ng339=c=++hf,c=zb[c]={events:{},data:{},handle:t});return c}function Vb(b,a,c){if(Gc(b)){var d=y(c),e=!d&&a&&!J(a),
f=!a;b=(b=yb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];w(b,a)}}}function Ab(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function Bb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",N((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+N(a)+" "," ")))})}function Cb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");
r(a.split(" "),function(a){a=N(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});b.setAttribute("class",N(c))}}function Ic(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"===typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Kc(b,a){return Db(b,"$"+(a||"ngController")+"Controller")}function Db(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=H(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=A.data(b,a[d]))!==t)return c;b=b.parentNode||
11===b.nodeType&&b.host}}function Lc(b){for(wb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Mc(b,a){a||wb(b);var c=b.parentNode;c&&c.removeChild(b)}function jf(b,a){a=a||Q;if("complete"===a.document.readyState)a.setTimeout(b);else A(a).on("load",b)}function Nc(b,a){var c=Eb[a.toLowerCase()];return c&&Oc[va(b)]&&c}function kf(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Pc[a]}function lf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=
a[e||c.type],g=f?f.length:0;if(g){if(x(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<g&&(f=sa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};c.elem=b;return c}function bf(){this.$get=function(){return w(T,{hasClass:function(b,a){b.attr&&(b=b[0]);
return Ab(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return Cb(b,a)},removeClass:function(b,a){b.attr&&(b=b[0]);return Bb(b,a)}})}}function Ma(b,a){var c=b&&b.$$hashKey;if(c)return"function"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Fd)():c+":"+b}function eb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function mf(b){return(b=b.toString().replace(Qc,"").match(Rc))?"function("+(b[1]||"").replace(/[\s\r\n]+/,
" ")+")":"fn"}function ab(b,a){function c(a){return function(b,c){if(J(b))r(b,mc(a));else return a(b,c)}}function d(a,b){La(a,"service");if(G(b)||H(b))b=q.instantiate(b);if(!b.$get)throw Fa("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=s.invoke(b,this);if(x(c))throw Fa("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,
e[2])}}if(!n.get(a)){n.put(a,!0);try{C(a)?(c=cb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):G(a)?b.push(q.invoke(a)):H(a)?b.push(q.invoke(a)):sb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Fa("modulerr",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Fa("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),
b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f;}finally{k.shift()}}function e(b,c,f,g){"string"===typeof f&&(g=f,f=null);var k=[],h=ab.$$annotate(b,a,g),l,q,p;q=0;for(l=h.length;q<l;q++){p=h[q];if("string"!==typeof p)throw Fa("itkn",p);k.push(f&&f.hasOwnProperty(p)?f[p]:d(p,g))}H(b)&&(b=b[l]);return b.apply(c,k)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((H(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return J(a)||G(a)?a:d},get:d,annotate:ab.$$annotate,has:function(a){return p.hasOwnProperty(a+
"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new eb([],!0),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ea(b),!1)}),constant:c(function(a,b){La(a,"constant");p[a]=b;u[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){ca.isString(b)&&k.push(b);
throw Fa("unpr",k.join(" <- "));}),u={},s=u.$injector=h(u,function(a,b){var c=q.get(a+"Provider",b);return s.invoke(c.$get,c,t,a)});r(g(b),function(a){s.invoke(a||E)});return s}function Be(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===va(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;G(c)?c=c():oc(c)?(c=c[0],c="fixed"!==
a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||jf(function(){d.$evalAsync(g)})});return g}]}function af(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:
function(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,Za.call(arguments,1))}finally{if(m--,0===m)for(;F.length;)try{F.pop()()}catch(b){c.error(b)}}}function f(a,b){(function da(){r(Z,function(a){a()});L=b(da,a)})()}function g(){h();l()}function h(){a:{try{B=u.state;break a}catch(a){}B=void 0}B=x(B)?null:B;ha(B,O)&&(B=O);O=B}function l(){if(D!==n.url()||I!==B)D=n.url(),I=B,r(X,function(a){a(n.url(),B)})}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}
var n=this,p=a[0],q=b.location,u=b.history,s=b.setTimeout,M=b.clearTimeout,v={};n.isMock=!1;var m=0,F=[];n.$$completeOutstandingRequest=e;n.$$incOutstandingRequestCount=function(){m++};n.notifyWhenNoOutstandingRequests=function(a){r(Z,function(a){a()});0===m?a():F.push(a)};var Z=[],L;n.addPollFn=function(a){x(L)&&f(100,s);Z.push(a);return a};var B,I,D=q.href,S=a.find("base"),P=null;h();I=B;n.url=function(a,c,e){x(e)&&(e=null);q!==b.location&&(q=b.location);u!==b.history&&(u=b.history);if(a){var f=
I===e;if(D===a&&(!d.history||f))return n;var g=D&&Ga(D)===Ga(a);D=a;I=e;!d.history||g&&f?(g||(P=a),c?q.replace(a):g?(c=q,e=a.indexOf("#"),a=-1===e?"":a.substr(e+1),c.hash=a):q.href=a):(u[c?"replaceState":"pushState"](e,"",a),h(),I=B);return n}return P||q.href.replace(/%27/g,"'")};n.state=function(){return B};var X=[],ba=!1,O=null;n.onUrlChange=function(a){if(!ba){if(d.history)A(b).on("popstate",g);A(b).on("hashchange",g);ba=!0}X.push(a);return a};n.$$checkUrlChange=l;n.baseHref=function(){var a=S.attr("href");
return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var fa={},y="",ka=n.baseHref();n.cookies=function(a,b){var d,e,f,g;if(a)b===t?p.cookie=encodeURIComponent(a)+"=;path="+ka+";expires=Thu, 01 Jan 1970 00:00:00 GMT":C(b)&&(d=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+ka).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(p.cookie!==y)for(y=p.cookie,d=y.split("; "),fa={},f=0;f<d.length;f++)e=d[f],g=
e.indexOf("="),0<g&&(a=k(e.substring(0,g)),fa[a]===t&&(fa[a]=k(e.substring(g+1))));return fa}};n.defer=function(a,b){var c;m++;c=s(function(){delete v[c];e(a)},b||0);v[c]=!0;return c};n.defer.cancel=function(a){return v[a]?(delete v[a],M(a),e(E),!0):!1}}function De(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ee(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!=
b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw R("$cacheFactory")("iid",b);var g=0,h=w({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},p=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}if(!x(b))return a in l||g++,l[a]=b,g>k&&this.remove(q.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==p&&(p=b.p);b==q&&(q=b.n);f(b.n,b.p);delete n[a]}delete l[a];
g--},removeAll:function(){l={};g=0;n={};p=q=null},destroy:function(){n=h=l=null;delete a[b]},info:function(){return w({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ve(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function yc(b,a){function c(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};r(a,function(a,e){var f=a.match(c);if(!f)throw la("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===
f[2],optional:"?"===f[3],attrName:f[4]||e}});return d}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Gd("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){La(a,"directive");C(a)?(Rb(e,"directiveFactory"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];r(d[a],function(d,g){try{var h=b.invoke(d);G(h)?h={compile:ea(h)}:!h.compile&&h.link&&
(h.compile=ea(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||a;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";J(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name));f.push(h)}catch(k){e(k)}});return f}])),d[a].push(e)):r(a,mc(p));return this};this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};
var k=!0;this.debugInfoEnabled=function(a){return y(a)?(k=a,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,s,M,v,m,F,Z,L,B){function I(a,b){try{a.addClass(b)}catch(c){}}function D(a,b,c,d,e){a instanceof A||(a=A(a));r(a,function(b,c){b.nodeType==pb&&b.nodeValue.match(/\S+/)&&(a[c]=A(b).wrap("<span></span>").parent()[0])});var f=S(a,b,a,c,d,e);D.$$addScopeClass(a);
var g=null;return function(b,c,d){Rb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==va(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==g?A(Xb(g,A("<div>").append(a).html())):c?Ka.clone.call(a):a;if(h)for(var k in h)d.data("$"+k+"Controller",h[k].instance);D.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function S(a,b,c,d,e,f){function g(a,
c,d,e){var f,k,l,q,p,s,M;if(m)for(M=Array(c.length),q=0;q<h.length;q+=3)f=h[q],M[f]=c[f];else M=c;q=0;for(p=h.length;q<p;)k=M[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(l=a.$new(),D.$$addScopeInfo(A(k),l)):l=a,s=c.transcludeOnThisElement?P(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?P(a,b):null,c(f,l,k,d,s)):f&&f(a,k.childNodes,t,e)}for(var h=[],k,l,q,p,m,s=0;s<a.length;s++){k=new Yb;l=X(a[s],[],k,0===s?d:t,e);(f=l.length?fa(l,a[s],k,b,c,null,[],[],f):null)&&
f.scope&&D.$$addScopeClass(k.$$element);k=f&&f.terminal||!(q=a[s].childNodes)||!q.length?null:S(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(s,f,k),p=!0,m=m||f;f=null}return p?g:null}function P(a,b,c,d){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function X(a,b,c,d,g){var h=c.$attr,k;switch(a.nodeType){case qa:ka(b,xa(va(a)),"E",d,g);for(var l,
q,p,m=a.attributes,s=0,M=m&&m.length;s<M;s++){var u=!1,L=!1;l=m[s];k=l.name;q=N(l.value);l=xa(k);if(p=U.test(l))k=k.replace(Sc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var B=l.replace(/(Start|End)$/,"");x(B)&&l===B+"Start"&&(u=k,L=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=xa(k.toLowerCase());h[l]=k;if(p||!c.hasOwnProperty(l))c[l]=q,Nc(a,l)&&(c[l]=!0);Oa(a,b,q,l,p);ka(b,l,"A",d,g,u,L)}a=a.className;J(a)&&(a=a.animVal);if(C(a)&&""!==a)for(;k=f.exec(a);)l=xa(k[2]),
ka(b,l,"C",d,g)&&(c[l]=N(k[3])),a=a.substr(k.index+k[0].length);break;case pb:za(b,a.nodeValue);break;case 8:try{if(k=e.exec(a.nodeValue))l=xa(k[1]),ka(b,l,"M",d,g)&&(c[l]=N(k[2]))}catch(v){}}b.sort(da);return b}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw la("uterdir",b,c);a.nodeType==qa&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return A(d)}function O(a,b,c){return function(d,e,f,g,h){e=ba(e[0],
b,c);return a(d,e,f,g,h)}}function fa(a,d,e,f,g,k,l,p,m){function s(a,b,c,d){if(a){c&&(a=O(a,c,d));a.require=K.require;a.directiveName=da;if(P===K||K.$$isolateScope)a=Y(a,{isolateScope:!0});l.push(a)}if(b){c&&(b=O(b,c,d));b.require=K.require;b.directiveName=da;if(P===K||K.$$isolateScope)b=Y(b,{isolateScope:!0});p.push(b)}}function L(a,b,c,d){var e,f="data",g=!1,k=c,l;if(C(b)){l=b.match(h);b=b.substring(l[0].length);l[3]&&(l[1]?l[3]=null:l[1]=l[3]);"^"===l[1]?f="inheritedData":"^^"===l[1]&&(f="inheritedData",
k=c.parent());"?"===l[2]&&(g=!0);e=null;d&&"data"===f&&(e=d[b])&&(e=e.instance);e=e||k[f]("$"+b+"Controller");if(!e&&!g)throw la("ctreq",b,a);return e||null}H(b)&&(e=[],r(b,function(b){e.push(L(a,b,c,d))}));return e}function B(a,c,f,g,h){function k(a,b,c){var d;Va(a)||(c=b,b=a,a=t);E&&(d=F);c||(c=E?X.parent():X);return h(a,b,d,c,Wb)}var m,s,u,I,F,gb,X,O;d===f?(O=e,X=e.$$element):(X=A(f),O=new Yb(X,e));P&&(I=c.$new(!0));h&&(gb=k,gb.$$boundTransclude=h);S&&(Z={},F={},r(S,function(a){var b={$scope:a===
P||a.$$isolateScope?I:c,$element:X,$attrs:O,$transclude:gb};u=a.controller;"@"==u&&(u=O[a.name]);b=v(u,b,!0,a.controllerAs);F[a.name]=b;E||X.data("$"+a.name+"Controller",b.instance);Z[a.name]=b}));if(P){D.$$addScopeInfo(X,I,!0,!(ma&&(ma===P||ma===P.$$originalDirective)));D.$$addScopeClass(X,!0);g=Z&&Z[P.name];var ba=I;g&&g.identifier&&!0===P.bindToController&&(ba=g.instance);r(I.$$isolateBindings=P.$$isolateBindings,function(a,d){var e=a.attrName,f=a.optional,g,h,k,l;switch(a.mode){case "@":O.$observe(e,
function(a){ba[d]=a});O.$$observers[e].$$scope=c;O[e]&&(ba[d]=b(O[e])(c));break;case "=":if(f&&!O[e])break;h=M(O[e]);l=h.literal?ha:function(a,b){return a===b||a!==a&&b!==b};k=h.assign||function(){g=ba[d]=h(c);throw la("nonassign",O[e],P.name);};g=ba[d]=h(c);f=function(a){l(a,ba[d])||(l(a,g)?k(c,a=ba[d]):ba[d]=a);return g=a};f.$stateful=!0;f=a.collection?c.$watchCollection(O[e],f):c.$watch(M(O[e],f),null,h.literal);I.$on("$destroy",f);break;case "&":h=M(O[e]),ba[d]=function(a){return h(c,a)}}})}Z&&
(r(Z,function(a){a()}),Z=null);g=0;for(m=l.length;g<m;g++)s=l[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb);var Wb=c;P&&(P.template||null===P.templateUrl)&&(Wb=I);a&&a(Wb,f.childNodes,t,h);for(g=p.length-1;0<=g;g--)s=p[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb)}m=m||{};for(var I=-Number.MAX_VALUE,F,S=m.controllerDirectives,Z,P=m.newIsolateScopeDirective,ma=m.templateDirective,fa=m.nonTlbTranscludeDirective,ka=!1,x=!1,E=m.hasElementTranscludeDirective,
w=e.$$element=A(d),K,da,V,fb=f,za,z=0,Q=a.length;z<Q;z++){K=a[z];var Oa=K.$$start,U=K.$$end;Oa&&(w=ba(d,Oa,U));V=t;if(I>K.priority)break;if(V=K.scope)K.templateUrl||(J(V)?(Na("new/isolated scope",P||F,K,w),P=K):Na("new/isolated scope",P,K,w)),F=F||K;da=K.name;!K.templateUrl&&K.controller&&(V=K.controller,S=S||{},Na("'"+da+"' controller",S[da],K,w),S[da]=K);if(V=K.transclude)ka=!0,K.$$tlb||(Na("transclusion",fa,K,w),fa=K),"element"==V?(E=!0,I=K.priority,V=w,w=e.$$element=A(W.createComment(" "+da+": "+
e[da]+" ")),d=w[0],T(g,Za.call(V,0),d),fb=D(V,f,I,k&&k.name,{nonTlbTranscludeDirective:fa})):(V=A(Ub(d)).contents(),w.empty(),fb=D(V,f));if(K.template)if(x=!0,Na("template",ma,K,w),ma=K,V=G(K.template)?K.template(w,e):K.template,V=Tc(V),K.replace){k=K;V=Sb.test(V)?Uc(Xb(K.templateNamespace,N(V))):[];d=V[0];if(1!=V.length||d.nodeType!==qa)throw la("tplrt",da,"");T(g,w,d);Q={$attr:{}};V=X(d,[],Q);var aa=a.splice(z+1,a.length-(z+1));P&&y(V);a=a.concat(V).concat(aa);R(e,Q);Q=a.length}else w.html(V);if(K.templateUrl)x=
!0,Na("template",ma,K,w),ma=K,K.replace&&(k=K),B=of(a.splice(z,a.length-z),w,e,g,ka&&fb,l,p,{controllerDirectives:S,newIsolateScopeDirective:P,templateDirective:ma,nonTlbTranscludeDirective:fa}),Q=a.length;else if(K.compile)try{za=K.compile(w,e,fb),G(za)?s(null,za,Oa,U):za&&s(za.pre,za.post,Oa,U)}catch(pf){c(pf,wa(w))}K.terminal&&(B.terminal=!0,I=Math.max(I,K.priority))}B.scope=F&&!0===F.scope;B.transcludeOnThisElement=ka;B.elementTranscludeOnThisElement=E;B.templateOnThisElement=x;B.transclude=fb;
m.hasElementTranscludeDirective=E;return B}function y(a){for(var b=0,c=a.length;b<c;b++)a[b]=Ob(a[b],{$$isolateScope:!0})}function ka(b,e,f,g,h,k,l){if(e===h)return null;h=null;if(d.hasOwnProperty(e)){var q;e=a.get(e+"Directive");for(var m=0,s=e.length;m<s;m++)try{q=e[m],(g===t||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(k&&(q=Ob(q,{$$start:k,$$end:l})),b.push(q),h=q)}catch(M){c(M)}}return h}function x(b){if(d.hasOwnProperty(b))for(var c=a.get(b+"Directive"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;
return!1}function R(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){"class"==f?(I(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function of(a,b,c,d,e,f,g,h){var k=[],l,q,p=b[0],m=a.shift(),M=Ob(m,{templateUrl:null,transclude:null,
replace:null,$$originalDirective:m}),u=G(m.templateUrl)?m.templateUrl(b,c):m.templateUrl,L=m.templateNamespace;b.empty();s(Z.getTrustedResourceUrl(u)).then(function(s){var B,v;s=Tc(s);if(m.replace){s=Sb.test(s)?Uc(Xb(L,N(s))):[];B=s[0];if(1!=s.length||B.nodeType!==qa)throw la("tplrt",m.name,u);s={$attr:{}};T(d,b,B);var D=X(B,[],s);J(m.scope)&&y(D);a=D.concat(a);R(c,s)}else B=p,b.html(s);a.unshift(M);l=fa(a,B,c,e,b,m,f,g,h);r(d,function(a,c){a==B&&(d[c]=b[0])});for(q=S(b[0].childNodes,e);k.length;){s=
k.shift();v=k.shift();var F=k.shift(),O=k.shift(),D=b[0];if(!s.$$destroyed){if(v!==p){var Z=v.className;h.hasElementTranscludeDirective&&m.replace||(D=Ub(B));T(F,A(v),D);I(A(D),Z)}v=l.transcludeOnThisElement?P(s,l.transclude,O):O;l(q,s,D,d,v)}}k=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=P(b,l.transclude,e)),l(q,b,c,d,a)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Na(a,
b,c,d){if(b)throw la("multidir",b.name,c.name,a,wa(d));}function za(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&D.$$addBindingClass(a);return function(a,c){var e=c.parent();b||D.$$addBindingClass(e);D.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Xb(a,b){a=z(a||"html");switch(a){case "svg":case "math":var c=W.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}
function Q(a,b){if("srcdoc"==b)return Z.HTML;var c=va(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return Z.RESOURCE_URL}function Oa(a,c,d,e,f){var h=Q(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if("multiple"===e&&"select"===va(a))throw la("selmulti",wa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers={});if(l.test(e))throw la("nodomevents");var m=g[e];m!==d&&(k=m&&b(m,!0,h,f),d=m);k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=
!0,(g.$$observers&&g.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function T(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=W.createDocumentFragment();a.appendChild(d);A(c).data(A(d).data());ta?(Qb=!0,ta.cleanData([d])):delete A.cache[d[A.expando]];
d=1;for(e=b.length;d<e;d++)f=b[d],A(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function Y(a,b){return w(function(){return a.apply(null,arguments)},a,b)}function $(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,wa(d))}}var Yb=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};Yb.prototype={$normalize:xa,$addClass:function(a){a&&0<a.length&&L.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&
L.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Vc(a,b);c&&c.length&&L.addClass(this.$$element,c);(c=Vc(b,a))&&c.length&&L.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Nc(f,a),h=kf(f,a),f=a;g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=vc(a,"-"));g=va(this.$$element);if("a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=B(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g=
"",h=N(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(h)?k:/(,)/,h=h.split(k),k=Math.floor(h.length/2),l=0;l<k;l++)var q=2*l,g=g+B(N(h[q]),!0),g=g+(" "+N(h[q+1]));h=N(h[2*l]).split(/\s/);g+=B(N(h[0]),!0);2===h.length&&(g+=" "+N(h[1]));this[a]=b=g}!1!==d&&(null===b||b===t?this.$$element.removeAttr(e):this.$$element.attr(e,b));(a=this.$$observers)&&r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ia()),e=d[a]||(d[a]=[]);e.push(b);
m.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){Xa(e,b)}}};var V=b.startSymbol(),ma=b.endSymbol(),Tc="{{"==V||"}}"==ma?ra:function(a){return a.replace(/\{\{/g,V).replace(/}}/g,ma)},U=/^ngAttr[A-Z]/;D.$$addBindingInfo=k?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:E;D.$$addBindingClass=k?function(a){I(a,"ng-binding")}:E;D.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",
b)}:E;D.$$addScopeClass=k?function(a,b){I(a,b?"ng-isolate-scope":"ng-scope")}:E;return D}]}function xa(b){return db(b.replace(Sc,""))}function Vc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Uc(b){b=A(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&qf.call(b,a,1);return b}function Fe(){var b={},a=!1,c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,c){La(a,
"controller");J(a)?w(b,a):b[a]=c};this.allowGlobals=function(){a=!0};this.$get=["$injector","$window",function(d,e){function f(a,b,c,d){if(!a||!J(a.$scope))throw R("$controller")("noscp",d,b);a.$scope[b]=c}return function(g,h,l,k){var n,p,q;l=!0===l;k&&C(k)&&(q=k);if(C(g)){k=g.match(c);if(!k)throw rf("ctrlfmt",g);p=k[1];q=q||k[3];g=b.hasOwnProperty(p)?b[p]:xc(h.$scope,p,!0)||(a?xc(e,p,!0):t);sb(g,p,!0)}if(l)return l=(H(g)?g[g.length-1]:g).prototype,n=Object.create(l||null),q&&f(h,q,n,p||g.name),w(function(){d.invoke(g,
n,h,p);return n},{instance:n,identifier:q});n=d.instantiate(g,h,p);q&&f(h,q,n,p||g.name);return n}}]}function Ge(){this.$get=["$window",function(b){return A(b.document)}]}function He(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Zb(b,a){if(C(b)){var c=b.replace(sf,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(Wc))||(d=(d=c.match(tf))&&uf[d[0]].test(c));d&&(b=qc(c))}}return b}function Xc(b){var a=ia(),c,d,e;if(!b)return a;r(b.split("\n"),
function(b){e=b.indexOf(":");c=z(N(b.substr(0,e)));d=N(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function Yc(b){var a=J(b)?b:t;return function(c){a||(a=Xc(b));return c?(c=a[z(c)],void 0===c&&(c=null),c):a}}function Zc(b,a,c,d){if(G(d))return d(b,a,c);r(d,function(d){b=d(b,a,c)});return b}function Ke(){var b=this.defaults={transformResponse:[Zb],transformRequest:[function(a){return J(a)&&"[object File]"!==Ca.call(a)&&"[object Blob]"!==Ca.call(a)&&"[object FormData]"!==Ca.call(a)?$a(a):
a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:sa($b),put:sa($b),patch:sa($b)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=w({},a);b.data=a.data?Zc(a.data,a.headers,a.status,e.transformResponse):a.data;a=a.status;return 200<=a&&300>a?
b:h.reject(b)}function d(a){var b,c={};r(a,function(a,d){G(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a});return c}if(!ca.isObject(a))throw R("$http")("badreq",a);var e=w({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=function(a){var c=b.headers,e=w({},a.headers),f,g,c=w({},c.common,c[z(a.method)]);a:for(f in c){a=z(f);for(g in e)if(z(g)===a)continue a;e[f]=c[f]}return d(e)}(a);e.method=ub(e.method);var f=[function(a){var d=a.headers,e=Zc(a.data,Yc(d),
t,a.transformRequest);x(e)&&r(d,function(a,b){"content-type"===z(b)&&delete d[b]});x(a.withCredentials)&&!x(b.withCredentials)&&(a.withCredentials=b.withCredentials);return n(a,e).then(c,c)},t],g=h.when(e);for(r(u,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),g=g.then(a,k)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,e)});return g};g.error=
function(a){g.then(null,function(b){a(b.data,b.status,b.headers,e)});return g};return g}function n(c,f){function l(b,c,d,e){function f(){m(c,b,d,e)}I&&(200<=b&&300>b?I.put(P,[b,c,Xc(d),e]):I.remove(P));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function m(a,b,d,e){b=Math.max(b,0);(200<=b&&300>b?L.resolve:L.reject)({data:a,status:b,headers:Yc(d),config:c,statusText:e})}function n(a){m(a.data,a.status,sa(a.headers()),a.statusText)}function u(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,
1)}var L=h.defer(),B=L.promise,I,D,S=c.headers,P=p(c.url,c.params);k.pendingRequests.push(c);B.then(u,u);!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(I=J(c.cache)?c.cache:J(b.cache)?b.cache:q);I&&(D=I.get(P),y(D)?D&&G(D.then)?D.then(n,n):H(D)?m(D[1],D[0],sa(D[2]),D[3]):m(D,200,{},"OK"):I.put(P,B));x(D)&&((D=$c(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:t)&&(S[c.xsrfHeaderName||b.xsrfHeaderName]=D),d(c.method,P,f,l,S,c.timeout,c.withCredentials,c.responseType));
return B}function p(a,b){if(!b)return a;var c=[];Ed(b,function(a,b){null===a||x(a)||(H(a)||(a=[a]),r(a,function(a){J(a)&&(a=ga(a)?a.toISOString():$a(a));c.push(Ea(b)+"="+Ea(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var q=f("$http"),u=[];r(c,function(a){u.unshift(C(a)?l.get(a):l.invoke(a))});k.pendingRequests=[];(function(a){r(arguments,function(a){k[a]=function(b,c){return k(w(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){k[a]=
function(b,c,d){return k(w(d||{},{method:a,url:b,data:c}))}})})("post","put","patch");k.defaults=b;return k}]}function vf(){return new Q.XMLHttpRequest}function Le(){this.$get=["$browser","$window","$document",function(b,a,c){return wf(b,vf,b.defer,a.angular.callbacks,c[0])}]}function wf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),n=null;f.type="text/javascript";f.src=a;f.async=!0;n=function(a){f.removeEventListener("load",n,!1);f.removeEventListener("error",n,!1);e.body.removeChild(f);
f=null;var g=-1,u="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),u=a.type,g="error"===a.type?404:200);c&&c(g,u)};f.addEventListener("load",n,!1);f.addEventListener("error",n,!1);e.body.appendChild(f);return n}return function(e,h,l,k,n,p,q,u){function s(){m&&m();F&&F.abort()}function M(a,d,e,f,g){L!==t&&c.cancel(L);m=F=null;a(d,e,f,g);b.$$completeOutstandingRequest(E)}b.$$incOutstandingRequestCount();h=h||b.url();if("jsonp"==z(e)){var v="_"+(d.counter++).toString(36);d[v]=function(a){d[v].data=
a;d[v].called=!0};var m=f(h.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){M(k,a,d[v].data,"",b);d[v]=E})}else{var F=a();F.open(e,h,!0);r(n,function(a,b){y(a)&&F.setRequestHeader(b,a)});F.onload=function(){var a=F.statusText||"",b="response"in F?F.response:F.responseText,c=1223===F.status?204:F.status;0===c&&(c=b?200:"file"==Aa(h).protocol?404:0);M(k,c,b,F.getAllResponseHeaders(),a)};e=function(){M(k,-1,null,null,"")};F.onerror=e;F.onabort=e;q&&(F.withCredentials=!0);if(u)try{F.responseType=
u}catch(Z){if("json"!==u)throw Z;}F.send(l||null)}if(0<p)var L=c(s,p);else p&&G(p.then)&&p.then(s)}}function Ie(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,u,s){function M(c){return c.replace(k,b).replace(n,a)}function v(a){try{var b=a;a=u?e.getTrusted(u,b):e.valueOf(b);var c;if(s&&!y(a))c=a;else if(null==a)c="";
else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=$a(a)}c=a}return c}catch(g){c=ac("interr",f,g.toString()),d(c)}}s=!!s;for(var m,F,r=0,L=[],B=[],I=f.length,D=[],S=[];r<I;)if(-1!=(m=f.indexOf(b,r))&&-1!=(F=f.indexOf(a,m+h)))r!==m&&D.push(M(f.substring(r,m))),r=f.substring(m+h,F),L.push(r),B.push(c(r,v)),r=F+l,S.push(D.length),D.push("");else{r!==I&&D.push(M(f.substring(r)));break}if(u&&1<D.length)throw ac("noconcat",f);if(!g||L.length){var P=function(a){for(var b=0,c=
L.length;b<c;b++){if(s&&x(a[b]))return;D[S[b]]=a[b]}return D.join("")};return w(function(a){var b=0,c=L.length,e=Array(c);try{for(;b<c;b++)e[b]=B[b](a);return P(e)}catch(g){a=ac("interr",f,g.toString()),d(a)}},{exp:f,expressions:L,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(B,function(c,e){var f=P(c);G(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var h=b.length,l=a.length,k=new RegExp(b.replace(/./g,f),"g"),n=new RegExp(a.replace(/./g,f),"g");g.startSymbol=function(){return b};g.endSymbol=
function(){return a};return g}]}function Je(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var n=a.setInterval,p=a.clearInterval,q=0,u=y(k)&&!k,s=(u?d:c).defer(),M=s.promise;l=y(l)?l:0;M.then(null,null,e);M.$$intervalId=n(function(){s.notify(q++);0<l&&q>=l&&(s.resolve(q),p(M.$$intervalId),delete f[M.$$intervalId]);u||b.$apply()},h);f[M.$$intervalId]=s;return M}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),
delete f[b.$$intervalId],!0):!1};return e}]}function Rd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(b){return 1===b?"one":"other"}}}}function bc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=qb(b[a]);
return b.join("/")}function ad(b,a){var c=Aa(b);a.$$protocol=c.protocol;a.$$host=c.hostname;a.$$port=aa(c.port)||xf[c.protocol]||null}function bd(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Aa(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);a.$$search=sc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ya(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf("#");
return-1==a?b:b.substr(0,a)}function Fb(b){return b.replace(/(#.+)|#$/,"$1")}function cc(b){return b.substr(0,Ga(b).lastIndexOf("/")+1)}function dc(b,a){this.$$html5=!0;a=a||"";var c=cc(b);ad(b,this);this.$$parse=function(a){var b=ya(c,a);if(!C(b))throw Gb("ipthprfx",a,c);bd(b,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Pb(this.$$search),b=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=
function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;(f=ya(b,d))!==t?(g=f,g=(f=ya(a,f))!==t?c+(ya("/",f)||f):b+g):(f=ya(c,d))!==t?g=c+f:c==d+"/"&&(g=c);g&&this.$$parse(g);return!!g}}function ec(b,a){var c=cc(b);ad(b,this);this.$$parse=function(d){d=ya(b,d)||ya(c,d);var e;"#"===d.charAt(0)?(e=ya(a,d),x(e)&&(e=d)):e=this.$$html5?d:"";bd(e,this);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};
this.$$compose=function(){var c=Pb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):!1}}function cd(b,a){this.$$html5=!0;ec.apply(this,arguments);var c=cc(b);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ga(d)?f=d:(g=ya(c,d))?f=b+a+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=
function(){var c=Pb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+a+this.$$url}}function Hb(b){return function(){return this[b]}}function dd(b,a){return function(c){if(x(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Me(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b};this.html5Mode=function(b){return Wa(b)?(a.enabled=b,this):J(b)?(Wa(b.enabled)&&(a.enabled=
b.enabled),Wa(b.requireBase)&&(a.requireBase=b.requireBase),Wa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var p=d.url(),q;if(a.enabled){if(!n&&a.requireBase)throw Gb("nobase");
q=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(n||"/");n=e.history?dc:cd}else q=Ga(p),n=ec;k=new n(q,"#"+b);k.$$parseLinkUrl(p,p);k.$$state=d.state();var u=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=A(b.target);"a"!==va(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),l=e.attr("href")||e.attr("xlink:href");J(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Aa(h.animVal).href);
u.test(h)||!h||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(h,l)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});Fb(k.absUrl())!=Fb(p)&&d.url(k.absUrl(),!0);var s=!0;d.onUrlChange(function(a,b){c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(s=!1,l(d,e)))});c.$$phase||c.$digest()});
c.$watch(function(){var a=Fb(d.url()),b=Fb(k.absUrl()),f=d.state(),g=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;if(s||q)s=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))});k.$$replace=!1});return k}]}function Ne(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof
Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||E;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,
arguments)}}()}}]}function ua(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw na("isecfld",a);return b}function oa(b,a){if(b){if(b.constructor===b)throw na("isecfn",a);if(b.window===b)throw na("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw na("isecdom",a);if(b===Object)throw na("isecobj",a);}return b}function fc(b){return b.constant}function hb(b,a,c,d,e){oa(b,e);oa(a,e);c=c.split(".");for(var f,
g=0;1<c.length;g++){f=ua(c.shift(),e);var h=0===g&&a&&a[f]||b[f];h||(h={},b[f]=h);b=oa(h,e)}f=ua(c.shift(),e);oa(b[f],e);return b[f]=d}function Pa(b){return"constructor"==b}function ed(b,a,c,d,e,f,g){ua(b,f);ua(a,f);ua(c,f);ua(d,f);ua(e,f);var h=function(a){return oa(a,f)},l=g||Pa(b)?h:ra,k=g||Pa(a)?h:ra,n=g||Pa(c)?h:ra,p=g||Pa(d)?h:ra,q=g||Pa(e)?h:ra;return function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;if(null==h)return h;h=l(h[b]);if(!a)return h;if(null==h)return t;h=k(h[a]);if(!c)return h;if(null==
h)return t;h=n(h[c]);if(!d)return h;if(null==h)return t;h=p(h[d]);return e?null==h?t:h=q(h[e]):h}}function yf(b,a){return function(c,d){return b(c,d,oa,a)}}function zf(b,a,c){var d=a.expensiveChecks,e=d?Af:Bf,f=e[b];if(f)return f;var g=b.split("."),h=g.length;if(a.csp)f=6>h?ed(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var e=0,f;do f=ed(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=t,a=f;while(e<h);return f};else{var l="";d&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var k=d;r(g,function(a,b){ua(a,
c);var e=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;if(d||Pa(a))e="eso("+e+", fe)",k=!0;l+="if(s == null) return undefined;\ns="+e+";\n"});l+="return s;";a=new Function("s","l","eso","fe",l);a.toString=ea(l);k&&(a=yf(a,c));f=a}f.sharedGetter=!0;f.assign=function(a,c,d){return hb(a,d,b,c,b)};return e[b]=f}function gc(b){return G(b.valueOf)?b.valueOf():Cf.call(b)}function Oe(){var b=ia(),a=ia();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;a.sharedGetter&&(b=function(b,
c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign);return b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=gc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d){var e=d.$$inputs||(d.$$inputs=f(d.inputs,[])),h;if(1===e.length){var k=g,e=e[0];return a.$watch(function(a){var b=e(a);g(b,k)||(h=d(a),k=b&&
gc(b));return h},b,c)}for(var l=[],q=0,p=e.length;q<p;q++)l[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var k=e[c](a);if(b||(b=!g(k,l[c])))l[c]=k&&gc(k)}b&&(h=d(a));return h},b,c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;G(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;r(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},
function(a,c,d){g=a;G(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function n(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){G(b)&&b.apply(this,arguments);e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==l?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=
[a]);return c}var q={csp:d.csp,expensiveChecks:!1},u={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var m,r,t;switch(typeof d){case "string":t=d=d.trim();var L=g?a:b;m=L[t];m||(":"===d.charAt(0)&&":"===d.charAt(1)&&(r=!0,d=d.substring(2)),g=g?u:q,m=new hc(g),m=(new ib(m,c,g)).parse(d),m.constant?m.$$watchDelegate=n:r?(m=e(m),m.$$watchDelegate=m.literal?k:l):m.inputs&&(m.$$watchDelegate=h),L[t]=m);return p(m,f);case "function":return p(d,f);default:return p(E,f)}}}]}function Qe(){this.$get=
["$rootScope","$exceptionHandler",function(b,a){return fd(function(a){b.$evalAsync(a)},a)}]}function Re(){this.$get=["$browser","$exceptionHandler",function(b,a){return fd(function(a){b.defer(a)},a)}]}function fd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;
c.processScheduled=!1;c.pending=t;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{G(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),a(h)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=R("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&
f(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}};g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(J(b)||G(b))d=b&&b.then;G(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=
b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(G(b)?b(c):c)}catch(h){a(h)}}})}};var l=function(a,b){var c=new g;b?c.resolve(a):
c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{G(c)&&(d=c())}catch(e){return l(e,!1)}return d&&G(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},p=function u(a){if(!G(a))throw h("norslvr",a);if(!(this instanceof u))return new u(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};p.defer=function(){return new g};p.reject=function(a){var b=new g;
b.reject(a);return b.promise};p.when=n;p.all=function(a){var b=new g,c=0,d=H(a)?[]:{};r(a,function(a,e){c++;n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return p}function $e(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=
c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=e;return f}]}function Pe(){function b(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++ob;this.$$ChildScope=null}b.prototype=a;return b}var a=10,c=R("$rootScope"),d=null,e=null;this.digestTtl=function(b){arguments.length&&(a=b);return a};this.$get=["$injector","$exceptionHandler",
"$parse","$browser",function(f,g,h,l){function k(a){a.currentScope.$$destroyed=!0}function n(){this.$id=++ob;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function p(a){if(v.$$phase)throw c("inprog",v.$$phase);v.$$phase=a}function q(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];
while(a=a.$parent)}function u(){}function s(){for(;t.length;)try{t.shift()()}catch(a){g(a)}e=null}function M(){null===e&&(e=l.defer(function(){v.$apply(s)}))}n.prototype={constructor:n,$new:function(a,c){var d;c=c||this;a?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=b(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(a||c!=this)&&d.$on("$destroy",k);return d},
$watch:function(a,b,c){var e=h(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e);var f=this.$$watchers,g={fn:b,last:u,get:e,exp:a,eq:!!c};d=null;G(b)||(g.fn=E);f||(f=this.$$watchers=[]);f.unshift(g);return function(){Xa(f,g);d=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],
function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!x(e)){if(J(e))if(Sa(e))for(f!==p&&(f=p,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==n&&(f=n={},u=0,l++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=
f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)e.hasOwnProperty(b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,g,k=1<b.length,l=0,q=h(a,c),p=[],n={},m=!0,u=0;return this.$watch(q,function(){m?(m=!1,b(e,e,d)):b(e,g,d);if(k)if(J(e))if(Sa(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)tc.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var b,f,h,k,q,n,r=a,t,O=[],M,y;p("$digest");l.$$checkUrlChange();
this===v&&null!==e&&(l.defer.cancel(e),s());d=null;do{n=!1;for(t=this;m.length;){try{y=m.shift(),y.scope.$eval(y.expression,y.locals)}catch(w){g(w)}d=null}a:do{if(k=t.$$watchers)for(q=k.length;q--;)try{if(b=k[q])if((f=b.get(t))!==(h=b.last)&&!(b.eq?ha(f,h):"number"===typeof f&&"number"===typeof h&&isNaN(f)&&isNaN(h)))n=!0,d=b,b.last=b.eq?Da(f,null):f,b.fn(f,h===u?f:h,t),5>r&&(M=4-r,O[M]||(O[M]=[]),O[M].push({msg:G(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,newVal:f,oldVal:h}));else if(b===
d){n=!1;break a}}catch(A){g(A)}if(!(k=t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(k=t.$$nextSibling);)t=t.$parent}while(t=k);if((n||m.length)&&!r--)throw v.$$phase=null,c("infdig",a,O);}while(n||m.length);for(v.$$phase=null;F.length;)try{F.shift()()}catch(x){g(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==v){for(var b in this.$$listenerCount)q(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=
this.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E;this.$on=this.$watch=this.$watchGroup=function(){return E};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,
b){return h(a)(this,b)},$evalAsync:function(a,b){v.$$phase||m.length||l.defer(function(){m.length&&v.$digest()});m.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){F.push(a)},$apply:function(a){try{return p("$apply"),this.$eval(a)}catch(b){g(b)}finally{v.$$phase=null;try{v.$digest()}catch(c){throw g(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&t.push(b);M()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||
(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,q(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1,h={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=Ya([h],arguments,1),l,q;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(q=d.length;l<q;l++)if(d[l])try{d[l].apply(null,k)}catch(p){g(p)}else d.splice(l,1),l--,q--;if(f)return h.currentScope=
null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f=Ya([e],arguments,1),h,l;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(l=d.length;h<l;h++)if(d[h])try{d[h].apply(null,f)}catch(k){g(k)}else d.splice(h,1),h--,l--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=
c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var v=new n,m=v.$$asyncQueue=[],F=v.$$postDigestQueue=[],t=v.$$applyAsyncQueue=[];return v}]}function Sd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=Aa(c).href;return""===f||f.match(e)?c:"unsafe:"+
f}}}function Df(b){if("self"===b)return b;if(C(b)){if(-1<b.indexOf("***"))throw Ba("iwcard",b);b=gd(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+b+"$")}if(Ua(b))return new RegExp("^"+b.source+"$");throw Ba("imatcher");}function hd(b){var a=[];y(b)&&r(b,function(b){a.push(Df(b))});return a}function Te(){this.SCE_CONTEXTS=pa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=hd(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&
(a=hd(b));return a};this.$get=["$injector",function(c){function d(a,b){return"self"===a?$c(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ba("unsafe");};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};h[pa.HTML]=e(g);h[pa.CSS]=e(g);h[pa.URL]=
e(g);h[pa.JS]=e(g);h[pa.RESOURCE_URL]=e(h[pa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||b===t||""===b)return b;if("string"!==typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===t||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===pa.RESOURCE_URL){var g=Aa(e.toString()),p,q,u=!1;p=0;for(q=b.length;p<q;p++)if(d(b[p],g)){u=!0;break}if(u)for(p=
0,q=a.length;p<q;p++)if(d(a[p],g)){u=!1;break}if(u)return e;throw Ba("insecurl",e.toString());}if(c===pa.HTML)return f(e);throw Ba("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Se(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>Qa)throw Ba("iequirks");var d=sa(pa);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=
d.getTrusted=function(a,b){return b},d.valueOf=ra);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;r(pa,function(a,b){var c=z(b);d[db("parse_as_"+c)]=function(b){return e(a,b)};d[db("get_trusted_"+c)]=function(b){return f(a,b)};d[db("trust_as_"+c)]=function(b){return g(a,b)}});return d}]}function Ue(){this.$get=["$window","$document",function(b,a){var c={},d=aa((/android (\d+)/.exec(z((b.navigator||
{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var p in l)if(k=h.exec(p)){g=k[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit");k=!!("transition"in l||g+"Transition"in l);n=!!("animation"in l||g+"Animation"in l);!d||k&&n||(k=C(f.body.style.webkitTransition),n=C(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===
a&&11>=Qa)return!1;if(x(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:bb(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function We(){this.$get=["$templateCache","$http","$q",function(b,a,c){function d(e,f){d.totalPendingRequests++;var g=a.defaults&&a.defaults.transformResponse;H(g)?g=g.filter(function(a){return a!==Zb}):g===Zb&&(g=null);return a.get(e,{cache:b,transformResponse:g})["finally"](function(){d.totalPendingRequests--}).then(function(a){return a.data},
function(a){if(!f)throw la("tpload",e);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function Xe(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var d=ca.element(a).data("$binding");d&&r(d,function(d){c?(new RegExp("(^|\\s)"+gd(b)+"(\\s|\\||$)")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],
h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function Ye(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){var n=y(k)&&!k,p=(n?d:c).defer(),q=p.promise;l=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}n||
b.$apply()},l);q.$$timeoutId=l;g[l]=p;return q}var g={};f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function Aa(b){Qa&&($.setAttribute("href",b),b=$.href);$.setAttribute("href",b);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:"/"===
$.pathname.charAt(0)?$.pathname:"/"+$.pathname}}function $c(b){b=C(b)?Aa(b):b;return b.protocol===id.protocol&&b.host===id.host}function Ze(){this.$get=ea(Q)}function Fc(b){function a(c,d){if(J(c)){var e={};r(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+"Filter",d)}this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];a("currency",jd);a("date",kd);a("filter",Ef);a("json",Ff);a("limitTo",Gf);a("lowercase",Hf);a("number",ld);a("orderBy",md);a("uppercase",
If)}function Ef(){return function(b,a,c){if(!H(b))return b;var d;switch(typeof a){case "function":break;case "boolean":case "number":case "string":d=!0;case "object":a=Jf(a,c,d);break;default:return b}return b.filter(a)}}function Jf(b,a,c){var d=J(b)&&"$"in b;!0===a?a=ha:G(a)||(a=function(a,b){if(J(a)||J(b))return!1;a=z(""+a);b=z(""+b);return-1!==a.indexOf(b)});return function(e){return d&&!J(e)?Ha(e,b.$,a,!1):Ha(e,b,a,c)}}function Ha(b,a,c,d,e){var f=null!==b?typeof b:"null",g=null!==a?typeof a:
"null";if("string"===g&&"!"===a.charAt(0))return!Ha(b,a.substring(1),c,d);if(H(b))return b.some(function(b){return Ha(b,a,c,d)});switch(f){case "object":var h;if(d){for(h in b)if("$"!==h.charAt(0)&&Ha(b[h],a,c,!0))return!0;return e?!1:Ha(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!G(e)&&!x(e)&&(f="$"===h,!Ha(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case "function":return!1;default:return c(b,a)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){x(d)&&(d=a.CURRENCY_SYM);x(e)&&
(e=a.PATTERNS[1].maxFrac);return null==b?b:nd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function ld(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:nd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function nd(b,a,c,d,e){if(!isFinite(b)||J(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",l=[],k=!1;if(-1!==g.indexOf("e")){var n=g.match(/([\d\.]+)e(-?)(\d+)/);n&&"-"==n[2]&&n[3]>e+1?b=0:(h=g,k=!0)}if(k)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(od)[1]||
"").length;x(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(od),k=g[0],g=g[1]||"",p=0,q=a.lgSize,u=a.gSize;if(k.length>=q+u)for(p=k.length-q,n=0;n<p;n++)0===(p-n)%u&&0!==n&&(h+=c),h+=k.charAt(n);for(n=p;n<k.length;n++)0===(k.length-n)%q&&0!==n&&(h+=c),h+=k.charAt(n);for(;g.length<e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}0===b&&(f=!1);l.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf);return l.join("")}function Ib(b,a,
c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function U(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Ib(e,a,d)}}function Jb(b,a){return function(c,d){var e=c["get"+b](),f=ub(a?"SHORT"+b:b);return d[f][e]}}function pd(b){var a=(new Date(b,0,1)).getDay();return new Date(b,0,(4>=a?5:12)-a)}function qd(b){return function(a){var c=pd(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+
(4-a.getDay()))-+c;a=1+Math.round(a/6048E5);return Ib(a,b)}}function ic(b,a){return 0>=b.getFullYear()?a.ERAS[0]:a.ERAS[1]}function kd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11]));h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3]));f=aa(b[4]||0)-f;g=aa(b[5]||0)-g;h=aa(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
return function(c,e,f){var g="",h=[],l,k;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;C(c)&&(c=Kf.test(c)?aa(c):a(c));Y(c)&&(c=new Date(c));if(!ga(c))return c;for(;e;)(k=Lf.exec(e))?(h=Ya(h,k,1),e=h.pop()):(h.push(e),e=null);f&&"UTC"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset()));r(h,function(a){l=Mf[a];g+=l?l(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ff(){return function(b,a){x(a)&&(a=2);return $a(b,a)}}function Gf(){return function(b,
a){Y(b)&&(b=b.toString());return H(b)||C(b)?(a=Infinity===Math.abs(Number(a))?Number(a):aa(a))?0<a?b.slice(0,a):b.slice(a):C(b)?"":[]:b}}function md(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}function g(a){return null===a?"null":"function"===typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"===typeof a.toString&&(a=a.toString(),f(a))?a:""}function h(a,b){var c=
typeof a,d=typeof b;c===d&&"object"===c&&(a=g(a),b=g(b));return c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Sa(a))return a;c=H(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(a){var c=!1,d=a||ra;if(C(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);if(""===a)return e(h,c);d=b(a);if(d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),d(b))},c)});return Za.call(a).sort(e(function(a,
b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Ia(b){G(b)&&(b={link:b});b.restrict=b.restrict||"AC";return ea(b)}function rd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Kb;f.$error={};f.$$success={};f.$pending=t;f.$name=e(a.name||a.ngForm||"")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){r(g,
function(a){a.$commitViewValue()})};f.$addControl=function(a){La(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];r(f.$pending,function(b,c){f.$setValidity(c,null,a)});r(f.$error,function(b,c){f.$setValidity(c,null,a)});r(f.$$success,function(b,c){f.$setValidity(c,null,a)});Xa(g,a)};sd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];
d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Xa(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Ra);d.addClass(b,Lb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Ra,Lb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;r(g,function(a){a.$setPristine()})};f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,"ng-submitted");
f.$submitted=!0;h.$setSubmitted()}}function jc(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function jb(b,a,c,d,e,f){var g=z(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});a.on("compositionend",function(){h=!1;l()})}var l=function(b){k&&(f.defer.cancel(k),k=null);if(!h){var e=a.val();b=b&&b.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=N(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",
l);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||n(a,this,this.value)});if(e.hasEvent("paste"))a.on("paste cut",n)}a.on("change",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Mb(b,a){return function(c,d){var e,f;if(ga(c))return c;if(C(c)){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));if(Nf.test(c))return new Date(c);b.lastIndex=
0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function kb(b,a,c,d){return function(e,f,g,h,l,k,n){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?ga(a)?a:c(a):t}td(e,f,g,h);
jb(e,f,g,h,l,k);var u=h&&h.$options&&h.$options.timezone,s;h.$$parserName=b;h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,s),"UTC"===u&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):t});h.$formatters.push(function(a){if(a&&!ga(a))throw Nb("datefmt",a);if(p(a)){if((s=a)&&"UTC"===u){var b=6E4*s.getTimezoneOffset();s=new Date(s.getTime()+b)}return n("date")(a,d,u)}s=null;return""});if(y(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!p(a)||x(r)||c(a)>=r};
g.$observe("min",function(a){r=q(a);h.$validate()})}if(y(g.max)||g.ngMax){var v;h.$validators.max=function(a){return!p(a)||x(v)||c(a)<=v};g.$observe("max",function(a){v=q(a);h.$validate()})}}}function td(b,a,c,d){(d.$$hasNativeValidators=J(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?t:b})}function ud(b,a,c,d,e){if(y(d)){b=b(d);if(!b.constant)throw R("ngModel")("constexpr",c,d);return b(a)}return e}function kc(b,a){b="ngClass"+b;return["$animate",
function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){if(!H(a)){if(C(a))return a.split(" ");if(J(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}}return a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||{},d=[];r(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function k(b){if(!0===
a||f.$index%2===a){var k=e(b||[]);if(!n){var u=l(k,1);h.$addClass(u)}else if(!ha(b,n)){var s=e(n),u=d(k,s),k=d(s,k),u=l(u,1),k=l(k,-1);u&&u.length&&c.addClass(g,u);k&&k.length&&c.removeClass(g,k)}}n=sa(b)}var n;f.$watch(h[b],k,!0);h.$observe("class",function(a){k(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function sd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),
f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+vc(b,"-"):"";a(lb+b,!0===c);a(vd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[vd]=!(f[lb]=e.hasClass(lb));d.$setValidity=function(b,e,f){e===t?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),wd(d.$pending)&&(d.$pending=t));Wa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f));d.$pending?(a(xd,
!0),d.$valid=d.$invalid=t,c("",null)):(a(xd,!1),d.$valid=wd(d.$error),d.$invalid=!d.$valid,c("",d.$valid));e=d.$pending&&d.$pending[b]?t:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);l.$setValidity(b,e,d)}}function wd(b){if(b)for(var a in b)return!1;return!0}var Of=/^\/(.+)\/([a-z]*)$/,z=function(b){return C(b)?b.toLowerCase():b},tc=Object.prototype.hasOwnProperty,ub=function(b){return C(b)?b.toUpperCase():b},Qa,A,ta,Za=[].slice,qf=[].splice,Pf=[].push,Ca=Object.prototype.toString,Ja=R("ng"),ca=Q.angular||
(Q.angular={}),cb,ob=0;Qa=W.documentMode;E.$inject=[];ra.$inject=[];var H=Array.isArray,N=function(b){return C(b)?b.trim():b},gd=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},bb=function(){if(y(bb.isActive_))return bb.isActive_;var b=!(!W.querySelector("[ng-csp]")&&!W.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return bb.isActive_=b},rb=["ng-","data-ng-","ng:","x-ng-"],Md=/[A-Z]/g,wc=!1,Qb,qa=1,pb=3,Qd={full:"1.3.15",major:1,
minor:3,dot:15,codeName:"locality-filtration"};T.expando="ng339";var zb=T.cache={},hf=1;T._data=function(b){return this.cache[b[this.expando]]||{}};var cf=/([\:\-\_]+(.))/g,df=/^moz([A-Z])/,Qf={mouseleave:"mouseout",mouseenter:"mouseover"},Tb=R("jqLite"),gf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sb=/<|&#?\w+;/,ef=/<([\w:]+)/,ff=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>",
"</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var Ka=T.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===W.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),T(Q).on("load",a))},toString:function(){var b=[];r(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=
b?A(this[b]):A(this[this.length+b])},length:0,push:Pf,sort:[].sort,splice:[].splice},Eb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){Eb[z(b)]=b});var Oc={};r("input select option textarea button form details".split(" "),function(b){Oc[b]=!0});var Pc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Vb,removeData:xb},function(b,a){T[a]=b});r({data:Vb,inheritedData:Db,scope:function(b){return A.data(b,"$scope")||
Db(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return A.data(b,"$isolateScope")||A.data(b,"$isolateScopeNoTemplate")},controller:Kc,injector:function(b){return Db(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Ab,css:function(b,a,c){a=db(a);if(y(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=z(a);if(Eb[d])if(y(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||E).specified?
d:t;else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?t:b},prop:function(b,a,c){if(y(c))b[a]=c;else return b[a]},text:function(){function b(a,b){if(x(b)){var d=a.nodeType;return d===qa||d===pb?a.textContent:""}a.textContent=b}b.$dv="";return b}(),val:function(b,a){if(x(a)){if(b.multiple&&"select"===va(b)){var c=[];r(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(x(a))return b.innerHTML;
wb(b,!0);b.innerHTML=a},empty:Lc},function(b,a){T.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Lc&&(2==b.length&&b!==Ab&&b!==Kc?a:d)===t){if(J(a)){for(e=0;e<g;e++)if(b===Vb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===t?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});r({removeData:xb,on:function a(c,d,e,f){if(y(f))throw Tb("onargs");if(Gc(c)){var g=yb(c,!0);f=g.events;var h=g.handle;h||(h=
g.handle=lf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Qf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]);k.push(e)}}},off:Jc,one:function(a,c,d){a=A(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;wb(a);r(new T(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,
a);d=c})},children:function(a){var c=[];r(a.childNodes,function(a){a.nodeType===qa&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===qa||11===d){c=new T(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===qa){var d=a.firstChild;r(new T(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=A(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},
remove:Mc,detach:function(a){Mc(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new T(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);d=h}},addClass:Cb,removeClass:Bb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;x(f)&&(f=!Ab(a,c));(f?Cb:Bb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ub,
triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=yb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:g,target:a},c.type&&(e=w(e,c)),c=sa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,
f)})}},function(a,c){T.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;h<l;h++)x(g)?(g=a(this[h],c,e,f),y(g)&&(g=A(g))):Ic(g,a(this[h],c,e,f));return y(g)?g:this};T.prototype.bind=T.prototype.on;T.prototype.unbind=T.prototype.off});eb.prototype={put:function(a,c){this[Ma(a,this.nextUid)]=c},get:function(a){return this[Ma(a,this.nextUid)]},remove:function(a){var c=this[a=Ma(a,this.nextUid)];delete this[a];return c}};var Rc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Rf=/,/,Sf=/^\s*(_?)(\S+?)\1\s*$/,
Qc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Fa=R("$injector");ab.$$annotate=function(a,c,d){var e;if("function"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw C(d)&&d||(d=a.name||mf(a)),Fa("strictdi",d);c=a.toString().replace(Qc,"");c=c.match(Rc);r(c[1].split(Rf),function(a){a.replace(Sf,function(a,c,d){e.push(d)})})}a.$inject=e}}else H(a)?(c=a.length-1,sb(a[c],"fn"),e=a.slice(0,c)):sb(a,"fn",!0);return e};var Tf=R("$animate"),Ce=["$provide",function(a){this.$$selectors={};this.register=function(c,
d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Tf("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=ia();
r((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0});r(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){n||(n=a.defer(),d(function(){n.resolve();n=null}));return n.promise}function k(a,c){if(ca.isObject(c)){var d=w(c.from||{},c.to||{});a.css(d)}}var n;return{animate:function(a,c,d){k(a,{from:c,to:d});return l()},enter:function(a,c,d,e){k(a,
e);d?d.after(a):c.prepend(a);return l()},leave:function(a,c){k(a,c);a.remove();return l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(" "):"";r(a,function(a){Cb(a,c)});k(a,d);return l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(" "):"";r(a,function(a){Bb(a,c)});k(a,d);return l()},setClass:function(a,
c,d,e){var k=this,l=!1;a=A(a);var m=a.data("$$animateClasses");m?e&&m.options&&(m.options=ca.extend(m.options||{},e)):(m={classes:{},options:e},l=!0);e=m.classes;c=H(c)?c:c.split(" ");d=H(d)?d:d.split(" ");h(e,c,!0);h(e,d,!1);l&&(m.promise=f(function(c){var d=a.data("$$animateClasses");a.removeData("$$animateClasses");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",m));return m.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,
c);d&&this.$$removeClassImmediately(a,d);k(a,e);return l()},enabled:E,cancel:E}}]}],la=R("$compile");yc.$inject=["$provide","$$sanitizeUriProvider"];var Sc=/^((?:x|data)[\:\-_])/i,rf=R("$controller"),Wc="application/json",$b={"Content-Type":Wc+";charset=utf-8"},tf=/^\[|^\{(?!\{)/,uf={"[":/]$/,"{":/}$/},sf=/^\)\]\}',?\n/,ac=R("$interpolate"),Uf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xf={http:80,https:443,ftp:21},Gb=R("$location"),Vf={$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(x(a))return this.$$url;
var c=Uf.exec(a);(c[1]||""===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||""===a)&&this.search(c[3]||"");this.hash(c[5]||"");return this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:dd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a)||Y(a))a=a.toString(),this.$$search=sc(a);else if(J(a))a=Da(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=
a;else throw Gb("isrcharg");break;default:x(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:dd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};r([cd,ec,dc],function(a){a.prototype=Object.create(Vf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==dc||!this.$$html5)throw Gb("nostate");this.$$state=x(c)?null:c;return this}});var na=R("$parse"),Wf=Function.prototype.call,
Xf=Function.prototype.apply,Yf=Function.prototype.bind,mb=ia();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0;mb[c]=a});mb["this"]=function(a){return a};mb["this"].sharedGetter=!0;var nb=w(ia(),{"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return y(d)?y(e)?d+e:d:y(e)?e:t},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},
"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},
"||":function(a,c,d,e){return d(a,c)||e(a,c)},"!":function(a,c,d){return!d(a,c)},"=":!0,"|":!0}),Zf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},hc=function(a){this.options=a};hc.prototype={constructor:hc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,
"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=nb[c],f=nb[d];nb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},
isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw na("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<
this.text.length;){var d=z(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=
this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):
d+=Zf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,constant:!0,value:d});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var ib=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};ib.ZERO=w(function(){return 0},{sharedGetter:!0,constant:!0});ib.prototype={constructor:ib,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);
a.literal=!!a.literal;a.constant=!!a.constant;return a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in mb?a=mb[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,
d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw na("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw na("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===
f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw na("ueoe",this.text);var c=this.expect(a);c||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return c},unaryFn:function(a,c){var d=nb[a];return w(function(a,f){return d(a,f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=nb[c];return w(function(c,e){return f(c,e,a,d)},{constant:a.constant&&
d.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return zf(a,this.options,this.text)},constant:function(){var a=this.consume().value;return w(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,
d){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var c=this.$filter(this.consume().text),d,e;if(this.peek(":"))for(d=[],e=[];this.expect(":");)d.push(this.expression());var f=[a].concat(d||[]);return w(function(f,h){var l=a(f,h);if(e){e[0]=l;for(l=d.length;l--;)e[l+1]=d[l](f,h);return c.apply(t,e)}return c(l)},{constant:!c.$stateful&&f.every(fc),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},
assignment:function(){var a=this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),w(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var a=this.logicalOR(),c;if(this.expect("?")&&(c=this.assignment(),this.consume(":"))){var d=this.assignment();return w(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},
logicalOR:function(){for(var a=this.logicalAND(),c;c=this.expect("||");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var a=this.equality(),c;c=this.expect("&&");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var a=this.relational(),c;c=this.expect("==","!=","===","!==");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var a=this.additive(),c;c=this.expect("<",">","<=",">=");)a=this.binaryFn(a,c.text,
this.additive());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(ib.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=
this.identifier();return w(function(d,e,f){d=f||a(d,e);return null==d?t:c(d)},{assign:function(d,e,f){var g=a(d,f);g||a.assign(d,g={},f);return c.assign(g,e)}})},objectIndex:function(a){var c=this.text,d=this.expression();this.consume("]");return w(function(e,f){var g=a(e,f),h=d(e,f);ua(h,c);return g?oa(g[h],c):t},{assign:function(e,f,g){var h=ua(d(e,g),c),l=oa(a(e,g),c);l||a.assign(e,l={},g);return l[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());
while(this.expect(","))}this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var l=c?c(g,h):y(c)?t:g,k=a(g,h,l)||E;if(f)for(var n=d.length;n--;)f[n]=oa(d[n](g,h),e);oa(l,e);if(k){if(k.constructor===k)throw na("isecfn",e);if(k===Wf||k===Xf||k===Yf)throw na("isecff",e);}l=k.apply?k.apply(l,f):k(f[0],f[1],f[2],f[3],f[4]);f&&(f.length=0);return oa(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))
}this.consume("]");return w(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(fc),inputs:a})},object:function(){var a=[],c=[];if("}"!==this.peekToken().text){do{if(this.peek("}"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):this.throwError("invalid key",d);this.consume(":");c.push(this.expression())}while(this.expect(","))}this.consume("}");return w(function(d,f){for(var g={},h=0,l=c.length;h<l;h++)g[a[h]]=
c[h](d,f);return g},{literal:!0,constant:c.every(fc),inputs:c})}};var Bf=ia(),Af=ia(),Cf=Object.prototype.valueOf,Ba=R("$sce"),pa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},la=R("$compile"),$=W.createElement("a"),id=Aa(Q.location.href);Fc.$inject=["$provide"];jd.$inject=["$locale"];ld.$inject=["$locale"];var od=".",Mf={yyyy:U("FullYear",4),yy:U("FullYear",2,0,!0),y:U("FullYear",1),MMMM:Jb("Month"),MMM:Jb("Month",!0),MM:U("Month",2,1),M:U("Month",1,1),dd:U("Date",2),d:U("Date",
1),HH:U("Hours",2),H:U("Hours",1),hh:U("Hours",2,-12),h:U("Hours",1,-12),mm:U("Minutes",2),m:U("Minutes",1),ss:U("Seconds",2),s:U("Seconds",1),sss:U("Milliseconds",3),EEEE:Jb("Day"),EEE:Jb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(Ib(Math[0<a?"floor":"ceil"](a/60),2)+Ib(Math.abs(a%60),2))},ww:qd(2),w:qd(1),G:ic,GG:ic,GGG:ic,GGGG:function(a,c){return 0>=a.getFullYear()?c.ERANAMES[0]:c.ERANAMES[1]}},Lf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
Kf=/^\-?\d+$/;kd.$inject=["$locale"];var Hf=ea(z),If=ea(ub);md.$inject=["$parse"];var Td=ea({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===Ca.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),vb={};r(Eb,function(a,c){if("multiple"!=a){var d=xa("ng-"+c);vb[d]=function(){return{restrict:"A",priority:100,link:function(a,f,g){a.$watch(g[d],
function(a){g.$set(c,!!a)})}}}}});r(Pc,function(a,c){vb[c]=function(){return{priority:100,link:function(a,e,f){if("ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Of))){f.$set("ngPattern",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});r(["src","srcset","href"],function(a){var c=xa("ng-"+a);vb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ca.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",
g=null);f.$observe(c,function(c){c?(f.$set(h,c),Qa&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Kb={$addControl:E,$$renameControl:function(a,c){a.$name=c},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E};rd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yd=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:rd,compile:function(d,e){d.addClass(Ra).addClass(lb);var f=e.name?"name":a&&e.ngForm?"ngForm":
!1;return{pre:function(a,d,e,k){if(!("action"in e)){var n=function(c){a.$apply(function(){k.$commitViewValue();k.$setSubmitted()});c.preventDefault()};d[0].addEventListener("submit",n,!1);d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",n,!1)},0,!1)})}var p=k.$$parentForm;f&&(hb(a,null,k.$name,k,k.$name),e.$observe(f,function(c){k.$name!==c&&(hb(a,null,k.$name,t,k.$name),p.$$renameControl(k,c),hb(a,null,k.$name,k,k.$name))}));d.on("$destroy",function(){p.$removeControl(k);
f&&hb(a,null,e[f],t,k.$name);w(k,Kb)})}}}}}]},Ud=yd(),ge=yd(!0),Nf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$f=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ag=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zd=/^(\d{4})-(\d{2})-(\d{2})$/,Ad=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,lc=/^(\d{4})-W(\d\d)$/,Bd=/^(\d{4})-(\d\d)$/,
Cd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Dd={text:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e)},date:kb("date",zd,Mb(zd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":kb("datetimelocal",Ad,Mb(Ad,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:kb("time",Cd,Mb(Cd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:kb("week",lc,function(a,c){if(ga(a))return a;if(C(a)){lc.lastIndex=0;var d=lc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=pd(e),f=7*(f-1);c&&(d=c.getHours(),g=
c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds());return new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},"yyyy-Www"),month:kb("month",Bd,Mb(Bd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){td(a,c,d,e);jb(a,c,d,e,f,g);e.$$parserName="number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:bg.test(a)?parseFloat(a):t});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!Y(a))throw Nb("numfmt",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||
x(h)||a>=h};d.$observe("min",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));h=Y(a)&&!isNaN(a)?a:t;e.$validate()})}if(y(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||x(l)||a<=l};d.$observe("max",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));l=Y(a)&&!isNaN(a)?a:t;e.$validate()})}},url:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);e.$$parserName="url";e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},email:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);
e.$$parserName="email";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||ag.test(d)}},radio:function(a,c,d,e){x(d.name)&&c.attr("name",++ob);c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=ud(l,a,"ngTrueValue",d.ngTrueValue,!0),n=ud(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&
a.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ha(a,k)});e.$parsers.push(function(a){return a?k:n})},hidden:E,button:E,submit:E,reset:E,file:E},zc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Dd[z(h.type)]||Dd.text)(f,g,h,l[0],c,a,d,e)}}}}],cg=/^(true|false|\d+)$/,ye=function(){return{restrict:"A",priority:100,compile:function(a,
c){return cg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},Zd=["$compile",function(a){return{restrict:"AC",compile:function(c){a.$$addBindingClass(c);return function(c,e,f){a.$$addBindingInfo(e,f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===t?"":a})}}}}],ae=["$interpolate","$compile",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));
c.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe("ngBindTemplate",function(a){f.textContent=a===t?"":a})}}}}],$d=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],xe=ea({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),
be=kc("",!0),de=kc("Odd",0),ce=kc("Even",1),ee=Ia({compile:function(a,c){c.$set("ngCloak",t);a.removeClass("ng-cloak")}}),fe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ec={},dg={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=xa("ng-"+a);Ec[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=
d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};dg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ie=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f;c[c.length++]=W.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=
tb(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],je=["$templateRequest","$anchorScroll","$animate","$sce",function(a,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(f,g){var h=g.ngInclude||g.src,l=g.onload||"",k=g.autoscroll;return function(f,g,q,r,s){var t=0,v,m,F,w=function(){m&&(m.remove(),m=null);v&&(v.$destroy(),v=null);F&&(d.leave(F).then(function(){m=null}),m=F,F=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=
function(){!y(k)||k&&!f.$eval(k)||c()},m=++t;e?(a(e,!0).then(function(a){if(m===t){var c=f.$new();r.template=a;a=s(c,function(a){w();d.enter(a,null,g).then(h)});v=c;F=a;v.$emit("$includeContentLoaded",e);f.$eval(l)}},function(){m===t&&(w(),f.$emit("$includeContentError",e))}),f.$emit("$includeContentRequested",e)):(w(),r.template=null)})}}}}],Ae=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Hc(f.template,
W).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ke=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),we=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?N(f):f;e.$parsers.push(function(a){if(!x(a)){var c=[];a&&r(a.split(h),function(a){a&&c.push(g?N(a):a)});return c}});e.$formatters.push(function(a){return H(a)?
a.join(f):t});e.$isEmpty=function(a){return!a||!a.length}}}},lb="ng-valid",vd="ng-invalid",Ra="ng-pristine",Lb="ng-dirty",xd="ng-pending",Nb=new R("ngModel"),eg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=t;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;
this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=t;this.$name=n(d.name||"",!1)(a);var p=f(d.ngModel),q=p.assign,u=p,s=q,M=null,v,m=this;this.$$setOptions=function(a){if((m.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");u=function(a){var d=p(a);G(d)&&(d=c(a));return d};s=function(a,c){G(p(a))?g(a,{$$$p:m.$modelValue}):q(a,m.$modelValue)}}else if(!p.assign)throw Nb("nonassign",d.ngModel,wa(e));
};this.$render=E;this.$isEmpty=function(a){return x(a)||""===a||null===a||a!==a};var F=e.inheritedData("$formController")||Kb,w=0;sd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:F,$animate:g});this.$setPristine=function(){m.$dirty=!1;m.$pristine=!0;g.removeClass(e,Lb);g.addClass(e,Ra)};this.$setDirty=function(){m.$dirty=!0;m.$pristine=!1;g.removeClass(e,Ra);g.addClass(e,Lb);F.$setDirty()};this.$setUntouched=function(){m.$touched=!1;m.$untouched=!0;g.setClass(e,
"ng-untouched","ng-touched")};this.$setTouched=function(){m.$touched=!0;m.$untouched=!1;g.setClass(e,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){h.cancel(M);m.$viewValue=m.$$lastCommittedViewValue;m.$render()};this.$validate=function(){if(!Y(m.$modelValue)||!isNaN(m.$modelValue)){var a=m.$$rawModelValue,c=m.$valid,d=m.$modelValue,e=m.$options&&m.$options.allowInvalid;m.$$runValidators(a,m.$$lastCommittedViewValue,function(f){e||c===f||(m.$modelValue=f?a:t,m.$modelValue!==d&&m.$$writeModelToScope())})}};
this.$$runValidators=function(a,c,d){function e(){var d=!0;r(m.$validators,function(e,f){var h=e(a,c);d=d&&h;g(f,h)});return d?!0:(r(m.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;r(m.$asyncValidators,function(f,h){var k=f(a,c);if(!k||!G(k.then))throw Nb("$asyncValidators",k);g(h,t);d.push(k.then(function(){g(h,!0)},function(a){e=!1;g(h,!1)}))});d.length?k.all(d).then(function(){h(e)},E):h(!0)}function g(a,c){l===w&&m.$setValidity(a,c)}function h(a){l===w&&d(a)}w++;var l=
w;(function(){var a=m.$$parserName||"parse";if(v===t)g(a,null);else return v||(r(m.$validators,function(a,c){g(c,null)}),r(m.$asyncValidators,function(a,c){g(c,null)})),g(a,v),v;return!0})()?e()?f():h(!1):h(!1)};this.$commitViewValue=function(){var a=m.$viewValue;h.cancel(M);if(m.$$lastCommittedViewValue!==a||""===a&&m.$$hasNativeValidators)m.$$lastCommittedViewValue=a,m.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=m.$$lastCommittedViewValue;if(v=
x(c)?t:!0)for(var d=0;d<m.$parsers.length;d++)if(c=m.$parsers[d](c),x(c)){v=!1;break}Y(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=u(a));var e=m.$modelValue,f=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=c;f&&(m.$modelValue=c,m.$modelValue!==e&&m.$$writeModelToScope());m.$$runValidators(c,m.$$lastCommittedViewValue,function(a){f||(m.$modelValue=a?c:t,m.$modelValue!==e&&m.$$writeModelToScope())})};this.$$writeModelToScope=function(){s(a,m.$modelValue);r(m.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};
this.$setViewValue=function(a,c){m.$viewValue=a;m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=m.$options;e&&y(e.debounce)&&(e=e.debounce,Y(e)?d=e:Y(e[c])?d=e[c]:Y(e["default"])&&(d=e["default"]));h.cancel(M);d?M=h(function(){m.$commitViewValue()},d):l.$$phase?m.$commitViewValue():a.$apply(function(){m.$commitViewValue()})};a.$watch(function(){var c=u(a);if(c!==m.$modelValue){m.$modelValue=m.$$rawModelValue=c;v=t;for(var d=
m.$formatters,e=d.length,f=c;e--;)f=d[e](f);m.$viewValue!==f&&(m.$viewValue=m.$$lastCommittedViewValue=f,m.$render(),m.$$runValidators(c,f,E))}return c})}],ve=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:eg,priority:1,compile:function(c){c.addClass(Ra).addClass("ng-untouched").addClass(lb);return{pre:function(a,c,f,g){var h=g[0],l=g[1]||Kb;h.$$setOptions(g[2]&&g[2].$options);l.$addControl(h);f.$observe("name",function(a){h.$name!==a&&l.$$renameControl(h,
a)});a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],fg=/(\s+|^)default(\s+|$)/,ze=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions);this.$options.updateOn!==t?(this.$options.updateOnDefault=
!1,this.$options.updateOn=N(this.$options.updateOn.replace(fg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},le=Ia({terminal:!0,priority:1E3}),me=["$locale","$interpolate",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,g,h){function l(a){g.text(a||"")}var k=h.count,n=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(n)||{},u={},n=c.startSymbol(),s=c.endSymbol(),t=n+k+"-"+p+s,v=ca.noop,m;r(h,function(a,c){var d=
e.exec(c);d&&(d=(d[1]?"-":"")+z(d[2]),q[d]=g.attr(h.$attr[c]))});r(q,function(a,e){u[e]=c(a.replace(d,t))});f.$watch(k,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p));c===m||d&&isNaN(m)||(v(),v=f.$watch(u[c],l),m=c)})}}}],ne=["$parse","$animate",function(a,c){var d=R("ngRepeat"),e=function(a,c,d,e,k,n,p){a[d]=e;k&&(a[k]=n);a.$index=c;a.$first=0===c;a.$last=c===p-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(c&1))};return{restrict:"A",multiElement:!0,transclude:"element",
priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=W.createComment(" end ngRepeat: "+h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",h);var n=k[1],p=k[2],q=k[3],u=k[4],k=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",n);var s=k[3]||k[1],y=k[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw d("badident",
q);var v,m,w,x,E={$id:Ma};u?v=a(u):(w=function(a,c){return Ma(c)},x=function(a){return a});return function(a,f,g,k,n){v&&(m=function(c,d,e){y&&(E[y]=c);E[s]=d;E.$index=e;return v(a,E)});var u=ia();a.$watchCollection(p,function(g){var k,p,v=f[0],D,E=ia(),G,H,L,S,J,C,z;q&&(a[q]=g);if(Sa(g))J=g,p=m||w;else{p=m||x;J=[];for(z in g)g.hasOwnProperty(z)&&"$"!=z.charAt(0)&&J.push(z);J.sort()}G=J.length;z=Array(G);for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],S=p(H,L,k),u[S])C=u[S],delete u[S],E[S]=C,z[k]=C;else{if(E[S])throw r(z,
function(a){a&&a.scope&&(u[a.id]=a)}),d("dupes",h,S,L);z[k]={id:S,scope:t,clone:t};E[S]=!0}for(D in u){C=u[D];S=tb(C.clone);c.leave(S);if(S[0].parentNode)for(k=0,p=S.length;k<p;k++)S[k].$$NG_REMOVED=!0;C.scope.$destroy()}for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],C=z[k],C.scope){D=v;do D=D.nextSibling;while(D&&D.$$NG_REMOVED);C.clone[0]!=D&&c.move(tb(C.clone),null,A(v));v=C.clone[C.clone.length-1];e(C.scope,k,s,L,y,H,G)}else n(function(a,d){C.scope=d;var f=l.cloneNode(!1);a[a.length++]=f;c.enter(a,
null,A(v));v=f;C.clone=a;E[C.id]=C;e(C.scope,k,s,L,y,H,G)});u=E})}}}}],oe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],he=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],pe=Ia(function(a,c,d){a.$watchCollection(d.ngStyle,
function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")});a&&c.css(a)})}),qe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=l.length;d<e;++d)a.cancel(l[d]);d=l.length=0;for(e=k.length;d<e;++d){var s=tb(h[d].clone);k[d].$destroy();(l[d]=a.leave(s)).then(n(l,d))}h.length=0;k.length=0;(g=
f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=W.createComment(" end ngSwitchWhen: ");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],re=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),se=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,
link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),ue=Ia({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw R("ngTransclude")("orphan",wa(c));f(function(a){c.empty();c.append(a)})}}),Vd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],gg=R("ngOptions"),te=ea({restrict:"A",terminal:!0}),Wd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
e={$setViewValue:E};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var l=this,k={},n=e,p;l.databound=d.ngModel;l.init=function(a,c,d){n=a;p=d};l.addOption=function(c,d){La(c,'"option value"');k[c]=!0;n.$viewValue==c&&(a.val(c),p.parent()&&p.remove());d&&d[0].hasAttribute("selected")&&(d[0].selected=!0)};l.removeOption=function(a){this.hasOption(a)&&(delete k[a],n.$viewValue===a&&this.renderUnknownOption(a))};l.renderUnknownOption=function(c){c=
"? "+Ma(c)+" ?";p.val(c);a.prepend(p);a.val(c);p.prop("selected",!0)};l.hasOption=function(a){return k.hasOwnProperty(a)};c.$on("$destroy",function(){l.renderUnknownOption=E})}],link:function(e,g,h,l){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(C.parent()&&C.remove(),c.val(a),""===a&&v.prop("selected",!0)):x(a)&&v?c.val(""):e.renderUnknownOption(a)};c.on("change",function(){a.$apply(function(){C.parent()&&C.remove();d.$setViewValue(c.val())})})}function n(a,c,d){var e;
d.$render=function(){var a=new eb(d.$viewValue);r(c.find("option"),function(c){c.selected=y(a.get(c.value))})};a.$watch(function(){ha(e,d.$viewValue)||(e=sa(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){T[x]=d;G&&(T[G]=c);return a(e,T)}function k(a){var c;if(u)if(I&&H(a)){c=new eb([]);for(var d=0;d<a.length;d++)c.put(h(I,null,a[d]),!0)}else c=
new eb(a);else I&&(a=h(I,null,a));return function(d,e){var f;f=I?I:B?B:z;return u?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function l(){m||(e.$$postDigest(p),m=!0)}function n(a,c,d){a[c]=a[c]||0;a[c]+=d?1:-1}function p(){m=!1;var a={"":[]},c=[""],d,l,s,t,v;s=g.$viewValue;t=L(e)||[];var B=G?Object.keys(t).sort():t,x,A,H,z,O={};v=k(s);var N=!1,U,W;Q={};for(z=0;H=B.length,z<H;z++){x=z;if(G&&(x=B[z],"$"===x.charAt(0)))continue;A=t[x];d=h(J,x,A)||"";(l=a[d])||(l=a[d]=[],c.push(d));d=v(x,A);N=N||d;A=h(C,x,A);
A=y(A)?A:"";W=I?I(e,T):G?B[z]:z;I&&(Q[W]=x);l.push({id:W,label:A,selected:d})}u||(w||null===s?a[""].unshift({id:"",label:"",selected:!N}):N||a[""].unshift({id:"?",label:"",selected:!0}));x=0;for(B=c.length;x<B;x++){d=c[x];l=a[d];R.length<=x?(s={element:E.clone().attr("label",d),label:l.label},t=[s],R.push(t),f.append(s.element)):(t=R[x],s=t[0],s.label!=d&&s.element.attr("label",s.label=d));N=null;z=0;for(H=l.length;z<H;z++)d=l[z],(v=t[z+1])?(N=v.element,v.label!==d.label&&(n(O,v.label,!1),n(O,d.label,
!0),N.text(v.label=d.label),N.prop("label",v.label)),v.id!==d.id&&N.val(v.id=d.id),N[0].selected!==d.selected&&(N.prop("selected",v.selected=d.selected),Qa&&N.prop("selected",v.selected))):(""===d.id&&w?U=w:(U=F.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),t.push(v={element:U,label:d.label,id:d.id,selected:d.selected}),n(O,d.label,!0),N?N.after(U):s.element.append(U),N=U);for(z++;t.length>z;)d=t.pop(),n(O,d.label,!1),d.element.remove()}for(;R.length>
x;){l=R.pop();for(z=1;z<l.length;++z)n(O,l[z].label,!1);l[0].element.remove()}r(O,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var v;if(!(v=s.match(d)))throw gg("iexp",s,wa(f));var C=c(v[2]||v[1]),x=v[4]||v[6],A=/ as /.test(v[0])&&v[1],B=A?c(A):null,G=v[5],J=c(v[3]||""),z=c(v[2]?v[1]:x),L=c(v[7]),I=v[8]?c(v[8]):null,Q={},R=[[{element:f,label:""}]],T={};w&&(a(w)(e),w.removeClass("ng-scope"),w.remove());f.empty();f.on("change",function(){e.$apply(function(){var a=L(e)||[],c;if(u)c=[],r(f.val(),
function(d){d=I?Q[d]:d;c.push("?"===d?t:""===d?null:h(B?B:z,d,a[d]))});else{var d=I?Q[f.val()]:f.val();c="?"===d?t:""===d?null:h(B?B:z,d,a[d])}g.$setViewValue(c);p()})});g.$render=p;e.$watchCollection(L,l);e.$watchCollection(function(){var a=L(e),c;if(a&&H(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(C,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(C,d,a[d]));return c},l);u&&e.$watchCollection(function(){return g.$modelValue},l)}if(l[1]){var q=l[0];l=l[1];var u=h.multiple,
s=h.ngOptions,w=!1,v,m=!1,F=A(W.createElement("option")),E=A(W.createElement("optgroup")),C=F.clone();h=0;for(var B=g.children(),G=B.length;h<G;h++)if(""===B[h].value){v=w=B.eq(h);break}q.init(l,w,C);u&&(l.$isEmpty=function(a){return!a||0===a.length});s?p(e,g,l):u?n(e,g,l):k(e,g,l,q)}}}}],Yd=["$interpolate",function(a){var c={addOption:E,removeOption:E};return{restrict:"E",priority:100,compile:function(d,e){if(x(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=
d.parent(),n=k.data("$selectController")||k.parent().data("$selectController");n&&n.databound||(n=c);f?a.$watch(f,function(a,c){e.$set("value",a);c!==a&&n.removeOption(c);n.addOption(a,d)}):n.addOption(e.value,d);d.on("$destroy",function(){n.removeOption(e.value)})}}}}],Xd=ea({restrict:"E",terminal:!1}),Bc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},
Ac=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){C(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw R("ngPattern")("noregexp",g,a,wa(c));f=a||t;e.$validate()});e.$validators.pattern=function(a){return e.$isEmpty(a)||x(f)||f.test(a)}}}}},Dc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=aa(a);f=isNaN(a)?-1:a;e.$validate()});
e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Cc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=aa(a)||0;e.$validate()});e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};Q.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Nd(),Pd(ca),A(W).ready(function(){Jd(W,uc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
//# sourceMappingURL=angular.min.js.map
;
/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(N,f,W){'use strict';f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(X,C,g){g=g.ngAnimateChildren;f.isString(g)&&0===g.length?C.data("$$ngAnimateChildren",!0):X.$watch(g,function(f){C.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,C){return function(g){return f(function(){g()})}}]).config(["$provide","$animateProvider",function(X,C){function g(f){for(var n=0;n<f.length;n++){var g=f[n];if(1==g.nodeType)return g}}
function ba(f,n){return g(f)==g(n)}var t=f.noop,n=f.forEach,da=C.$$selectors,aa=f.isArray,ea=f.isString,ga=f.isObject,r={running:!0},u;X.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(O,N,M,Y,y,H,P,W,Z,Q){function R(a,c){var b=a.data("$$ngAnimateState")||{};c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b));return b.disabled||b.running&&b.structural}function D(a){var c,b=N.defer();
b.promise.$$cancelFn=function(){c&&c()};P.$$postDigest(function(){c=a(function(){b.resolve()})});return b.promise}function I(a){if(ga(a))return a.tempClasses&&ea(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(" "),function(a){d[a]=e})});var h=Object.create(null);n((a.attr("class")||"").split(/\s+/),function(e){h[e]=!0});var f=[],l=[];n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===e?(b||"addClass"==c.event)&&
l.push(a):!0===e&&(b&&"removeClass"!=c.event||f.push(a))});return 0<f.length+l.length&&[f.join(" "),l.join(" ")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split(".");(Y.transitions||Y.animations)&&c.push(M.get(da[""]));for(var d=0;d<a.length;d++){var f=a[d],k=da[f];k&&!b[f]&&(c.push(M.get(k)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e["before"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return"leave"==a&&(c=b,b=null),u.push({event:a,fn:b}),J.push({event:a,fn:c}),
!0}function k(c,l,w){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(l){(l[f]||t)();if(++m<E.length)break a;l=null}w()}};switch(c.event){case "setClass":l.push(c.fn(a,e,A,p,d));break;case "animate":l.push(c.fn(a,b,d.from,d.to,p));break;case "addClass":l.push(c.fn(a,e||b,p,d));break;case "removeClass":l.push(c.fn(a,A||b,p,d));break;default:l.push(c.fn(a,p,d))}});l&&0===l.length&&w()}var l=a[0];if(l){d&&(d.to=d.to||{},d.from=d.from||{});var e,A;aa(b)&&(e=
b[0],A=b[1],e?A?b=e+" "+A:(b=e,c="addClass"):(b=A,c="removeClass"));var w="setClass"==c,E=w||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class")+" "+b;if(x(p)){var ca=t,m=[],J=[],g=t,s=[],u=[],p=(" "+p).replace(/\s+/g,".");n(T(p),function(a){!h(a,c)&&w&&(h(a,"addClass"),h(a,"removeClass"))});return{node:l,event:c,className:b,isClassBased:E,isSetClassOperation:w,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){ca=a;k(J,m,function(){ca=t;a()})},after:function(a){g=
a;k(u,s,function(){g=t;a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),ca(!0));s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function G(a,c,b,d,h,k,l,e){function A(e){var l="$animate:"+e;J&&J[l]&&0<J[l].length&&H(function(){b.triggerHandler(l,{event:a,className:c})})}function w(){A("before")}function E(){A("after")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,k())}function g(){if(!g.hasBeenRun){m&&m.applyStyles();g.hasBeenRun=!0;l&&l.tempClasses&&n(l.tempClasses,function(a){u.removeClass(b,
a)});var w=b.data("$$ngAnimateState");w&&(m&&m.isClassBased?B(b,c):(H(function(){var e=b.data("$$ngAnimateState")||{};fa==e.index&&B(b,c,a)}),b.data("$$ngAnimateState",w)));A("close");e()}}var m=U(b,a,c,l);if(!m)return p(),w(),E(),g(),t;a=m.event;c=m.className;var J=f.element._data(m.node),J=J&&J.events;d||(d=h?h.parent():b.parent());if(z(b,d))return p(),w(),E(),g(),t;d=b.data("$$ngAnimateState")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;h=!1;if(0<s){s=[];if(m.isClassBased)"setClass"==q.event?
(s.push(q),B(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),B(b,c)));else if("leave"==a&&L["ng-leave"])h=!0;else{for(var v in L)s.push(L[v]);d={};B(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}!m.isClassBased||m.isSetClassOperation||"animate"==a||h||(h="addClass"==a==b.hasClass(c));if(h)return p(),w(),E(),A("close"),e(),t;L=d.active||{};s=d.totalActive||0;if("leave"==a)b.one("$destroy",function(a){a=f.element(this);var e=a.data("$$ngAnimateState");e&&(e=e.active["ng-leave"])&&(e.cancel(),B(a,"ng-leave"))});
u.addClass(b,"ng-animate");l&&l.tempClasses&&n(l.tempClasses,function(a){u.addClass(b,a)});var fa=K++;s++;L[c]=m;b.data("$$ngAnimateState",{last:m,active:L,index:fa,totalActive:s});w();m.before(function(e){var l=b.data("$$ngAnimateState");e=e||!l||!l.active[c]||m.isClassBased&&l.active[c].event!=a;p();!0===e?g():(E(),m.after(g))});return m.cancel}function q(a){if(a=g(a))a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),n(a,function(a){a=
f.element(a);(a=a.data("$$ngAnimateState"))&&a.active&&n(a.active,function(a){a.cancel()})})}function B(a,c){if(ba(a,y))r.disabled||(r.running=!1,r.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]);if(d||!b.totalActive)u.removeClass(a,"ng-animate"),a.removeData("$$ngAnimateState")}}function z(a,c){if(r.disabled)return!0;if(ba(a,y))return r.running;var b,d,g;do{if(0===c.length)break;var k=ba(c,y),l=k?r:c.data("$$ngAnimateState")||
{};if(l.disabled)return!0;k&&(g=!0);!1!==b&&(k=c.data("$$ngAnimateChildren"),f.isDefined(k)&&(b=k));d=d||l.running||l.last&&!l.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q;y.data("$$ngAnimateState",r);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){r.running=!1})}))}),K=0,V=C.classNameFilter(),x=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,c,b,d,h){d=d||"ng-inline-animate";
h=I(h)||{};h.from=b?c:null;h.to=b?b:c;return D(function(b){return G("animate",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){d=I(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);R(a,!0);O.enter(a,c,b);return D(function(h){return G("enter","ng-enter",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){c=I(c);a=f.element(a);q(a);R(a,!0);return D(function(b){return G("leave","ng-leave",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,d){d=I(d);a=f.element(a);
c=c&&f.element(c);b=b&&f.element(b);q(a);R(a,!0);O.move(a,c,b);return D(function(h){return G("move","ng-move",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){d=I(d);a=f.element(a);a=f.element(g(a));if(R(a))return O.$$setClassImmediately(a,c,b,d);var h,k=a.data("$$animateClasses"),l=!!k;k||(k={classes:{}});h=k.classes;c=aa(c)?c:c.split(" ");n(c,function(a){a&&a.length&&(h[a]=
!0)});b=aa(b)?b:b.split(" ");n(b,function(a){a&&a.length&&(h[a]=!1)});if(l)return d&&k.options&&(k.options=f.extend(k.options||{},d)),k.promise;a.data("$$animateClasses",k={classes:h,options:d});return k.promise=D(function(e){var l=a.parent(),b=g(a),c=b.parentNode;if(!c||c.$$NG_REMOVED||b.$$NG_REMOVED)e();else{b=a.data("$$animateClasses");a.removeData("$$animateClasses");var c=a.data("$$ngAnimateState")||{},d=S(a,b,c.active);return d?G("setClass",d,a,l,null,function(){d[0]&&O.$$addClassImmediately(a,
d[0]);d[1]&&O.$$removeClassImmediately(a,d[1])},b.options,e):e()}})},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)B(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0;c.data("$$ngAnimateState",b)}break;case 1:r.disabled=!a;break;default:a=!r.disabled}return!!a}}}]);C.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,C,M,Y){function y(){b||(b=Y(function(){c=[];b=null;x={}}))}function H(a,e){b&&b();c.push(e);b=Y(function(){n(c,
function(a){a()});c=[];b=null;x={}})}function P(a,e){var b=g(a);a=f.element(b);k.push(a);b=Date.now()+e;b<=h||(M.cancel(d),h=b,d=M(function(){X(k);k=[]},e,!1))}function X(a){n(a,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?x[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{};c=Math.max(Q(a[z+"Duration"]),c);d=Math.max(Q(a[z+"Delay"]),d);g=Math.max(Q(a[K+"Delay"]),g);var e=Q(a[K+"Duration"]);
0<e&&(e*=parseInt(a[K+"IterationCount"],10)||1);f=Math.max(e,f)}});b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f};e&&(x[e]=b)}return b}function Q(a){var e=0;a=ea(a)?a.split(/\s*,\s*/):[];n(a,function(a){e=Math.max(parseFloat(a)||0,e)});return e}function R(b,e,c,d){b=0<=["ng-enter","ng-leave","ng-move"].indexOf(c);var f,p=e.parent(),h=p.data("$$ngAnimateKey");h||(p.data("$$ngAnimateKey",++a),h=a);f=h+"-"+g(e).getAttribute("class");var p=f+" "+c,h=x[p]?++x[p].total:
0,m={};if(0<h){var n=c+"-stagger",m=f+" "+n;(f=!x[m])&&u.addClass(e,n);m=Z(e,m);f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data("$$ngAnimateCSS3Data")||{},k=Z(e,p);f=k.transitionDuration;k=k.animationDuration;if(b&&0===f&&0===k)return u.removeClass(e,c),!1;c=d||b&&0<f;b=0<k&&0<m.animationDelay&&0===m.animationDuration;e.data("$$ngAnimateCSS3Data",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||[]});p=g(e);c&&(I(p,!0),d&&e.css(d));
b&&(p.style[K+"PlayState"]="paused");return!0}function D(a,e,b,c,d){function f(){e.off(D,h);u.removeClass(e,k);u.removeClass(e,t);z&&M.cancel(z);G(e,b);var a=g(e),c;for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-H,0)>=C&&b>=x&&c()}var m=g(e);a=e.data("$$ngAnimateCSS3Data");if(-1!=m.getAttribute("class").indexOf(b)&&a){var k="",t="";n(b.split(" "),function(a,
b){var e=(0<b?" ":"")+a;k+=e+"-active";t+=e+"-pending"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0;0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var y=0;0<v.animationDelay&&0===v.animationDuration&&(y=v.animationDelay*q,s.push(B+"animation-play-state"));r=Math.round(100*Math.max(r,y))/100}r||(u.addClass(e,k),a.blockTransition&&I(m,!1));var F=Z(e,a.cacheKey+" "+k),x=Math.max(F.transitionDuration,F.animationDuration);if(0===x)u.removeClass(e,k),G(e,b),c();else{!r&&
d&&0<Object.keys(d).length&&(F.transitionDuration||(e.css("transition",F.animationDuration+"s linear all"),s.push("transition")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),C=1E3*q;0<s.length&&(v=m.getAttribute("style")||"",";"!==v.charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var H=Date.now(),D=V+" "+$,q=1E3*(r+1.5*(q+x)),z;0<r&&(u.addClass(e,t),z=M(function(){z=null;0<F.transitionDuration&&I(m,!1);0<F.animationDuration&&(m.style[K+"PlayState"]="");u.addClass(e,k);
u.removeClass(e,t);d&&(0===F.transitionDuration&&e.css("transition",F.animationDuration+"s linear all"),e.css(d),s.push("transition"))},1E3*r,!1));e.on(D,h);a.closeAnimationFns.push(function(){f();c()});a.running++;P(e,q);return f}}else c()}function I(a,b){a.style[z+"Property"]=b?"none":""}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&G(b,c)}}function T(a,b,c,d,f){if(b.data("$$ngAnimateCSS3Data"))return D(a,b,c,d,f);G(b,c);d()}function U(a,b,c,d,f){var g=S(a,b,c,f.from);if(g){var h=g;H(b,
function(){h=T(a,b,c,d,f.to)});return function(a){(h||t)(a)}}y();d()}function G(a,b){u.removeClass(a,b);var c=a.data("$$ngAnimateCSS3Data");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData("$$ngAnimateCSS3Data"))}function q(a,b){var c="";a=aa(a)?a:a.split(/\s+/);n(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)});return c}var B="",z,$,K,V;N.ontransitionend===W&&N.onwebkittransitionend!==W?(B="-webkit-",z="WebkitTransition",$="webkitTransitionEnd transitionend"):(z="transition",
$="transitionend");N.onanimationend===W&&N.onwebkitanimationend!==W?(B="-webkit-",K="WebkitAnimation",V="webkitAnimationEnd animationend"):(K="animation",V="animationend");var x={},a=0,c=[],b,d=null,h=0,k=[];return{animate:function(a,b,c,d,f,g){g=g||{};g.from=c;g.to=d;return U("animate",a,b,f,g)},enter:function(a,b,c){c=c||{};return U("enter",a,"ng-enter",b,c)},leave:function(a,b,c){c=c||{};return U("leave",a,"ng-leave",b,c)},move:function(a,b,c){c=c||{};return U("move",a,"ng-move",b,c)},beforeSetClass:function(a,
b,c,d,f){f=f||{};b=q(c,"-remove")+" "+q(b,"-add");if(f=S("setClass",a,b,f.from))return H(a,d),f;y();d()},beforeAddClass:function(a,b,c,d){d=d||{};if(b=S("addClass",a,q(b,"-add"),d.from))return H(a,c),b;y();c()},beforeRemoveClass:function(a,b,c,d){d=d||{};if(b=S("removeClass",a,q(b,"-remove"),d.from))return H(a,c),b;y();c()},setClass:function(a,b,c,d,f){f=f||{};c=q(c,"-remove");b=q(b,"-add");return T("setClass",a,c+" "+b,d,f.to)},addClass:function(a,b,c,d){d=d||{};return T("addClass",a,q(b,"-add"),
c,d.to)},removeClass:function(a,b,c,d){d=d||{};return T("removeClass",a,q(b,"-remove"),c,d.to)}}}])}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map
;
/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(I,d,B){'use strict';function D(f,q){q=q||{};d.forEach(q,function(d,h){delete q[h]});for(var h in f)!f.hasOwnProperty(h)||"$"===h.charAt(0)&&"$"===h.charAt(1)||(q[h]=f[h]);return q}var w=d.$$minErr("$resource"),C=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;d.module("ngResource",["ng"]).provider("$resource",function(){var f=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};
this.$get=["$http","$q",function(q,h){function t(d,g){this.template=d;this.defaults=s({},f.defaults,g);this.urlParams={}}function v(x,g,l,m){function c(b,k){var c={};k=s({},g,k);r(k,function(a,k){u(a)&&(a=a());var d;if(a&&a.charAt&&"@"==a.charAt(0)){d=b;var e=a.substr(1);if(null==e||""===e||"hasOwnProperty"===e||!C.test("."+e))throw w("badmember",e);for(var e=e.split("."),n=0,g=e.length;n<g&&d!==B;n++){var h=e[n];d=null!==d?d[h]:B}}else d=a;c[k]=d});return c}function F(b){return b.resource}function e(b){D(b||
{},this)}var G=new t(x,m);l=s({},f.defaults.actions,l);e.prototype.toJSON=function(){var b=s({},this);delete b.$promise;delete b.$resolved;return b};r(l,function(b,k){var g=/^(POST|PUT|PATCH)$/i.test(b.method);e[k]=function(a,y,m,x){var n={},f,l,z;switch(arguments.length){case 4:z=x,l=m;case 3:case 2:if(u(y)){if(u(a)){l=a;z=y;break}l=y;z=m}else{n=a;f=y;l=m;break}case 1:u(a)?l=a:g?f=a:n=a;break;case 0:break;default:throw w("badargs",arguments.length);}var t=this instanceof e,p=t?f:b.isArray?[]:new e(f),
A={},v=b.interceptor&&b.interceptor.response||F,C=b.interceptor&&b.interceptor.responseError||B;r(b,function(b,a){"params"!=a&&"isArray"!=a&&"interceptor"!=a&&(A[a]=H(b))});g&&(A.data=f);G.setUrlParams(A,s({},c(f,b.params||{}),n),b.url);n=q(A).then(function(a){var c=a.data,g=p.$promise;if(c){if(d.isArray(c)!==!!b.isArray)throw w("badcfg",k,b.isArray?"array":"object",d.isArray(c)?"array":"object");b.isArray?(p.length=0,r(c,function(a){"object"===typeof a?p.push(new e(a)):p.push(a)})):(D(c,p),p.$promise=
g)}p.$resolved=!0;a.resource=p;return a},function(a){p.$resolved=!0;(z||E)(a);return h.reject(a)});n=n.then(function(a){var b=v(a);(l||E)(b,a.headers);return b},C);return t?n:(p.$promise=n,p.$resolved=!1,p)};e.prototype["$"+k]=function(a,b,c){u(a)&&(c=b,b=a,a={});a=e[k].call(this,a,this,b,c);return a.$promise||a}});e.bind=function(b){return v(x,s({},g,b),l)};return e}var E=d.noop,r=d.forEach,s=d.extend,H=d.copy,u=d.isFunction;t.prototype={setUrlParams:function(f,g,l){var m=this,c=l||m.template,h,
e,q=m.urlParams={};r(c.split(/\W/),function(b){if("hasOwnProperty"===b)throw w("badname");!/^\d+$/.test(b)&&b&&(new RegExp("(^|[^\\\\]):"+b+"(\\W|$)")).test(c)&&(q[b]=!0)});c=c.replace(/\\:/g,":");g=g||{};r(m.urlParams,function(b,k){h=g.hasOwnProperty(k)?g[k]:m.defaults[k];d.isDefined(h)&&null!==h?(e=encodeURIComponent(h).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),c=c.replace(new RegExp(":"+
k+"(\\W|$)","g"),function(b,a){return e+a})):c=c.replace(new RegExp("(/?):"+k+"(\\W|$)","g"),function(b,a,c){return"/"==c.charAt(0)?c:a+c})});m.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/");c=c.replace(/\/\.(?=\w+($|\?))/,".");f.url=c.replace(/\/\\\./,"/.");r(g,function(b,c){m.urlParams[c]||(f.params=f.params||{},f.params[c]=b)})}};return v}]})})(window,window.angular);
//# sourceMappingURL=angular-resource.min.js.map
;
(function(n,t,i){"use strict";function it(n){var i=[];return v(i,t.noop).chars(n),i.join("")}function r(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function rt(n,i){function k(n,r,o,s){if(r=t.lowercase(r),c[r])for(;u.last()&&e[u.last()];)a("",u.last());h[r]&&u.last()==r&&a("",r),(s=p[r]||!!s)||u.push(r);var l={};o.replace(g,function(n,t,i,r,u){l[t]=f(i||r||u||"")}),i.start&&i.start(r,l,s)}function a(n,r){var f=0,e;if(r=t.lowercase(r))for(f=u.length-1;0<=f&&u[f]!=r;f--);if(0<=f){for(e=u.length-1;e>=f;e--)i.end&&i.end(u[e]);u.length=f}}"string"!=typeof n&&(n=null===n||"undefined"==typeof n?"":""+n);var r,s,u=[],y=n,v;for(u.last=function(){return u[u.length-1]};n;){if(v="",s=!0,u.last()&&o[u.last()]?(n=n.replace(new RegExp("(.*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(n,t){return t=t.replace(st,"$1").replace(et,"$1"),i.chars&&i.chars(f(t)),""}),a("",u.last())):(0===n.indexOf("<!--")?(r=n.indexOf("--",4),0<=r&&n.lastIndexOf("-->",r)===r&&(i.comment&&i.comment(n.substring(4,r)),n=n.substring(r+3),s=!1)):l.test(n)?(r=n.match(l))&&(n=n.replace(r[0],""),s=!1):ot.test(n)?(r=n.match(w))&&(n=n.substring(r[0].length),r[0].replace(w,a),s=!1):nt.test(n)&&((r=n.match(b))?(r[4]&&(n=n.substring(r[0].length),r[0].replace(b,k)),s=!1):(v+="<",n=n.substring(1))),s&&(r=n.indexOf("<"),v+=0>r?n:n.substring(0,r),n=0>r?"":n.substring(r),i.chars&&i.chars(f(v)))),n==y)throw tt("badparse",n);y=n}a()}function f(n){var t,i;return n?(t=d.exec(n),n=t[1],i=t[3],(t=t[2])&&(u.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in u?u.textContent:u.innerText),n+t+i):""}function y(n){return n.replace(/&/g,"&amp;").replace(ut,function(n){var t=n.charCodeAt(0);return n=n.charCodeAt(1),"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(ft,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,f,e){n=t.lowercase(n),!u&&o[n]&&(u=n),u||!0!==s[n]||(r("<"),r(n),t.forEach(f,function(u,f){var e=t.lowercase(f),o="img"===n&&"src"===e||"background"===e;!0!==k[e]||!0===a[e]&&!i(u,o)||(r(" "),r(f),r('="'),r(y(u)),r('"'))}),r(e?"/>":">"))},end:function(n){n=t.lowercase(n),u||!0!==s[n]||(r("</"),r(n),r(">")),n==u&&(u=!1)},chars:function(n){u||r(y(n))}}}var tt=t.$$minErr("$sanitize"),b=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,w=/^<\/\s*([\w:-]+)[^>]*>/,g=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,nt=/^</,ot=/^<\//,st=/\x3c!--(.*?)--\x3e/g,l=/<!DOCTYPE([^>]*?)>/i,et=/<!\[CDATA\[(.*?)]]\x3e/g,ut=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ft=/([^\#-~| |!])/g,p=r("area,br,col,hr,img,wbr");n=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),i=r("rp,rt");var h=t.extend({},i,n),c=t.extend({},n,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),e=t.extend({},i,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));n=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var o=r("script,style"),s=t.extend({},p,c,e,h,n),a=r("background,cite,href,longdesc,src,usemap,xlink:href");n=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),i=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var k=t.extend({},a,i,n),u=document.createElement("pre"),d=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){var i=[];return rt(t,v(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(n){var r=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,i=/^mailto:/;return function(u,f){function l(n){n&&e.push(it(n))}function a(n,i){e.push("<a "),t.isDefined(f)&&(e.push('target="'),e.push(f),e.push('" ')),e.push('href="'),e.push(n),e.push('">'),l(i),e.push("</a>")}if(!u)return u;for(var o,s=u,e=[],h,c;o=s.match(r);)h=o[0],o[2]==o[3]&&(h="mailto:"+h),c=o.index,l(s.substr(0,c)),a(h,o[0].replace(i,"")),s=s.substring(c+o[0].length);return l(s),n(e.join(""))}}])})(window,window.angular);
(function(n){function i(){var t=+new Date,n;if(t-c>l){for(n=0;n<s.length;n++)s[n]();c=t}}function r(n){o&&clearTimeout(o),o=setTimeout(function(){n()},250)}function h(){u.DOMNodeInserted?u.DOMSubtreeModified?t.addEventListener("DOMSubtreeModified",function(){r(i)},!1):(t.addEventListener("DOMNodeInserted",function(){r(i)},!1),t.addEventListener("DOMNodeRemoved",function(){r(i)},!1)):document.onpropertychange&&(document.onpropertychange=i)}function f(n){t.addEventListener(n,function i(){u[n]=!0,t.removeEventListener(n,i,!1),--v==0&&h()},!1)}var c=+new Date,o=null,l=500,s=[],a=function(n,t){t&&(l=t),s.push(n)},u={},t=document.documentElement,v=3,e;n.addEventListener?(f("DOMSubtreeModified"),f("DOMNodeInserted"),f("DOMNodeRemoved")):h(),e=document.createElement("div"),t.appendChild(e),t.removeChild(e),n.onDomChange=a})(window),!function(n){function e(n,t){var i=new Image,r=n.getAttribute("data-src");i.onload=function(){n.parent?n.parent.replaceChild(i,n):n.src=r,t?t():null},i.src=r,$(n).removeClass("lazy")}function r(t){var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.top<=(n.innerHeight||document.documentElement.clientHeight)}var u=function(n,t){var r,f;if(document.querySelectorAll)t=document.querySelectorAll(n);else{r=document,f=r.styleSheets[0]||r.createStyleSheet(),f.addRule(n,"f:b");for(var u=r.all,i=0,e=[],o=u.length;i<o;i++)u[i].currentStyle.f&&e.push(u[i]);f.removeRule(0),t=e}return t},f=function(t,i){n.addEventListener?this.addEventListener(t,i,!1):n.attachEvent?this.attachEvent("on"+t,i):this["on"+t]=i},o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i=!1,t=function(){var f,t,n;if(!i){for(i=!0,f=u("img.lazy"),t=[],n=0;n<f.length;n++)t.push(f[n]);for(n=0;n<t.length;n++)r(t[n])&&e(t[n],function(){t.splice(n,n)});i=!1}};t(),f("scroll",t),onDomChange(function(){t()})}(this);
(function(n,t,i,r){"use strict";function o(n){return(typeof n=="string"||n instanceof String)&&(n=n.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),n}var s=function(t){for(var i=t.length,r=n("head");i--;)r.has("."+t[i]).length===0&&r.append('<meta class="'+t[i]+'" />')};s(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),n(function(){typeof FastClick!="undefined"&&typeof i.body!="undefined"&&FastClick.attach(i.body)});var u=function(t,r){if(typeof t=="string"){if(r){var u;if(r.jquery){if(u=r[0],!u)return r}else u=r;return n(u.querySelectorAll(t))}return n(i.querySelectorAll(t))}return n(t,r)},h=function(n){var t=[];return n||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},c=function(n){for(var r=n.split("-"),t=r.length,i=[];t--;)t!==0?i.push(r[t]):this.namespace.length>0?i.push(this.namespace,r[t]):i.push(r[t]);return i.reverse().join("-")},f=function(t,i){var r=this,f=function(){var f=u(this),e=!f.data(r.attr_name(!0)+"-init");f.data(r.attr_name(!0)+"-init",n.extend({},r.settings,i||t,r.data_options(f))),e&&r.events(this)};return u(this.scope).is("["+this.attr_name()+"]")?f.call(this.scope):u("["+this.attr_name()+"]",this.scope).each(f),typeof t=="string"?this[t].call(this,i):void 0},e=function(n,t){function i(){t(n[0])}function r(){this.one("load",i);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),n=t.match(/\?/)?"&":"?";n+="random="+ +new Date,this.attr("src",t+n)}}if(!n.attr("src")){i();return}n[0].complete||n[0].readyState===4?i():r.call(n)};t.matchMedia=t.matchMedia||function(n){var u,r=n.documentElement,f=r.firstElementChild||r.firstChild,i=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(i,f),u=t.offsetWidth===42,r.removeChild(i),{matches:u,media:n}}}(i),function(n){function o(){f&&(r(o),s&&n.fx.tick())}for(var f,i=0,u=["webkit","moz"],r=t.requestAnimationFrame,e=t.cancelAnimationFrame,s="undefined"!=typeof n.fx;i<u.length&&!r;i++)r=t[u[i]+"RequestAnimationFrame"],e=e||t[u[i]+"CancelAnimationFrame"]||t[u[i]+"CancelRequestAnimationFrame"];r?(t.requestAnimationFrame=r,t.cancelAnimationFrame=e,s&&(n.fx.timer=function(t){t()&&n.timers.push(t)&&!f&&(f=!0,o())},n.fx.stop=function(){f=!1})):(t.requestAnimationFrame=function(n){var u=+new Date,r=Math.max(0,16-(u-i)),f=t.setTimeout(function(){n(u+r)},r);return i=u+r,f},t.cancelAnimationFrame=function(n){clearTimeout(n)})}(n),t.Foundation={name:"Foundation",version:"5.5.1",media_queries:{small:u(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":u(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:u(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":u(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:u(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":u(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:u(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":u(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:u(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:n("<style></style>").appendTo("head")[0].sheet,global:{namespace:r},init:function(n,i,r,f,e){var h=[n,r,f,e],o=[],s;if(this.rtl=/rtl/i.test(u("html").attr("dir")),this.scope=n||this.scope,this.set_namespace(),i&&typeof i=="string"&&!/reflow/i.test(i))this.libs.hasOwnProperty(i)&&o.push(this.init_lib(i,h));else for(s in this.libs)o.push(this.init_lib(s,i));return u(t).load(function(){u(t).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),n},init_lib:function(t,i){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),i&&i.hasOwnProperty(t))?(typeof this.libs[t].settings!="undefined"?n.extend(!0,this.libs[t].settings,i[t]):typeof this.libs[t].defaults!="undefined"&&n.extend(!0,this.libs[t].defaults,i[t]),this.libs[t].init.apply(this.libs[t],[this.scope,i[t]])):(i=i instanceof Array?i:new Array(i),this.libs[t].init.apply(this.libs[t],i)):function(){}},patch:function(n){n.scope=this.scope,n.namespace=this.global.namespace,n.rtl=this.rtl,n.data_options=this.utils.data_options,n.attr_name=h,n.add_namespace=c,n.bindings=f,n.S=this.utils.S},inherit:function(n,t){for(var r=t.split(" "),i=r.length;i--;)this.utils.hasOwnProperty(r[i])&&(n[r[i]]=this.utils[r[i]])},set_namespace:function(){var t=this.global.namespace===r?n(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===r||/false/i.test(t)?"":t},libs:{},utils:{S:u,throttle:function(n,t){var i=null;return function(){var u=this,r=arguments;i==null&&(i=setTimeout(function(){n.apply(u,r),i=null},t))}},debounce:function(n,t,i){var r,u;return function(){var e=this,f=arguments,s=function(){r=null,i||(u=n.apply(e,f))},o=i&&!r;return clearTimeout(r),r=setTimeout(s,t),o&&(u=n.apply(e,f)),u}},data_options:function(t,i){function c(n){return!isNaN(+n)&&n!==null&&n!==""&&n!==!1&&n!==!0}function o(t){return typeof t=="string"?n.trim(t):t}i=i||"options";var s={},e,r,u,h=function(n){var t=Foundation.global.namespace;return t.length>0?n.data(t+"-"+i):n.data(i)},f=h(t);if(typeof f=="object")return f;for(u=(f||":").split(";"),e=u.length;e--;)r=u[e].split(":"),r=[r[0],r.slice(1).join(":")],/true/i.test(r[1])&&(r[1]=!0),/false/i.test(r[1])&&(r[1]=!1),c(r[1])&&(r[1]=r[1].indexOf(".")===-1?parseInt(r[1],10):parseFloat(r[1])),r.length===2&&r[0].length>0&&(s[o(r[0])]=o(r[1]));return s},register_media:function(t,i){Foundation.media_queries[t]===r&&(n("head").append('<meta class="'+i+'"/>'),Foundation.media_queries[t]=o(n("."+i).css("font-family")))},add_custom_rule:function(n,t){if(t===r&&Foundation.stylesheet)Foundation.stylesheet.insertRule(n,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[t];i!==r&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+n+" }")}},image_loaded:function(n,t){var r=this,i=n.length;i===0&&t(n),n.each(function(){e(r.S(this),function(){i-=1,i===0&&t(n)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(n){return t.matchMedia(n).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},n.fn.foundation=function(){var n=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(n)),this})}})(jQuery,window,window.document),function(n,t,i){"use strict";Foundation.libs.abide={name:"abide",version:"5.5.1",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(n){var e=i.getElementById(n.getAttribute(this.add_namespace("data-equalto"))).value,f=n.value;return e===f}}},timer:null,init:function(n,t,i){this.bindings(t,i)},events:function(t){var i=this,u=i.S(t).attr("novalidate","novalidate"),r=u.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid");u.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(n){var t=/ajax/i.test(i.S(this).attr(i.attr_name()));return i.validate(i.S(this).find("input, textarea, select").get(),n,t)}).on("reset",function(){return i.reset(n(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(n){r.validate_on_blur===!0&&i.validate([this],n)}).on("keydown.fndtn.abide",function(n){r.live_validate===!0&&n.which!=9&&(clearTimeout(i.timer),i.timer=setTimeout(function(){i.validate([this],n)}.bind(this),r.timeout))})},reset:function(t){t.removeAttr(this.invalid_attr),n(this.invalid_attr,t).removeAttr(this.invalid_attr),n("."+this.settings.error_class,t).not("small").removeClass(this.settings.error_class)},validate:function(n,t,i){for(var e=this.parse_patterns(n),o=e.length,u=this.S(n[0]).closest("form"),f=/submit/.test(t.type),r=0;r<o;r++)if(!e[r]&&(f||i))return this.settings.focus_on_invalid&&n[r].focus(),u.trigger("invalid").trigger("invalid.fndtn.abide"),this.S(n[r]).closest("form").attr(this.invalid_attr,""),!1;return((f||i)&&u.trigger("valid").trigger("valid.fndtn.abide"),u.removeAttr(this.invalid_attr),i)?!1:!0},parse_patterns:function(n){for(var i=n.length,t=[];i--;)t.push(this.pattern(n[i]));return this.check_validation_and_apply_styles(t)},pattern:function(n){var r=n.getAttribute("type"),i=typeof n.getAttribute("required")=="string",t=n.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(t)&&t.length>0?[n,this.settings.patterns[t],i]:t.length>0?[n,new RegExp(t),i]:this.settings.patterns.hasOwnProperty(r)?[n,this.settings.patterns[r],i]:(t=/.*/,[n,t,i])},check_validation_and_apply_styles:function(t){for(var o=t.length,e=[],p=this.S(t[0][0]).closest("[data-"+this.attr_name(!0)+"]"),d=p.data(this.attr_name(!0)+"-init")||{},h,c;o--;){var i=t[o][0],u=t[o][2],y=i.value.trim(),a=this.S(i).parent(),l=i.getAttribute(this.add_namespace("data-abide-validator")),k=i.type==="radio",w=i.type==="checkbox",s=this.S('label[for="'+i.getAttribute("id")+'"]'),b=u?i.value.length>0:!0,r=[],f,v;i.getAttribute(this.add_namespace("data-equalto"))&&(l="equalTo"),f=a.is("label")?a.parent():a,l&&(v=this.settings.validators[l].apply(this,[i,u,f]),r.push(v)),k&&u?r.push(this.valid_radio(i,u)):w&&u?r.push(this.valid_checkbox(i,u)):(t[o][1].test(y)&&b||!u&&i.value.length<1||n(i).attr("disabled")?r.push(!0):r.push(!1),r=[r.every(function(n){return n})],r[0]?(this.S(i).removeAttr(this.invalid_attr),i.setAttribute("aria-invalid","false"),i.removeAttribute("aria-describedby"),f.removeClass(this.settings.error_class),s.length>0&&this.settings.error_labels&&s.removeClass(this.settings.error_class).removeAttr("role"),n(i).triggerHandler("valid")):(this.S(i).attr(this.invalid_attr,""),i.setAttribute("aria-invalid","true"),h=f.find("small."+this.settings.error_class,"span."+this.settings.error_class),c=h.length>0?h[0].id:"",c.length>0&&i.setAttribute("aria-describedby",c),f.addClass(this.settings.error_class),s.length>0&&this.settings.error_labels&&s.addClass(this.settings.error_class).attr("role","alert"),n(i).triggerHandler("invalid"))),e.push(r[0])}return e=[e.every(function(n){return n})]},valid_checkbox:function(n,t){var n=this.S(n),i=n.is(":checked")||!t||n.get(0).getAttribute("disabled");return i?n.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):n.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),i},valid_radio:function(n){for(var o=n.getAttribute("name"),r=this.S(n).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+o+"']"),e=r.length,u=!1,f=!1,i=0;i<e;i++)r[i].getAttribute("disabled")?(f=!0,u=!0):r[i].checked?u=!0:f&&(u=!1);for(i=0;i<e;i++)u?this.S(r[i]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):this.S(r[i]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return u},valid_equal:function(n,t,r){var f=i.getElementById(n.getAttribute(this.add_namespace("data-equalto"))).value,e=n.value,u=f===e;return u?(this.S(n).removeAttr(this.invalid_attr),r.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(n).attr(this.invalid_attr,""),r.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),u},valid_oneof:function(n,t,i,r){var n=this.S(n),f=this.S("["+this.add_namespace("data-oneof")+"]"),e=f.filter(":checked").length>0,u;return e?n.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):n.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),r||(u=this,f.each(function(){u.valid_oneof.call(u,this,null,null,!0)})),e}}}(jQuery,window,window.document),function(n){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.5.1",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(n,t,i){this.bindings(t,i)},events:function(){var t=this,i=this.S;i(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > .accordion-navigation > a",function(r){var e=i(this).closest("["+t.attr_name()+"]"),h=t.attr_name()+"="+e.attr(t.attr_name()),u=e.data(t.attr_name(!0)+"-init")||t.settings,f=i("#"+this.href.split("#")[1]),o=n("> .accordion-navigation",e),s=o.children("."+u.content_class),c=s.filter("."+u.active_class);if(r.preventDefault(),e.attr(t.attr_name())&&(s=s.add("["+h+"] dd > ."+u.content_class),o=o.add("["+h+"] .accordion-navigation")),u.toggleable&&f.is(c)){f.parent(".accordion-navigation").toggleClass(u.active_class,!1),f.toggleClass(u.active_class,!1),u.callback(f),f.triggerHandler("toggled",[e]),e.triggerHandler("toggled",[f]);return}u.multi_expand||(s.removeClass(u.active_class),o.removeClass(u.active_class)),f.addClass(u.active_class).parent().addClass(u.active_class),u.callback(f),f.triggerHandler("toggled",[e]),e.triggerHandler("toggled",[f])})},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(n){"use strict";Foundation.libs.alert={name:"alert",version:"5.5.1",settings:{callback:function(){}},init:function(n,t,i){this.bindings(t,i)},events:function(){var i=this,t=this.S;n(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(n){var r=t(this).closest("["+i.attr_name()+"]"),u=r.data(i.attr_name(!0)+"-init")||i.settings;if(n.preventDefault(),Modernizr.csstransitions){r.addClass("alert-close");r.on("transitionend webkitTransitionEnd oTransitionEnd",function(){t(this).trigger("close").trigger("close.fndtn.alert").remove(),u.callback()})}else r.fadeOut(300,function(){t(this).trigger("close").trigger("close.fndtn.alert").remove(),u.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(n,t,i,r){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.5.1",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(n,t,i){var r=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(t,i),r.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(r.S("li",this.scope)):r.S("["+this.attr_name()+"]",this.scope).each(function(){r.assemble(r.S("li",this))})},events:function(r){var u=this,f=u.S,e=n(".scroll-container");e.length>0&&(this.scope=e);f(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(n,t,i){var t=t||f(this),i=i||t,o=t.next("li"),e=t.closest("["+u.attr_name()+"]").data(u.attr_name(!0)+"-init"),r=f(n.target);n.preventDefault(),e||(u.init(),e=t.closest("["+u.attr_name()+"]").data(u.attr_name(!0)+"-init")),i.hasClass("visible")&&t[0]===i[0]&&o.length>0&&u.is_open(t)&&(i=o,r=f("img",i)),u.open(r,t,i),u.update_paddles(i)}).on("click.fndtn.clearing",".clearing-main-next",function(n){u.nav(n,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(n){u.nav(n,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(n){Foundation.libs.clearing.close(n,this)});n(i).on("keydown.fndtn.clearing",function(n){u.keydown(n)});f(t).off(".clearing").on("resize.fndtn.clearing",function(){u.resize()});this.swipe_events(r)},swipe_events:function(){var i=this,t=i.S;t(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(n){n.touches||(n=n.originalEvent);var i={start_page_x:n.touches[0].pageX,start_page_y:n.touches[0].pageY,start_time:+new Date,delta_x:0,is_scrolling:r};t(this).data("swipe-transition",i),n.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(n){var r,u;(n.touches||(n=n.originalEvent),n.touches.length>1||n.scale&&n.scale!==1)||(r=t(this).data("swipe-transition"),typeof r=="undefined"&&(r={}),r.delta_x=n.touches[0].pageX-r.start_page_x,Foundation.rtl&&(r.delta_x=-r.delta_x),typeof r.is_scrolling=="undefined"&&(r.is_scrolling=!!(r.is_scrolling||Math.abs(r.delta_x)<Math.abs(n.touches[0].pageY-r.start_page_y))),r.is_scrolling||r.active||(n.preventDefault(),u=r.delta_x<0?"next":"prev",r.active=!0,i.nav(n,u)))}).on("touchend.fndtn.clearing",".visible-img",function(n){t(this).data("swipe-transition",{}),n.stopPropagation()})},assemble:function(t){var i=t.parent(),f,u;if(!i.parent().hasClass("carousel")&&(i.after('<div id="foundationClearingHolder"></div>'),f=i.detach(),u="",f[0]!=null)){u=f[0].outerHTML;var s=this.S("#foundationClearingHolder"),h=i.data(this.attr_name(!0)+"-init"),e={grid:'<div class="carousel">'+u+"</div>",viewing:h.templates.viewing},r='<div class="clearing-assembled"><div>'+e.viewing+e.grid+"</div></div>",o=this.settings.touch_label;Modernizr.touch&&(r=n(r).find(".clearing-touch-label").html(o).end()),s.after(r).remove()}},open:function(t,r,u){function h(){setTimeout(function(){this.image_loaded(o,function(){o.outerWidth()!==1||c?a.call(this,o):h.call(this)}.bind(this))}.bind(this),100)}function a(t){var i=n(t);i.css("visibility","visible"),v.css("overflow","hidden"),l.addClass("clearing-blackout"),s.addClass("clearing-container"),e.show(),this.fix_height(u).caption(f.S(".clearing-caption",e),f.S("img",u)).center_and_label(t,y).shift(r,u,function(){u.closest("li").siblings().removeClass("visible"),u.closest("li").addClass("visible")}),e.trigger("opened.fndtn.clearing")}var f=this,v=n(i.body),l=u.closest(".clearing-assembled"),s=f.S("div",l).first(),e=f.S(".visible-img",s),o=f.S("img",e).not(t),y=f.S(".clearing-touch-label",s),c=!1;n("body").on("touchmove",function(n){n.preventDefault()});o.error(function(){c=!0}),this.locked()||(e.trigger("open.fndtn.clearing"),o.attr("src",this.load(t)).css("visibility","hidden"),h.call(this))},close:function(t,r){t.preventDefault();var f=function(n){return/blackout/.test(n.selector)?n:n.closest(".clearing-blackout")}(n(r)),o=n(i.body),e,u;return r===t.target&&f&&(o.css("overflow",""),e=n("div",f).first(),u=n(".visible-img",e),u.trigger("close.fndtn.clearing"),this.settings.prev_index=0,n("ul["+this.attr_name()+"]",f).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),e.removeClass("clearing-container"),u.hide(),u.trigger("closed.fndtn.clearing")),n("body").off("touchmove"),!1},is_open:function(n){return n.parent().prop("style").length>0},keydown:function(t){var i=n(".clearing-blackout ul["+this.attr_name()+"]"),f=this.rtl?37:39,u=this.rtl?39:37,r=27;t.which===f&&this.go(i,"next"),t.which===u&&this.go(i,"prev"),t.which===r&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(t,i){var r=n("ul["+this.attr_name()+"]",".clearing-blackout");t.preventDefault(),this.go(r,i)},resize:function(){var t=n("img",".clearing-blackout .visible-img"),i=n(".clearing-touch-label",".clearing-blackout");t.length&&(this.center_and_label(t,i),t.trigger("resized.fndtn.clearing"))},fix_height:function(n){var t=n.parent().children(),i=this;return t.each(function(){var n=i.S(this),t=n.find("img");n.height()>t.outerHeight()&&n.addClass("fix-height")}).closest("ul").width(t.length*100+"%"),this},update_paddles:function(n){n=n.closest("li");var t=n.closest(".carousel").siblings(".visible-img");n.next().length>0?this.S(".clearing-main-next",t).removeClass("disabled"):this.S(".clearing-main-next",t).addClass("disabled"),n.prev().length>0?this.S(".clearing-main-prev",t).removeClass("disabled"):this.S(".clearing-main-prev",t).addClass("disabled")},center_and_label:function(n,t){return!this.rtl&&t.length>0?t.css({marginLeft:-(t.outerWidth()/2),marginTop:-(n.outerHeight()/2)-t.outerHeight()-10}):t.css({marginRight:-(t.outerWidth()/2),marginTop:-(n.outerHeight()/2)-t.outerHeight()-10,left:"auto",right:"50%"}),this},load:function(n){var t;return(t=n[0].nodeName==="A"?n.attr("href"):n.closest("a").attr("href"),this.preload(n),t)?t:n.attr("src")},preload:function(n){this.img(n.closest("li").next()).img(n.closest("li").prev())},img:function(n){if(n.length){var i=new Image,t=this.S("a",n);i.src=t.length?t.attr("href"):this.S("img",n).attr("src")}return this},caption:function(n,t){var i=t.attr("data-caption");return i?n.html(i).show():n.text("").hide(),this},go:function(n,t){var r=this.S(".visible",n),i=r[t]();this.settings.skip_selector&&i.find(this.settings.skip_selector).length!=0&&(i=i[t]()),i.length&&this.S("img",i).trigger("click",[r,i]).trigger("click.fndtn.clearing",[r,i]).trigger("change.fndtn.clearing")},shift:function(n,t,i){var u=t.parent(),c=this.settings.prev_index||t.index(),e=this.direction(u,n,t),f=this.rtl?"right":"left",h=parseInt(u.css("left"),10),o=t.outerWidth(),s,r={};t.index()===c||/skip/.test(e)?/skip/.test(e)&&(s=t.index()-this.settings.up_count,this.lock(),s>0?(r[f]=-(s*o),u.animate(r,300,this.unlock())):(r[f]=0,u.animate(r,300,this.unlock()))):/left/.test(e)?(this.lock(),r[f]=h+o,u.animate(r,300,this.unlock())):/right/.test(e)&&(this.lock(),r[f]=h-o,u.animate(r,300,this.unlock())),i()},direction:function(n,t,i){var f=this.S("li",n),o=f.outerWidth()+f.outerWidth()/4,e=Math.floor(this.S(".clearing-container").outerWidth()/o)-1,r=f.index(i),u;return this.settings.up_count=e,u=this.adjacent(this.settings.prev_index,r)?r>e&&r>this.settings.prev_index?"right":r>e-1&&r<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=r,u},adjacent:function(n,t){for(var i=t+1;i>=t-1;i--)if(i===n)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(t).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(n,t,i){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.1",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(t,i,r){Foundation.inherit(this,"throttle"),n.extend(!0,this.settings,i,r),this.bindings(i,r)},events:function(){var u=this,f=u.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){var i=f(this).data(u.attr_name(!0)+"-init")||u.settings;(!i.is_hover||Modernizr.touch)&&(t.preventDefault(),f(this).parent("[data-reveal-id]")&&t.stopPropagation(),u.toggle(n(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(n){var r=f(this),i,t,e;clearTimeout(u.timeout),r.data(u.data_attr())?(i=f("#"+r.data(u.data_attr())),t=r):(i=r,t=f("["+u.attr_name()+'="'+i.attr("id")+'"]')),e=t.data(u.attr_name(!0)+"-init")||u.settings,f(n.currentTarget).data(u.data_attr())&&e.is_hover&&u.closeall.call(u),e.is_hover&&u.open.apply(u,[i,t])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var i=f(this),r,t;i.data(u.data_attr())?t=i.data(u.data_attr(!0)+"-init")||u.settings:(r=f("["+u.attr_name()+'="'+f(this).attr("id")+'"]'),t=r.data(u.attr_name(!0)+"-init")||u.settings),u.timeout=setTimeout(function(){i.data(u.data_attr())?t.is_hover&&u.close.call(u,f("#"+i.data(u.data_attr()))):t.is_hover&&u.close.call(u,i)}.bind(this),t.hover_timeout)}).on("click.fndtn.dropdown",function(t){var r=f(t.target).closest("["+u.attr_name()+"-content]"),e=r.find("a");if((e.length>0&&r.attr("aria-autoclose")!=="false"&&u.close.call(u,f("["+u.attr_name()+"-content]")),t.target===i||n.contains(i.documentElement,t.target))&&!(f(t.target).closest("["+u.attr_name()+"]").length>0)){if(!f(t.target).data("revealId")&&r.length>0&&(f(t.target).is("["+u.attr_name()+"-content]")||n.contains(r.first()[0],t.target))){t.stopPropagation();return}u.close.call(u,f("["+u.attr_name()+"-content]"))}}).on("opened.fndtn.dropdown","["+u.attr_name()+"-content]",function(){u.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+u.attr_name()+"-content]",function(){u.settings.closed.call(this)});f(t).off(".dropdown").on("resize.fndtn.dropdown",u.throttle(function(){u.resize.call(u)},50));this.resize()},close:function(t){var i=this;t.each(function(){var r=n("["+i.attr_name()+"="+t[0].id+"]")||n("aria-controls="+t[0].id+"]");r.attr("aria-expanded","false"),i.S(this).hasClass(i.settings.active_class)&&(i.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(i.settings.active_class).prev("["+i.attr_name()+"]").removeClass(i.settings.active_class).removeData("target"),i.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[t]))}),t.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var t=this;n.each(t.S(".f-open-"+this.attr_name(!0)),function(){t.close.call(t,t.S(this))})},open:function(n,t){this.css(n.addClass(this.settings.active_class),t),n.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),n.data("target",t.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[n,t]),n.attr("aria-hidden","false"),t.attr("aria-expanded","true"),n.focus(),n.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(n){if(!n.hasClass(this.settings.disabled_class)){var t=this.S("#"+n.data(this.data_attr()));t.length!==0&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(t)),t.hasClass(this.settings.active_class)?(this.close.call(this,t),t.data("target")!==n.get(0)&&this.open.call(this,t,n)):this.open.call(this,t,n))}},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),i=n(t.data("target"));t.length&&i.length&&this.css(t,i)},css:function(n,t){var u=Math.max((t.width()-n.width())/2,8),i=t.data(this.attr_name(!0)+"-init")||this.settings,r;return this.clear_idx(),this.small()?(r=this.dirs.bottom.call(n,t,i),n.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:r.top}),n.css(Foundation.rtl?"right":"left",u)):this.style(n,t,i),n},style:function(t,i,r){var u=n.extend({position:"absolute"},this.dirs[r.align].call(t,i,r));t.attr("style","").css(u)},dirs:{_base:function(n){var s=this.offsetParent(),o=s.offset(),r=n.offset(),f,u,e;return r.top-=o.top,r.left-=o.left,r.missRight=!1,r.missTop=!1,r.missLeft=!1,r.leftRightFlag=!1,f=i.getElementsByClassName("row")[0]?i.getElementsByClassName("row")[0].clientWidth:t.outerWidth,u=(t.outerWidth-f)/2,e=f,this.hasClass("mega")||(n.offset().top<=this.outerHeight()&&(r.missTop=!0,e=t.outerWidth-u,r.leftRightFlag=!0),n.offset().left+this.outerWidth()>n.offset().left+u&&n.offset().left-u>this.outerWidth()&&(r.missRight=!0,r.missLeft=!1),n.offset().left-this.outerWidth()<=0&&(r.missLeft=!0,r.missRight=!1)),r},top:function(n,t){var r=Foundation.libs.dropdown,i=r.dirs._base.call(this,n);return(this.addClass("drop-top"),i.missTop==!0&&(i.top=i.top+n.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),i.missRight==!0&&(i.left=i.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),Foundation.rtl)?{left:i.left-this.outerWidth()+n.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(n,t){var r=Foundation.libs.dropdown,i=r.dirs._base.call(this,n);return(i.missRight==!0&&(i.left=i.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),r.rtl)?{left:i.left-this.outerWidth()+n.outerWidth(),top:i.top+n.outerHeight()}:{left:i.left,top:i.top+n.outerHeight()}},left:function(n){var i=Foundation.libs.dropdown.dirs._base.call(this,n);return this.addClass("drop-left"),i.missLeft==!0&&(i.left=i.left+this.outerWidth(),i.top=i.top+n.outerHeight(),this.removeClass("drop-left")),{left:i.left-this.outerWidth(),top:i.top}},right:function(n,t){var i=Foundation.libs.dropdown.dirs._base.call(this,n),r;return this.addClass("drop-right"),i.missRight==!0?(i.left=i.left-this.outerWidth(),i.top=i.top+n.outerHeight(),this.removeClass("drop-right")):i.triggeredRight=!0,r=Foundation.libs.dropdown,(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),{left:i.left+n.outerWidth(),top:i.top}}},adjust_pip:function(n,t,i,r){var f=Foundation.stylesheet,u=8;n.hasClass(i.mega_class)?u=r.left+t.outerWidth()/2-8:this.small()&&(u+=r.left-8),this.rule_idx=f.cssRules.length;var s=".f-dropdown.open:before",h=".f-dropdown.open:after",e="left: "+u+"px;",o="left: "+(u-1)+"px;";r.missRight==!0&&(u=n.outerWidth()-23,s=".f-dropdown.open:before",h=".f-dropdown.open:after",e="left: "+u+"px;",o="left: "+(u-1)+"px;"),r.triggeredRight==!0&&(s=".f-dropdown.open:before",h=".f-dropdown.open:after",e="left:-12px;",o="left:-14px;"),f.insertRule?(f.insertRule([s,"{",e,"}"].join(" "),this.rule_idx),f.insertRule([h,"{",o,"}"].join(" "),this.rule_idx+1)):(f.addRule(s,e,this.rule_idx),f.addRule(h,o,this.rule_idx+1))},clear_idx:function(){var n=Foundation.stylesheet;typeof this.rule_idx!="undefined"&&(n.deleteRule(this.rule_idx),n.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(t).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(n,t){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.1",settings:{use_tallest:!0,before_height_change:n.noop,after_height_change:n.noop,equalize_on_stack:!1},init:function(n,t,i){Foundation.inherit(this,"image_loaded"),this.bindings(t,i),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(t){var s=!1,i=t.find("["+this.attr_name()+"-watch]:visible"),r=t.data(this.attr_name(!0)+"-init"),o,u,f,e;i.length!==0&&((o=i.first().offset().top,r.before_height_change(),t.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),i.height("inherit"),i.each(function(){var t=n(this);t.offset().top!==o&&(s=!0)}),r.equalize_on_stack===!1&&s)||(u=i.map(function(){return n(this).outerHeight(!1)}).get(),r.use_tallest?(f=Math.max.apply(null,u),i.css("height",f)):(e=Math.min.apply(null,u),i.css("height",e)),r.after_height_change(),t.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")))},reflow:function(){var t=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var i=n(this);t.image_loaded(t.S("img",this),function(){t.equalize(i)})})}}}(jQuery,window,window.document),function(n,t){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.5.1",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,i,r){var e,f,u;return/IMG/.test(t[0].nodeName)?(e=t[0].src,new RegExp(i,"i").test(e))?void 0:(t[0].src=i,r(t[0].src)):(f=t.data(this.data_attr+"-last-path"),u=this,f==i)?void 0:/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(i)?(n(t).css("background-image","url("+i+")"),t.data("interchange-last-path",i),r(i)):n.get(i,function(n){t.html(n),t.data(u.data_attr+"-last-path",i),r()})}}},init:function(t,i,r){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),n.extend(!0,this.settings,i,r),this.bindings(i,r),this.load("images"),this.load("nodes")},get_media_hash:function(){var t="",n;for(n in this.settings.named_queries)t+=matchMedia(this.settings.named_queries[n]).matches.toString();return t},events:function(){var i=this,r;n(t).off(".interchange").on("resize.fndtn.interchange",i.throttle(function(){var n=i.get_media_hash();n!==r&&i.resize(),r=n},50));return this},resize:function(){var r=this.cache,i,t;if(!this.images_loaded||!this.nodes_loaded){setTimeout(n.proxy(this.resize,this),50);return}for(i in r)r.hasOwnProperty(i)&&(t=this.results(i,r[i]),t&&this.settings.directives[t.scenario[1]].call(this,t.el,t.scenario[0],function(n){var t;return t=arguments[0]instanceof Array?arguments[0]:Array.prototype.slice.call(arguments,0),function(){n.el.trigger(n.scenario[1],t)}}(t)))},results:function(n,t){var r=t.length,f,u,i;if(r>0)for(f=this.S("["+this.add_namespace("data-uuid")+'="'+n+'"]');r--;)if(i=t[r][2],u=this.settings.named_queries.hasOwnProperty(i)?matchMedia(this.settings.named_queries[i]):matchMedia(i),u.matches)return{el:f,scenario:t[r]};return!1},load:function(n,t){return(typeof this["cached_"+n]=="undefined"||t)&&this["update_"+n](),this["cached_"+n]},update_images:function(){var t=this.S("img["+this.data_attr+"]"),i=t.length,n=i,u=0,f=this.data_attr,r;for(this.cache={},this.cached_images=[],this.images_loaded=i===0;n--;)u++,t[n]&&(r=t[n].getAttribute(f)||"",r.length>0&&this.cached_images.push(t[n])),u===i&&(this.images_loaded=!0,this.enhance("images"));return this},update_nodes:function(){var i=this.S("["+this.data_attr+"]").not("img"),t=i.length,n=t,u=0,f=this.data_attr,r;for(this.cached_nodes=[],this.nodes_loaded=t===0;n--;)u++,r=i[n].getAttribute(f)||"",r.length>0&&this.cached_nodes.push(i[n]),u===t&&(this.nodes_loaded=!0,this.enhance("nodes"));return this},enhance:function(i){for(var r=this["cached_"+i].length;r--;)this.object(n(this["cached_"+i][r]));return n(t).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(n){var t=this.trim(n);return t.length>0?t:"replace"},parse_scenario:function(n){var t=n[0].match(/(.+),\s*(\w+)\s*$/),f=n[1],i,r;if(t)i=t[1],r=t[2];else var u=n[0].split(/,\s*$/),i=u[0],r="";return[this.trim(i),this.convert_directive(r),this.trim(f)]},object:function(n){var u=this.parse_data_attr(n),f=[],i=u.length,t,r;if(i>0)while(i--)t=u[i].split(/\(([^\)]*?)(\))$/),t.length>1&&(r=this.parse_scenario(t),f.push(r));return this.store(n,f)},store:function(n,t){var r=this.random_str(),i=n.data(this.add_namespace("uuid",!0));return this.cache[i]?this.cache[i]:(n.attr(this.add_namespace("data-uuid"),r),this.cache[r]=t)},trim:function(t){return typeof t=="string"?n.trim(t):t},set_data_attr:function(n){return n?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(n){for(var i=n.attr(this.attr_name()).split(/\[(.*?)\]/),t=i.length,r=[];t--;)i[t].replace(/[\W\d]+/,"").length>4&&r.push(i[t]);return r},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(n,t,i,r){"use strict";var u=u||!1;Foundation.libs.joyride={name:"joyride",version:"5.5.1",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(t,i,r){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||n.extend({},this.defaults,r||i),this.bindings(i,r)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var i=this;n(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(n){n.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(n){n.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(n){n.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(n){if(this.settings.keyboard&&this.settings.riding)switch(n.which){case 39:n.preventDefault(),this.go_next();break;case 37:n.preventDefault(),this.go_prev();break;case 27:n.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this));n(t).off(".joyride").on("resize.fndtn.joyride",i.throttle(function(){if(n("["+i.attr_name()+"]").length>0&&i.settings.$next_tip&&i.settings.riding){if(i.settings.exposed.length>0){var t=n(i.settings.exposed);t.each(function(){var t=n(this);i.un_expose(t),i.expose(t)})}i.is_phone()?i.pos_phone():i.pos_default(!1)}},100))},start:function(){var t=this,r=n("["+this.attr_name()+"]",this.scope),i=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],u=i.length;!r.length>0||(this.settings.init||this.events(),this.settings=r.data(this.attr_name(!0)+"-init"),this.settings.$content_el=r,this.settings.$body=n(this.settings.tip_container),this.settings.body_offset=n(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find(" > li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,typeof n.cookie!="function"&&(this.settings.cookie_monster=!1),this.settings.cookie_monster&&(!this.settings.cookie_monster||n.cookie(this.settings.cookie_name))||(this.settings.$tip_content.each(function(r){var e=n(this),f;for(this.settings=n.extend({},t.defaults,t.data_options(e)),f=u;f--;)t.settings[i[f]]=parseInt(t.settings[i[f]],10);t.create({$li:e,index:r})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(t){var i,r;return t.tip_class=t.tip_class||"",i=n(this.settings.template.tip).addClass(t.tip_class),r=n.trim(n(t.li).html())+this.prev_button_text(t.prev_button_text,t.index)+this.button_text(t.button_text)+this.settings.template.link+this.timer_instance(t.index),i.append(n(this.settings.template.wrapper)),i.first().attr(this.add_namespace("data-index"),t.index),n(".joyride-content-wrapper",i).append(r),i[0]},timer_instance:function(t){var i;return i=t===0&&this.settings.start_timer_on_click&&this.settings.timer>0||this.settings.timer===0?"":n(this.settings.template.timer)[0].outerHTML},button_text:function(t){return this.settings.tip_settings.next_button?(t=n.trim(t)||"Next",t=n(this.settings.template.button).append(t)[0].outerHTML):t="",t},prev_button_text:function(t,i){return this.settings.tip_settings.prev_button?(t=n.trim(t)||"Previous",t=i==0?n(this.settings.template.prev_button).append(t).addClass("disabled")[0].outerHTML:n(this.settings.template.prev_button).append(t)[0].outerHTML):t="",t},create:function(t){this.settings.tip_settings=n.extend({},this.settings,this.data_options(t.$li));var u=t.$li.attr(this.add_namespace("data-button"))||t.$li.attr(this.add_namespace("data-text")),f=t.$li.attr(this.add_namespace("data-button-prev"))||t.$li.attr(this.add_namespace("data-prev-text")),i=t.$li.attr("class"),r=n(this.tip_template({tip_class:i,index:t.index,button_text:u,prev_button_text:f,li:t.$li}));n(this.settings.tip_container).append(r)},show:function(t,i){var u=null,f;this.settings.$li===r||n.inArray(this.settings.$li.index(),this.settings.pause_after)===-1?(this.settings.paused?this.settings.paused=!1:this.set_li(t,i),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(t&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=n.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],/body/i.test(this.settings.$target.selector)||(f=n(".joyride-modal-bg"),/pop/i.test(this.settings.tipAnimation)?f.hide():f.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),u=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(u.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){u.animate({width:u.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(u.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){u.animate({width:u.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show(t,i):this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||n(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(n.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(n,t){n?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=t?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=n(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var r=this.settings.$li.attr(this.add_namespace("data-class")),t=this.settings.$li.attr(this.add_namespace("data-id")),u=function(){return t?n(i.getElementById(t)):r?n("."+r).first():n("body")};this.settings.$target=u()},scroll_to:function(){var r,i;r=n(t).height()/2,i=Math.ceil(this.settings.$target.offset().top-r+this.settings.$next_tip.outerHeight()),i!=0&&n("html, body").stop().animate({scrollTop:i},this.settings.scroll_speed,"swing")},paused:function(){return n.inArray(this.settings.$li.index()+1,this.settings.pause_after)===-1},restart:function(){this.hide(),this.settings.$li=r,this.show("init")},pos_default:function(n){var t=this.settings.$next_tip.find(".joyride-nub"),e=Math.ceil(t.outerWidth()/2),u=Math.ceil(t.outerHeight()/2),f=n||!1,i,r;f&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(t):(i=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,r=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0,this.bottom()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top+u+this.settings.$target.outerHeight()+i,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+r}):this.settings.$next_tip.css({top:this.settings.$target.offset().top+u+this.settings.$target.outerHeight()+i,left:this.settings.$target.offset().left+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"top")):this.top()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-u+i,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}):this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-u+i,left:this.settings.$target.offset().left+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+i,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+e+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+i,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-e+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(t.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())),f&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(t){var e=this.settings.$next_tip.outerHeight(),o=this.settings.$next_tip.offset(),f=this.settings.$target.outerHeight(),i=n(".joyride-nub",this.settings.$next_tip),r=Math.ceil(i.outerHeight()/2),u=t||!1;i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),u&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(i):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-e-r}),i.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+f+r}),i.addClass("top")),u&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(n){this.center(),n.hide(),this.show_modal()},show_modal:function(){var t;this.settings.$next_tip.data("closed")||(t=n(".joyride-modal-bg"),t.length<1&&(t=n(this.settings.template.modal),t.appendTo("body")),/pop/i.test(this.settings.tip_animation)?t.show():t.fadeIn(this.settings.tip_animation_fade_speed))},expose:function(){var r,u,i,o,e,f="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof n)i=arguments[0];else if(this.settings.$target&&!/body/i.test(this.settings.$target.selector))i=this.settings.$target;else return!1;if(i.length<1)return t.console&&console.error("element not valid",i),!1;r=n(this.settings.template.expose),this.settings.$body.append(r),r.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),u=n(this.settings.template.expose_cover),o={zIndex:i.css("z-index"),position:i.css("position")},e=i.attr("class")==null?"":i.attr("class"),i.css("z-index",parseInt(r.css("z-index"))+1),o.position=="static"&&i.css("position","relative"),i.data("expose-css",o),i.data("orig-class",e),i.attr("class",e+" "+this.settings.expose_add_class),u.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(u),r.addClass(f),u.addClass(f),i.data("expose",f),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,i),this.add_exposed(i)},un_expose:function(){var e,i,o,r,f,u=!1;if(arguments.length>0&&arguments[0]instanceof n)i=arguments[0];else if(this.settings.$target&&!/body/i.test(this.settings.$target.selector))i=this.settings.$target;else return!1;if(i.length<1)return t.console&&console.error("element not valid",i),!1;e=i.data("expose"),o=n("."+e),arguments.length>1&&(u=arguments[1]),u===!0?n(".joyride-expose-wrapper, .joyride-expose-cover").remove():o.remove(),r=i.data("expose-css"),r.zIndex=="auto"?i.css("z-index",""):i.css("z-index",r.zIndex),r.position!=i.css("position")&&(r.position=="static"?i.css("position",""):i.css("position",r.position)),f=i.data("orig-class"),i.attr("class",f),i.removeData("orig-classes"),i.removeData("expose"),i.removeData("expose-z-index"),this.remove_exposed(i)},add_exposed:function(t){this.settings.exposed=this.settings.exposed||[],t instanceof n||typeof t=="object"?this.settings.exposed.push(t[0]):typeof t=="string"&&this.settings.exposed.push(t)},remove_exposed:function(t){var r,i;for(t instanceof n?r=t[0]:typeof t=="string"&&(r=t),this.settings.exposed=this.settings.exposed||[],i=this.settings.exposed.length;i--;)if(this.settings.exposed[i]==r){this.settings.exposed.splice(i,1);return}},center:function(){var i=n(t);return this.settings.$next_tip.css({top:(i.height()-this.settings.$next_tip.outerHeight())/2+i.scrollTop(),left:(i.width()-this.settings.$next_tip.outerWidth())/2+i.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(i){var r=n(t),s=r.height()/2,f=Math.ceil(this.settings.$target.offset().top-s+this.settings.$next_tip.outerHeight()),h=r.width()+r.scrollLeft(),o=r.height()+f,e=r.height()+r.scrollTop(),u=r.scrollTop();return f<u&&(u=f<0?0:f),o>e&&(e=o),[i.offset().top<u,h<i.offset().left+i.outerWidth(),e<i.offset().top+i.outerHeight(),r.scrollLeft()>i.offset().left]},visible:function(n){for(var t=n.length;t--;)if(n[t])return!1;return!0},nub_position:function(n,t,i){t==="auto"?n.addClass(i):n.addClass(t)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(t){this.settings.cookie_monster&&n.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),n(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,n(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),(typeof t=="undefined"||t===!1)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),n(".joyride-tip-guide").remove()},off:function(){n(this.scope).off(".joyride"),n(t).off(".joyride"),n(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),n(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(n,t){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.1",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(n,t,i){Foundation.inherit(this,"throttle"),this.bindings(t,i)},events:function(){var i=this,u=i.S,r=i.settings;i.set_expedition_position();u(i.scope).off(".magellan").on("click.fndtn.magellan","["+i.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(t){var u;t.preventDefault();var o=n(this).closest("["+i.attr_name()+"]"),f=o.data("magellan-expedition-init"),r=this.hash.split("#").join(""),e=n('a[name="'+r+'"]');e.length===0&&(e=n("#"+r)),u=e.offset().top-f.destination_threshold+1,f.offset_by_height&&(u=u-o.outerHeight()),n("html, body").stop().animate({scrollTop:u},f.duration,f.easing,function(){history.pushState?history.pushState(null,null,"#"+r):location.hash="#"+r})}).on("scroll.fndtn.magellan",i.throttle(this.check_for_arrivals.bind(this),r.throttle_delay));n(t).on("resize.fndtn.magellan",i.throttle(this.set_expedition_position.bind(this),r.throttle_delay))},check_for_arrivals:function(){var n=this;n.update_arrivals(),n.update_expedition_positions()},set_expedition_position:function(){var t=this;n("["+this.attr_name()+"=fixed]",t.scope).each(function(){var u=n(this),o=u.data("magellan-expedition-init"),s=u.attr("styles"),e,f;u.attr("style",""),e=u.offset().top+o.threshold,f=parseInt(u.data("magellan-fixed-top")),isNaN(f)||(t.settings.fixed_top=f),u.data(t.data_attr("magellan-top-offset"),e),u.attr("style",s)})},update_expedition_positions:function(){var i=this,r=n(t).scrollTop();n("["+this.attr_name()+"=fixed]",i.scope).each(function(){var t=n(this),o=t.data("magellan-expedition-init"),f=t.attr("style"),e=t.data("magellan-top-offset"),u;r+i.settings.fixed_top>=e?(u=t.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]"),u.length===0&&(u=t.clone(),u.removeAttr(i.attr_name()),u.attr(i.add_namespace("data-magellan-expedition-clone"),""),t.before(u)),t.css({position:"fixed",top:o.fixed_top}).addClass("fixed")):(t.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]").remove(),t.attr("style",f).css("position","").css("top","").removeClass("fixed"))})},update_arrivals:function(){var i=this,r=n(t).scrollTop();n("["+this.attr_name()+"]",i.scope).each(function(){var t=n(this),u=t.data(i.attr_name(!0)+"-init"),e=i.offsets(t,r),o=t.find("["+i.add_namespace("data-magellan-arrival")+"]"),f=!1;e.each(function(n,r){if(r.viewport_offset>=r.top_offset){var e=t.find("["+i.add_namespace("data-magellan-arrival")+"]");return e.not(r.arrival).removeClass(u.active_class),r.arrival.addClass(u.active_class),f=!0,!0}}),f||o.removeClass(u.active_class)})},offsets:function(t,i){var r=this,u=t.data(r.attr_name(!0)+"-init"),f=i;return t.find("["+r.add_namespace("data-magellan-arrival")+"]").map(function(){var h=n(this).data(r.data_attr("magellan-arrival")),s=n("["+r.add_namespace("data-magellan-destination")+"="+h+"]"),o;if(s.length>0)return o=s.offset().top-u.destination_threshold,u.offset_by_height&&(o=o-t.outerHeight()),o=Math.floor(o),{destination:s,arrival:n(this),top_offset:o,viewport_offset:f}}).sort(function(n,t){return n.top_offset<t.top_offset?-1:n.top_offset>t.top_offset?1:0})},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},off:function(){this.S(this.scope).off(".magellan"),this.S(t).off(".magellan")},reflow:function(){var t=this;n("["+t.add_namespace("data-magellan-expedition-clone")+"]",t.scope).remove()}}}(jQuery,window,window.document),function(n){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.1",settings:{open_method:"move",close_on_click:!1},init:function(n,t,i){this.bindings(t,i)},events:function(){var i=this,f=i.S,t="",u="",r="";this.settings.open_method==="move"?(t="move-",u="right",r="left"):this.settings.open_method==="overlap_single"?(t="offcanvas-overlap-",u="right",r="left"):this.settings.open_method==="overlap"&&(t="offcanvas-overlap");f(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(r){i.click_toggle_class(r,t+u),i.settings.open_method!=="overlap"&&f(".left-submenu").removeClass(t+u),n(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(r){var o=i.get_settings(r),e=f(this).parent();!o.close_on_click||e.hasClass("has-submenu")||e.hasClass("back")?f(this).parent().hasClass("has-submenu")?(r.preventDefault(),f(this).siblings(".left-submenu").toggleClass(t+u)):e.hasClass("back")&&(r.preventDefault(),e.parent().removeClass(t+u)):(i.hide.call(i,t+u,i.get_wrapper(r)),e.parent().removeClass(t+u)),n(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(u){i.click_toggle_class(u,t+r),i.settings.open_method!=="overlap"&&f(".right-submenu").removeClass(t+r),n(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(u){var o=i.get_settings(u),e=f(this).parent();!o.close_on_click||e.hasClass("has-submenu")||e.hasClass("back")?f(this).parent().hasClass("has-submenu")?(u.preventDefault(),f(this).siblings(".right-submenu").toggleClass(t+r)):e.hasClass("back")&&(u.preventDefault(),e.parent().removeClass(t+r)):(i.hide.call(i,t+r,i.get_wrapper(u)),e.parent().removeClass(t+r)),n(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(e){i.click_remove_class(e,t+r),f(".right-submenu").removeClass(t+r),u&&(i.click_remove_class(e,t+u),f(".left-submenu").removeClass(t+r)),n(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(f){i.click_remove_class(f,t+r),n(".left-off-canvas-toggle").attr("aria-expanded","false"),u&&(i.click_remove_class(f,t+u),n(".right-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(n,t){t=t||this.get_wrapper(),t.is("."+n)?this.hide(n,t):this.show(n,t)},show:function(n,t){t=t||this.get_wrapper(),t.trigger("open").trigger("open.fndtn.offcanvas"),t.addClass(n)},hide:function(n,t){t=t||this.get_wrapper(),t.trigger("close").trigger("close.fndtn.offcanvas"),t.removeClass(n)},click_toggle_class:function(n,t){n.preventDefault();var i=this.get_wrapper(n);this.toggle(t,i)},click_remove_class:function(n,t){n.preventDefault();var i=this.get_wrapper(n);this.hide(t,i)},get_settings:function(n){var t=this.S(n.target).closest("["+this.attr_name()+"]");return t.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(n){var t=this.S(n?n.target:this.scope).closest(".off-canvas-wrap");return t.length===0&&(t=this.S(".off-canvas-wrap")),t},reflow:function(){}}}(jQuery,window,window.document),function(n,t,i,r){"use strict";var u=function(){},o=function(u,o){if(u.hasClass(o.slides_container_class))return this;var h=this,c,a=u,p,y,w,v=0,b,l,k=!1,d=!1;h.slides=function(){return a.children(o.slide_selector)},h.slides().first().addClass(o.active_slide_class),h.update_slide_number=function(t){o.slide_number&&(p.find("span:first").text(parseInt(t)+1),p.find("span:last").text(h.slides().length)),o.bullets&&(y.children().removeClass(o.bullets_active_class),n(y.children().get(t)).addClass(o.bullets_active_class))},h.update_active_link=function(t){var i=n('[data-orbit-link="'+h.slides().eq(t).attr("data-orbit-slide")+'"]');i.siblings().removeClass(o.bullets_active_class),i.addClass(o.bullets_active_class)},h.build_markup=function(){a.wrap('<div class="'+o.container_class+'"></div>'),c=a.parent(),a.addClass(o.slides_container_class),o.stack_on_small&&c.addClass(o.stack_on_small_class),o.navigation_arrows&&(c.append(n('<a href="#"><span></span></a>').addClass(o.prev_class)),c.append(n('<a href="#"><span></span></a>').addClass(o.next_class))),o.timer&&(w=n("<div>").addClass(o.timer_container_class),w.append("<span>"),w.append(n("<div>").addClass(o.timer_progress_class)),w.addClass(o.timer_paused_class),c.append(w)),o.slide_number&&(p=n("<div>").addClass(o.slide_number_class),p.append("<span></span> "+o.slide_number_text+" <span></span>"),c.append(p)),o.bullets&&(y=n("<ol>").addClass(o.bullets_container_class),c.append(y),y.wrap('<div class="orbit-bullets-container"></div>'),h.slides().each(function(t){var r=n("<li>").attr("data-orbit-slide",t).on("click",h.link_bullet);y.append(r)}))},h._goto=function(t,i){var u,s,f,r,e,c;if(t===v)return!1;if(typeof l=="object"&&l.restart(),u=h.slides(),s="next",k=!0,t<v&&(s="prev"),t>=u.length){if(!o.circular)return!1;t=0}else if(t<0){if(!o.circular)return!1;t=u.length-1}if(f=n(u.get(v)),r=n(u.get(t)),f.css("zIndex",2),f.removeClass(o.active_slide_class),r.css("zIndex",4).addClass(o.active_slide_class),a.trigger("before-slide-change.fndtn.orbit"),o.before_slide_change(),h.update_active_link(t),e=function(){var n=function(){v=t,k=!1,i===!0&&(l=h.create_timer(),l.start()),h.update_slide_number(v),a.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:u.length}]),o.after_slide_change(v,u.length)};a.outerHeight()!=r.outerHeight()&&o.variable_height?a.animate({height:r.outerHeight()},250,"linear",n):n()},u.length===1)return e(),!1;c=function(){s==="next"&&b.next(f,r,e),s==="prev"&&b.prev(f,r,e)},r.outerHeight()>a.outerHeight()&&o.variable_height?a.animate({height:r.outerHeight()},250,"linear",c):c()},h.next=function(n){n.stopImmediatePropagation(),n.preventDefault(),h._goto(v+1)},h.prev=function(n){n.stopImmediatePropagation(),n.preventDefault(),h._goto(v-1)},h.link_custom=function(t){var i,r;t.preventDefault(),i=n(this).attr("data-orbit-link"),typeof i=="string"&&(i=n.trim(i))!=""&&(r=c.find("[data-orbit-slide="+i+"]"),r.index()!=-1&&h._goto(r.index()))},h.link_bullet=function(){var i=n(this).attr("data-orbit-slide"),r;typeof i=="string"&&(i=n.trim(i))!=""&&(isNaN(parseInt(i))?(r=c.find("[data-orbit-slide="+i+"]"),r.index()!=-1&&h._goto(r.index()+1)):h._goto(parseInt(i)))},h.timer_callback=function(){h._goto(v+1,!0)},h.compute_dimensions=function(){var i=n(h.slides().get(v)),t=i.outerHeight();o.variable_height||h.slides().each(function(){n(this).outerHeight()>t&&(t=n(this).outerHeight())}),a.height(t)},h.create_timer=function(){return new s(c.find("."+o.timer_container_class),o,h.timer_callback)},h.stop_timer=function(){typeof l=="object"&&l.stop()},h.toggle_timer=function(){var n=c.find("."+o.timer_container_class);n.hasClass(o.timer_paused_class)?(typeof l=="undefined"&&(l=h.create_timer()),l.start()):typeof l=="object"&&l.stop()},h.init=function(){h.build_markup(),o.timer&&(l=h.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),l.start)),b=new e(o,a),o.animation==="slide"&&(b=new f(o,a));c.on("click","."+o.next_class,h.next);c.on("click","."+o.prev_class,h.prev);if(o.next_on_click)c.on("click","."+o.slides_container_class+" [data-orbit-slide]",h.link_bullet);c.on("click",h.toggle_timer);if(o.swipe)c.on("touchstart.fndtn.orbit",function(n){n.touches||(n=n.originalEvent);var t={start_page_x:n.touches[0].pageX,start_page_y:n.touches[0].pageY,start_time:+new Date,delta_x:0,is_scrolling:r};c.data("swipe-transition",t),n.stopPropagation()}).on("touchmove.fndtn.orbit",function(n){var t,i;(n.touches||(n=n.originalEvent),n.touches.length>1||n.scale&&n.scale!==1)||(t=c.data("swipe-transition"),typeof t=="undefined"&&(t={}),t.delta_x=n.touches[0].pageX-t.start_page_x,typeof t.is_scrolling=="undefined"&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(n.touches[0].pageY-t.start_page_y))),t.is_scrolling||t.active||(n.preventDefault(),i=t.delta_x<0?v+1:v-1,t.active=!0,h._goto(i)))}).on("touchend.fndtn.orbit",function(n){c.data("swipe-transition",{}),n.stopPropagation()});c.on("mouseenter.fndtn.orbit",function(){o.timer&&o.pause_on_hover&&h.stop_timer()}).on("mouseleave.fndtn.orbit",function(){o.timer&&o.resume_on_mouseout&&l.start()});n(i).on("click","[data-orbit-link]",h.link_custom);n(t).on("load resize",h.compute_dimensions);Foundation.utils.image_loaded(this.slides().children("img"),h.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){c.prev("."+o.preloader_class).css("display","none"),h.update_slide_number(0),h.update_active_link(0),a.trigger("ready.fndtn.orbit")})},h.init()},s=function(n,t,i){var e=this,o=t.timer_speed,u=n.find("."+t.timer_progress_class),s,f,r=-1;this.update_progress=function(n){var t=u.clone();t.attr("style",""),t.css("width",n+"%"),u.replaceWith(t),u=t},this.restart=function(){clearTimeout(f),n.addClass(t.timer_paused_class),r=-1,e.update_progress(0)},this.start=function(){if(!n.hasClass(t.timer_paused_class))return!0;r=r===-1?o:r,n.removeClass(t.timer_paused_class),s=+new Date,u.animate({width:"100%"},r,"linear"),f=setTimeout(function(){e.restart(),i()},r),n.trigger("timer-started.fndtn.orbit")},this.stop=function(){var u,i;if(n.hasClass(t.timer_paused_class))return!0;clearTimeout(f),n.addClass(t.timer_paused_class),u=+new Date,r=r-(u-s),i=100-r/o*100,e.update_progress(i),n.trigger("timer-stopped.fndtn.orbit")}},f=function(t){var u=t.animation_speed,e=n("html[dir=rtl]").length===1,r=e?"marginRight":"marginLeft",f={};f[r]="0%",this.next=function(n,t,i){n.animate({marginLeft:"-100%"},u),t.animate(f,u,function(){n.css(r,"100%"),i()})},this.prev=function(n,t,i){n.animate({marginLeft:"100%"},u),t.css(r,"-100%"),t.animate(f,u,function(){n.css(r,"100%"),i()})}},e=function(t){var r=t.animation_speed,u=n("html[dir=rtl]").length===1,f=u?"marginRight":"marginLeft";this.next=function(n,t,i){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},r,"linear",function(){n.css("margin","100%"),i()})},this.prev=function(n,t,i){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},r,"linear",function(){n.css("margin","100%"),i()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.1",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:u,after_slide_change:u},init:function(n,t,i){var r=this;this.bindings(t,i)},events:function(n){var t=new o(this.S(n),this.S(n).data("orbit-init"));this.S(n).data(this.name+"-instance",t)},reflow:function(){var n=this,i,t;n.S(n.scope).is("[data-orbit]")?(i=n.S(n.scope),t=i.data(n.name+"-instance"),t.compute_dimensions()):n.S("[data-orbit]",n.scope).each(function(t,i){var r=n.S(i),f=n.data_options(r),u=r.data(n.name+"-instance");u.compute_dimensions()})}}}(jQuery,window,window.document),function(n,t,i,r){"use strict";function u(n){var i=/fade/i.test(n),t=/pop/i.test(n);return{animate:i||t,pop:t,fade:i}}Foundation.libs.reveal={name:"reveal",version:"5.5.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:n(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,i,r){n.extend(!0,this.settings,i,r),this.bindings(i,r)},events:function(){var t=this,r=t.S;r(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(n){var i,u,f;n.preventDefault(),t.locked||(i=r(this),u=i.data(t.data_attr("reveal-ajax")),t.locked=!0,typeof u=="undefined"?t.open.call(t,i):(f=u===!0?i.attr("href"):u,t.open.call(t,i,{url:f})))});r(i).on("click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!t.locked){var u=r("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init")||t.settings,i=r(n.target)[0]===r("."+u.bg_class)[0];if(i)if(u.close_on_background_click)n.stopPropagation();else return;t.locked=!0,t.close.call(t,i?r("["+t.attr_name()+"].open"):r(this).closest("["+t.attr_name()+"]"))}});if(r("["+t.attr_name()+"]",this.scope).length>0)r(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);else r(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video);return!0},key_up_on:function(){var t=this;t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(n){var r=t.S("["+t.attr_name()+"].open"),i=r.data(t.attr_name(!0)+"-init")||t.settings;i&&n.which===27&&i.close_on_esc&&!t.locked&&t.close.call(t,r)});return!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(i,r){var f=this,u,e,o,s;if(i?typeof i.selector!="undefined"?u=f.S("#"+i.data(f.data_attr("reveal-id"))).first():(u=f.S(this.scope),r=i):u=f.S(this.scope),e=u.data(f.attr_name(!0)+"-init"),e=e||this.settings,u.hasClass("open")&&i.attr("data-reveal-id")==u.attr("id"))return f.close(u);u.hasClass("open")||(o=f.S("["+f.attr_name()+"].open"),typeof u.data("css-top")=="undefined"&&u.data("css-top",parseInt(u.css("top"),10)).data("offset",this.cache_offset(u)),this.key_up_on(u),u.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),o.length<1&&this.toggle_bg(u,!0),typeof r=="string"&&(r={url:r}),typeof r!="undefined"&&r.url?(s=typeof r.success!="undefined"?r.success:null,n.extend(r,{success:function(t,i,r){if(n.isFunction(s)){var h=s(t,i,r);typeof h=="string"&&(t=h)}u.html(t),f.S(u).foundation("section","reflow"),f.S(u).children().foundation(),o.length>0&&(e.multiple_opened?this.to_back(o):this.hide(o,e.css.close)),f.show(u,e.css.open)}}),n.ajax(r)):(o.length>0&&(e.multiple_opened?this.to_back(o):this.hide(o,e.css.close)),this.show(u,e.css.open))),f.S(t).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),r=this.S("["+this.attr_name()+"].open"),i=t.data(this.attr_name(!0)+"-init")||this.settings;r.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close").trigger("close.fndtn.reveal"),(i.multiple_opened&&r.length===1||!i.multiple_opened||t.length>1)&&(this.toggle_bg(t,!1),this.to_front(t)),i.multiple_opened?(this.hide(t,i.css.close,i),this.to_front(n(n.makeArray(r).reverse()[1]))):this.hide(r,i.css.close,i))},close_targets:function(){var n="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?n+", ."+this.settings.bg_class:n},toggle_bg:function(t,i){this.S("."+this.settings.bg_class).length===0&&(this.settings.bg=n("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var u=this.settings.bg.filter(":visible").length>0;i!=u&&((i==r?u:!i)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(i,r){var s,h,e,o,f;if(r){if(f=i.data(this.attr_name(!0)+"-init")||this.settings,s=f.root_element,i.parent(s).length===0){h=i.wrap('<div style="display: none;" />').parent();i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(h),i.unwrap().unbind("closed.fndtn.reveal.wrapped")});i.detach().appendTo(s)}return(e=u(f.animation),e.animate||(this.locked=!1),e.pop)?(r.top=n(t).scrollTop()-i.data("offset")+"px",o={top:n(t).scrollTop()+i.data("css-top")+"px",opacity:1},setTimeout(function(){return i.css(r).animate(o,f.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)):e.fade?(r.top=n(t).scrollTop()+i.data("css-top")+"px",o={opacity:1},setTimeout(function(){return i.css(r).animate(o,f.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)):i.css(r).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}return(f=this.settings,u(f.animation).fade)?i.fadeIn(f.animation_speed/2):(this.locked=!1,i.show())},to_back:function(n){n.addClass("toback")},to_front:function(n){n.removeClass("toback")},hide:function(i,r){var o,e,f;return r?(f=i.data(this.attr_name(!0)+"-init"),f=f||this.settings,o=u(f.animation),o.animate||(this.locked=!1),o.pop)?(e={top:-n(t).scrollTop()-i.data("offset")+"px",opacity:0},setTimeout(function(){return i.animate(e,f.animation_speed,"linear",function(){this.locked=!1,i.css(r).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)):o.fade?(e={opacity:0},setTimeout(function(){return i.animate(e,f.animation_speed,"linear",function(){this.locked=!1,i.css(r).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)):i.hide().css(r).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal"):(f=this.settings,u(f.animation).fade)?i.fadeOut(f.animation_speed/2):i.hide()},close_video:function(t){var r=n(".flex-video",t.target),i=n("iframe",r);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src",i.attr("src")),r.hide())},open_video:function(t){var e=n(".flex-video",t.target),i=e.find("iframe"),f,u;i.length>0&&(f=i.attr("data-src"),typeof f=="string"?i[0].src=i.attr("data-src"):(u=i[0].src,i[0].src=r,i[0].src=u),e.show())},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},cache_offset:function(n){var t=n.show().height()+parseInt(n.css("top"),10);return n.hide(),t},off:function(){n(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(n,t){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.1",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(n,t,i){Foundation.inherit(this,"throttle"),this.bindings(t,i),this.reflow()},events:function(){var i=this;n(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+i.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(t){i.cache.active||(t.preventDefault(),i.set_active_slider(n(t.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(r){if(!!i.cache.active)if(r.preventDefault(),n.data(i.cache.active[0],"settings").vertical){var u=0;r.pageY||(u=t.scrollY),i.calculate_position(i.cache.active,i.get_cursor_position(r,"y")+u)}else i.calculate_position(i.cache.active,i.get_cursor_position(r,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){i.remove_active_slider()}).on("change.fndtn.slider",function(){i.settings.on_change()});i.S(t).on("resize.fndtn.slider",i.throttle(function(){i.reflow()},300))},get_cursor_position:function(n,t){var u="page"+t.toUpperCase(),r="client"+t.toUpperCase(),i;return typeof n[u]!="undefined"?i=n[u]:typeof n.originalEvent[r]!="undefined"?i=n.originalEvent[r]:n.originalEvent.touches&&n.originalEvent.touches[0]&&typeof n.originalEvent.touches[0][r]!="undefined"?i=n.originalEvent.touches[0][r]:n.currentPoint&&typeof n.currentPoint[t]!="undefined"&&(i=n.currentPoint[t]),i},set_active_slider:function(n){this.cache.active=n},remove_active_slider:function(){this.cache.active=null},calculate_position:function(t,i){var u=this,r=n.data(t[0],"settings"),s=n.data(t[0],"handle_l"),o=n.data(t[0],"handle_o"),f=n.data(t[0],"bar_l"),e=n.data(t[0],"bar_o");requestAnimationFrame(function(){var n,o;n=Foundation.rtl&&!r.vertical?u.limit_to((e+f-i)/f,0,1):u.limit_to((i-e)/f,0,1),n=r.vertical?1-n:n,o=u.normalized_value(n,r.start,r.end,r.step,r.precision),u.set_ui(t,o)})},set_ui:function(t,i){var r=n.data(t[0],"settings"),o=n.data(t[0],"handle_l"),s=n.data(t[0],"bar_l"),h=this.normalized_percentage(i,r.start,r.end),u=h*(s-o)-1,e=h*100,c=t.parent(),f=t.parent().children("input[type=hidden]");Foundation.rtl&&!r.vertical&&(u=-u),u=r.vertical?-u+s-o+1:u,this.set_translate(t,u,r.vertical),r.vertical?t.siblings(".range-slider-active-segment").css("height",e+"%"):t.siblings(".range-slider-active-segment").css("width",e+"%"),c.attr(this.attr_name(),i).trigger("change").trigger("change.fndtn.slider"),f.val(i),r.trigger_input_change&&f.trigger("change"),t[0].hasAttribute("aria-valuemin")||t.attr({"aria-valuemin":r.start,"aria-valuemax":r.end}),t.attr("aria-valuenow",i),r.display_selector!=""&&n(r.display_selector).each(function(){this.hasOwnProperty("value")?n(this).val(i):n(this).text(i)})},normalized_percentage:function(n,t,i){return Math.min(1,(n-t)/(i-t))},normalized_value:function(n,t,i,r,u){var s=i-t,f=n*s,h=(f-f%r)/r,e=f%r,o=e>=r*.5?r:0;return(h*r+o+t).toFixed(u)},set_translate:function(t,i,r){r?n(t).css("-webkit-transform","translateY("+i+"px)").css("-moz-transform","translateY("+i+"px)").css("-ms-transform","translateY("+i+"px)").css("-o-transform","translateY("+i+"px)").css("transform","translateY("+i+"px)"):n(t).css("-webkit-transform","translateX("+i+"px)").css("-moz-transform","translateX("+i+"px)").css("-ms-transform","translateX("+i+"px)").css("-o-transform","translateX("+i+"px)").css("transform","translateX("+i+"px)")},limit_to:function(n,t,i){return Math.min(Math.max(n,t),i)},initialize_settings:function(t){var i=n.extend({},this.settings,this.data_options(n(t).parent())),r;i.precision===null&&(r=(""+i.step).match(/\.([\d]*)/),i.precision=r&&r[1]?r[1].length:0),i.vertical?(n.data(t,"bar_o",n(t).parent().offset().top),n.data(t,"bar_l",n(t).parent().outerHeight()),n.data(t,"handle_o",n(t).offset().top),n.data(t,"handle_l",n(t).outerHeight())):(n.data(t,"bar_o",n(t).parent().offset().left),n.data(t,"bar_l",n(t).parent().outerWidth()),n.data(t,"handle_o",n(t).offset().left),n.data(t,"handle_l",n(t).outerWidth())),n.data(t,"bar",n(t).parent()),n.data(t,"settings",i)},set_initial_position:function(t){var i=n.data(t.children(".range-slider-handle")[0],"settings"),u=typeof i.initial=="number"&&!isNaN(i.initial)?i.initial:Math.floor((i.end-i.start)*.5/i.step)*i.step+i.start,r=t.children(".range-slider-handle");this.set_ui(r,u)},set_value:function(t){var i=this;n("["+i.attr_name()+"]",this.scope).each(function(){n(this).attr(i.attr_name(),t)}),!n(this.scope).attr(i.attr_name())||n(this.scope).attr(i.attr_name(),t),i.reflow()},reflow:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var r=n(this).children(".range-slider-handle")[0],i=n(this).attr(t.attr_name());t.initialize_settings(r),i?t.set_ui(n(r),parseFloat(i)):t.set_initial_position(n(this))})}}}(jQuery,window,window.document),function(n,t,i,r){"use strict";Foundation.libs.tab={name:"tab",version:"5.5.1",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(n,i,r){var u=this,f=this.S;this.bindings(i,r),u.entry_location=t.location.href,this.handle_location_hash_change(),f("["+this.attr_name()+"] > .active > a",this.scope).each(function(){u.default_tab_hashes.push(this.hash)})},events:function(){var n=this,i=this.S,r=function(t){var r=i(this).closest("["+n.attr_name()+"]").data(n.attr_name(!0)+"-init");(!r.is_hover||Modernizr.touch)&&(t.preventDefault(),t.stopPropagation(),n.toggle_active_tab(i(this).parent()))};i(this.scope).off(".tab").on("focus.fndtn.tab","["+this.attr_name()+"] > * > a",r).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",r).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(){var r=i(this).closest("["+n.attr_name()+"]").data(n.attr_name(!0)+"-init");r.is_hover&&n.toggle_active_tab(i(this).parent())});i(t).on("hashchange.fndtn.tab",function(t){t.preventDefault(),n.handle_location_hash_change()})},handle_location_hash_change:function(){var t=this,i=this.S;i("["+this.attr_name()+"]",this.scope).each(function(){var s=i(this).data(t.attr_name(!0)+"-init"),u,e,o,f;if(s.deep_linking)if(u=s.scroll_to_content?t.scope.location.hash:t.scope.location.hash.replace("fndtn-",""),u!="")e=i(u),e.hasClass("content")&&e.parent().hasClass("tabs-content")?t.toggle_active_tab(n("["+t.attr_name()+"] > * > a[href="+u+"]").parent()):(o=e.closest(".content").attr("id"),o!=r&&t.toggle_active_tab(n("["+t.attr_name()+"] > * > a[href=#"+o+"]").parent(),u));else for(f=0;f<t.default_tab_hashes.length;f++)t.toggle_active_tab(n("["+t.attr_name()+"] > * > a[href="+t.default_tab_hashes[f]+"]").parent())})},toggle_active_tab:function(u,f){var c=this,s=c.S,a=u.closest("["+this.attr_name()+"]"),y=u.find("a"),p=u.children("a").first(),o="#"+p.attr("href").split("#")[1],h=s(o),v=u.siblings(),e=a.data(this.attr_name(!0)+"-init"),w=function(t){var e=n(this),u=n(this).parents("li").prev().children('[role="tab"]'),f=n(this).parents("li").next().children('[role="tab"]'),r;switch(t.keyCode){case 37:r=u;break;case 39:r=f;break;default:r=!1}r.length&&(e.attr({tabindex:"-1","aria-selected":null}),r.attr({tabindex:"0","aria-selected":!0}).focus()),n('[role="tabpanel"]').attr("aria-hidden","true"),n("#"+n(i.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},l=function(n){var i=t.location.href===c.entry_location,r=e.scroll_to_content?c.default_tab_hashes[0]:i?t.location.hash:"fndtn-"+c.default_tab_hashes[0].replace("#","");i&&n===r||(t.location.hash=n)};s(this).data(this.data_attr("tab-content"))&&(o="#"+s(this).data(this.data_attr("tab-content")).split("#")[1],h=s(o)),e.deep_linking&&(e.scroll_to_content?(l(f||o),f==r||f==o?u.parent()[0].scrollIntoView():s(o)[0].scrollIntoView()):f!=r?l("fndtn-"+f.replace("#","")):l("fndtn-"+o.replace("#",""))),u.addClass(e.active_class).triggerHandler("opened"),y.attr({"aria-selected":"true",tabindex:0}),v.removeClass(e.active_class),v.find("a").attr({"aria-selected":"false",tabindex:-1}),h.siblings().removeClass(e.active_class).attr({"aria-hidden":"true",tabindex:-1}),h.addClass(e.active_class).attr("aria-hidden","false").removeAttr("tabindex"),e.callback(u),h.triggerHandler("toggled",[u]),a.triggerHandler("toggled",[h]);y.off("keydown").on("keydown",w)},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(n,t){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(n,t){return'<span data-selector="'+n+'" id="'+n+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(n,t,i){Foundation.inherit(this,"random_str"),this.bindings(t,i)},should_show:function(t){var r=n.extend({},this.settings,this.data_options(t));return r.show_on==="all"?!0:this.small()&&r.show_on==="small"||this.medium()&&r.show_on==="medium"||this.large()&&r.show_on==="large"?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(t){var i=this,r=i.S;i.create(this.S(t));n(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(t){var u=r(this),f=n.extend({},i.settings,i.data_options(u)),e=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&r(t.target).is("a")||/mouse/i.test(t.type)&&i.ie_touch(t))return!1;if(u.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),i.hide(u);else{if(f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;!f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),r(f.tooltip_class+".open").hide(),e=!0),/enter|over/i.test(t.type)?this.timer=setTimeout(function(){var n=i.showTip(u)}.bind(this),i.settings.hover_delay):t.type==="mouseout"||t.type==="mouseleave"?(clearTimeout(this.timer),i.hide(u)):i.showTip(u)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){if(/mouse/i.test(t.type)&&i.ie_touch(t))return!1;(n(this).data("tooltip-open-event-type")!="touch"||t.type!="mouseleave")&&(n(this).data("tooltip-open-event-type")=="mouse"&&/MSPointerDown|touchstart/i.test(t.type)?i.convert_to_touch(n(this)):i.hide(n(this)))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){i.hide(r(this))})},ie_touch:function(){return!1},showTip:function(n){var t=this.getTip(n);if(this.should_show(n,t))return this.show(n)},getTip:function(t){var r=this.selector(t),u=n.extend({},this.settings,this.data_options(t)),i=null;return r&&(i=this.S('span[data-selector="'+r+'"]'+u.tooltip_class)),typeof i=="object"?i:!1},selector:function(n){var t=n.attr("id"),i=n.attr(this.attr_name())||n.attr("data-selector");return(t&&t.length<1||!t)&&typeof i!="string"&&(i=this.random_str(6),n.attr("data-selector",i).attr("aria-describedby",i)),t&&t.length>0?t:i},create:function(i){var o=this,r=n.extend({},this.settings,this.data_options(i)),e=this.settings.tip_template,u,f;if(typeof r.tip_template=="string"&&t.hasOwnProperty(r.tip_template)&&(e=t[r.tip_template]),u=n(e(this.selector(i),n("<div></div>").html(i.attr("title")).html())),f=this.inheritable_classes(i),u.addClass(f).appendTo(r.append_to),Modernizr.touch){u.append('<span class="tap-to-close">'+r.touch_close_text+"</span>");u.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){o.hide(i)})}i.removeAttr("title").attr("title","")},reposition:function(t,i,r){var s,f,o,h,c,u,e;i.css("visibility","hidden").show(),s=t.data("width"),f=i.children(".nub"),o=f.outerHeight(),h=f.outerHeight(),this.small()?i.css({width:"100%"}):i.css({width:s?s:"auto"}),u=function(n,t,i,r,u){return n.css({top:t?t:"auto",bottom:r?r:"auto",left:u?u:"auto",right:i?i:"auto"}).end()},u(i,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left),this.small()?(u(i,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,n(this.scope).width()),i.addClass("tip-override"),u(f,-o,"auto","auto",t.offset().left)):(e=t.offset().left,Foundation.rtl&&(f.addClass("rtl"),e=t.offset().left+t.outerWidth()-i.outerWidth()),u(i,t.offset().top+t.outerHeight()+10,"auto","auto",e),i.removeClass("tip-override"),r&&r.indexOf("tip-top")>-1?(Foundation.rtl&&f.addClass("rtl"),u(i,t.offset().top-i.outerHeight(),"auto","auto",e).removeClass("tip-override")):r&&r.indexOf("tip-left")>-1?(u(i,t.offset().top+t.outerHeight()/2-i.outerHeight()/2,"auto","auto",t.offset().left-i.outerWidth()-o).removeClass("tip-override"),f.removeClass("rtl")):r&&r.indexOf("tip-right")>-1&&(u(i,t.offset().top+t.outerHeight()/2-i.outerHeight()/2,"auto","auto",t.offset().left+t.outerWidth()+o).removeClass("tip-override"),f.removeClass("rtl"))),i.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(t){var u=n.extend({},this.settings,this.data_options(t)),f=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(u.additional_inheritable_classes),i=t.attr("class"),r=i?n.map(i.split(" "),function(t){if(n.inArray(t,f)!==-1)return t}).join(" "):"";return n.trim(r)},convert_to_touch:function(t){var i=this,r=i.getTip(t),u=n.extend({},i.settings,i.data_options(t));if(r.find(".tap-to-close").length===0){r.append('<span class="tap-to-close">'+u.touch_close_text+"</span>");r.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){i.hide(t)})}t.data("tooltip-open-event-type","touch")},show:function(n){var t=this.getTip(n);n.data("tooltip-open-event-type")=="touch"&&this.convert_to_touch(n),this.reposition(n,t,n.attr("class")),n.addClass("open"),t.fadeIn(150)},hide:function(n){var t=this.getTip(n);t.fadeOut(150,function(){t.find(".tap-to-close").remove(),t.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),n.removeClass("open")})},off:function(){var t=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(i){n("["+t.attr_name()+"]").eq(i).attr("title",n(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(n,t,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(t,i,r){Foundation.inherit(this,"add_custom_rule register_media throttle");var u=this;u.register_media("topbar","foundation-mq-topbar"),this.bindings(i,r),u.S("["+this.attr_name()+"]",this.scope).each(function(){var t=n(this),r=t.data(u.attr_name(!0)+"-init"),f=u.S("section, .top-bar-section",this),i;t.data("index",0),i=t.parent(),i.hasClass("fixed")||u.is_sticky(t,i,r)?(u.settings.sticky_class=r.sticky_class,u.settings.sticky_topbar=t,t.data("height",i.outerHeight()),t.data("stickyoffset",i.offset().top)):t.data("height",t.outerHeight()),r.assembled||u.assemble(t),r.is_hover?u.S(".has-dropdown",t).addClass("not-click"):u.S(".has-dropdown",t).removeClass("not-click"),u.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),i.hasClass("fixed")&&u.S("body").addClass("f-topbar-fixed")})},is_sticky:function(n,t,i){var r=t.hasClass(i.sticky_class),e=matchMedia(Foundation.media_queries.small).matches,f=matchMedia(Foundation.media_queries.medium).matches,u=matchMedia(Foundation.media_queries.large).matches;return r&&i.sticky_on==="all"?!0:r&&this.small()&&i.sticky_on.indexOf("small")!==-1&&e&&!f&&!u?!0:r&&this.medium()&&i.sticky_on.indexOf("medium")!==-1&&e&&f&&!u?!0:r&&this.large()&&i.sticky_on.indexOf("large")!==-1&&e&&f&&u?!0:r&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1},toggle:function(i){var u=this,r,e,f;r=i?u.S(i).closest("["+this.attr_name()+"]"):u.S("["+this.attr_name()+"]"),e=r.data(this.attr_name(!0)+"-init"),f=u.S("section, .top-bar-section",r),u.breakpoint()&&(u.rtl?(f.css({right:"0%"}),n(">.name",f).css({right:"100%"})):(f.css({left:"0%"}),n(">.name",f).css({left:"100%"})),u.S("li.moved",f).removeClass("moved"),r.data("index",0),r.toggleClass("expanded").css("height","")),e.scrolltop?r.hasClass("expanded")?r.parent().hasClass("fixed")&&(e.scrolltop?(r.parent().removeClass("fixed"),r.addClass("fixed"),u.S("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):r.parent().removeClass("expanded")):r.hasClass("fixed")&&(r.parent().addClass("fixed"),r.removeClass("fixed"),u.S("body").addClass("f-topbar-fixed")):(u.is_sticky(r,r.parent(),e)&&r.parent().addClass("fixed"),r.parent().hasClass("fixed")&&(r.hasClass("expanded")?(r.addClass("fixed"),r.parent().addClass("expanded"),u.S("body").addClass("f-topbar-fixed")):(r.removeClass("fixed"),r.parent().removeClass("expanded"),u.update_sticky_positioning())))},timer:null,events:function(){var r=this,u=this.S;u(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(n){n.preventDefault(),r.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var i=n(this).closest("li");!r.breakpoint()||i.hasClass("back")||i.hasClass("has-dropdown")||r.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var i=u(this),f=u(t.target),o=i.closest("["+r.attr_name()+"]"),e=o.data(r.attr_name(!0)+"-init");if(f.data("revealId")){r.toggle();return}r.breakpoint()||(!e.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),i.hasClass("hover")?(i.removeClass("hover").find("li").removeClass("hover"),i.parents("li.hover").removeClass("hover")):(i.addClass("hover"),n(i).siblings().removeClass("hover"),f[0].nodeName==="A"&&f.parent().hasClass("has-dropdown")&&t.preventDefault()))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(n){if(r.breakpoint()){n.preventDefault();var f=u(this),t=f.closest("["+r.attr_name()+"]"),i=t.find("section, .top-bar-section"),o=f.next(".dropdown").outerHeight(),e=f.closest("li");t.data("index",t.data("index")+1),e.addClass("moved"),r.rtl?(i.css({right:-(100*t.data("index"))+"%"}),i.find(" > .name").css({right:100*t.data("index")+"%"})):(i.css({left:-(100*t.data("index"))+"%"}),i.find(" > .name").css({left:100*t.data("index")+"%"})),t.css("height",f.siblings("ul").outerHeight(!0)+t.data("height"))}});u(t).off(".topbar").on("resize.fndtn.topbar",r.throttle(function(){r.resize.call(r)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){u(this).trigger("resize.fndtn.topbar")});u("body").off(".topbar").on("click.fndtn.topbar",function(n){var t=u(n.target).closest("li").closest("li.hover");t.length>0||u("["+r.attr_name()+"] li.hover").removeClass("hover")});u(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(n){n.preventDefault();var e=u(this),t=e.closest("["+r.attr_name()+"]"),i=t.find("section, .top-bar-section"),s=t.data(r.attr_name(!0)+"-init"),f=e.closest("li.moved"),o=f.parent();t.data("index",t.data("index")-1),r.rtl?(i.css({right:-(100*t.data("index"))+"%"}),i.find(" > .name").css({right:100*t.data("index")+"%"})):(i.css({left:-(100*t.data("index"))+"%"}),i.find(" > .name").css({left:100*t.data("index")+"%"})),t.data("index")===0?t.css("height",""):t.css("height",o.outerHeight(!0)+t.data("height")),setTimeout(function(){f.removeClass("moved")},300)});u(this.scope).find(".dropdown a").focus(function(){n(this).parents(".has-dropdown").addClass("hover")}).blur(function(){n(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var n=this;n.S("["+this.attr_name()+"]").each(function(){var t=n.S(this),e=t.data(n.attr_name(!0)+"-init"),r=t.parent("."+n.settings.sticky_class),u,f;n.breakpoint()||(f=t.hasClass("expanded"),t.css("height","").removeClass("expanded").find("li").removeClass("hover"),f&&n.toggle(t)),n.is_sticky(t,r,e)&&(r.hasClass("fixed")?(r.removeClass("fixed"),u=r.offset().top,n.S(i.body).hasClass("f-topbar-fixed")&&(u-=t.data("height")),t.data("stickyoffset",u),r.addClass("fixed")):(u=r.offset().top,t.data("stickyoffset",u)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(t){var u=this,r=t.data(this.attr_name(!0)+"-init"),i=u.S("section, .top-bar-section",t);i.detach(),u.S(".has-dropdown>a",i).each(function(){var i=u.S(this),f=i.siblings(".dropdown"),e=i.attr("href"),t;f.find(".title.back").length||(t=r.mobile_show_parent_link==!0&&e?n('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-large-up"><a class="parent-link js-generated" href="'+e+'">'+i.html()+"</a></li>"):n('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),r.custom_back_text==!0?n("h5>a",t).html(r.back_text):n("h5>a",t).html("&laquo; "+i.html()),f.prepend(t))}),i.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),n.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var i=0,r=this;return n("> li",t).each(function(){i+=r.S(this).outerHeight(!0)}),i},sticky:function(){var n=this;this.S(t).on("scroll",function(){n.update_sticky_positioning()})},update_sticky_positioning:function(){var i="."+this.settings.sticky_class,u=this.S(t),n=this,r;n.settings.sticky_topbar&&n.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)&&(r=this.settings.sticky_topbar.data("stickyoffset"),n.S(i).hasClass("expanded")||(u.scrollTop()>r?n.S(i).hasClass("fixed")||(n.S(i).addClass("fixed"),n.S("body").addClass("f-topbar-fixed")):u.scrollTop()<=r&&n.S(i).hasClass("fixed")&&(n.S(i).removeClass("fixed"),n.S("body").removeClass("f-topbar-fixed"))))},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document);
(function(n,t){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(n,t){return'<span data-selector="'+n+'" id="'+n+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(n,t,i){Foundation.inherit(this,"random_str"),this.bindings(t,i)},should_show:function(t){var r=n.extend({},this.settings,this.data_options(t));return r.show_on==="all"?!0:this.small()&&r.show_on==="small"||this.medium()&&r.show_on==="medium"||this.large()&&r.show_on==="large"?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(t){var i=this,r=i.S;i.create(this.S(t));n(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(t){var u=r(this),f=n.extend({},i.settings,i.data_options(u)),e=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&r(t.target).is("a")||/mouse/i.test(t.type)&&i.ie_touch(t))return!1;if(u.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),i.hide(u);else{if(f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;!f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),r(f.tooltip_class+".open").hide(),e=!0),/enter|over/i.test(t.type)?this.timer=setTimeout(function(){var n=i.showTip(u)}.bind(this),i.settings.hover_delay):t.type==="mouseout"||t.type==="mouseleave"?(clearTimeout(this.timer),i.hide(u)):i.showTip(u)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){if(/mouse/i.test(t.type)&&i.ie_touch(t))return!1;(n(this).data("tooltip-open-event-type")!="touch"||t.type!="mouseleave")&&(n(this).data("tooltip-open-event-type")=="mouse"&&/MSPointerDown|touchstart/i.test(t.type)?i.convert_to_touch(n(this)):i.hide(n(this)))})},ie_touch:function(){return!1},showTip:function(n){var t=this.getTip(n);if(this.should_show(n,t))return this.show(n)},getTip:function(t){var r=this.selector(t),u=n.extend({},this.settings,this.data_options(t)),i=null;return r&&(i=this.S('span[data-selector="'+r+'"]'+u.tooltip_class)),typeof i=="object"?i:!1},selector:function(n){var t=n.attr("id"),i=n.attr(this.attr_name())||n.attr("data-selector");return(t&&t.length<1||!t)&&typeof i!="string"&&(i=this.random_str(6),n.attr("data-selector",i).attr("aria-describedby",i)),t&&t.length>0?t:i},create:function(i){var o=this,r=n.extend({},this.settings,this.data_options(i)),e=this.settings.tip_template,u,f;if(typeof r.tip_template=="string"&&t.hasOwnProperty(r.tip_template)&&(e=t[r.tip_template]),u=n(e(this.selector(i),n("<div></div>").html(i.attr("title")).html())),f=this.inheritable_classes(i),u.addClass(f).appendTo(r.append_to),Modernizr.touch){u.append('<span class="tap-to-close">'+r.touch_close_text+"</span>");u.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){o.hide(i)})}i.removeAttr("title").attr("title","")},reposition:function(t,i,r){var s,f,o,h,c,u,e;i.css("visibility","hidden").show(),s=t.data("width"),f=i.children(".nub"),o=f.outerHeight(),h=f.outerHeight(),this.small()?i.css({width:"100%"}):i.css({width:s?s:"auto"}),u=function(n,t,i,r,u){return n.css({top:t?t:"auto",bottom:r?r:"auto",left:u?u:"auto",right:i?i:"auto"}).end()},u(i,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left),this.small()?(u(i,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,n(this.scope).width()),i.addClass("tip-override"),u(f,-o,"auto","auto",t.offset().left)):(e=t.offset().left,Foundation.rtl&&(f.addClass("rtl"),e=t.offset().left+t.outerWidth()-i.outerWidth()),u(i,t.offset().top+t.outerHeight()+10,"auto","auto",e),i.removeClass("tip-override"),r&&r.indexOf("tip-top")>-1?(Foundation.rtl&&f.addClass("rtl"),u(i,t.offset().top-i.outerHeight(),"auto","auto",e).removeClass("tip-override")):r&&r.indexOf("tip-left")>-1?(u(i,t.offset().top+t.outerHeight()/2-i.outerHeight()/2,"auto","auto",t.offset().left-i.outerWidth()-o).removeClass("tip-override"),f.removeClass("rtl")):r&&r.indexOf("tip-right")>-1&&(u(i,t.offset().top+t.outerHeight()/2-i.outerHeight()/2,"auto","auto",t.offset().left+t.outerWidth()+o).removeClass("tip-override"),f.removeClass("rtl"))),i.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(t){var u=n.extend({},this.settings,this.data_options(t)),f=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(u.additional_inheritable_classes),i=t.attr("class"),r=i?n.map(i.split(" "),function(t){if(n.inArray(t,f)!==-1)return t}).join(" "):"";return n.trim(r)},convert_to_touch:function(t){var i=this,r=i.getTip(t),u=n.extend({},i.settings,i.data_options(t));if(r.find(".tap-to-close").length===0){r.append('<span class="tap-to-close">'+u.touch_close_text+"</span>");r.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){i.hide(t)})}t.data("tooltip-open-event-type","touch")},show:function(n){var t=this.getTip(n);n.data("tooltip-open-event-type")=="touch"&&this.convert_to_touch(n),this.reposition(n,t,n.attr("class")),n.addClass("open"),t.fadeIn(150)},hide:function(n){var t=this.getTip(n);t.fadeOut(150,function(){t.find(".tap-to-close").remove(),t.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),n.removeClass("open")})},off:function(){var t=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(i){n("["+t.attr_name()+"]").eq(i).attr("title",n(this).text())}).remove()},reflow:function(){}}})(jQuery,window,window.document);
$(document).ready(function(){function i(n){var r="_"+Math.random().toString(36).substr(2,9),u=n.hasClass("sortable-table")?!0:!1,i;n.attr("data-table-split-id",r),u?n.wrap("<div class='table-wrapper sortable-table-wrapper' />"):n.wrap("<div class='table-wrapper' />"),i=n.clone().attr("data-table-clone",""),i.find("td:not(:first-child), th:not(:first-child)").css("display","none"),i.removeClass("responsive"),n.attr("data-table-original","").closest(".table-wrapper").append(i),i.wrap("<div class='pinned' />"),n.wrap("<div class='scrollable' />"),t(n,i),n.parents(".responsive").addClass("splitted")}function n(n){n.removeAttr("data-table-original").removeAttr("data-table-split-id").closest(".table-wrapper").find(".pinned").remove(),n.unwrap(),n.unwrap(),n.parents(".responsive").removeClass("splitted")}function t(n,t){var r=n.find("tr"),u=t.find("tr"),i=[];r.each(function(n){var r=$(this),t=r.find("th, td");t.each(function(){var t=$(this).outerHeight(!0);i[n]=i[n]||0,t>i[n]&&(i[n]=t)})}),u.each(function(n){$(this).height(i[n])})}var r=function(t){if(t==="small")return $(".responsive:not('.splitted') table").each(function(n,t){var r=$(t).closest(".responsive"),f=$('<div class="vote-header"/>').html($(".sakfragan td",t).html()),u=$('<div class="vote-footer"/>').html($(".beslut",t).html());i($(t)),r.find(".vote-header").remove(),r.find(".vote-footer").remove(),$(t).parents(".table-wrapper").before(f),$(t).parents(".table-wrapper").after(u)}),!0;$(".responsive.splitted table").each(function(t,i){n($(i)),$(".vote-header").remove(),$(".vote-footer").remove()})},u=function(){$(".responsive .parti").each(function(n,t){$('<img src="/Views/Ui/images/logotyper-parti/small/logo-'+$(t).text()+'-small.jpg" alt="Partilogotyp" />').prependTo($(t))})};$(window).on("rd-responsive",function(n,t){r(t),rd.module.tablesorter.init()});$(window).load(u)});
/*!
 * jquery.customSelect() - v0.5.1
 * http://adam.co/lab/jquery/customselect/
 * 2014-04-19
 *
 * Copyright 2013 Adam Coulombe
 * @license http://www.opensource.org/licenses/mit-license.html MIT License
 * @license http://www.gnu.org/licenses/gpl.html GPL2 License 
 */
(function(a){a.fn.extend({customSelect:function(c){if(typeof document.body.style.maxHeight==="undefined"){return this}var e={customClass:"customSelect",mapClass:true,mapStyle:true},c=a.extend(e,c),d=c.customClass,f=function(h,k){var g=h.find(":selected"),j=k.children(":first"),i=g.html()||"&nbsp;";j.html(i);if(g.attr("disabled")){k.addClass(b("DisabledOption"))}else{k.removeClass(b("DisabledOption"))}setTimeout(function(){k.removeClass(b("Open"));a(document).off("mouseup.customSelect")},60)},b=function(g){return d+g};return this.each(function(){var g=a(this),i=a("<span />").addClass(b("Inner")),h=a("<span />");g.after(h.append(i));h.addClass(d);if(c.mapClass){h.addClass(g.attr("class"))}if(c.mapStyle){h.attr("style",g.attr("style"))}g.addClass("hasCustomSelect").on("render.customSelect",function(){f(g,h);g.css("width","");var k=parseInt(g.outerWidth(),10)-(parseInt(h.outerWidth(),10)-parseInt(h.width(),10));h.css({display:"inline-block"});var j=h.outerHeight();if(g.attr("disabled")){h.addClass(b("Disabled"))}else{h.removeClass(b("Disabled"))}i.css({width:k,display:"inline-block"});g.css({"-webkit-appearance":"menulist-button",width:h.outerWidth(),position:"absolute",opacity:0,height:j,fontSize:h.css("font-size")})}).on("change.customSelect",function(){h.addClass(b("Changed"));f(g,h)}).on("keyup.customSelect",function(j){if(!h.hasClass(b("Open"))){g.trigger("blur.customSelect");g.trigger("focus.customSelect")}else{if(j.which==13||j.which==27){f(g,h)}}}).on("mousedown.customSelect",function(){h.removeClass(b("Changed"))}).on("mouseup.customSelect",function(j){if(!h.hasClass(b("Open"))){if(a("."+b("Open")).not(h).length>0&&typeof InstallTrigger!=="undefined"){g.trigger("focus.customSelect")}else{h.addClass(b("Open"));j.stopPropagation();a(document).one("mouseup.customSelect",function(k){if(k.target!=g.get(0)&&a.inArray(k.target,g.find("*").get())<0){g.trigger("blur.customSelect")}else{f(g,h)}})}}}).on("focus.customSelect",function(){h.removeClass(b("Changed")).addClass(b("Focus"))}).on("blur.customSelect",function(){h.removeClass(b("Focus")+" "+b("Open"))}).on("mouseenter.customSelect",function(){h.addClass(b("Hover"))}).on("mouseleave.customSelect",function(){h.removeClass(b("Hover"))}).trigger("render.customSelect")})}})})(jQuery);
/*! Tappy! - a lightweight normalized tap event. Copyright 2013 @scottjehl, Filament Group, Inc. Licensed MIT */
(function(n,t){var u,r,e,f;n.tapHandling=!1,n.tappy=!0,u=function(i){return i.each(function(){function l(n){t(n.target).trigger("tap",[n,t(n.target).attr("href")])}function r(n){var i=n.originalEvent||n,t=i.touches||i.targetTouches;return t?[t[0].pageX,t[0].pageY]:null}function a(n){if(n.touches&&n.touches.length>1||n.targetTouches&&n.targetTouches.length>1)return!1;var t=r(n);f=t[0],s=t[1]}function h(n){if(!i){var t=r(n);t&&(Math.abs(s-t[1])>e||Math.abs(f-t[0])>e)&&(i=!0)}}function u(t){if(clearTimeout(o),o=setTimeout(function(){n.tapHandling=!1,i=!1},1e3),(!t.which||!(t.which>1))&&!t.shiftKey&&!t.altKey&&!t.metaKey&&!t.ctrlKey){if(t.preventDefault(),i||n.tapHandling&&n.tapHandling!==t.type){i=!1;return}n.tapHandling=t.type,l(t)}}var c=t(this),o,s,f,i,e=10;c.bind("touchstart.tappy MSPointerDown.tappy",a).bind("touchmove.tappy MSPointerMove.tappy",h).bind("touchend.tappy MSPointerUp.tappy",u).bind("click.tappy",u)})},r=function(n){return n.unbind(".tappy")},t.event&&t.event.special?t.event.special.tap={add:function(){u(t(this))},remove:function(){r(t(this))}}:(e=t.fn.bind,f=t.fn.unbind,t.fn.bind=function(n){return/(^| )tap( |$)/.test(n)&&u(this),e.apply(this,arguments)},t.fn.unbind=function(n){return/(^| )tap( |$)/.test(n)&&r(this),f.apply(this,arguments)})})(this,jQuery);
/*! URI.js v1.15.0 http://medialize.github.io/URI.js/ */
/* build contains: IPv6.js, punycode.js, SecondLevelDomains.js, URI.js, URITemplate.js */
(function(f,l){"object"===typeof exports?module.exports=l():"function"===typeof define&&define.amd?define(l):f.IPv6=l(f)})(this,function(f){var l=f&&f.IPv6;return{best:function(g){g=g.toLowerCase().split(":");var m=g.length,b=8;""===g[0]&&""===g[1]&&""===g[2]?(g.shift(),g.shift()):""===g[0]&&""===g[1]?g.shift():""===g[m-1]&&""===g[m-2]&&g.pop();m=g.length;-1!==g[m-1].indexOf(".")&&(b=7);var k;for(k=0;k<m&&""!==g[k];k++);if(k<b)for(g.splice(k,1,"0000");g.length<b;)g.splice(k,0,"0000");for(k=0;k<b;k++){for(var m=
g[k].split(""),f=0;3>f;f++)if("0"===m[0]&&1<m.length)m.splice(0,1);else break;g[k]=m.join("")}var m=-1,l=f=0,h=-1,r=!1;for(k=0;k<b;k++)r?"0"===g[k]?l+=1:(r=!1,l>f&&(m=h,f=l)):"0"===g[k]&&(r=!0,h=k,l=1);l>f&&(m=h,f=l);1<f&&g.splice(m,f,"");m=g.length;b="";""===g[0]&&(b=":");for(k=0;k<m;k++){b+=g[k];if(k===m-1)break;b+=":"}""===g[m-1]&&(b+=":");return b},noConflict:function(){f.IPv6===this&&(f.IPv6=l);return this}}});
(function(f){function l(b){throw RangeError(u[b]);}function g(b,e){for(var h=b.length;h--;)b[h]=e(b[h]);return b}function m(b,e){return g(b.split(v),e).join(".")}function b(b){for(var e=[],h=0,a=b.length,c,d;h<a;)c=b.charCodeAt(h++),55296<=c&&56319>=c&&h<a?(d=b.charCodeAt(h++),56320==(d&64512)?e.push(((c&1023)<<10)+(d&1023)+65536):(e.push(c),h--)):e.push(c);return e}function k(b){return g(b,function(b){var e="";65535<b&&(b-=65536,e+=y(b>>>10&1023|55296),b=56320|b&1023);return e+=y(b)}).join("")}function B(b,
e){return b+22+75*(26>b)-((0!=e)<<5)}function w(b,e,h){var a=0;b=h?q(b/700):b>>1;for(b+=q(b/e);455<b;a+=36)b=q(b/35);return q(a+36*b/(b+38))}function h(b){var e=[],h=b.length,a,c=0,d=128,p=72,x,z,g,f,m;x=b.lastIndexOf("-");0>x&&(x=0);for(z=0;z<x;++z)128<=b.charCodeAt(z)&&l("not-basic"),e.push(b.charCodeAt(z));for(x=0<x?x+1:0;x<h;){z=c;a=1;for(g=36;;g+=36){x>=h&&l("invalid-input");f=b.charCodeAt(x++);f=10>f-48?f-22:26>f-65?f-65:26>f-97?f-97:36;(36<=f||f>q((2147483647-c)/a))&&l("overflow");c+=f*a;m=
g<=p?1:g>=p+26?26:g-p;if(f<m)break;f=36-m;a>q(2147483647/f)&&l("overflow");a*=f}a=e.length+1;p=w(c-z,a,0==z);q(c/a)>2147483647-d&&l("overflow");d+=q(c/a);c%=a;e.splice(c++,0,d)}return k(e)}function r(e){var h,g,a,c,d,p,x,z,f,m=[],r,k,n;e=b(e);r=e.length;h=128;g=0;d=72;for(p=0;p<r;++p)f=e[p],128>f&&m.push(y(f));for((a=c=m.length)&&m.push("-");a<r;){x=2147483647;for(p=0;p<r;++p)f=e[p],f>=h&&f<x&&(x=f);k=a+1;x-h>q((2147483647-g)/k)&&l("overflow");g+=(x-h)*k;h=x;for(p=0;p<r;++p)if(f=e[p],f<h&&2147483647<
++g&&l("overflow"),f==h){z=g;for(x=36;;x+=36){f=x<=d?1:x>=d+26?26:x-d;if(z<f)break;n=z-f;z=36-f;m.push(y(B(f+n%z,0)));z=q(n/z)}m.push(y(B(z,0)));d=w(g,k,a==c);g=0;++a}++g;++h}return m.join("")}var C="object"==typeof exports&&exports,D="object"==typeof module&&module&&module.exports==C&&module,A="object"==typeof global&&global;if(A.global===A||A.window===A)f=A;var t,n=/^xn--/,e=/[^ -~]/,v=/\x2E|\u3002|\uFF0E|\uFF61/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},q=Math.floor,y=String.fromCharCode,E;t={version:"1.2.3",ucs2:{decode:b,encode:k},decode:h,encode:r,toASCII:function(b){return m(b,function(b){return e.test(b)?"xn--"+r(b):b})},toUnicode:function(b){return m(b,function(b){return n.test(b)?h(b.slice(4).toLowerCase()):b})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return t});else if(C&&!C.nodeType)if(D)D.exports=t;else for(E in t)t.hasOwnProperty(E)&&(C[E]=t[E]);else f.punycode=
t})(this);
(function(f,l){"object"===typeof exports?module.exports=l():"function"===typeof define&&define.amd?define(l):f.SecondLevelDomains=l(f)})(this,function(f){var l=f&&f.SecondLevelDomains,g={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",
bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",
cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",
et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",
id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",
kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",
mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",
ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",
ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",
tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",
rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",
tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",
us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(f){var b=f.lastIndexOf(".");if(0>=b||b>=f.length-1)return!1;
var k=f.lastIndexOf(".",b-1);if(0>=k||k>=b-1)return!1;var l=g.list[f.slice(b+1)];return l?0<=l.indexOf(" "+f.slice(k+1,b)+" "):!1},is:function(f){var b=f.lastIndexOf(".");if(0>=b||b>=f.length-1||0<=f.lastIndexOf(".",b-1))return!1;var k=g.list[f.slice(b+1)];return k?0<=k.indexOf(" "+f.slice(0,b)+" "):!1},get:function(f){var b=f.lastIndexOf(".");if(0>=b||b>=f.length-1)return null;var k=f.lastIndexOf(".",b-1);if(0>=k||k>=b-1)return null;var l=g.list[f.slice(b+1)];return!l||0>l.indexOf(" "+f.slice(k+
1,b)+" ")?null:f.slice(k+1)},noConflict:function(){f.SecondLevelDomains===this&&(f.SecondLevelDomains=l);return this}};return g});
(function(f,l){"object"===typeof exports?module.exports=l(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],l):f.URI=l(f.punycode,f.IPv6,f.SecondLevelDomains,f)})(this,function(f,l,g,m){function b(a,c){if(!(this instanceof b))return new b(a,c);if(void 0===a){if(arguments.length)throw new TypeError("undefined is not a valid argument for URI");a="undefined"!==typeof location?location.href+
"":""}this.href(a);return void 0!==c?this.absoluteTo(c):this}function k(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function B(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function w(a){return"Array"===B(a)}function h(a,c){var d,b;if(w(c)){d=0;for(b=c.length;d<b;d++)if(!h(a,c[d]))return!1;return!0}var e=B(c);d=0;for(b=a.length;d<b;d++)if("RegExp"===e){if("string"===typeof a[d]&&a[d].match(c))return!0}else if(a[d]===c)return!0;return!1}function r(a,
c){if(!w(a)||!w(c)||a.length!==c.length)return!1;a.sort();c.sort();for(var d=0,b=a.length;d<b;d++)if(a[d]!==c[d])return!1;return!0}function C(a){return escape(a)}function D(a){return encodeURIComponent(a).replace(/[!'()*]/g,C).replace(/\*/g,"%2A")}function A(a){return function(c,d){if(void 0===c)return this._parts[a]||"";this._parts[a]=c||null;this.build(!d);return this}}function t(a,c){return function(d,b){if(void 0===d)return this._parts[a]||"";null!==d&&(d+="",d.charAt(0)===c&&(d=d.substring(1)));
this._parts[a]=d;this.build(!b);return this}}var n=m&&m.URI;b.version="1.15.0";var e=b.prototype,v=Object.prototype.hasOwnProperty;b._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:b.duplicateQueryParameters,escapeQuerySpace:b.escapeQuerySpace}};b.duplicateQueryParameters=!1;b.escapeQuerySpace=!0;b.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;b.idn_expression=/[^a-z0-9\.-]/i;b.punycode_expression=
/(xn--)/i;b.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;b.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
b.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;b.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};b.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};b.invalid_hostname_characters=
/[^a-zA-Z0-9\.-]/;b.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};b.getDomAttribute=function(a){if(a&&a.nodeName){var c=a.nodeName.toLowerCase();return"input"===c&&"image"!==a.type?void 0:b.domAttributes[c]}};b.encode=D;b.decode=decodeURIComponent;b.iso8859=function(){b.encode=escape;b.decode=unescape};b.unicode=function(){b.encode=D;b.decode=
decodeURIComponent};b.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",",
"%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}};b.encodeQuery=function(a,c){var d=b.encode(a+"");void 0===c&&(c=b.escapeQuerySpace);return c?d.replace(/%20/g,"+"):d};b.decodeQuery=function(a,c){a+="";void 0===c&&(c=b.escapeQuerySpace);try{return b.decode(c?a.replace(/\+/g,
"%20"):a)}catch(d){return a}};var u={encode:"encode",decode:"decode"},q,y=function(a,c){return function(d){try{return b[c](d+"").replace(b.characters[a][c].expression,function(d){return b.characters[a][c].map[d]})}catch(p){return d}}};for(q in u)b[q+"PathSegment"]=y("pathname",u[q]),b[q+"UrnPathSegment"]=y("urnpath",u[q]);u=function(a,c,d){return function(p){var e;e=d?function(a){return b[c](b[d](a))}:b[c];p=(p+"").split(a);for(var f=0,h=p.length;f<h;f++)p[f]=e(p[f]);return p.join(a)}};b.decodePath=
u("/","decodePathSegment");b.decodeUrnPath=u(":","decodeUrnPathSegment");b.recodePath=u("/","encodePathSegment","decode");b.recodeUrnPath=u(":","encodeUrnPathSegment","decode");b.encodeReserved=y("reserved","encode");b.parse=function(a,c){var d;c||(c={});d=a.indexOf("#");-1<d&&(c.fragment=a.substring(d+1)||null,a=a.substring(0,d));d=a.indexOf("?");-1<d&&(c.query=a.substring(d+1)||null,a=a.substring(0,d));"//"===a.substring(0,2)?(c.protocol=null,a=a.substring(2),a=b.parseAuthority(a,c)):(d=a.indexOf(":"),
-1<d&&(c.protocol=a.substring(0,d)||null,c.protocol&&!c.protocol.match(b.protocol_expression)?c.protocol=void 0:"//"===a.substring(d+1,d+3)?(a=a.substring(d+3),a=b.parseAuthority(a,c)):(a=a.substring(d+1),c.urn=!0)));c.path=a;return c};b.parseHost=function(a,c){var d=a.indexOf("/"),b;-1===d&&(d=a.length);if("["===a.charAt(0))b=a.indexOf("]"),c.hostname=a.substring(1,b)||null,c.port=a.substring(b+2,d)||null,"/"===c.port&&(c.port=null);else{var e=a.indexOf(":");b=a.indexOf("/");e=a.indexOf(":",e+1);
-1!==e&&(-1===b||e<b)?(c.hostname=a.substring(0,d)||null,c.port=null):(b=a.substring(0,d).split(":"),c.hostname=b[0]||null,c.port=b[1]||null)}c.hostname&&"/"!==a.substring(d).charAt(0)&&(d++,a="/"+a);return a.substring(d)||"/"};b.parseAuthority=function(a,c){a=b.parseUserinfo(a,c);return b.parseHost(a,c)};b.parseUserinfo=function(a,c){var d=a.indexOf("/"),p=a.lastIndexOf("@",-1<d?d:a.length-1);-1<p&&(-1===d||p<d)?(d=a.substring(0,p).split(":"),c.username=d[0]?b.decode(d[0]):null,d.shift(),c.password=
d[0]?b.decode(d.join(":")):null,a=a.substring(p+1)):(c.username=null,c.password=null);return a};b.parseQuery=function(a,c){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!a)return{};for(var d={},p=a.split("&"),e=p.length,f,h,g=0;g<e;g++)f=p[g].split("="),h=b.decodeQuery(f.shift(),c),f=f.length?b.decodeQuery(f.join("="),c):null,v.call(d,h)?("string"===typeof d[h]&&(d[h]=[d[h]]),d[h].push(f)):d[h]=f;return d};b.build=function(a){var c="";a.protocol&&(c+=a.protocol+":");a.urn||!c&&
!a.hostname||(c+="//");c+=b.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(c+="/"),c+=a.path);"string"===typeof a.query&&a.query&&(c+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(c+="#"+a.fragment);return c};b.buildHost=function(a){var c="";if(a.hostname)c=b.ip6_expression.test(a.hostname)?c+("["+a.hostname+"]"):c+a.hostname;else return"";a.port&&(c+=":"+a.port);return c};b.buildAuthority=function(a){return b.buildUserinfo(a)+b.buildHost(a)};
b.buildUserinfo=function(a){var c="";a.username&&(c+=b.encode(a.username),a.password&&(c+=":"+b.encode(a.password)),c+="@");return c};b.buildQuery=function(a,c,d){var p="",e,f,h,g;for(f in a)if(v.call(a,f)&&f)if(w(a[f]))for(e={},h=0,g=a[f].length;h<g;h++)void 0!==a[f][h]&&void 0===e[a[f][h]+""]&&(p+="&"+b.buildQueryParameter(f,a[f][h],d),!0!==c&&(e[a[f][h]+""]=!0));else void 0!==a[f]&&(p+="&"+b.buildQueryParameter(f,a[f],d));return p.substring(1)};b.buildQueryParameter=function(a,c,d){return b.encodeQuery(a,
d)+(null!==c?"="+b.encodeQuery(c,d):"")};b.addQuery=function(a,c,d){if("object"===typeof c)for(var e in c)v.call(c,e)&&b.addQuery(a,e,c[e]);else if("string"===typeof c)void 0===a[c]?a[c]=d:("string"===typeof a[c]&&(a[c]=[a[c]]),w(d)||(d=[d]),a[c]=(a[c]||[]).concat(d));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};b.removeQuery=function(a,c,d){var e;if(w(c))for(d=0,e=c.length;d<e;d++)a[c[d]]=void 0;else if("object"===typeof c)for(e in c)v.call(c,e)&&b.removeQuery(a,
e,c[e]);else if("string"===typeof c)if(void 0!==d)if(a[c]===d)a[c]=void 0;else{if(w(a[c])){e=a[c];var f={},h,g;if(w(d))for(h=0,g=d.length;h<g;h++)f[d[h]]=!0;else f[d]=!0;h=0;for(g=e.length;h<g;h++)void 0!==f[e[h]]&&(e.splice(h,1),g--,h--);a[c]=e}}else a[c]=void 0;else throw new TypeError("URI.removeQuery() accepts an object, string as the first parameter");};b.hasQuery=function(a,c,d,e){if("object"===typeof c){for(var f in c)if(v.call(c,f)&&!b.hasQuery(a,f,c[f]))return!1;return!0}if("string"!==typeof c)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");
switch(B(d)){case "Undefined":return c in a;case "Boolean":return a=Boolean(w(a[c])?a[c].length:a[c]),d===a;case "Function":return!!d(a[c],c,a);case "Array":return w(a[c])?(e?h:r)(a[c],d):!1;case "RegExp":return w(a[c])?e?h(a[c],d):!1:Boolean(a[c]&&a[c].match(d));case "Number":d=String(d);case "String":return w(a[c])?e?h(a[c],d):!1:a[c]===d;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};b.commonPath=function(a,c){var d=
Math.min(a.length,c.length),b;for(b=0;b<d;b++)if(a.charAt(b)!==c.charAt(b)){b--;break}if(1>b)return a.charAt(0)===c.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(b)||"/"!==c.charAt(b))b=a.substring(0,b).lastIndexOf("/");return a.substring(0,b+1)};b.withinString=function(a,c,d){d||(d={});var e=d.start||b.findUri.start,f=d.end||b.findUri.end,h=d.trim||b.findUri.trim,g=/[a-z0-9-]=["']?$/i;for(e.lastIndex=0;;){var r=e.exec(a);if(!r)break;r=r.index;if(d.ignoreHtml){var k=a.slice(Math.max(r-3,0),
r);if(k&&g.test(k))continue}var k=r+a.slice(r).search(f),m=a.slice(r,k).replace(h,"");d.ignore&&d.ignore.test(m)||(k=r+m.length,m=c(m,r,k,a),a=a.slice(0,r)+m+a.slice(k),e.lastIndex=r+m.length)}e.lastIndex=0;return a};b.ensureValidHostname=function(a){if(a.match(b.invalid_hostname_characters)){if(!f)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(f.toASCII(a).match(b.invalid_hostname_characters))throw new TypeError('Hostname "'+
a+'" contains characters other than [A-Z0-9.-]');}};b.noConflict=function(a){if(a)return a={URI:this.noConflict()},m.URITemplate&&"function"===typeof m.URITemplate.noConflict&&(a.URITemplate=m.URITemplate.noConflict()),m.IPv6&&"function"===typeof m.IPv6.noConflict&&(a.IPv6=m.IPv6.noConflict()),m.SecondLevelDomains&&"function"===typeof m.SecondLevelDomains.noConflict&&(a.SecondLevelDomains=m.SecondLevelDomains.noConflict()),a;m.URI===this&&(m.URI=n);return this};e.build=function(a){if(!0===a)this._deferred_build=
!0;else if(void 0===a||this._deferred_build)this._string=b.build(this._parts),this._deferred_build=!1;return this};e.clone=function(){return new b(this)};e.valueOf=e.toString=function(){return this.build(!1)._string};e.protocol=A("protocol");e.username=A("username");e.password=A("password");e.hostname=A("hostname");e.port=A("port");e.query=t("query","?");e.fragment=t("fragment","#");e.search=function(a,c){var b=this.query(a,c);return"string"===typeof b&&b.length?"?"+b:b};e.hash=function(a,c){var b=
this.fragment(a,c);return"string"===typeof b&&b.length?"#"+b:b};e.pathname=function(a,c){if(void 0===a||!0===a){var d=this._parts.path||(this._parts.hostname?"/":"");return a?(this._parts.urn?b.decodeUrnPath:b.decodePath)(d):d}this._parts.path=this._parts.urn?a?b.recodeUrnPath(a):"":a?b.recodePath(a):"/";this.build(!c);return this};e.path=e.pathname;e.href=function(a,c){var d;if(void 0===a)return this.toString();this._string="";this._parts=b._parts();var e=a instanceof b,f="object"===typeof a&&(a.hostname||
a.path||a.pathname);a.nodeName&&(f=b.getDomAttribute(a),a=a[f]||"",f=!1);!e&&f&&void 0!==a.pathname&&(a=a.toString());if("string"===typeof a||a instanceof String)this._parts=b.parse(String(a),this._parts);else if(e||f)for(d in e=e?a._parts:a,e)v.call(this._parts,d)&&(this._parts[d]=e[d]);else throw new TypeError("invalid input");this.build(!c);return this};e.is=function(a){var c=!1,d=!1,e=!1,f=!1,h=!1,r=!1,k=!1,m=!this._parts.urn;this._parts.hostname&&(m=!1,d=b.ip4_expression.test(this._parts.hostname),
e=b.ip6_expression.test(this._parts.hostname),c=d||e,h=(f=!c)&&g&&g.has(this._parts.hostname),r=f&&b.idn_expression.test(this._parts.hostname),k=f&&b.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return m;case "absolute":return!m;case "domain":case "name":return f;case "sld":return h;case "ip":return c;case "ip4":case "ipv4":case "inet4":return d;case "ip6":case "ipv6":case "inet6":return e;case "idn":return r;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;
case "punycode":return k}return null};var E=e.protocol,F=e.port,G=e.hostname;e.protocol=function(a,c){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(b.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return E.call(this,a,c)};e.scheme=e.protocol;e.port=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+
a+'" contains characters other than [0-9]');return F.call(this,a,c)};e.hostname=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var d={};b.parseHost(a,d);a=d.hostname}return G.call(this,a,c)};e.host=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?b.buildHost(this._parts):"";b.parseHost(a,this._parts);this.build(!c);return this};e.authority=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?
b.buildAuthority(this._parts):"";b.parseAuthority(a,this._parts);this.build(!c);return this};e.userinfo=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var d=b.buildUserinfo(this._parts);return d.substring(0,d.length-1)}"@"!==a[a.length-1]&&(a+="@");b.parseUserinfo(a,this._parts);this.build(!c);return this};e.resource=function(a,c){var d;if(void 0===a)return this.path()+this.search()+this.hash();d=b.parse(a);this._parts.path=d.path;this._parts.query=
d.query;this._parts.fragment=d.fragment;this.build(!c);return this};e.subdomain=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,d)||""}d=this._parts.hostname.length-this.domain().length;d=this._parts.hostname.substring(0,d);d=new RegExp("^"+k(d));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&b.ensureValidHostname(a);this._parts.hostname=
this._parts.hostname.replace(d,a);this.build(!c);return this};e.domain=function(a,c){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(c=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.match(/\./g);if(d&&2>d.length)return this._parts.hostname;d=this._parts.hostname.length-this.tld(c).length-1;d=this._parts.hostname.lastIndexOf(".",d-1)+1;return this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");
b.ensureValidHostname(a);!this._parts.hostname||this.is("IP")?this._parts.hostname=a:(d=new RegExp(k(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(d,a));this.build(!c);return this};e.tld=function(a,c){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(c=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var b=this._parts.hostname.lastIndexOf("."),b=this._parts.hostname.substring(b+1);return!0!==c&&g&&g.list[b.toLowerCase()]?g.get(this._parts.hostname)||
b:b}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(g&&g.is(a))b=new RegExp(k(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(b,a);else throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");b=new RegExp(k(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(b,a)}else throw new TypeError("cannot set TLD empty");this.build(!c);return this};e.directory=
function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var d=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,d)||(this._parts.hostname?"/":"");return a?b.decodePath(d):d}d=this._parts.path.length-this.filename().length;d=this._parts.path.substring(0,d);d=new RegExp("^"+k(d));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-
1)&&(a+="/");a=b.recodePath(a);this._parts.path=this._parts.path.replace(d,a);this.build(!c);return this};e.filename=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var d=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(d+1);return a?b.decodePathSegment(d):d}d=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&(d=!0);var e=new RegExp(k(this.filename())+"$");a=b.recodePath(a);this._parts.path=
this._parts.path.replace(e,a);d?this.normalizePath(c):this.build(!c);return this};e.suffix=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var d=this.filename(),e=d.lastIndexOf(".");if(-1===e)return"";d=d.substring(e+1);d=/^[a-z0-9%]+$/i.test(d)?d:"";return a?b.decodePathSegment(d):d}"."===a.charAt(0)&&(a=a.substring(1));if(d=this.suffix())e=a?new RegExp(k(d)+"$"):new RegExp(k("."+d)+"$");else{if(!a)return this;
this._parts.path+="."+b.recodePath(a)}e&&(a=b.recodePath(a),this._parts.path=this._parts.path.replace(e,a));this.build(!c);return this};e.segment=function(a,c,b){var e=this._parts.urn?":":"/",f=this.path(),h="/"===f.substring(0,1),f=f.split(e);void 0!==a&&"number"!==typeof a&&(b=c,c=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error('Bad segment "'+a+'", must be 0-based integer');h&&f.shift();0>a&&(a=Math.max(f.length+a,0));if(void 0===c)return void 0===a?f:f[a];if(null===a||void 0===f[a])if(w(c)){f=
[];a=0;for(var g=c.length;a<g;a++)if(c[a].length||f.length&&f[f.length-1].length)f.length&&!f[f.length-1].length&&f.pop(),f.push(c[a])}else{if(c||"string"===typeof c)""===f[f.length-1]?f[f.length-1]=c:f.push(c)}else c?f[a]=c:f.splice(a,1);h&&f.unshift("");return this.path(f.join(e),b)};e.segmentCoded=function(a,c,d){var e,f;"number"!==typeof a&&(d=c,c=a,a=void 0);if(void 0===c){a=this.segment(a,c,d);if(w(a))for(e=0,f=a.length;e<f;e++)a[e]=b.decode(a[e]);else a=void 0!==a?b.decode(a):void 0;return a}if(w(c))for(e=
0,f=c.length;e<f;e++)c[e]=b.decode(c[e]);else c="string"===typeof c||c instanceof String?b.encode(c):c;return this.segment(a,c,d)};var H=e.query;e.query=function(a,c){if(!0===a)return b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof a){var d=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace),e=a.call(this,d);this._parts.query=b.buildQuery(e||d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!c);return this}return void 0!==
a&&"string"!==typeof a?(this._parts.query=b.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!c),this):H.call(this,a,c)};e.setQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof a||a instanceof String)e[a]=void 0!==c?c:null;else if("object"===typeof a)for(var f in a)v.call(a,f)&&(e[f]=a[f]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=
b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};e.addQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);b.addQuery(e,a,void 0===c?null:c);this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};e.removeQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);
b.removeQuery(e,a,c);this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};e.hasQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return b.hasQuery(e,a,c,d)};e.setSearch=e.setQuery;e.addSearch=e.addQuery;e.removeSearch=e.removeQuery;e.hasSearch=e.hasQuery;e.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():
this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};e.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};e.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&f?this._parts.hostname=f.toASCII(this._parts.hostname):this.is("IPv6")&&l&&(this._parts.hostname=l.best(this._parts.hostname)),this._parts.hostname=
this._parts.hostname.toLowerCase(),this.build(!a));return this};e.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===b.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};e.normalizePath=function(a){var c=this._parts.path;if(!c)return this;if(this._parts.urn)return this._parts.path=b.recodeUrnPath(this._parts.path),this.build(!a),this;if("/"===this._parts.path)return this;var d,e="",f,h;"/"!==c.charAt(0)&&(d=!0,c="/"+c);c=c.replace(/(\/(\.\/)+)|(\/\.$)/g,
"/").replace(/\/{2,}/g,"/");d&&(e=c.substring(1).match(/^(\.\.\/)+/)||"")&&(e=e[0]);for(;;){f=c.indexOf("/..");if(-1===f)break;else if(0===f){c=c.substring(3);continue}h=c.substring(0,f).lastIndexOf("/");-1===h&&(h=f);c=c.substring(0,h)+c.substring(f+3)}d&&this.is("relative")&&(c=e+c.substring(1));c=b.recodePath(c);this._parts.path=c;this.build(!a);return this};e.normalizePathname=e.normalizePath;e.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(b.parseQuery(this._parts.query,
this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a));return this};e.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};e.normalizeSearch=e.normalizeQuery;e.normalizeHash=e.normalizeFragment;e.iso8859=function(){var a=b.encode,c=b.decode;b.encode=escape;b.decode=decodeURIComponent;try{this.normalize()}finally{b.encode=a,b.decode=c}return this};e.unicode=function(){var a=b.encode,c=b.decode;b.encode=D;b.decode=unescape;try{this.normalize()}finally{b.encode=
a,b.decode=c}return this};e.readable=function(){var a=this.clone();a.username("").password("").normalize();var c="";a._parts.protocol&&(c+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&f?(c+=f.toUnicode(a._parts.hostname),a._parts.port&&(c+=":"+a._parts.port)):c+=a.host());a._parts.hostname&&a._parts.path&&"/"!==a._parts.path.charAt(0)&&(c+="/");c+=a.path(!0);if(a._parts.query){for(var d="",e=0,h=a._parts.query.split("&"),g=h.length;e<g;e++){var r=(h[e]||"").split("="),d=d+("&"+b.decodeQuery(r[0],
this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==r[1]&&(d+="="+b.decodeQuery(r[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=b.decodeQuery(a.hash(),!0)};e.absoluteTo=function(a){var c=this.clone(),d=["protocol","username","password","hostname","port"],e,f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof b||(a=new b(a));c._parts.protocol||(c._parts.protocol=a._parts.protocol);if(this._parts.hostname)return c;
for(e=0;f=d[e];e++)c._parts[f]=a._parts[f];c._parts.path?".."===c._parts.path.substring(-2)&&(c._parts.path+="/"):(c._parts.path=a._parts.path,c._parts.query||(c._parts.query=a._parts.query));"/"!==c.path().charAt(0)&&(d=(d=a.directory())?d:0===a.path().indexOf("/")?"/":"",c._parts.path=(d?d+"/":"")+c._parts.path,c.normalizePath());c.build();return c};e.relativeTo=function(a){var c=this.clone().normalize(),d,e,f,h;if(c._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");
a=(new b(a)).normalize();d=c._parts;e=a._parts;f=c.path();h=a.path();if("/"!==f.charAt(0))throw Error("URI is already relative");if("/"!==h.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");d.protocol===e.protocol&&(d.protocol=null);if(d.username===e.username&&d.password===e.password&&null===d.protocol&&null===d.username&&null===d.password&&d.hostname===e.hostname&&d.port===e.port)d.hostname=null,d.port=null;else return c.build();if(f===h)return d.path="",c.build();
a=b.commonPath(c.path(),a.path());if(!a)return c.build();e=e.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");d.path=e+d.path.substring(a.length);return c.build()};e.equals=function(a){var c=this.clone();a=new b(a);var d={},e={},f={},h;c.normalize();a.normalize();if(c.toString()===a.toString())return!0;d=c.query();e=a.query();c.query("");a.query("");if(c.toString()!==a.toString()||d.length!==e.length)return!1;d=b.parseQuery(d,this._parts.escapeQuerySpace);e=b.parseQuery(e,this._parts.escapeQuerySpace);
for(h in d)if(v.call(d,h)){if(!w(d[h])){if(d[h]!==e[h])return!1}else if(!r(d[h],e[h]))return!1;f[h]=!0}for(h in e)if(v.call(e,h)&&!f[h])return!1;return!0};e.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=!!a;return this};e.escapeQuerySpace=function(a){this._parts.escapeQuerySpace=!!a;return this};return b});
(function(f,l){"object"===typeof exports?module.exports=l(require("./URI")):"function"===typeof define&&define.amd?define(["./URI"],l):f.URITemplate=l(f.URI,f)})(this,function(f,l){function g(b){if(g._cache[b])return g._cache[b];if(!(this instanceof g))return new g(b);this.expression=b;g._cache[b]=this;return this}function m(b){this.data=b;this.cache={}}var b=l&&l.URITemplate,k=Object.prototype.hasOwnProperty,B=g.prototype,w={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},
"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",
separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};g._cache={};g.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;g.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/;g.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/;g.expand=function(b,f){var k=w[b.operator],m=k.named?"Named":"Unnamed",l=b.variables,t=[],n,e,v;for(v=0;e=l[v];v++)n=f.get(e.name),n.val.length?t.push(g["expand"+m](n,k,e.explode,e.explode&&k.separator||",",e.maxlength,e.name)):n.type&&t.push("");return t.length?k.prefix+t.join(k.separator):
""};g.expandNamed=function(b,g,k,m,l,t){var n="",e=g.encode;g=g.empty_name_separator;var v=!b[e].length,u=2===b.type?"":f[e](t),q,y,w;y=0;for(w=b.val.length;y<w;y++)l?(q=f[e](b.val[y][1].substring(0,l)),2===b.type&&(u=f[e](b.val[y][0].substring(0,l)))):v?(q=f[e](b.val[y][1]),2===b.type?(u=f[e](b.val[y][0]),b[e].push([u,q])):b[e].push([void 0,q])):(q=b[e][y][1],2===b.type&&(u=b[e][y][0])),n&&(n+=m),k?n+=u+(g||q?"=":"")+q:(y||(n+=f[e](t)+(g||q?"=":"")),2===b.type&&(n+=u+","),n+=q);return n};g.expandUnnamed=
function(b,g,k,m,l){var t="",n=g.encode;g=g.empty_name_separator;var e=!b[n].length,v,u,q,w;q=0;for(w=b.val.length;q<w;q++)l?u=f[n](b.val[q][1].substring(0,l)):e?(u=f[n](b.val[q][1]),b[n].push([2===b.type?f[n](b.val[q][0]):void 0,u])):u=b[n][q][1],t&&(t+=m),2===b.type&&(v=l?f[n](b.val[q][0].substring(0,l)):b[n][q][0],t+=v,t=k?t+(g||u?"=":""):t+","),t+=u;return t};g.noConflict=function(){l.URITemplate===g&&(l.URITemplate=b);return g};B.expand=function(b){var f="";this.parts&&this.parts.length||this.parse();
b instanceof m||(b=new m(b));for(var k=0,l=this.parts.length;k<l;k++)f+="string"===typeof this.parts[k]?this.parts[k]:g.expand(this.parts[k],b);return f};B.parse=function(){var b=this.expression,f=g.EXPRESSION_PATTERN,k=g.VARIABLE_PATTERN,m=g.VARIABLE_NAME_PATTERN,l=[],t=0,n,e,v;for(f.lastIndex=0;;){e=f.exec(b);if(null===e){l.push(b.substring(t));break}else l.push(b.substring(t,e.index)),t=e.index+e[0].length;if(!w[e[1]])throw Error('Unknown Operator "'+e[1]+'" in "'+e[0]+'"');if(!e[3])throw Error('Unclosed Expression "'+
e[0]+'"');n=e[2].split(",");for(var u=0,q=n.length;u<q;u++){v=n[u].match(k);if(null===v)throw Error('Invalid Variable "'+n[u]+'" in "'+e[0]+'"');if(v[1].match(m))throw Error('Invalid Variable Name "'+v[1]+'" in "'+e[0]+'"');n[u]={name:v[1],explode:!!v[3],maxlength:v[4]&&parseInt(v[4],10)}}if(!n.length)throw Error('Expression Missing Variable(s) "'+e[0]+'"');l.push({expression:e[0],operator:e[1],variables:n})}l.length||l.push(b);this.parts=l;return this};m.prototype.get=function(b){var f=this.data,
g={type:0,val:[],encode:[],encodeReserved:[]},l;if(void 0!==this.cache[b])return this.cache[b];this.cache[b]=g;f="[object Function]"===String(Object.prototype.toString.call(f))?f(b):"[object Function]"===String(Object.prototype.toString.call(f[b]))?f[b](b):f[b];if(void 0!==f&&null!==f)if("[object Array]"===String(Object.prototype.toString.call(f))){l=0;for(b=f.length;l<b;l++)void 0!==f[l]&&null!==f[l]&&g.val.push([void 0,String(f[l])]);g.val.length&&(g.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(f))){for(l in f)k.call(f,
l)&&void 0!==f[l]&&null!==f[l]&&g.val.push([l,String(f[l])]);g.val.length&&(g.type=2)}else g.type=1,g.val.push([void 0,String(f)]);return g};f.expand=function(b,k){var l=(new g(b)).expand(k);return new f(l)};return g});
;

(function($){$.extend({tablesorter:new
function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:'/\.|\,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms");}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s);}else{alert(s);}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug="";}if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter);}else if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter);}if(!p){p=detectParserForColumn(table,rows,-1,i);}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n";}list.push(p);}}if(table.config.debug){log(parsersDebug);}return list;};function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==''&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log('Checking if value was empty on row:'+rowIndex);}}else{keepLooking=false;}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i];}}return parsers[0];}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex];}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node));}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i];}}return false;}function buildCache(table){if(table.config.debug){var cacheTime=new Date();}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue;}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null;};if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime);}return cache;};function getElementText(config,node){var text="";if(!node)return"";if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent;}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML;}else{text=node.innerHTML;}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node);}else{text=$(node).text();}}return text;}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j]);}}}if(table.config.appender){table.config.appender(table,rows);}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime);}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd");},0);};function buildHeaders(table){if(table.config.debug){var time=new Date();}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th);}table.config.headerList[index]=this;});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders);}return $tableHeaders;};function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName('THEAD')[0];var trs=thead.getElementsByTagName('TR');for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1
var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[];}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break;}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[];}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x";}}}}return lookup;}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++));}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell);}}}return arr;};function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true;};return false;}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true;};return false;}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder))return table.config.headers[i].lockedOrder;return false;}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table);}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i];}}};function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0;}else{return(v==1)?1:0;}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true;}}return false;}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this);}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]]);}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$('<colgroup>');$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($('<col>').css('width',$(this).width()));});$(table).prepend(colgroup);};}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++;}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date();}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { ";}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; ";}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date());}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);}return cache;};function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=='text'&&direction=='asc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));";}else if(type=='text'&&direction=='desc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));";}else if(type=='numeric'&&direction=='asc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));";}else if(type=='numeric'&&direction=='desc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));";}};function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));";};function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));";};function makeSortNumeric(i){return"a["+i+"]-b["+i+"];";};function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];";};function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return((a<b)?-1:((a>b)?1:0));};function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return((b<a)?-1:((b>a)?1:0));};function sortNumeric(a,b){return a-b;};function sortNumericDesc(a,b){return b-a;};function getCachedSortType(parsers,i){return parsers[i].type;};this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies)return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j]);}}}config.sortList.push([i,this.order]);}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2;}}}else{config.sortList.push([i,this.order]);}};setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache));},1);return false;}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false;}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me);},1);}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell);}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache));}).bind("appendCache",function(){appendToTable(this,cache);}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this);}).bind("applyWidgets",function(){applyWidget(this);});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist;}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList]);}applyWidget(this);});};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false;}}if(a){parsers.push(parser);};};this.addWidget=function(widget){widgets.push(widget);};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i;};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i;};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,'')));};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild)this.removeChild(this.firstChild);}empty.apply(table.tBodies[0]);}else{table.tBodies[0].innerHTML="";}};}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true;},format:function(s){return $.trim(s.toLocaleLowerCase());},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c);},format:function(s){return $.tablesorter.formatFloat(s);},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s);},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""));},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s);},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item;}else{r+=item;}}return $.tablesorter.formatFloat(r);},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s);},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),''));},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s);},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0");},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s));},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""));},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/));},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s);},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");}else if (c.dateFormat == "pt") {s = s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/, "$3/$2/$1");} else if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");}else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");}return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s);},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime());},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false;},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?'sortValue':c.parserMetadataName;return $(cell).metadata()[p];},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date();}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow))row++;odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time);}}});})(jQuery);
;
typeof JSON!="object"&&(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function o(n){return f.lastIndex=0,f.test(n)?'"'+n.replace(f,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var h,l,c,a,v=n,s,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i)),typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,s=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,h=0;h<a;h+=1)s[h]=u(h,e)||"null";return c=s.length===0?"[]":n?"[\n"+n+s.join(",\n"+n)+"\n"+v+"]":"["+s.join(",")+"]",n=v,c}if(t&&typeof t=="object")for(a=t.length,h=0;h<a;h+=1)typeof t[h]=="string"&&(l=t[h],c=u(l,e),c&&s.push(o(l)+(n?": ":":")+c));else for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(c=u(l,e),c&&s.push(o(l)+(n?": ":":")+c));return c=s.length===0?"{}":n?"{\n"+n+s.join(",\n"+n)+"\n"+v+"}":"{"+s.join(",")+"}",n=v,c}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,!f||typeof f=="function"||typeof f=="object"&&typeof f.length=="number")return u("",{"":i});throw new Error("JSON.stringify");}),typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}(),function(n,t){"use strict";var i=n.History=n.History||{};if(typeof i.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");i.Adapter={handlers:{},_uid:1,uid:function(n){return n._uid||(n._uid=i.Adapter._uid++)},bind:function(n,t,r){var u=i.Adapter.uid(n);i.Adapter.handlers[u]=i.Adapter.handlers[u]||{},i.Adapter.handlers[u][t]=i.Adapter.handlers[u][t]||[],i.Adapter.handlers[u][t].push(r),n["on"+t]=function(n,t){return function(r){i.Adapter.trigger(n,t,r)}}(n,t)},trigger:function(n,t,r){r=r||{};var u=i.Adapter.uid(n),f,e;for(i.Adapter.handlers[u]=i.Adapter.handlers[u]||{},i.Adapter.handlers[u][t]=i.Adapter.handlers[u][t]||[],f=0,e=i.Adapter.handlers[u][t].length;f<e;++f)i.Adapter.handlers[u][t][f].apply(this,[r])},extractEventData:function(n,i){return i&&i[n]||t},onDomLoad:function(t){var i=n.setTimeout(function(){t()},2e3);n.onload=function(){clearTimeout(i),t()}}},typeof i.init!="undefined"&&i.init()}(window),function(n){"use strict";var u=n.document,f=n.setTimeout||f,e=n.clearTimeout||e,r=n.setInterval||r,i=n.History=n.History||{};if(typeof i.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");i.initHtml4=function(){if(typeof i.initHtml4.initialized!="undefined")return!1;i.initHtml4.initialized=!0,i.enabled=!0,i.savedHashes=[],i.isLastHash=function(n){var r=i.getHashByIndex(),t;return t=n===r,t},i.isHashEqual=function(n,t){return n=encodeURIComponent(n).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),n===t},i.saveHash=function(n){return i.isLastHash(n)?!1:(i.savedHashes.push(n),!0)},i.getHashByIndex=function(n){var t=null;return t=typeof n=="undefined"?i.savedHashes[i.savedHashes.length-1]:n<0?i.savedHashes[i.savedHashes.length+n]:i.savedHashes[n],t},i.discardedHashes={},i.discardedStates={},i.discardState=function(n,t,r){var f=i.getHashByState(n),u;return u={discardedState:n,backState:r,forwardState:t},i.discardedStates[f]=u,!0},i.discardHash=function(n,t,r){var u={discardedHash:n,backState:r,forwardState:t};return i.discardedHashes[n]=u,!0},i.discardedState=function(n){var r=i.getHashByState(n),t;return t=i.discardedStates[r]||!1,t},i.discardedHash=function(n){return i.discardedHashes[n]||!1},i.recycleState=function(n){var t=i.getHashByState(n);return i.discardedState(n)&&delete i.discardedStates[t],!0},i.emulated.hashChange&&(i.hashChangeInit=function(){i.checkerFunction=null;var o="",s,t,f,e,h=Boolean(i.getHash());return i.isInternetExplorer()?(s="historyjs-iframe",t=u.createElement("iframe"),t.setAttribute("id",s),t.setAttribute("src","#"),t.style.display="none",u.body.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.close(),f="",e=!1,i.checkerFunction=function(){if(e)return!1;e=!0;var u=i.getHash(),r=i.getHash(t.contentWindow.document);return u!==o?(o=u,r!==u&&(f=r=u,t.contentWindow.document.open(),t.contentWindow.document.close(),t.contentWindow.document.location.hash=i.escapeHash(u)),i.Adapter.trigger(n,"hashchange")):r!==f&&(f=r,h&&r===""?i.back():i.setHash(r,!1)),e=!1,!0}):i.checkerFunction=function(){var t=i.getHash()||"";return t!==o&&(o=t,i.Adapter.trigger(n,"hashchange")),!0},i.intervalList.push(r(i.checkerFunction,i.options.hashChangeInterval)),!0},i.Adapter.onDomLoad(i.hashChangeInit)),i.emulated.pushState&&(i.onHashChange=function(t){var o=t&&t.newURL||i.getLocationHref(),u=i.getHashByUrl(o),r=null,e=null,s=null,f;return i.isLastHash(u)?(i.busy(!1),!1):(i.doubleCheckComplete(),i.saveHash(u),u&&i.isTraditionalAnchor(u)?(i.Adapter.trigger(n,"anchorchange"),i.busy(!1),!1):(r=i.extractState(i.getFullUrl(u||i.getLocationHref()),!0),i.isLastSavedState(r)?(i.busy(!1),!1):(e=i.getHashByState(r),f=i.discardedState(r),f?(i.getHashByIndex(-2)===i.getHashByState(f.forwardState)?i.back(!1):i.forward(!1),!1):(i.pushState(r.data,r.title,encodeURI(r.url),!1),!0))))},i.Adapter.bind(n,"hashchange",i.onHashChange),i.pushState=function(t,r,u,f){if(u=encodeURI(u).replace(/%25/g,"%"),i.getHashByUrl(u))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.pushState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u),o=i.getHashByState(e),c=i.getState(!1),l=i.getHashByState(c),s=i.getHash(),h=i.expectedStateId==e.id;return i.storeState(e),i.expectedStateId=e.id,i.recycleState(e),i.setTitle(e),o===l?(i.busy(!1),!1):(i.saveState(e),h||i.Adapter.trigger(n,"statechange"),!i.isHashEqual(o,s)&&!i.isHashEqual(o,i.getShortUrl(i.getLocationHref()))&&i.setHash(o,!1),i.busy(!1),!0)},i.replaceState=function(t,r,u,f){if(u=encodeURI(u).replace(/%25/g,"%"),i.getHashByUrl(u))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.replaceState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u),c=i.getHashByState(e),o=i.getState(!1),h=i.getHashByState(o),s=i.getStateByIndex(-2);return i.discardState(o,e,s),c===h?(i.storeState(e),i.expectedStateId=e.id,i.recycleState(e),i.setTitle(e),i.saveState(e),i.Adapter.trigger(n,"statechange"),i.busy(!1)):i.pushState(e.data,e.title,e.url,!1),!0}),i.emulated.pushState&&i.getHash()&&!i.emulated.hashChange&&i.Adapter.onDomLoad(function(){i.Adapter.trigger(n,"hashchange")})},typeof i.init!="undefined"&&i.init()}(window),function(n,t){"use strict";var f=n.console||t,u=n.document,e=n.navigator,o=!1,h=n.setTimeout,c=n.clearTimeout,l=n.setInterval,a=n.clearInterval,r=n.JSON,v=n.alert,i=n.History=n.History||{},s=n.history;try{}catch(y){o=!1}if(r.stringify=r.stringify||r.encode,r.parse=r.parse||r.decode,typeof i.init!="undefined")throw new Error("History.js Core has already been loaded...");i.init=function(){return typeof i.Adapter=="undefined"?!1:(typeof i.initCore!="undefined"&&i.initCore(),typeof i.initHtml4!="undefined"&&i.initHtml4(),!0)},i.initCore=function(){if(typeof i.initCore.initialized!="undefined")return!1;if(i.initCore.initialized=!0,i.options=i.options||{},i.options.hashChangeInterval=i.options.hashChangeInterval||100,i.options.safariPollInterval=i.options.safariPollInterval||500,i.options.doubleCheckInterval=i.options.doubleCheckInterval||500,i.options.disableSuid=i.options.disableSuid||!1,i.options.storeInterval=i.options.storeInterval||1e3,i.options.busyDelay=i.options.busyDelay||250,i.options.debug=i.options.debug||!1,i.options.initialTitle=i.options.initialTitle||u.title,i.options.html4Mode=i.options.html4Mode||!1,i.options.delayInit=i.options.delayInit||!1,i.intervalList=[],i.clearAllIntervals=function(){var t,n=i.intervalList;if(typeof n!="undefined"&&n!==null){for(t=0;t<n.length;t++)a(n[t]);i.intervalList=null}},i.debug=function(){(i.options.debug||!1)&&i.log.apply(i,arguments)},i.log=function(){var s=typeof f!="undefined"&&typeof f.log!="undefined"&&typeof f.log.apply!="undefined",i=u.getElementById("log"),n,o,h,e,t;for(s?(e=Array.prototype.slice.call(arguments),n=e.shift(),typeof f.debug!="undefined"?f.debug.apply(f,[n,e]):f.log.apply(f,[n,e])):n="\n"+arguments[0]+"\n",o=1,h=arguments.length;o<h;++o){if(t=arguments[o],typeof t=="object"&&typeof r!="undefined")try{t=r.stringify(t)}catch(c){}n+="\n"+t+"\n"}return i?(i.value+=n+"\n-----\n",i.scrollTop=i.scrollHeight-i.clientHeight):s||v(n),!0},i.getInternetExplorerMajorVersion=function(){return i.getInternetExplorerMajorVersion.cached=typeof i.getInternetExplorerMajorVersion.cached!="undefined"?i.getInternetExplorerMajorVersion.cached:function(){for(var n=3,t=u.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->")&&i[0];);return n>4?n:!1}()},i.isInternetExplorer=function(){return i.isInternetExplorer.cached=typeof i.isInternetExplorer.cached!="undefined"?i.isInternetExplorer.cached:Boolean(i.getInternetExplorerMajorVersion())},i.emulated=i.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(n.history&&n.history.pushState&&n.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in n||"onhashchange"in u)||i.isInternetExplorer()&&i.getInternetExplorerMajorVersion()<8)},i.enabled=!i.emulated.pushState,i.bugs={setHash:Boolean(!i.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!i.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(i.isInternetExplorer()&&i.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(i.isInternetExplorer()&&i.getInternetExplorerMajorVersion()<7)},i.isEmptyObject=function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},i.cloneObject=function(n){var i,t;return n?(i=r.stringify(n),t=r.parse(i)):t={},t},i.getRootUrl=function(){var n=u.location.protocol+"//"+(u.location.hostname||u.location.host);return(u.location.port||!1)&&(n+=":"+u.location.port),n+="/",n},i.getBaseHref=function(){var t=u.getElementsByTagName("base"),i=null,n="";return t.length===1&&(i=t[0],n=i.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},i.getBaseUrl=function(){return i.getBaseHref()||i.getBasePageUrl()||i.getRootUrl()},i.getPageUrl=function(){var t=i.getState(!1,!1),r=(t||{}).url||i.getLocationHref(),n;return n=r.replace(/\/+$/,"").replace(/[^\/]+$/,function(n){return/\./.test(n)?n:n+"/"}),n},i.getBasePageUrl=function(){return i.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(n){return/[^\/]$/.test(n)?"":n}).replace(/\/+$/,"")+"/"},i.getFullUrl=function(n,t){var r=n,u=n.substring(0,1);return t=typeof t=="undefined"?!0:t,/[a-z]+\:\/\//.test(n)||(r=u==="/"?i.getRootUrl()+n.replace(/^\/+/,""):u==="#"?i.getPageUrl().replace(/#.*/,"")+n:u==="?"?i.getPageUrl().replace(/[\?#].*/,"")+n:t?i.getBaseUrl()+n.replace(/^(\.\/)+/,""):i.getBasePageUrl()+n.replace(/^(\.\/)+/,"")),r.replace(/\#$/,"")},i.getShortUrl=function(n){var t=n,u=i.getBaseUrl(),r=i.getRootUrl();return i.emulated.pushState&&(t=t.replace(u,"")),t=t.replace(r,"/"),i.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),t},i.getLocationHref=function(n){return n=n||u,n.URL===n.location.href?n.location.href:n.location.href===decodeURIComponent(n.URL)?n.URL:n.location.hash&&decodeURIComponent(n.location.href.replace(/^[^#]+/,""))===n.location.hash?n.location.href:n.URL.indexOf("#")==-1&&n.location.href.indexOf("#")!=-1?n.location.href:n.URL||n.location.href},i.store={},i.idToState=i.idToState||{},i.stateToId=i.stateToId||{},i.urlToId=i.urlToId||{},i.storedStates=i.storedStates||[],i.savedStates=i.savedStates||[],i.normalizeStore=function(){i.store.idToState=i.store.idToState||{},i.store.urlToId=i.store.urlToId||{},i.store.stateToId=i.store.stateToId||{}},i.getState=function(n,t){typeof n=="undefined"&&(n=!0),typeof t=="undefined"&&(t=!0);var r=i.getLastSavedState();return!r&&t&&(r=i.createStateObject()),n&&(r=i.cloneObject(r),r.url=r.cleanUrl||r.url),r},i.getIdByState=function(n){var t=i.extractId(n.url),r;if(!t)if(r=i.getStateString(n),typeof i.stateToId[r]!="undefined")t=i.stateToId[r];else if(typeof i.store.stateToId[r]!="undefined")t=i.store.stateToId[r];else{for(;;)if(t=+new Date+String(Math.random()).replace(/\D/g,""),typeof i.idToState[t]=="undefined"&&typeof i.store.idToState[t]=="undefined")break;i.stateToId[r]=t,i.idToState[t]=n}return t},i.normalizeState=function(n){var t,r;return(n&&typeof n=="object"||(n={}),typeof n.normalized!="undefined")?n:(n.data&&typeof n.data=="object"||(n.data={}),t={},t.normalized=!0,t.title=n.title||"",t.url=i.getFullUrl(n.url?n.url:i.getLocationHref()),t.hash=i.getShortUrl(t.url),t.data=i.cloneObject(n.data),t.id=i.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,r=!i.isEmptyObject(t.data),(t.title||r)&&i.options.disableSuid!==!0&&(t.hash=i.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=i.getFullUrl(t.hash),(i.emulated.pushState||i.bugs.safariPoll)&&i.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},i.createStateObject=function(n,t,r){var u={data:n,title:t,url:r};return u=i.normalizeState(u),u},i.getStateById=function(n){n=String(n);return i.idToState[n]||i.store.idToState[n]||t},i.getStateString=function(n){var f,u,t;return f=i.normalizeState(n),u={data:f.data,title:n.title,url:n.url},t=r.stringify(u),t},i.getStateId=function(n){var r,t;return r=i.normalizeState(n),t=r.id,t},i.getHashByState=function(n){var r,t;return r=i.normalizeState(n),t=r.hash,t},i.extractId=function(n){var r,t,u,i;return i=n.indexOf("#")!=-1?n.split("#")[0]:n,t=/(.*)\&_suid=([0-9]+)$/.exec(i),u=t?t[1]||n:n,r=t?String(t[2]||""):"",r||!1},i.isTraditionalAnchor=function(n){return!/[\/\?\.]/.test(n)},i.extractState=function(n,t){var u=null,r,f;return t=t||!1,r=i.extractId(n),r&&(u=i.getStateById(r)),u||(f=i.getFullUrl(n),r=i.getIdByUrl(f)||!1,r&&(u=i.getStateById(r)),!u&&t&&!i.isTraditionalAnchor(n)&&(u=i.createStateObject(null,null,f))),u},i.getIdByUrl=function(n){return i.urlToId[n]||i.store.urlToId[n]||t},i.getLastSavedState=function(){return i.savedStates[i.savedStates.length-1]||t},i.getLastStoredState=function(){return i.storedStates[i.storedStates.length-1]||t},i.hasUrlDuplicate=function(n){var r=!1,t;return t=i.extractState(n.url),r=t&&t.id!==n.id,r},i.storeState=function(n){return i.urlToId[n.url]=n.id,i.storedStates.push(i.cloneObject(n)),n},i.isLastSavedState=function(n){var u=!1,f,t,r;return i.savedStates.length&&(f=n.id,t=i.getLastSavedState(),r=t.id,u=f===r),u},i.saveState=function(n){return i.isLastSavedState(n)?!1:(i.savedStates.push(i.cloneObject(n)),!0)},i.getStateByIndex=function(n){var t=null;return t=typeof n=="undefined"?i.savedStates[i.savedStates.length-1]:n<0?i.savedStates[i.savedStates.length+n]:i.savedStates[n],t},i.getCurrentIndex=function(){var n=null;return n=i.savedStates.length<1?0:i.savedStates.length-1,n},i.getHash=function(n){var r=i.getLocationHref(n),t;return t=i.getHashByUrl(r),t},i.unescapeHash=function(n){var t=i.normalizeHash(n);return t=decodeURIComponent(t),t},i.normalizeHash=function(n){return n.replace(/[^#]*#/,"").replace(/#.*/,"")},i.setHash=function(n,t){var r,f;return t!==!1&&i.busy()?(i.pushQueue({scope:i,callback:i.setHash,args:arguments,queue:t}),!1):(i.busy(!0),r=i.extractState(n,!0),r&&!i.emulated.pushState?i.pushState(r.data,r.title,r.url,!1):i.getHash()!==n&&(i.bugs.setHash?(f=i.getPageUrl(),i.pushState(null,null,f+"#"+n,!1)):u.location.hash=n),i)},i.escapeHash=function(t){var r=i.normalizeHash(t);return r=n.encodeURIComponent(r),i.bugs.hashEscape||(r=r.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),r},i.getHashByUrl=function(n){var t=String(n).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=i.unescapeHash(t),t},i.setTitle=function(n){var r=n.title,t;r||(t=i.getStateByIndex(0),t&&t.url===n.url&&(r=t.title||i.options.initialTitle));try{u.getElementsByTagName("title")[0].innerHTML=r.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}return u.title=r,i},i.queues=[],i.busy=function(n){if(typeof n!="undefined"?i.busy.flag=n:typeof i.busy.flag=="undefined"&&(i.busy.flag=!1),!i.busy.flag){c(i.busy.timeout);var t=function(){var n,r,u;if(!i.busy.flag)for(n=i.queues.length-1;n>=0;--n)(r=i.queues[n],r.length!==0)&&(u=r.shift(),i.fireQueueItem(u),i.busy.timeout=h(t,i.options.busyDelay))};i.busy.timeout=h(t,i.options.busyDelay)}return i.busy.flag},i.busy.flag=!1,i.fireQueueItem=function(n){return n.callback.apply(n.scope||i,n.args||[])},i.pushQueue=function(n){return i.queues[n.queue||0]=i.queues[n.queue||0]||[],i.queues[n.queue||0].push(n),i},i.queue=function(n,t){return typeof n=="function"&&(n={callback:n}),typeof t!="undefined"&&(n.queue=t),i.busy()?i.pushQueue(n):i.fireQueueItem(n),i},i.clearQueue=function(){return i.busy.flag=!1,i.queues=[],i},i.stateChanged=!1,i.doubleChecker=!1,i.doubleCheckComplete=function(){return i.stateChanged=!0,i.doubleCheckClear(),i},i.doubleCheckClear=function(){return i.doubleChecker&&(c(i.doubleChecker),i.doubleChecker=!1),i},i.doubleCheck=function(n){return i.stateChanged=!1,i.doubleCheckClear(),i.bugs.ieDoubleCheck&&(i.doubleChecker=h(function(){return i.doubleCheckClear(),i.stateChanged||n(),!0},i.options.doubleCheckInterval)),i},i.safariStatePoll=function(){var r=i.extractState(i.getLocationHref()),t;if(!i.isLastSavedState(r))return t=r,t||(t=i.createStateObject()),i.Adapter.trigger(n,"popstate"),i},i.back=function(n){return n!==!1&&i.busy()?(i.pushQueue({scope:i,callback:i.back,args:arguments,queue:n}),!1):(i.busy(!0),i.doubleCheck(function(){i.back(!1)}),s.go(-1),!0)},i.forward=function(n){return n!==!1&&i.busy()?(i.pushQueue({scope:i,callback:i.forward,args:arguments,queue:n}),!1):(i.busy(!0),i.doubleCheck(function(){i.forward(!1)}),s.go(1),!0)},i.go=function(n,t){var r;if(n>0)for(r=1;r<=n;++r)i.forward(t);else{if(!(n<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(r=-1;r>=n;--r)i.back(t)}return i},i.emulated.pushState){var p=function(){};i.pushState=i.pushState||p,i.replaceState=i.replaceState||p}else i.onPopState=function(t,r){var e=!1,u=!1,o,f;return i.doubleCheckComplete(),o=i.getHash(),o?(f=i.extractState(o||i.getLocationHref(),!0),f?i.replaceState(f.data,f.title,f.url,!1):(i.Adapter.trigger(n,"anchorchange"),i.busy(!1)),i.expectedStateId=!1,!1):(e=i.Adapter.extractEventData("state",t,r)||!1,u=e?i.getStateById(e):i.expectedStateId?i.getStateById(i.expectedStateId):i.extractState(i.getLocationHref()),u||(u=i.createStateObject(null,null,i.getLocationHref())),i.expectedStateId=!1,i.isLastSavedState(u)?(i.busy(!1),!1):(i.storeState(u),i.saveState(u),i.setTitle(u),i.Adapter.trigger(n,"statechange"),i.busy(!1),!0))},i.Adapter.bind(n,"popstate",i.onPopState),i.pushState=function(t,r,u,f){if(i.getHashByUrl(u)&&i.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.pushState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u);return i.isLastSavedState(e)?i.busy(!1):(i.storeState(e),i.expectedStateId=e.id,s.pushState(e.id,e.title,e.url),i.Adapter.trigger(n,"popstate")),!0},i.replaceState=function(t,r,u,f){if(i.getHashByUrl(u)&&i.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.replaceState,args:arguments,queue:f}),!1;i.busy(!0);var e=i.createStateObject(t,r,u);return i.isLastSavedState(e)?i.busy(!1):(i.storeState(e),i.expectedStateId=e.id,s.replaceState(e.id,e.title,e.url),i.Adapter.trigger(n,"popstate")),!0};if(o){try{i.store=r.parse(o.getItem("History.store"))||{}}catch(w){i.store={}}i.normalizeStore()}else i.store={},i.normalizeStore();i.Adapter.bind(n,"unload",i.clearAllIntervals),i.saveState(i.storeState(i.extractState(i.getLocationHref(),!0))),o&&(i.onUnload=function(){var n,t,u;try{n=r.parse(o.getItem("History.store"))||{}}catch(e){n={}}n.idToState=n.idToState||{},n.urlToId=n.urlToId||{},n.stateToId=n.stateToId||{};for(t in i.idToState)i.idToState.hasOwnProperty(t)&&(n.idToState[t]=i.idToState[t]);for(t in i.urlToId)i.urlToId.hasOwnProperty(t)&&(n.urlToId[t]=i.urlToId[t]);for(t in i.stateToId)i.stateToId.hasOwnProperty(t)&&(n.stateToId[t]=i.stateToId[t]);i.store=n,i.normalizeStore(),u=r.stringify(n);try{}catch(f){if(f.code!==DOMException.QUOTA_EXCEEDED_ERR)throw f;}},i.intervalList.push(l(i.onUnload,i.options.storeInterval)),i.Adapter.bind(n,"beforeunload",i.onUnload),i.Adapter.bind(n,"unload",i.onUnload)),i.emulated.pushState||(i.bugs.safariPoll&&i.intervalList.push(l(i.safariStatePoll,i.options.safariPollInterval)),(e.vendor==="Apple Computer, Inc."||(e.appCodeName||"")==="Mozilla")&&(i.Adapter.bind(n,"hashchange",function(){i.Adapter.trigger(n,"popstate")}),i.getHash()&&i.Adapter.onDomLoad(function(){i.Adapter.trigger(n,"hashchange")})))},(!i.options||!i.options.delayInit)&&i.init()}(window);
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var t=window.Slick||{};t=function(){function i(i,r){var f,u=this;u.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:n(i),appendDots:n(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(n,t){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},u.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},n.extend(u,u.initials),u.activeBreakpoint=null,u.animType=null,u.animProp=null,u.breakpoints=[],u.breakpointSettings=[],u.cssTransitions=!1,u.hidden="hidden",u.paused=!1,u.positionProp=null,u.respondTo=null,u.rowCount=1,u.shouldClick=!0,u.$slider=n(i),u.$slidesCache=null,u.transformType=null,u.transitionType=null,u.visibilityChange="visibilitychange",u.windowWidth=0,u.windowTimer=null,f=n(i).data("slick")||{},u.options=n.extend({},u.defaults,f,r),u.currentSlide=u.options.initialSlide,u.originalSettings=u.options,"undefined"!=typeof document.mozHidden?(u.hidden="mozHidden",u.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange"),u.autoPlay=n.proxy(u.autoPlay,u),u.autoPlayClear=n.proxy(u.autoPlayClear,u),u.changeSlide=n.proxy(u.changeSlide,u),u.clickHandler=n.proxy(u.clickHandler,u),u.selectHandler=n.proxy(u.selectHandler,u),u.setPosition=n.proxy(u.setPosition,u),u.swipeHandler=n.proxy(u.swipeHandler,u),u.dragHandler=n.proxy(u.dragHandler,u),u.keyHandler=n.proxy(u.keyHandler,u),u.autoPlayIterator=n.proxy(u.autoPlayIterator,u),u.instanceUid=t++,u.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,u.registerBreakpoints(),u.init(!0),u.checkResponsive(!0)}var t=0;return i}(),t.prototype.addSlide=t.prototype.slickAdd=function(t,i,r){var u=this;if("boolean"==typeof i)r=i,i=null;else if(0>i||i>=u.slideCount)return!1;u.unload(),"number"==typeof i?0===i&&0===u.$slides.length?n(t).appendTo(u.$slideTrack):r?n(t).insertBefore(u.$slides.eq(i)):n(t).insertAfter(u.$slides.eq(i)):r===!0?n(t).prependTo(u.$slideTrack):n(t).appendTo(u.$slideTrack),u.$slides=u.$slideTrack.children(this.options.slide),u.$slideTrack.children(this.options.slide).detach(),u.$slideTrack.append(u.$slides),u.$slides.each(function(t,i){n(i).attr("data-slick-index",t)}),u.$slidesCache=u.$slides,u.reinit()},t.prototype.animateHeight=function(){var n=this,t;1===n.options.slidesToShow&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.animate({height:t},n.options.speed))},t.prototype.animateSlide=function(t,i){var u={},r=this;r.animateHeight(),r.options.rtl===!0&&r.options.vertical===!1&&(t=-t),r.transformsEnabled===!1?r.options.vertical===!1?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):r.cssTransitions===!1?(r.options.rtl===!0&&(r.currentLeft=-r.currentLeft),n({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(n){n=Math.ceil(n),r.options.vertical===!1?(u[r.animType]="translate("+n+"px, 0px)",r.$slideTrack.css(u)):(u[r.animType]="translate(0px,"+n+"px)",r.$slideTrack.css(u))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),u[r.animType]=r.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(u),i&&setTimeout(function(){r.disableTransition(),i.call()},r.options.speed))},t.prototype.asNavFor=function(t){var r=this,i=r.options.asNavFor;i&&null!==i&&(i=n(i).not(r.$slider)),null!==i&&"object"==typeof i&&i.each(function(){var i=n(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(n){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)},t.prototype.autoPlay=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer),n.slideCount>n.options.slidesToShow&&n.paused!==!0&&(n.autoPlayTimer=setInterval(n.autoPlayIterator,n.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var n=this;n.options.infinite===!1?1===n.direction?(n.currentSlide+1===n.slideCount-1&&(n.direction=0),n.slideHandler(n.currentSlide+n.options.slidesToScroll)):(n.currentSlide-1==0&&(n.direction=1),n.slideHandler(n.currentSlide-n.options.slidesToScroll)):n.slideHandler(n.currentSlide+n.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=n(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=n(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var i,r,t=this;if(t.options.dots===!0&&t.slideCount>t.options.slidesToShow){for(r='<ul class="'+t.options.dotsClass+'">',i=0;i<=t.getDotCount();i+=1)r+="<li>"+t.options.customPaging.call(this,t,i)+"</li>";r+="</ul>",t.$dots=n(r).appendTo(t.options.appendDots),t.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){n(i).attr("data-slick-index",t).data("originalStyling",n(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?n('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),n("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var r,u,i,s,c,t,h,n=this,e,o,f;if(s=document.createDocumentFragment(),t=n.$slider.children(),n.options.rows>1){for(h=n.options.slidesPerRow*n.options.rows,c=Math.ceil(t.length/h),r=0;c>r;r++){for(e=document.createElement("div"),u=0;u<n.options.rows;u++){for(o=document.createElement("div"),i=0;i<n.options.slidesPerRow;i++)f=r*h+(u*n.options.slidesPerRow+i),t.get(f)&&o.appendChild(t.get(f));e.appendChild(o)}s.appendChild(e)}n.$slider.html(s),n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var f,u,o,r=this,e=!1,h=r.$slider.width(),s=window.innerWidth||n(window).width();if("window"===r.respondTo?o=s:"slider"===r.respondTo?o=h:"min"===r.respondTo&&(o=Math.min(s,h)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){u=null;for(f in r.breakpoints)r.breakpoints.hasOwnProperty(f)&&(r.originalSettings.mobileFirst===!1?o<r.breakpoints[f]&&(u=r.breakpoints[f]):o>r.breakpoints[f]&&(u=r.breakpoints[f]));null!==u?null!==r.activeBreakpoint?(u!==r.activeBreakpoint||i)&&(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),e=u):(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),e=u):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t),e=u),t||e===!1||r.$slider.trigger("breakpoint",[r,e])}},t.prototype.changeSlide=function(t,i){var f,e,s,r=this,u=n(t.target),o;switch(u.is("a")&&t.preventDefault(),u.is("li")||(u=u.closest("li")),s=r.slideCount%r.options.slidesToScroll!=0,f=s?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":e=0===f?r.options.slidesToScroll:r.options.slidesToShow-f,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-e,!1,i);break;case"next":e=0===f?r.options.slidesToScroll:f,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+e,!1,i);break;case"index":o=0===t.data.index?0:t.data.index||u.index()*r.options.slidesToScroll,r.slideHandler(r.checkNavigable(o),!1,i),u.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(n){var t,r,u=this,i;if(t=u.getNavigableIndexes(),r=0,n>t[t.length-1])n=t[t.length-1];else for(i in t){if(n<t[i]){n=r;break}r=t[i]}return n},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(n("li",t.$dots).off("click.slick",t.changeSlide),t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&n("li",t.$dots).off("mouseenter.slick",n.proxy(t.setPaused,t,!0)).off("mouseleave.slick",n.proxy(t.setPaused,t,!1))),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),n(document).off(t.visibilityChange,t.visibility),t.$list.off("mouseenter.slick",n.proxy(t.setPaused,t,!0)),t.$list.off("mouseleave.slick",n.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&n(t.$slideTrack).children().off("click.slick",t.selectHandler),n(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),n(window).off("resize.slick.slick-"+t.instanceUid,t.resize),n("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),n(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),n(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpRows=function(){var t,n=this;n.options.rows>1&&(t=n.$slides.children().children(),t.removeAttr("style"),n.$slider.html(t))},t.prototype.clickHandler=function(n){var t=this;t.shouldClick===!1&&(n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),n(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){n(this).attr("style",n(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(n){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)},t.prototype.fadeSlide=function(n,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(n).css({zIndex:i.options.zIndex}),i.$slides.eq(n).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(n),i.$slides.eq(n).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(n),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(n){var t=this;t.cssTransitions===!1?t.$slides.eq(n).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(n),t.$slides.eq(n).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(n){var t=this;null!==n&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(n).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var n=this;return n.currentSlide},t.prototype.getDotCount=function(){var n=this,r=0,i=0,t=0;if(n.options.infinite===!0)for(;r<n.slideCount;)++t,r=i+n.options.slidesToScroll,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else if(n.options.centerMode===!0)t=n.slideCount;else for(;r<n.slideCount;)++t,r=i+n.options.slidesToScroll,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return t-1},t.prototype.getLeft=function(n){var f,u,i,t=this,r=0;return t.slideOffset=0,u=t.$slides.first().outerHeight(!0),t.options.infinite===!0?(t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.slideWidth*t.options.slidesToShow*-1,r=u*t.options.slidesToShow*-1),t.slideCount%t.options.slidesToScroll!=0&&n+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(n>t.slideCount?(t.slideOffset=(t.options.slidesToShow-(n-t.slideCount))*t.slideWidth*-1,r=(t.options.slidesToShow-(n-t.slideCount))*u*-1):(t.slideOffset=t.slideCount%t.options.slidesToScroll*t.slideWidth*-1,r=t.slideCount%t.options.slidesToScroll*u*-1))):n+t.options.slidesToShow>t.slideCount&&(t.slideOffset=(n+t.options.slidesToShow-t.slideCount)*t.slideWidth,r=(n+t.options.slidesToShow-t.slideCount)*u),t.slideCount<=t.options.slidesToShow&&(t.slideOffset=0,r=0),t.options.centerMode===!0&&t.options.infinite===!0?t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth:t.options.centerMode===!0&&(t.slideOffset=0,t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)),f=t.options.vertical===!1?n*t.slideWidth*-1+t.slideOffset:n*u*-1+r,t.options.variableWidth===!0&&(i=t.slideCount<=t.options.slidesToShow||t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow),f=t.options.rtl===!0?i[0]?-1*(t.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,t.options.centerMode===!0&&(i=t.slideCount<=t.options.slidesToShow||t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow+1),f=t.options.rtl===!0?i[0]?-1*(t.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,f+=(t.$list.width()-i.outerWidth())/2)),f},t.prototype.getOption=t.prototype.slickGetOption=function(n){var t=this;return t.options[n]},t.prototype.getNavigableIndexes=function(){var r,n=this,t=0,i=0,u=[];for(n.options.infinite===!1?r=n.slideCount:(t=-1*n.options.slidesToScroll,i=-1*n.options.slidesToScroll,r=2*n.slideCount);r>t;)u.push(t),t=i+n.options.slidesToScroll,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return u},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var u,r,i,t=this;return i=t.options.centerMode===!0?t.slideWidth*Math.floor(t.options.slidesToShow/2):0,t.options.swipeToSlide===!0?(t.$slideTrack.find(".slick-slide").each(function(u,f){if(f.offsetLeft-i+n(f).outerWidth()/2>-1*t.swipeLeft)return r=f,!1}),u=Math.abs(n(r).attr("data-slick-index")-t.currentSlide)||1):t.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(n,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(n)}},t)},t.prototype.init=function(t){var i=this;n(i.$slider).hasClass("slick-initialized")||(n(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA()},t.prototype.initArrowEvents=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.on("click.slick",{message:"previous"},n.changeSlide),n.$nextArrow.on("click.slick",{message:"next"},n.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&n("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&n("li",t.$dots).on("mouseenter.slick",n.proxy(t.setPaused,t,!0)).on("mouseleave.slick",n.proxy(t.setPaused,t,!1))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),n(document).on(t.visibilityChange,n.proxy(t.visibility,t)),t.$list.on("mouseenter.slick",n.proxy(t.setPaused,t,!0)),t.$list.on("mouseleave.slick",n.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&n(t.$slideTrack).children().on("click.slick",t.selectHandler),n(window).on("orientationchange.slick.slick-"+t.instanceUid,n.proxy(t.orientationChange,t)),n(window).on("resize.slick.slick-"+t.instanceUid,n.proxy(t.resize,t)),n("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),n(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),n(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.show(),n.$nextArrow.show()),n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.show(),n.options.autoplay===!0&&n.autoPlay()},t.prototype.keyHandler=function(n){var t=this;n.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===n.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===n.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}}))},t.prototype.lazyLoad=function(){function f(t){n("img[data-lazy]",t).each(function(){var t=n(this),r=n(this).attr("data-lazy"),i=document.createElement("img");i.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",r).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")})})},i.src=r})}var e,u,i,r,t=this;t.options.centerMode===!0?t.options.infinite===!0?(i=t.currentSlide+(t.options.slidesToShow/2+1),r=i+t.options.slidesToShow+2):(i=Math.max(0,t.currentSlide-(t.options.slidesToShow/2+1)),r=2+(t.options.slidesToShow/2+1)+t.currentSlide):(i=t.options.infinite?t.options.slidesToShow+t.currentSlide:t.currentSlide,r=i+t.options.slidesToShow,t.options.fade===!0&&(i>0&&i--,r<=t.slideCount&&r++)),e=t.$slider.find(".slick-slide").slice(i,r),f(e),t.slideCount<=t.options.slidesToShow?(u=t.$slider.find(".slick-slide"),f(u)):t.currentSlide>=t.slideCount-t.options.slidesToShow?(u=t.$slider.find(".slick-cloned").slice(0,t.options.slidesToShow),f(u)):0===t.currentSlide&&(u=t.$slider.find(".slick-cloned").slice(-1*t.options.slidesToShow),f(u))},t.prototype.loadSlider=function(){var n=this;n.setPosition(),n.$slideTrack.css({opacity:1}),n.$slider.removeClass("slick-loading"),n.initUI(),"progressive"===n.options.lazyLoad&&n.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var n=this;n.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var n=this;n.checkResponsive(),n.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var n=this;n.autoPlayClear(),n.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var n=this;n.paused=!1,n.autoPlay()},t.prototype.postSlide=function(n){var t=this;t.$slider.trigger("afterChange",[t,n]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay(),t.options.accessibility===!0&&t.initADA()},t.prototype.prev=t.prototype.slickPrev=function(){var n=this;n.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(n){n.preventDefault()},t.prototype.progressiveLazyLoad=function(){var r,i,t=this;r=n("img[data-lazy]",t.$slider).length,r>0&&(i=n("img[data-lazy]",t.$slider).first(),i.attr("src",null),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),t.progressiveLazyLoad(),t.options.adaptiveHeight===!0&&t.setPosition()}).error(function(){i.removeAttr("data-lazy"),t.progressiveLazyLoad()}))},t.prototype.refresh=function(t){var r,u,i=this;u=i.slideCount-i.options.slidesToShow,i.options.infinite||(i.slideCount<=i.options.slidesToShow?i.currentSlide=0:i.currentSlide>u&&(i.currentSlide=u)),r=i.currentSlide,i.destroy(!0),n.extend(i,i.initials,{currentSlide:r}),i.init(),t||i.changeSlide({data:{message:"index",index:r}},!1)},t.prototype.registerBreakpoints=function(){var u,f,r,t=this,i=t.options.responsive||null;if("array"===n.type(i)&&i.length){t.respondTo=t.options.respondTo||"window";for(u in i)if(r=t.breakpoints.length-1,f=i[u].breakpoint,i.hasOwnProperty(u)){for(;r>=0;)t.breakpoints[r]&&t.breakpoints[r]===f&&t.breakpoints.splice(r,1),r--;t.breakpoints.push(f),t.breakpointSettings[f]=i[u].settings}t.breakpoints.sort(function(n,i){return t.options.mobileFirst?n-i:i-n})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&n(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t]),t.options.autoplay===!0&&t.focusHandler()},t.prototype.resize=function(){var t=this;n(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=n(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(n,t,i){var r=this;return"boolean"==typeof n?(t=n,n=t===!0?0:r.slideCount-1):n=t===!0?--n:n,r.slideCount<1||0>n||n>r.slideCount-1?!1:(r.unload(),i===!0?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(n).remove(),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slidesCache=r.$slides,void r.reinit())},t.prototype.setCSS=function(n){var u,r,t=this,i={};t.options.rtl===!0&&(n=-n),u="left"==t.positionProp?Math.ceil(n)+"px":"0px",r="top"==t.positionProp?Math.ceil(n)+"px":"0px",i[t.positionProp]=n,t.transformsEnabled===!1?t.$slideTrack.css(i):(i={},t.cssTransitions===!1?(i[t.animType]="translate("+u+", "+r+")",t.$slideTrack.css(i)):(i[t.animType]="translate3d("+u+", "+r+", 0px)",t.$slideTrack.css(i)))},t.prototype.setDimensions=function(){var n=this,t;n.options.vertical===!1?n.options.centerMode===!0&&n.$list.css({padding:"0px "+n.options.centerPadding}):(n.$list.height(n.$slides.first().outerHeight(!0)*n.options.slidesToShow),n.options.centerMode===!0&&n.$list.css({padding:n.options.centerPadding+" 0px"})),n.listWidth=n.$list.width(),n.listHeight=n.$list.height(),n.options.vertical===!1&&n.options.variableWidth===!1?(n.slideWidth=Math.ceil(n.listWidth/n.options.slidesToShow),n.$slideTrack.width(Math.ceil(n.slideWidth*n.$slideTrack.children(".slick-slide").length))):n.options.variableWidth===!0?n.$slideTrack.width(5e3*n.slideCount):(n.slideWidth=Math.ceil(n.listWidth),n.$slideTrack.height(Math.ceil(n.$slides.first().outerHeight(!0)*n.$slideTrack.children(".slick-slide").length))),t=n.$slides.first().outerWidth(!0)-n.$slides.first().width(),n.options.variableWidth===!1&&n.$slideTrack.children(".slick-slide").width(n.slideWidth-t)},t.prototype.setFade=function(){var i,t=this;t.$slides.each(function(r,u){i=t.slideWidth*r*-1,t.options.rtl===!0?n(u).css({position:"relative",right:i,top:0,zIndex:t.options.zIndex-2,opacity:0}):n(u).css({position:"relative",left:i,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var n=this,t;1===n.options.slidesToShow&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.css("height",t))},t.prototype.setOption=t.prototype.slickSetOption=function(t,i,r){var f,e,u=this;if("responsive"===t&&"array"===n.type(i))for(e in i)if("array"!==n.type(u.options.responsive))u.options.responsive=[i[e]];else{for(f=u.options.responsive.length-1;f>=0;)u.options.responsive[f].breakpoint===i[e].breakpoint&&u.options.responsive.splice(f,1),f--;u.options.responsive.push(i[e])}else u.options[t]=i;r===!0&&(u.unload(),u.reinit())},t.prototype.setPosition=function(){var n=this;n.setDimensions(),n.setHeight(),n.options.fade===!1?n.setCSS(n.getLeft(n.currentSlide)):n.setFade(),n.$slider.trigger("setPosition",[n])},t.prototype.setProps=function(){var n=this,t=document.body.style;n.positionProp=n.options.vertical===!0?"top":"left","top"===n.positionProp?n.$slider.addClass("slick-vertical"):n.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&n.options.useCSS===!0&&(n.cssTransitions=!0),n.options.fade&&("number"==typeof n.options.zIndex?n.options.zIndex<3&&(n.options.zIndex=3):n.options.zIndex=n.defaults.zIndex),void 0!==t.OTransform&&(n.animType="OTransform",n.transformType="-o-transform",n.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1)),void 0!==t.MozTransform&&(n.animType="MozTransform",n.transformType="-moz-transform",n.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(n.animType=!1)),void 0!==t.webkitTransform&&(n.animType="webkitTransform",n.transformType="-webkit-transform",n.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1)),void 0!==t.msTransform&&(n.animType="msTransform",n.transformType="-ms-transform",n.transitionType="msTransition",void 0===t.msTransform&&(n.animType=!1)),void 0!==t.transform&&n.animType!==!1&&(n.animType="transform",n.transformType="transform",n.transitionType="transition"),n.transformsEnabled=n.options.useTransform&&null!==n.animType&&n.animType!==!1},t.prototype.setSlideClasses=function(n){var u,i,r,f,t=this;i=t.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),t.$slides.eq(n).addClass("slick-current"),t.options.centerMode===!0?(u=Math.floor(t.options.slidesToShow/2),t.options.infinite===!0&&(n>=u&&n<=t.slideCount-1-u?t.$slides.slice(n-u,n+u+1).addClass("slick-active").attr("aria-hidden","false"):(r=t.options.slidesToShow+n,i.slice(r-u+1,r+u+2).addClass("slick-active").attr("aria-hidden","false")),0===n?i.eq(i.length-1-t.options.slidesToShow).addClass("slick-center"):n===t.slideCount-1&&i.eq(t.options.slidesToShow).addClass("slick-center")),t.$slides.eq(n).addClass("slick-center")):n>=0&&n<=t.slideCount-t.options.slidesToShow?t.$slides.slice(n,n+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=t.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(f=t.slideCount%t.options.slidesToShow,r=t.options.infinite===!0?t.options.slidesToShow+n:n,t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-n<t.options.slidesToShow?i.slice(r-(t.options.slidesToShow-f),r+f).addClass("slick-active").attr("aria-hidden","false"):i.slice(r,r+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===t.options.lazyLoad&&t.lazyLoad()},t.prototype.setupInfinite=function(){var i,r,u,t=this;if(t.options.fade===!0&&(t.options.centerMode=!1),t.options.infinite===!0&&t.options.fade===!1&&(r=null,t.slideCount>t.options.slidesToShow)){for(u=t.options.centerMode===!0?t.options.slidesToShow+1:t.options.slidesToShow,i=t.slideCount;i>t.slideCount-u;i-=1)r=i-1,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r-t.slideCount).prependTo(t.$slideTrack).addClass("slick-cloned");for(i=0;u>i;i+=1)r=i,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r+t.slideCount).appendTo(t.$slideTrack).addClass("slick-cloned");t.$slideTrack.find(".slick-cloned").find("[id]").each(function(){n(this).attr("id","")})}},t.prototype.setPaused=function(n){var t=this;t.options.autoplay===!0&&t.options.pauseOnHover===!0&&(t.paused=n,n?t.autoPlayClear():t.autoPlay())},t.prototype.selectHandler=function(t){var r=this,u=n(t.target).is(".slick-slide")?n(t.target):n(t.target).parents(".slick-slide"),i=parseInt(u.attr("data-slick-index"));return i||(i=0),r.slideCount<=r.options.slidesToShow?(r.setSlideClasses(i),void r.asNavFor(i)):void r.slideHandler(i)},t.prototype.slideHandler=function(n,t,i){var u,f,o,e,s=null,r=this;return t=t||!1,r.animating===!0&&r.options.waitForAnimate===!0||r.options.fade===!0&&r.currentSlide===n||r.slideCount<=r.options.slidesToShow?void 0:(t===!1&&r.asNavFor(n),u=n,s=r.getLeft(u),e=r.getLeft(r.currentSlide),r.currentLeft=null===r.swipeLeft?e:r.swipeLeft,r.options.infinite===!1&&r.options.centerMode===!1&&(0>n||n>r.getDotCount()*r.options.slidesToScroll)?void(r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u))):r.options.infinite===!1&&r.options.centerMode===!0&&(0>n||n>r.slideCount-r.options.slidesToScroll)?void(r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u))):(r.options.autoplay===!0&&clearInterval(r.autoPlayTimer),f=0>u?r.slideCount%r.options.slidesToScroll!=0?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+u:u>=r.slideCount?r.slideCount%r.options.slidesToScroll!=0?0:u-r.slideCount:u,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,f]),o=r.currentSlide,r.currentSlide=f,r.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),r.options.fade===!0?(i!==!0?(r.fadeSlideOut(o),r.fadeSlide(f,function(){r.postSlide(f)})):r.postSlide(f),void r.animateHeight()):void(i!==!0?r.animateSlide(s,function(){r.postSlide(f)}):r.postSlide(f))))},t.prototype.startLoad=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.hide(),n.$nextArrow.hide()),n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.hide(),n.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var i,r,u,n,t=this;return i=t.touchObject.startX-t.touchObject.curX,r=t.touchObject.startY-t.touchObject.curY,u=Math.atan2(r,i),n=Math.round(180*u/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?t.options.rtl===!1?"left":"right":360>=n&&n>=315?t.options.rtl===!1?"left":"right":n>=135&&225>=n?t.options.rtl===!1?"right":"left":t.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},t.prototype.swipeEnd=function(){var i,t=this;if(t.dragging=!1,t.shouldClick=t.touchObject.swipeLength>10?!1:!0,void 0===t.touchObject.curX)return!1;if(t.touchObject.edgeHit===!0&&t.$slider.trigger("edge",[t,t.swipeDirection()]),t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":i=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount(),t.slideHandler(i),t.currentDirection=0,t.touchObject={},t.$slider.trigger("swipe",[t,"left"]);break;case"right":i=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount(),t.slideHandler(i),t.currentDirection=1,t.touchObject={},t.$slider.trigger("swipe",[t,"right"])}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},t.prototype.swipeHandler=function(n){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==n.type.indexOf("mouse")))switch(t.touchObject.fingerCount=n.originalEvent&&void 0!==n.originalEvent.touches?n.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),n.data.action){case"start":t.swipeStart(n);break;case"move":t.swipeMove(n);break;case"end":t.swipeEnd(n)}},t.prototype.swipeMove=function(n){var e,f,r,u,i,t=this;return i=void 0!==n.originalEvent?n.originalEvent.touches:null,!t.dragging||i&&1!==i.length?!1:(e=t.getLeft(t.currentSlide),t.touchObject.curX=void 0!==i?i[0].pageX:n.clientX,t.touchObject.curY=void 0!==i?i[0].pageY:n.clientY,t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2))),t.options.verticalSwiping===!0&&(t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curY-t.touchObject.startY,2)))),f=t.swipeDirection(),"vertical"!==f?(void 0!==n.originalEvent&&t.touchObject.swipeLength>4&&n.preventDefault(),u=(t.options.rtl===!1?1:-1)*(t.touchObject.curX>t.touchObject.startX?1:-1),t.options.verticalSwiping===!0&&(u=t.touchObject.curY>t.touchObject.startY?1:-1),r=t.touchObject.swipeLength,t.touchObject.edgeHit=!1,t.options.infinite===!1&&(0===t.currentSlide&&"right"===f||t.currentSlide>=t.getDotCount()&&"left"===f)&&(r=t.touchObject.swipeLength*t.options.edgeFriction,t.touchObject.edgeHit=!0),t.swipeLeft=t.options.vertical===!1?e+r*u:e+r*(t.$list.height()/t.listWidth)*u,t.options.verticalSwiping===!0&&(t.swipeLeft=e+r*u),t.options.fade===!0||t.options.touchMove===!1?!1:t.animating===!0?(t.swipeLeft=null,!1):void t.setCSS(t.swipeLeft)):void 0)},t.prototype.swipeStart=function(n){var i,t=this;return 1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==n.originalEvent&&void 0!==n.originalEvent.touches&&(i=n.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==i?i.pageX:n.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==i?i.pageY:n.clientY,void(t.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var n=this;null!==n.$slidesCache&&(n.unload(),n.$slideTrack.children(this.options.slide).detach(),n.$slidesCache.appendTo(n.$slideTrack),n.reinit())},t.prototype.unload=function(){var t=this;n(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(n){var t=this;t.$slider.trigger("unslick",[t,n]),t.destroy()},t.prototype.updateArrows=function(){var t,n=this;t=Math.floor(n.options.slidesToShow/2),n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&!n.options.infinite&&(n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===n.currentSlide?(n.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-n.options.slidesToShow&&n.options.centerMode===!1?(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-1&&n.options.centerMode===!0&&(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var n=this;null!==n.$dots&&(n.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),n.$dots.find("li").eq(Math.floor(n.currentSlide/n.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var n=this;document[n.hidden]?(n.paused=!0,n.autoPlayClear()):n.options.autoplay===!0&&(n.paused=!1,n.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){n(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){n(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.activateADA=function(){var n=this;n.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.focusHandler=function(){var t=this;t.$slider.on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var r=n(this);setTimeout(function(){t.isPlay&&(r.is(":focus")?(t.autoPlayClear(),t.paused=!0):(t.paused=!1,t.autoPlay()))},0)})},n.fn.slick=function(){for(var u,i=this,r=arguments[0],e=Array.prototype.slice.call(arguments,1),f=i.length,n=0;f>n;n++)if("object"==typeof r||"undefined"==typeof r?i[n].slick=new t(i[n],r):u=i[n].slick[r].apply(i[n].slick,e),"undefined"!=typeof u)return u;return i}});
/*! Picturefill - v3.0.1
 * http://scottjehl.github.io/picturefill
 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
 *  License: MIT
 */
(function(n,t,i){"use strict";function w(n){return n===" "||n==="\t"||n==="\n"||n==="\f"||n==="\r"}function pt(t,i){var r=new n.Image;return r.onerror=function(){e[t]=!1,o()},r.onload=function(){e[t]=r.width===1,o()},r.src=i,"pending"}function wt(){p=!1,a=n.devicePixelRatio,h={},v={},r.DPR=a||1,u.width=Math.max(n.innerWidth||0,f.clientWidth),u.height=Math.max(n.innerHeight||0,f.clientHeight),u.vw=u.width/100,u.vh=u.height/100,b=[u.height,u.width,a].join("-"),u.em=r.getEmValue(),u.rem=u.em}function ni(n,t,i,r){var e,o,f,u;return y.algorithm==="saveData"?n>2.7?u=i+1:(o=t-i,e=Math.pow(n-.6,1.5),f=o*e,r&&(f+=.1*e),u=n+f):u=i>1?Math.sqrt(n*t):n,u>i}function ti(n){var u,t=r.getSet(n),i=!1;t!=="pending"&&(i=b,t&&(u=r.setRes(t),r.applySetCandidate(u,n))),n[r.ns].evaled=i}function ii(n,t){return n.res-t.res}function gt(n,t,i){var u;return!i&&t&&(i=n[r.ns].sets,i=i&&i[i.length-1]),u=yt(t,i),u&&(t=r.makeUrl(t),n[r.ns].curSrc=t,n[r.ns].curCan=u,u.res||g(u,u.set.sizes)),u}function yt(n,t){var i,f,u;if(n&&t)for(u=r.parseSet(t),n=r.makeUrl(n),i=0;i<u.length;i++)if(n===r.makeUrl(u[i].url)){f=u[i];break}return f}function bt(n,t){for(var i,f,e=n.getElementsByTagName("source"),u=0,o=e.length;u<o;u++)i=e[u],i[r.ns]=!0,f=i.getAttribute("srcset"),f&&t.push({srcset:f,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}function kt(n,t){function h(t){var i,r=t.exec(n.substring(f));if(r)return i=r[0],f+=i.length,i}function o(){for(var i=!1,u,r,o,n={},l,v,f,h,y,a=0;a<e.length;a++)l=e[a],v=l[l.length-1],f=l.substring(0,l.length-1),h=parseInt(f,10),y=parseFloat(f),vt.test(f)&&v==="w"?((u||r)&&(i=!0),h===0?i=!0:u=h):si.test(f)&&v==="x"?((u||r||o)&&(i=!0),y<0?i=!0:r=y):vt.test(f)&&v==="h"?((o||r)&&(i=!0),h===0?i=!0:o=h):i=!0;i||(n.url=s,u&&(n.w=u),r&&(n.d=r),o&&(n.h=o),o||r||u||(n.d=1),n.d===1&&(t.has1x=!0),n.set=t,c.push(n))}function l(){for(h(ui),i="",u="in descriptor";;){if(r=n.charAt(f),u==="in descriptor")if(w(r))i&&(e.push(i),i="",u="after descriptor");else{if(r===","){f+=1,i&&e.push(i),o();return}if(r==="(")i=i+r,u="in parens";else{if(r===""){i&&e.push(i),o();return}i=i+r}}else if(u==="in parens")if(r===")")i=i+r,u="in descriptor";else{if(r===""){e.push(i),o();return}i=i+r}else if(u==="after descriptor"&&!w(r)){if(r===""){o();return}u="in descriptor",f-=1}f+=1}}for(var a=n.length,s,e,i,u,r,f=0,c=[];;){if(h(li),f>=a)return c;s=h(ai),e=[],s.slice(-1)===","?(s=s.replace(ci,""),o()):l()}}function dt(n){function s(n){function u(){r&&(f.push(r),r="")}function s(){f[0]&&(h.push(f),f=[])}for(var i,r="",f=[],h=[],o=0,t=0,e=!1;;){if(i=n.charAt(t),i==="")return u(),s(),h;if(e)if(i==="*"&&n[t+1]==="/"){e=!1,t+=2,u();continue}else{t+=1;continue}else if(w(i))if(n.charAt(t-1)&&w(n.charAt(t-1))||!r){t+=1;continue}else if(o===0){u(),t+=1;continue}else i=" ";else if(i==="(")o+=1;else if(i===")")o-=1;else if(i===","){u(),s(),t+=1;continue}else if(i==="/"&&n.charAt(t+1)==="*"){e=!0,t+=2;continue}r=r+i,t+=1}}function h(n){return l.test(n)&&parseFloat(n)>=0?!0:c.test(n)?!0:n==="0"||n==="-0"||n==="+0"?!0:!1}var l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i,i,f,o,t,u,e;for(f=s(n),o=f.length,i=0;i<o;i++){if(t=f[i],u=t[t.length-1],h(u))e=u,t.pop();else continue;if(t.length===0)return e;if(t=t.join(" "),r.matchesMedia(t))return e}return"100vw"}t.createElement("picture");var hi,c,at,b,r={},l=function(){},s=t.createElement("img"),ut=s.getAttribute,ht=s.setAttribute,et=s.removeAttribute,f=t.documentElement,e={},y={algorithm:""},it="data-pfsrc",rt=it+"set",ft=navigator.userAgent,ri=/rident/.test(ft)||/ecko/.test(ft)&&ft.match(/rv\:(\d+)/)&&RegExp.$1>35,tt="currentSrc",oi=/\s+\+?\d+(e\d+)?w/,ei=/(\([^)]+\))?\s*(.+)/,k=n.picturefillCFG,fi="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",ct="font-size:100%!important;",p=!0,h={},v={},a=n.devicePixelRatio,u={px:1,"in":96},ot=t.createElement("a"),nt=!1,ui=/^[ \t\n\r\u000c]+/,li=/^[, \t\n\r\u000c]+/,ai=/^[^ \t\n\r\u000c]+/,ci=/[,]+$/,vt=/^\d+$/,si=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,st=function(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r||!1):n.attachEvent&&n.attachEvent("on"+t,i)},d=function(n){var t={};return function(i){return i in t||(t[i]=n(i)),t[i]}};var lt=function(){var i=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var n=arguments,i=0,t=n[0];++i in n;)t=t.replace(n[i],n[++i]);return t},n=d(function(n){return"return "+t((n||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/ig,"")+";"});return function(t,r){var f;if(!(t in h))if(h[t]=!1,r&&(f=t.match(i)))h[t]=f[1]*u[f[2]];else try{h[t]=new Function("e",n(t))(u)}catch(e){}return h[t]}}(),g=function(n,t){return n.w?(n.cWidth=r.calcListLength(t||"100vw"),n.res=n.w/n.cWidth):n.res=n.d,n},o=function(n){var f,u,e,i=n||{};if(i.elements&&i.elements.nodeType===1&&(i.elements.nodeName.toUpperCase()==="IMG"?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),f=i.elements||r.qsa(i.context||t,i.reevaluate||i.reselect?r.sel:r.selShort),e=f.length){for(r.setupRun(i),nt=!0,u=0;u<e;u++)r.fillImg(f[u],i);r.teardownRun(i)}};for(hi=n.console&&console.warn?function(n){console.warn(n)}:l,(tt in s)||(tt="src"),e["image/jpeg"]=!0,e["image/gif"]=!0,e["image/png"]=!0,e["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),r.ns=("pf"+ +new Date).substr(0,9),r.supSrcset=("srcset"in s),r.supSizes=("sizes"in s),r.supPicture=!!n.HTMLPictureElement,r.supSrcset&&r.supPicture&&!r.supSizes&&function(n){s.srcset="data:,a",n.src="data:,a",r.supSrcset=s.complete===n.complete,r.supPicture=r.supSrcset&&r.supPicture}(t.createElement("img")),r.selShort="picture>img,img[srcset]",r.sel=r.selShort,r.cfg=y,r.supSrcset&&(r.sel+=",img["+rt+"]"),r.DPR=a||1,r.u=u,r.types=e,at=r.supSrcset&&!r.supSizes,r.setSize=l,r.makeUrl=d(function(n){return ot.href=n}),r.qsa=function(n,t){return n.querySelectorAll(t)},r.matchesMedia=function(){return r.matchesMedia=n.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?function(n){return!n||matchMedia(n).matches}:r.mMQ,r.matchesMedia.apply(this,arguments)},r.mMQ=function(n){return n?lt(n):!0},r.calcLength=function(n){var t=lt(n,!0)||!1;return t<0&&(t=!1),t},r.supportsType=function(n){return n?e[n]:!0},r.parseSize=d(function(n){var t=(n||"").match(ei);return{media:t&&t[1],length:t&&t[2]}}),r.parseSet=function(n){return n.cands||(n.cands=kt(n.srcset,n)),n.cands},r.getEmValue=function(){var n;if(!c&&(n=t.body)){var i=t.createElement("div"),u=f.style.cssText,r=n.style.cssText;i.style.cssText=fi,f.style.cssText=ct,n.style.cssText=ct,n.appendChild(i),c=i.offsetWidth,n.removeChild(i),c=parseFloat(c,10),f.style.cssText=u,n.style.cssText=r}return c||16},r.calcListLength=function(n){if(!(n in v)||y.uT){var t=r.calcLength(dt(n));v[n]=t?t:u.width}return v[n]},r.setRes=function(n){var i,t,u;if(n)for(i=r.parseSet(n),t=0,u=i.length;t<u;t++)g(i[t],n.sizes);return i},r.setRes.res=g,r.applySetCandidate=function(n,t){if(n.length){var f,e,o,l,i,c,u,a,v,h=t[r.ns],s=r.DPR;if(c=h.curSrc||t[tt],u=h.curCan||gt(t,c,n[0].set),u&&u.set===n[0].set&&(v=ri&&!t.complete&&u.res-.1>s,v||(u.cached=!0,u.res>=s&&(i=u))),!i)for(n.sort(ii),l=n.length,i=n[l-1],e=0;e<l;e++)if(f=n[e],f.res>=s){o=e-1,i=n[o]&&(v||c!==r.makeUrl(f.url))&&ni(n[o].res,f.res,s,n[o].cached)?n[o]:f;break}i&&(a=r.makeUrl(i.url),h.curSrc=a,h.curCan=i,a!==c&&r.setSrc(t,i),r.setSize(t))}},r.setSrc=function(n,t){var i;n.src=t.url,t.set.type==="image/svg+xml"&&(i=n.style.width,n.style.width=n.offsetWidth+1+"px",n.offsetWidth+1&&(n.style.width=i))},r.getSet=function(n){for(var t,f,u=!1,e=n[r.ns].sets,i=0;i<e.length&&!u;i++)if(t=e[i],t.srcset&&r.matchesMedia(t.media)&&(f=r.supportsType(t.type))){f==="pending"&&(t=f),u=t;break}return u},r.parseSets=function(n,t,u){var o,e,s,h,c=t&&t.nodeName.toUpperCase()==="PICTURE",f=n[r.ns];(f.src===i||u.src)&&(f.src=ut.call(n,"src"),f.src?ht.call(n,it,f.src):et.call(n,it)),(f.srcset===i||u.srcset||!r.supSrcset||n.srcset)&&(o=ut.call(n,"srcset"),f.srcset=o,h=!0),f.sets=[],c&&(f.pic=!0,bt(t,f.sets)),f.srcset?(e={srcset:f.srcset,sizes:ut.call(n,"sizes")},f.sets.push(e),s=(at||f.src)&&oi.test(f.srcset||""),s||!f.src||yt(f.src,e)||e.has1x||(e.srcset+=", "+f.src,e.cands.push({url:f.src,d:1,set:e}))):f.src&&f.sets.push({srcset:f.src,sizes:null}),f.curCan=null,f.curSrc=i,f.supported=!(c||e&&!r.supSrcset||s),h&&r.supSrcset&&!f.supported&&(o?(ht.call(n,rt,o),n.srcset=""):et.call(n,rt)),f.supported&&!f.srcset&&(!f.src&&n.src||n.src!==r.makeUrl(f.src))&&(f.src===null?n.removeAttribute("src"):n.src=f.src),f.parsed=!0},r.fillImg=function(n,t){var i,u=t.reselect||t.reevaluate;(n[r.ns]||(n[r.ns]={}),i=n[r.ns],u||i.evaled!==b)&&((!i.parsed||t.reevaluate)&&r.parseSets(n,n.parentNode,t),i.supported?i.evaled=b:ti(n))},r.setupRun=function(){(!nt||p||a!==n.devicePixelRatio)&&wt()},r.supPicture?(o=l,r.fillImg=l):function(){var e,c=n.attachEvent?/d$|^c/:/d$|^c|^i/,i=function(){var n=t.readyState||"";s=setTimeout(i,n==="loading"?200:999),t.body&&(r.fillImgs(),e=e||c.test(n),e&&clearTimeout(s))},s=setTimeout(i,t.body?9:99),l=function(n,t){var i,u,r=function(){var f=new Date-u;f<t?i=setTimeout(r,t-f):(i=null,n())};return function(){u=new Date,i||(i=setTimeout(r,t))}},o=f.clientHeight,h=function(){p=Math.max(n.innerWidth||0,f.clientWidth)!==u.width||f.clientHeight!==o,o=f.clientHeight,p&&r.fillImgs()};st(n,"resize",l(h,99)),st(t,"readystatechange",i)}(),r.picturefill=o,r.fillImgs=o,r.teardownRun=l,o._=r,n.picturefillCFG={pf:r,push:function(n){var t=n.shift();typeof r[t]=="function"?r[t].apply(r,n):(y[t]=n[0],nt&&r.fillImgs({reselect:!0}))}};k&&k.length;)n.picturefillCFG.push(k.shift());n.picturefill=o,typeof module=="object"&&typeof module.exports=="object"?module.exports=o:typeof define=="function"&&define.amd&&define("picturefill",function(){return o}),r.supPicture||(e["image/webp"]=pt("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))})(window,document);
typeof jQuery=="undefined"?console&&console.log&&console.log("Keyboard Focus plugin could not be initialised because jQuery is not available"):(jQuery.keyFocus={},jQuery.keyFocus.conf={keyFocusClass:"keyboard-focus",mouseFocusClass:"mouse-focus",focusClass:"focus",mouseTimeout:50},function(n){n(document).ready(function(){n("body").trackFocus()}),n.fn.trackFocus=function(){n(this).data("last-device-used",""),n(this).bind("mousedown",function(){n(this).data("last-device-used","mouse"),n(this).data("last-device-used-when",+new Date)}).bind("keydown",function(){n(this).data("last-device-used","keyboard")}).bind("focusin",function(t){n(this).data("last-device-used")!="mouse"||+new Date-50>n(this).data("last-device-used-when")?n(t.target).addClass(n.keyFocus.conf.keyFocusClass):n(t.target).addClass(n.keyFocus.conf.mouseFocusClass),n(t.target).addClass(n.keyFocus.conf.focusClass)}).bind("focusout",function(t){n("."+n.keyFocus.conf.keyFocusClass+", ."+n.keyFocus.conf.mouseFocusClass).removeClass(n.keyFocus.conf.keyFocusClass+" "+n.keyFocus.conf.mouseFocusClass),n(t.target).removeClass(n.keyFocus.conf.focusClass)})}}(jQuery));
/*!
 * jQuery Mobile Datepicker
 * http://uglymongrel.com.com
 *
 * Copyright 2014 Alexander Schmitz and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.uglymongrel.com.com/jquery-mobile-datepicker-wrapper/
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery","jquery-ui/datepicker"],n):n(jQuery)})(function(n){return n.widget("mobile.date",{options:{defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,beforeShowDay:null,onSelect:null,onChangeMonthYear:null,beforeShow:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1,inline:!1,theme:"a",dateFormat:"mm/dd/yy"},_getCreateOptions:function(){return n.extend(this.options,n.datepicker._defaults),this._super()},_create:function(){var t;this.options.inline?(this.options.altField=this.element,t=n("<div>").datepicker(this.options),this.element.parent().after(t)):(this.element.datepicker(this.options),t=this.element.datepicker("widget")),this.baseWidget=this.options.inline?this.calendar:this.element,this.options.inline&&this._on({change:function(){t.datepicker("setDate",this.element.val())}})},setOption:function(n,t){this.baseWidget.datepicker("option",n,t)},getDate:function(){return this.baseWidget.datepicker("getDate")},_destroy:function(){return this.baseWidget.datepicker("destroy")},isDisabled:function(){return this.baseWidget.datepicker("isDisabled")},refresh:function(){return this.baseWidget.datepicker("refresh")},setDate:function(n){return this.baseWidget.datepicker("setDate",n)},widget:function(){return this.element}}),n.mobile.date});
/*!
 * clipboard.js v1.5.15
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT © Zeno Rocha
 */
(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this,t.Clipboard=n()}})(function(){var n,i,r;return function t(n,i,r){function f(u,o){var h,c,s;if(!i[u]){if(!n[u]){if(h=typeof require=="function"&&require,!o&&h)return h(u,!0);if(e)return e(u,!0);c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[u]={exports:{}},n[u][0].call(s.exports,function(t){var i=n[u][1][t];return f(i?i:t)},s,s.exports,t,n,i,r)}return i[u].exports}for(var e=typeof require=="function"&&require,u=0;u<r.length;u++)f(r[u]);return f}({1:[function(n,t){function u(n,t){while(n&&n!==document){if(n.matches(t))return n;n=n.parentNode}}if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=u},{}],2:[function(n,t){function u(n,t,i,u,f){var e=r.apply(this,arguments);return n.addEventListener(i,e,f),{destroy:function(){n.removeEventListener(i,e,f)}}}function r(n,t,i,r){return function(i){i.delegateTarget=f(i.target,t),i.delegateTarget&&r.call(n,i)}}var f=n("./closest");t.exports=u},{"./closest":1}],3:[function(n,t,i){i.node=function(n){return n!==undefined&&n instanceof HTMLElement&&n.nodeType===1},i.nodeList=function(n){var t=Object.prototype.toString.call(n);return n!==undefined&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in n&&(n.length===0||i.node(n[0]))},i.string=function(n){return typeof n=="string"||n instanceof String},i.fn=function(n){var t=Object.prototype.toString.call(n);return t==="[object Function]"}},{}],4:[function(n,t){function s(n,t,i){if(!n&&!t&&!i)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(i))throw new TypeError("Third argument must be a Function");if(r.node(n))return e(n,t,i);if(r.nodeList(n))return u(n,t,i);if(r.string(n))return f(n,t,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}function e(n,t,i){return n.addEventListener(t,i),{destroy:function(){n.removeEventListener(t,i)}}}function u(n,t,i){return Array.prototype.forEach.call(n,function(n){n.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(n,function(n){n.removeEventListener(t,i)})}}}function f(n,t,i){return o(document.body,n,t,i)}var r=n("./is"),o=n("delegate");t.exports=s},{"./is":3,delegate:2}],5:[function(n,t){function r(n){var i,t,r;return n.nodeName==="SELECT"?(n.focus(),i=n.value):n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"?(n.focus(),n.setSelectionRange(0,n.value.length),i=n.value):(n.hasAttribute("contenteditable")&&n.focus(),t=window.getSelection(),r=document.createRange(),r.selectNodeContents(n),t.removeAllRanges(),t.addRange(r),i=t.toString()),i}t.exports=r},{}],6:[function(n,t){function r(){}r.prototype={on:function(n,t,i){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:t,ctx:i}),this},once:function(n,t,i){function r(){u.off(n,r),t.apply(i,arguments)}var u=this;r._=t;return this.on(n,r,i)},emit:function(n){var u=[].slice.call(arguments,1),i=((this.e||(this.e={}))[n]||[]).slice(),t=0,r=i.length;for(t;t<r;t++)i[t].fn.apply(i[t].ctx,u);return this},off:function(n,t){var u=this.e||(this.e={}),r=u[n],f=[],i,e;if(r&&t)for(i=0,e=r.length;i<e;i++)r[i].fn!==t&&r[i].fn._!==t&&f.push(r[i]);return f.length?u[n]=f:delete u[n],this}},t.exports=r},{}],7:[function(t,i,r){(function(u,f){if(typeof n=="function"&&n.amd)n(["module","select"],f);else if(typeof r!="undefined")f(i,t("select"));else{var e={exports:{}};f(e,u.select),u.clipboardAction=e.exports}})(this,function(n,t){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var i=e(t),o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),u=function(){function n(t){f(this,n),this.resolveOptions(t),this.initSelection()}return r(n,[{key:"resolveOptions",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=n.action,this.emitter=n.emitter,this.target=n.target,this.text=n.text,this.trigger=n.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,r=document.documentElement.getAttribute("dir")=="rtl",n;this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[r?"right":"left"]="-9999px",n=window.pageYOffset||document.documentElement.scrollTop,this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=i.default(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i.default(this.target),this.copyText()}},{key:"copyText",value:function(){var n=void 0;try{n=document.execCommand(this.action)}catch(t){n=!1}this.handleResult(n)}},{key:"handleResult",value:function(n){this.emitter.emit(n?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"copy";if(this._action=n,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(n){if(n!==undefined)if(n&&(typeof n=="undefined"?"undefined":o(n))==="object"&&n.nodeType===1){if(this.action==="copy"&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=n}else throw new Error('Invalid "target" value, use a valid Element');},get:function(){return this._target}}]),n}();n.exports=u})},{select:5}],8:[function(t,i,r){(function(u,f){if(typeof n=="function"&&n.amd)n(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if(typeof r!="undefined")f(i,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var e={exports:{}};f(e,u.clipboardAction,u.tinyEmitter,u.goodListener),u.clipboard=e.exports}})(this,function(n,t,i,r){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function u(n,t){var i="data-clipboard-"+n;if(t.hasAttribute(i))return t.getAttribute(i)}var c=f(t),l=f(i),s=f(r),a=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),h=function(n){function t(n,i){v(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(i),r.listenClick(n),r}return e(t,n),a(t,[{key:"resolveOptions",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=typeof n.action=="function"?n.action:this.defaultAction,this.target=typeof n.target=="function"?n.target:this.defaultTarget,this.text=typeof n.text=="function"?n.text:this.defaultText}},{key:"listenClick",value:function(n){var t=this;this.listener=s.default(n,"click",function(n){return t.onClick(n)})}},{key:"onClick",value:function(n){var t=n.delegateTarget||n.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})}},{key:"defaultAction",value:function(n){return u("action",n)}},{key:"defaultTarget",value:function(n){var t=u("target",n);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(n){return u("text",n)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(l.default);n.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});
(function(n){var t=n({});n.subscribe=function(){t.on.apply(t,arguments)},n.unsubscribe=function(){t.off.apply(t,arguments)},n.publish=function(){t.trigger.apply(t,arguments)}})(jQuery);
(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this,t.Hls=n()}})(function(){var n,i,r;return function t(n,i,r){function f(u,o){var h,c,s;if(!i[u]){if(!n[u]){if(h=typeof require=="function"&&require,!o&&h)return h(u,!0);if(e)return e(u,!0);c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[u]={exports:{}},n[u][0].call(s.exports,function(t){var i=n[u][1][t];return f(i?i:t)},s,s.exports,t,n,i,r)}return i[u].exports}for(var e=typeof require=="function"&&require,u=0;u<r.length;u++)f(r[u]);return f}({1:[function(n,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||undefined}function u(n){return typeof n=="function"}function o(n){return typeof n=="number"}function f(n){return typeof n=="object"&&n!==null}function e(n){return n===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=undefined,r.prototype._maxListeners=undefined,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(n){if(!o(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},r.prototype.emit=function(n){var i,t,c,r,o,s,h;if(this._events||(this._events={}),n==="error"&&(!this._events.error||f(this._events.error)&&!this._events.error.length))if(i=arguments[1],i instanceof Error)throw i;else{h=new Error('Uncaught, unspecified "error" event. ('+i+")"),h.context=i;throw h;}if(t=this._events[n],e(t))return!1;if(u(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),t.apply(this,r)}else if(f(t))for(r=Array.prototype.slice.call(arguments,1),s=t.slice(),c=s.length,o=0;o<c;o++)s[o].apply(this,r);return!0},r.prototype.addListener=function(n,t){var i;if(!u(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",n,u(t.listener)?t.listener:t),this._events[n]?f(this._events[n])?this._events[n].push(t):this._events[n]=[this._events[n],t]:this._events[n]=t,f(this._events[n])&&!this._events[n].warned&&(i=e(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[n].length>i&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),typeof console.trace=="function"&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(n,t){function i(){this.removeListener(n,i),r||(r=!0,t.apply(this,arguments))}if(!u(t))throw TypeError("listener must be a function");var r=!1;i.listener=t;this.on(n,i);return this},r.prototype.removeListener=function(n,t){var i,e,o,r;if(!u(t))throw TypeError("listener must be a function");if(!this._events||!this._events[n])return this;if(i=this._events[n],o=i.length,e=-1,i===t||u(i.listener)&&i.listener===t)delete this._events[n],this._events.removeListener&&this.emit("removeListener",n,t);else if(f(i)){for(r=o;r-->0;)if(i[r]===t||i[r].listener&&i[r].listener===t){e=r;break}if(e<0)return this;i.length===1?(i.length=0,delete this._events[n]):i.splice(e,1),this._events.removeListener&&this.emit("removeListener",n,t)}return this},r.prototype.removeAllListeners=function(n){var i,t;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[n]&&delete this._events[n],this;if(arguments.length===0){for(i in this._events)i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[n],u(t))this.removeListener(n,t);else if(t)while(t.length)this.removeListener(n,t[t.length-1]);return delete this._events[n],this},r.prototype.listeners=function(n){var t;return t=this._events&&this._events[n]?u(this._events[n])?[this._events[n]]:this._events[n].slice():[]},r.prototype.listenerCount=function(n){if(this._events){var t=this._events[n];if(u(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(n,t){return n.listenerCount(t)}},{}],2:[function(t,i,r){(function(t){var o=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,e=/^([^\/;?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,u={buildAbsoluteURL:function(n,t,i){var s,f,r,c,o,h,l;if(i=i||{},n=n.trim(),t=t.trim(),!t){if(!i.alwaysNormalize)return n;if(s=this.parseURL(n),!r)throw new Error("Error trying to parse base URL.");return s.path=u.normalizePath(s.path),u.buildURLFromParts(s)}if(f=this.parseURL(t),!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return i.alwaysNormalize?(f.path=u.normalizePath(f.path),u.buildURLFromParts(f)):t;if(r=this.parseURL(n),!r)throw new Error("Error trying to parse base URL.");return!r.netLoc&&r.path&&r.path[0]!=="/"&&(c=e.exec(r.path),r.netLoc=c[1],r.path=c[2]),r.netLoc&&!r.path&&(r.path="/"),o={scheme:r.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment},f.netLoc||(o.netLoc=r.netLoc,f.path[0]!=="/"&&(f.path?(h=r.path,l=h.substring(0,h.lastIndexOf("/")+1)+f.path,o.path=u.normalizePath(l)):(o.path=r.path,f.params||(o.params=r.params,f.query||(o.query=r.query))))),o.path===null&&(o.path=i.alwaysNormalize?u.normalizePath(f.path):f.path),u.buildURLFromParts(o)},parseURL:function(n){var t=o.exec(n);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(n){for(n=n.split("").reverse().join("").replace(s,"");n.length!==(n=n.replace(f,"")).length;);return n.split("").reverse().join("")},buildURLFromParts:function(n){return n.scheme+n.netLoc+n.path+n.params+n.query+n.fragment}};typeof r=="object"&&typeof i=="object"?i.exports=u:typeof n=="function"&&n.amd?n([],function(){return u}):typeof r=="object"?r.URLToolkit=u:t.URLToolkit=u})(this)},{}],3:[function(n,t){var e=arguments[3],r=arguments[4],f=arguments[5],u=JSON.stringify;t.exports=function(n,t){function d(n){var i,t;h[n]=!0;for(i in r[n][1])t=r[n][1][i],h[t]||d(t)}for(var o,a=Object.keys(f),l,b,s,c,w,h,p,y,i=0,v=a.length;i<v;i++)if(s=a[i],l=f[s].exports,l===n||l&&l.default===n){o=s;break}if(!o){for(o=Math.floor(Math.pow(16,8)*Math.random()).toString(16),b={},i=0,v=a.length;i<v;i++)s=a[i],b[s]=s;r[o]=[Function(["require","module","exports"],"("+n+")(self)"),b]}c=Math.floor(Math.pow(16,8)*Math.random()).toString(16),w={},w[o]=o,r[c]=[Function(["require"],"var f = require("+u(o)+");(f.default ? f.default : f)(self);"),w],h={},d(c);var nt="("+e+")({"+Object.keys(h).map(function(n){return u(n)+":["+r[n][0]+","+u(r[n][1])+"]"}).join(",")+"},{},["+u(c)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,k=new Blob([nt],{type:"text/javascript"});return t&&t.bare?k:(p=g.createObjectURL(k),y=new Worker(p),y.objectURL=p,y)}},{}],4:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var l;Object.defineProperty(i,"__esModule",{value:!0}),i.hlsDefaultConfig=undefined;var k=n(5),d=r(k),g=n(8),p=r(g),w=n(9),b=r(w),rt=n(10),ut=r(rt),ft=n(56),nt=r(ft),tt=n(7),it=r(tt),o=n(6),s=r(o),e=n(48),u=r(e),f=n(16),h=r(f),v=n(15),y=r(v),a=n(14),c=r(a);l=i.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:undefined,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:Infinity,liveSyncDuration:undefined,liveMaxLatencyDuration:undefined,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:undefined,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:nt.default,fLoader:undefined,pLoader:undefined,xhrSetup:undefined,fetchSetup:undefined,abrController:d.default,bufferController:p.default,capLevelController:b.default,fpsController:ut.default,audioStreamController:s.default,audioTrackController:it.default,subtitleStreamController:c.default,subtitleTrackController:y.default,timelineController:h.default,cueHandler:u.default,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},{"10":10,"14":14,"15":15,"16":16,"48":48,"5":5,"56":56,"6":6,"7":7,"8":8,"9":9}],5:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function l(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function c(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function v(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var s;Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),y=n(33),u=f(y),p=n(32),h=f(p),w=n(35),e=f(w),o=n(31),r=n(51),k=n(49),b=f(k);s=function(n){function t(n){l(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=n,i.onCheck=i._abandonRulesCheck.bind(i),i}return v(t,n),a(t,[{key:"destroy",value:function(){this.clearTimer(),h.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(n){var f=n.frag;if(f.type==="main"){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var u=this.hls,e=n.frag.level,o=u.levels[e].details.live,t=u.config,i=void 0,r=void 0;o?(i=t.abrEwmaFastLive,r=t.abrEwmaSlowLive):(i=t.abrEwmaFastVoD,r=t.abrEwmaSlowVoD),this._bwEstimator=new b.default(u,r,i,t.abrEwmaDefaultEstimate)}this.fragCurrent=f}}},{key:"_abandonRulesCheck",value:function(){var o=this.hls,f=o.media,n=this.fragCurrent,c=n.loader,d=o.minAutoLevel,t,v,y,h,i,w;if(!c||c.stats&&c.stats.aborted){r.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer();return}if(t=c.stats,f&&(!f.paused&&f.playbackRate!==0||!f.readyState)&&n.autoLevel&&n.level&&(v=performance.now()-t.trequest,y=Math.abs(f.playbackRate),v>500*n.duration/y)){var s=o.levels,b=Math.max(1,t.bw?t.bw/8:t.loaded*1e3/v),a=s[n.level],nt=a.realBitrate?Math.max(a.realBitrate,a.bitrate):a.bitrate,g=t.total?t.total:Math.max(t.loaded,Math.round(n.duration*nt/8)),k=f.currentTime,p=(g-t.loaded)/b,l=(e.default.bufferInfo(f,k,o.config.maxBufferHole).end-k)/y;if(l<2*n.duration/y&&p>l){for(h=void 0,i=void 0,i=n.level-1;i>d;i--)if(w=s[i].realBitrate?Math.max(s[i].realBitrate,s[i].bitrate):s[i].bitrate,h=n.duration*w/(8*.8*b),h<l)break;h<p&&(r.logger.warn("loading too slow, abort fragment loading and switch to level "+i+":fragLoadedDelay["+i+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+h.toFixed(1)+"<"+p.toFixed(1)+":"+l.toFixed(1)),o.nextLoadLevel=i,this._bwEstimator.sample(v,t.loaded),c.abort(),this.clearTimer(),o.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:t}))}}}},{key:"onFragLoaded",value:function(n){var r=n.frag,i;if(r.type==="main"&&!isNaN(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var t=this.hls.levels[r.level],u=(t.loaded?t.loaded.bytes:0)+n.stats.loaded,f=(t.loaded?t.loaded.duration:0)+n.frag.duration;t.loaded={bytes:u,duration:f},t.realBitrate=Math.round(8*u/f)}if(n.frag.bitrateTest){i=n.stats,i.tparsed=i.tbuffered=i.tload;this.onFragBuffered(n)}}}},{key:"onFragBuffered",value:function(n){var t=n.stats,i=n.frag,u;t.aborted===!0||i.loadCounter!==1||i.type!=="main"||isNaN(i.sn)||i.bitrateTest&&t.tload!==t.tbuffered||(u=t.tparsed-t.trequest,r.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(u,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),this.bitrateTestDelay=i.bitrateTest?u/1e3:0)}},{key:"onError",value:function(n){switch(n.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"_findBestLevel",value:function(n,t,i,u,f,e,o,s,h){for(var v,y,c=f;c>=u;c--){var b=h[c],l=b.details,p=l?l.totalduration/l.fragments.length:t,w=l?l.live:!1,a=void 0;if(a=c<=n?o*i:s*i,v=h[c].realBitrate?Math.max(h[c].realBitrate,h[c].bitrate):h[c].bitrate,y=v*p/a,r.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(a)+"/"+v+"/"+p+"/"+e+"/"+y),a>v&&(!y||w||y<e))return c}return-1}},{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,i=this._bwEstimator,n;return t!==-1&&(!i||!i.canEstimate())?t:(n=this._nextABRAutoLevel,t!==-1&&(n=Math.min(t,n)),n)},set:function(n){this._nextAutoLevel=n}},{key:"_nextABRAutoLevel",get:function(){var u=this.hls,p=u.maxAutoLevel,y=u.levels,n=u.config,v=u.minAutoLevel,t=u.media,w=this.lastLoadedFragLevel,i=this.fragCurrent?this.fragCurrent.duration:0,k=t?t.currentTime:0,d=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,b=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,h=(e.default.bufferInfo(t,k,n.maxBufferHole).end-k)/d,o=this._findBestLevel(w,i,b,v,p,h,n.abrBandWidthFactor,n.abrBandWidthUpFactor,y),f,a;if(o>=0)return o;r.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var s=i?Math.min(i,n.maxStarvationDelay):n.maxStarvationDelay,l=n.abrBandWidthFactor,c=n.abrBandWidthUpFactor;return h===0&&(f=this.bitrateTestDelay,f&&(a=i?Math.min(i,n.maxLoadingDelay):n.maxLoadingDelay,s=a-f,r.logger.trace("bitrate test took "+Math.round(1e3*f)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*s)+" ms"),l=c=1)),o=this._findBestLevel(w,i,b,v,p,h+s,l,c,y),Math.max(o,0)}}]),t}(h.default),i.default=s},{"31":31,"32":32,"33":33,"35":35,"49":49,"51":51}],6:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function p(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function k(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var r,c;Object.defineProperty(i,"__esModule",{value:!0});var b=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),v=n(46),y=o(v),it=n(35),s=o(it),tt=n(25),g=o(tt),nt=n(33),f=o(nt),w=n(32),l=o(w),d=n(36),h=o(d),ut=n(52),rt=o(ut),e=n(31),u=n(51);r={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},c=function(n){function t(n){a(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,f.default.MEDIA_ATTACHED,f.default.MEDIA_DETACHING,f.default.AUDIO_TRACKS_UPDATED,f.default.AUDIO_TRACK_SWITCHING,f.default.AUDIO_TRACK_LOADED,f.default.KEY_LOADED,f.default.FRAG_LOADED,f.default.FRAG_PARSING_INIT_SEGMENT,f.default.FRAG_PARSING_DATA,f.default.FRAG_PARSED,f.default.ERROR,f.default.BUFFER_CREATED,f.default.BUFFER_APPENDED,f.default.BUFFER_FLUSHED,f.default.INIT_PTS_FOUND));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=r.STOPPED,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i}return k(t,n),b(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),l.default.prototype.destroy.call(this),this.state=r.STOPPED}},{key:"onInitPtsFound",value:function(n){var f=n.id,t=n.frag.cc,i=n.initPTS;if(f==="main"&&(this.initPTS[t]=i,u.logger.log("InitPTS for cc:"+t+" found from video track:"+i),this.state===r.WAITING_INIT_PTS)){u.logger.log("sending pending audio frag to demuxer"),this.state=r.FRAG_LOADING;this.onFragLoaded(this.waitingFragment);this.waitingFragment=null}}},{key:"startLoad",value:function(n){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&n===-1?(u.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=r.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:n,this.state=r.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=n,this.state=r.STOPPED}},{key:"stopLoad",value:function(){var n=this.fragCurrent;n&&(n.loader&&n.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=r.STOPPED}},{key:"tick",value:function(){this.ticks++,this.ticks===1&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var c,it,t,k=this.hls,p=k.config,d,et,g,ot,ut,ct;switch(this.state){case r.STARTING:this.state=r.WAITING_TRACK,this.loadedmetadata=!1;break;case r.IDLE:if(d=this.tracks,!d)break;if(!this.media&&(this.startFragRequested||!p.startFragPrefetch))break;c=this.loadedmetadata?this.media.currentTime:this.nextLoadPosition;var b=this.mediaBuffer?this.mediaBuffer:this.media,l=s.default.bufferInfo(b,c,p.maxBufferHole),at=l.len,o=l.end,h=this.fragPrevious,lt=p.maxMaxBufferLength,rt=this.audioSwitch,w=this.trackId;if((at<lt||rt)&&w<d.length){if(t=d[w].details,typeof t=="undefined"){this.state=r.WAITING_TRACK;break}if(!rt&&!t.live&&h&&h.sn===t.endSN&&(!this.media.seeking||this.media.duration-o<h.duration/2)){this.hls.trigger(f.default.BUFFER_EOS,{type:"audio"}),this.state=r.ENDED;break}var i=t.fragments,ft=i.length,v=i[0].start,ht=i[ft-1].start+i[ft-1].duration,n=void 0;if(rt)if(t.live&&!t.PTSKnown)u.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),o=0;else if(o=c,t.PTSKnown&&c<v)if(l.end>v||l.nextStart)u.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=v+.05;else return;if(t.initSegment&&!t.initSegment.data)n=t.initSegment;else if(o<=v){if(n=i[0],t.live&&n.loadIdx&&n.loadIdx===this.fragLoadIdx){et=l.nextStart?l.nextStart:v,u.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(et+.05)),this.media.currentTime=et+.05;return}}else{var a=void 0,nt=p.maxFragLookUpTolerance,tt=h?i[h.sn-i[0].sn+1]:undefined,st=function(n){var t=Math.min(nt,n.duration);return n.start+n.duration-t<=o?1:n.start-t>o&&n.start?-1:0};o<ht?(o>ht-nt&&(nt=0),a=tt&&!st(tt)?tt:y.default.search(i,st)):a=i[ft-1],a&&(n=a,v=a.start,h&&n.level===h.level&&n.sn===h.sn&&(n.sn<t.endSN?(n=i[n.sn+1-t.startSN],u.logger.log("SN just loaded, load next one: "+n.sn)):n=null))}if(n)if(n.decryptdata&&n.decryptdata.uri!=null&&n.decryptdata.key==null)u.logger.log("Loading key for "+n.sn+" of ["+t.startSN+" ,"+t.endSN+"],track "+w),this.state=r.KEY_LOADING,k.trigger(f.default.KEY_LOADING,{frag:n});else{if(u.logger.log("Loading "+n.sn+" of ["+t.startSN+" ,"+t.endSN+"],track "+w+", currentTime:"+c+",bufferEnd:"+o.toFixed(3)),this.fragLoadIdx!==undefined?this.fragLoadIdx++:this.fragLoadIdx=0,n.loadCounter){if(n.loadCounter++,g=p.fragLoadingLoopThreshold,n.loadCounter>g&&Math.abs(this.fragLoadIdx-n.loadIdx)<g){k.trigger(f.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:n});return}}else n.loadCounter=1;n.loadIdx=this.fragLoadIdx,this.fragCurrent=n,this.startFragRequested=!0,isNaN(n.sn)||(this.nextLoadPosition=n.start+n.duration),k.trigger(f.default.FRAG_LOADING,{frag:n}),this.state=r.FRAG_LOADING}}break;case r.WAITING_TRACK:it=this.tracks[this.trackId],it&&it.details&&(this.state=r.IDLE);break;case r.FRAG_LOADING_WAITING_RETRY:ot=performance.now(),ut=this.retryDate,b=this.media,ct=b&&b.seeking,(!ut||ot>=ut||ct)&&(u.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=r.IDLE)}}},{key:"onMediaAttached",value:function(n){var i=this.media=this.mediaBuffer=n.media,t;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended),t=this.config,this.tracks&&t.autoStartLoad&&this.startLoad(t.startPosition)}},{key:"onMediaDetaching",value:function(){var n=this.media,t;n&&n.ended&&(u.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t=this.tracks,t&&t.forEach(function(n){n.details&&n.details.fragments.forEach(function(n){n.loadCounter=undefined})}),n&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===r.ENDED&&(this.state=r.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),this.fragLoadIdx!==undefined&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(n){u.logger.log("audio tracks updated"),this.tracks=n.audioTracks}},{key:"onAudioTrackSwitching",value:function(n){var t=!!n.url;this.trackId=n.id,this.state=r.IDLE,this.fragCurrent=null,this.state=r.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=r.IDLE,this.fragLoadIdx!==undefined&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(n){var t=n.details,s=n.id,e=this.tracks[s],c=t.totalduration,o=0,f,i;u.logger.log("track "+s+" loaded ["+t.startSN+","+t.endSN+"],duration:"+c),t.live?(f=e.details,f&&t.fragments.length>0?(h.default.mergeDetails(f,t),o=t.fragments[0].start,t.PTSKnown?u.logger.log("live audio playlist sliding:"+o.toFixed(3)):u.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,u.logger.log("live audio playlist - first load, unknown sliding"))):t.PTSKnown=!1,e.details=t,this.startFragRequested||(this.startPosition===-1&&(i=t.startTimeOffset,isNaN(i)?this.startPosition=0:(u.logger.log("start time offset found in playlist, adjust startPosition to "+i),this.startPosition=i)),this.nextLoadPosition=this.startPosition),this.state===r.WAITING_TRACK&&(this.state=r.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===r.KEY_LOADING&&(this.state=r.IDLE,this.tick())}},{key:"onFragLoaded",value:function(n){var i=this.fragCurrent,h=n.frag,o,c,l;if(this.state===r.FRAG_LOADING&&i&&h.type==="audio"&&h.level===i.level&&h.sn===i.sn){var a=this.tracks[this.trackId],t=a.details,w=t.totalduration,y=i.level,e=i.sn,v=i.cc,p=this.config.defaultAudioCodec||a.audioCodec||"mp4a.40.2",s=this.stats=n.stats;e==="initSegment"?(this.state=r.IDLE,s.tparsed=s.tbuffered=performance.now(),t.initSegment.data=n.payload,this.hls.trigger(f.default.FRAG_BUFFERED,{stats:s,frag:i,id:"audio"}),this.tick()):(this.state=r.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new g.default(this.hls,"audio")),o=this.initPTS[v],c=t.initSegment?t.initSegment.data:[],t.initSegment||o!==undefined?(this.pendingBuffering=!0,u.logger.log("Demuxing "+e+" of ["+t.startSN+" ,"+t.endSN+"],track "+y),l=!1,this.demuxer.push(n.payload,c,p,null,i,w,l,o)):(u.logger.log("unknown video PTS for continuity counter "+v+", waiting for video PTS before demuxing audio frag "+e+" of ["+t.startSN+" ,"+t.endSN+"],track "+y),this.waitingFragment=n,this.state=r.WAITING_INIT_PTS))}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(n){var s=this.fragCurrent,h=n.frag,i,t,e,o;s&&n.id==="audio"&&h.sn===s.sn&&h.level===s.level&&this.state===r.PARSING&&(i=n.tracks,t=void 0,i.video&&delete i.video,t=i.audio,t&&(t.levelCodec="mp4a.40.2",t.id=n.id,this.hls.trigger(f.default.BUFFER_CODECS,i),u.logger.log("audio track:audio,container:"+t.container+",codecs[level/parsed]=["+t.levelCodec+"/"+t.codec+"]"),e=t.initSegment,e&&(o={type:"audio",data:e,parent:"audio",content:"initSegment"},this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(f.default.BUFFER_APPENDING,o))),this.tick()))}},{key:"onFragParsingData",value:function(n){var s=this,t=this.fragCurrent,v=n.frag,e,i;if(t&&n.id==="audio"&&n.type==="audio"&&v.sn===t.sn&&v.level===t.level&&this.state===r.PARSING){var l=this.trackId,y=this.tracks[l],c=this.hls;isNaN(n.endPTS)&&(n.endPTS=n.startPTS+t.duration,n.endDTS=n.startDTS+t.duration),u.logger.log("parsed "+n.type+",PTS:["+n.startPTS.toFixed(3)+","+n.endPTS.toFixed(3)+"],DTS:["+n.startDTS.toFixed(3)+"/"+n.endDTS.toFixed(3)+"],nb:"+n.nb),h.default.updateFragPTSDTS(y.details,t,n.startPTS,n.endPTS);var p=this.audioSwitch,o=this.media,a=!1;p&&o&&(o.readyState?(e=o.currentTime,u.logger.log("switching audio track : currentTime:"+e),e>=n.startPTS&&(u.logger.log("switching audio track : flushing all audio"),this.state=r.BUFFER_FLUSHING,c.trigger(f.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a=!0,this.audioSwitch=!1,c.trigger(f.default.AUDIO_TRACK_SWITCHED,{id:l}))):(this.audioSwitch=!1,c.trigger(f.default.AUDIO_TRACK_SWITCHED,{id:l}))),i=this.pendingData,this.audioSwitch||([n.data1,n.data2].forEach(function(t){t&&t.length&&i.push({type:n.type,data:t,parent:"audio",content:"data"})}),!a&&i.length&&(i.forEach(function(n){s.state===r.PARSING&&(s.pendingBuffering=!0,s.hls.trigger(f.default.BUFFER_APPENDING,n))}),this.pendingData=[],this.appended=!0)),this.tick()}}},{key:"onFragParsed",value:function(n){var t=this.fragCurrent,i=n.frag;t&&n.id==="audio"&&i.sn===t.sn&&i.level===t.level&&this.state===r.PARSING&&(this.stats.tparsed=performance.now(),this.state=r.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(n){var t=n.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(n){if(n.parent==="audio"){var t=this.state;(t===r.PARSING||t===r.PARSED)&&(this.pendingBuffering=n.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){var t;if(this.state===r.PARSED&&(!this.appended||!this.pendingBuffering)){var n=this.fragCurrent,e=this.stats,i=this.hls;n&&(this.fragPrevious=n,e.tbuffered=performance.now(),i.trigger(f.default.FRAG_BUFFERED,{stats:e,frag:n,id:"audio"}),t=this.mediaBuffer?this.mediaBuffer:this.media,u.logger.log("audio buffered : "+rt.default.toString(t.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(f.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=r.IDLE),this.tick()}}},{key:"onError",value:function(n){var l=n.frag,t,o,h,i;if(!l||l.type==="audio")switch(n.details){case e.ErrorDetails.FRAG_LOAD_ERROR:case e.ErrorDetails.FRAG_LOAD_TIMEOUT:n.fatal||(t=this.fragLoadError,t?t++:t=1,o=this.config,t<=o.fragLoadingMaxRetry?(this.fragLoadError=t,l.loadCounter=0,h=Math.min(Math.pow(2,t-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout),u.logger.warn("audioStreamController: frag loading failed, retry in "+h+" ms"),this.retryDate=performance.now()+h,this.state=r.FRAG_LOADING_WAITING_RETRY):(u.logger.error("audioStreamController: "+n.details+" reaches max retry, redispatch as fatal ..."),n.fatal=!0,this.state=r.ERROR));break;case e.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case e.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case e.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case e.ErrorDetails.KEY_LOAD_ERROR:case e.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==r.ERROR&&(this.state=n.fatal?r.ERROR:r.IDLE,u.logger.warn("audioStreamController: "+n.details+" while loading frag,switch to "+this.state+" state ..."));break;case e.ErrorDetails.BUFFER_FULL_ERROR:if(n.parent==="audio"&&(this.state===r.PARSING||this.state===r.PARSED)){var c=this.mediaBuffer,a=this.media.currentTime,v=c&&s.default.isBuffered(c,a)&&s.default.isBuffered(c,a+.5);v?(i=this.config,i.maxMaxBufferLength>=i.maxBufferLength&&(i.maxMaxBufferLength/=2,u.logger.warn("audio:reduce max buffer length to "+i.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*i.fragLoadingLoopThreshold),this.state=r.IDLE):(u.logger.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=r.BUFFER_FLUSHING,this.hls.trigger(f.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}))}}}},{key:"onBufferFlushed",value:function(){var t=this,n=this.pendingData;n&&n.length?(u.logger.log("appending pending audio data on Buffer Flushed"),n.forEach(function(n){t.hls.trigger(f.default.BUFFER_APPENDING,n)}),this.appended=!0,this.pendingData=[],this.state=r.PARSED):(this.state=r.IDLE,this.fragPrevious=null,this.tick())}},{key:"state",set:function(n){if(this.state!==n){var t=this.state;this._state=n,u.logger.log("audio stream:"+t+"->"+n)}},get:function(){return this._state}}]),t}(l.default),i.default=c},{"25":25,"31":31,"32":32,"33":33,"35":35,"36":36,"46":46,"51":51,"52":52}],7:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function h(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var o;Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),l=n(33),r=e(l),c=n(32),f=e(c),u=n(51);o=function(n){function t(n){v(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.MANIFEST_LOADING,r.default.MANIFEST_LOADED,r.default.AUDIO_TRACK_LOADED));return i.ticks=0,i.ontick=i.tick.bind(i),i}return h(t,n),a(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"tick",value:function(){this.ticks++,this.ticks===1&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(n){var e=this,t=n.audioTracks||[],f=!1,i;this.tracks=t,this.hls.trigger(r.default.AUDIO_TRACKS_UPDATED,{audioTracks:t}),i=0,t.forEach(function(n){if(n.default){e.audioTrack=i,f=!0;return}i++}),f===!1&&t.length&&(u.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(n){n.id<this.tracks.length&&(u.logger.log("audioTrack "+n.id+" loaded"),this.tracks[n.id].details=n.details,n.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*n.details.targetduration)),!n.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(n){var t;if(n>=0&&n<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=n,u.logger.log("switching to audioTrack "+n);var f=this.tracks[n],e=this.hls,s=f.type,i=f.url,o={id:n,type:s,url:i};e.trigger(r.default.AUDIO_TRACK_SWITCH,o),e.trigger(r.default.AUDIO_TRACK_SWITCHING,o),t=f.details,i&&(t===undefined||t.live===!0)&&(u.logger.log("(re)loading playlist for audioTrack "+n),e.trigger(r.default.AUDIO_TRACK_LOADING,{url:i,id:n}))}}},{key:"updateTrack",value:function(n){if(n>=0&&n<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=n,u.logger.log("updating audioTrack "+n);var f=this.tracks[n],i=f.url,t=f.details;i&&(t===undefined||t.live===!0)&&(u.logger.log("(re)loading playlist for audioTrack "+n),this.hls.trigger(r.default.AUDIO_TRACK_LOADING,{url:i,id:n}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(n){(this.trackId!==n||this.tracks[n].details===undefined)&&this.setAudioTrackInternal(n)}}]),t}(f.default),i.default=o},{"32":32,"33":33,"51":51}],8:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function y(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function h(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function c(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var e;Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),v=n(33),u=o(v),a=n(32),s=o(a),r=n(51),f=n(31);e=function(n){function t(n){y(this,t);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_PTS_UPDATED,u.default.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return c(t,n),l(t,[{key:"destroy",value:function(){s.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(n){var e=n.type,f=this.tracks.audio,t,u,i;if(e==="audio"&&f&&f.container==="audio/mpeg"&&(t=this.sourceBuffer.audio,u=Math.abs(t.timestampOffset-n.start),u>.1)){i=t.updating;try{t.abort()}catch(o){i=!0,r.logger.warn("can not abort audio buffer: "+o)}i?this.audioTimestampOffset=n.start:(r.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+n.start),t.timestampOffset=n.start)}}},{key:"onManifestParsed",value:function(n){var i=n.audio,u=n.video,t=0;n.altAudio&&(i||u)&&(t=(i?1:0)+(u?1:0),r.logger.log(t+" sourceBuffer(s) expected")),this.sourceBufferNb=t}},{key:"onMediaAttaching",value:function(n){var i=this.media=n.media,t;i&&(t=this.mediaSource=new MediaSource,this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),t.addEventListener("sourceopen",this.onmso),t.addEventListener("sourceended",this.onmse),t.addEventListener("sourceclose",this.onmsc),i.src=URL.createObjectURL(t))}},{key:"onMediaDetaching",value:function(){r.logger.log("media source detaching");var n=this.mediaSource;if(n){if(n.readyState==="open")try{n.endOfStream()}catch(t){r.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}n.removeEventListener("sourceopen",this.onmso),n.removeEventListener("sourceended",this.onmse),n.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(u.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){r.logger.log("media source opened"),this.hls.trigger(u.default.MEDIA_ATTACHED,{media:this.media});var n=this.mediaSource;n&&n.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var t=this.pendingTracks,n=Object.keys(t).length;n&&(this.sourceBufferNb<=n||this.sourceBufferNb===0)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){r.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){r.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){var t,n,i;this.audioTimestampOffset&&(t=this.sourceBuffer.audio,r.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset),this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1,n=this.parent,i=this.segments.reduce(function(t,i){return i.parent===n?t+1:t},0),this.hls.trigger(u.default.BUFFER_APPENDED,{parent:n,pending:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(n){r.logger.error("sourceBuffer error:",n),this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var i=this.sourceBuffer,t,n;for(t in i){n=i[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(r){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(n){var i,t;if(Object.keys(this.sourceBuffer).length===0){for(i in n)this.pendingTracks[i]=n[i];t=this.mediaSource,t&&t.readyState==="open"&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(n){var h=this.sourceBuffer,c=this.mediaSource,t,e;for(t in n)if(!h[t]){var i=n[t],s=i.levelCodec||i.codec,o=i.container+";codecs="+s;r.logger.log("creating sourceBuffer("+o+")");try{e=h[t]=c.addSourceBuffer(o),e.addEventListener("updateend",this.onsbue),e.addEventListener("error",this.onsbe),this.tracks[t]={codec:s,container:i.container},i.buffer=e}catch(l){r.logger.error("error while trying to add sourceBuffer:"+l.message),this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:l,mimeType:o})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:n})}},{key:"onBufferAppending",value:function(n){this._needsFlush||(this.segments?this.segments.push(n):this.segments=[n],this.doAppending())}},{key:"onBufferAppendFail",value:function(n){r.logger.error("sourceBuffer error:",n.event),this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(n){var i=this.sourceBuffer,u=n.type,t;for(t in i)u&&t!==u||i[t].ended||(i[t].ended=!0,r.logger.log(t+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var u=this.sourceBuffer,n=this.mediaSource,i,t;if(!n||n.readyState!=="open"){this._needsEos=!1;return}for(i in u){if(t=u[i],!t.ended)return;if(t.updating){this._needsEos=!0;return}}r.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{n.endOfStream()}catch(f){r.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(n){this.flushRange.push({start:n.startOffset,end:n.endOffset,type:n.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(n){var t=n.details;t.fragments.length!==0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var u=this.media,i=this.mediaSource,f=this.sourceBuffer,n=this._levelDuration,e,t;if(n!==null&&u&&i&&f&&u.readyState!==0&&i.readyState==="open"){for(e in f)if(f[e].updating)return;this._msDuration===null&&(this._msDuration=i.duration),t=u.duration,(n>this._msDuration&&n>t||t===Infinity||isNaN(t))&&(r.logger.log("Updating mediasource duration to "+n.toFixed(3)),this._msDuration=i.duration=n)}}},{key:"doFlush",value:function(){for(var n,i,t,f;this.flushRange.length;)if(n=this.flushRange[0],this.flushBuffer(n.start,n.end,n.type))this.flushRange.shift(),this.flushBufferCounter=0;else{this._needsFlush=!0;return}if(this.flushRange.length===0){this._needsFlush=!1,i=0,t=this.sourceBuffer;try{for(f in t)i+=t[f].buffered.length}catch(e){r.logger.error("error while accessing sourceBuffer.buffered")}this.appended=i,this.hls.trigger(u.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var o=this.hls,s=this.sourceBuffer,i=this.segments,t,h,e,n;if(Object.keys(s).length){if(this.media.error){this.segments=[],r.logger.error("trying to append although a media error occured, flush segment and abort");return}if(this.appending)return;if(i&&i.length){t=i.shift();try{h=t.type,e=s[h],e?e.updating?i.unshift(t):(e.ended=!1,this.parent=t.parent,e.appendBuffer(t.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(c){if(r.logger.error("error while trying to append buffer:"+c.message),i.unshift(t),n={type:f.ErrorTypes.MEDIA_ERROR,parent:t.parent},c.code!==22){if(this.appendError?this.appendError++:this.appendError=1,n.details=f.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>o.config.appendErrorMaxRetry){r.logger.log("fail "+o.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],n.fatal=!0,o.trigger(u.default.ERROR,n);return}n.fatal=!1,o.trigger(u.default.ERROR,n)}else{this.segments=[],n.details=f.ErrorDetails.BUFFER_FULL_ERROR,n.fatal=!1,o.trigger(u.default.ERROR,n);return}}}}}},{key:"flushBuffer",value:function(n,t,i){var u,o,l,s,f,e,c=this.sourceBuffer,h;if(Object.keys(c).length){if(r.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+n+"/"+t),this.flushBufferCounter<this.appended){for(h in c)if(!i||h===i){if(u=c[h],u.ended=!1,u.updating)return r.logger.warn("cannot flush, sb updating in progress"),!1;try{for(o=0;o<u.buffered.length;o++)if(l=u.buffered.start(o),s=u.buffered.end(o),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&t===Number.POSITIVE_INFINITY?(f=n,e=t):(f=Math.max(l,n),e=Math.min(s,t)),Math.min(e,s)-f>.5)return this.flushBufferCounter++,r.logger.log("flush "+h+" ["+f+","+e+"], of ["+l+","+s+"], pos:"+this.media.currentTime),u.remove(f,e),!1}catch(a){r.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else r.logger.warn("abort flushing too many retries");r.logger.log("buffer flushed")}return!0}}]),t}(s.default),i.default=e},{"31":31,"32":32,"33":33,"51":51}],9:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function h(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function o(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f;Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),c=n(33),r=u(c),s=n(32),l=u(s);f=function(n){function t(n){return h(this,t),e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.FPS_DROP_LEVEL_CAPPING,r.default.MEDIA_ATTACHING,r.default.MANIFEST_PARSED))}return o(t,n),a(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(n){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(n.droppedLevel)||this.restrictedLevels.push(n.droppedLevel)}},{key:"onMediaAttaching",value:function(n){this.media=n.media instanceof HTMLVideoElement?n.media:null}},{key:"onManifestParsed",value:function(n){var t=this.hls;t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=n.levels,t.firstLevel=this.getMaxLevel(n.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){var t,n;this.media&&(t=this.levels?this.levels.length:0,t&&(n=this.hls,n.autoLevelCapping=this.getMaxLevel(t-1),n.autoLevelCapping>this.autoLevelCapping&&n.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping))}},{key:"getMaxLevel",value:function(n){for(var f=0,t=void 0,i=void 0,o=this.mediaWidth,e=this.mediaHeight,u=0,r=0,t=0;t<=n;t++){if(i=this.levels[t],this.isLevelRestricted(t))break;if(f=t,u=i.width,r=i.height,o<=u||e<=r)break}return f}},{key:"isLevelRestricted",value:function(n){return this.restrictedLevels&&this.restrictedLevels.indexOf(n)!==-1?!0:!1}},{key:"contentScaleFactor",get:function(){var n=1;try{n=window.devicePixelRatio}catch(t){}return n}},{key:"mediaWidth",get:function(){var t=void 0,n=this.media;return n&&(t=n.width||n.clientWidth||n.offsetWidth,t*=this.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,n=this.media;return n&&(t=n.height||n.clientHeight||n.offsetHeight,t*=this.contentScaleFactor),t}}]),t}(l.default),i.default=f},{"32":32,"33":33}],10:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function h(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f;Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),l=n(33),r=u(l),s=n(32),c=u(s),v=n(51);f=function(n){function t(n){return o(this,t),e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.MEDIA_ATTACHING))}return h(t,n),a(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(n){var i=this.hls.config,t;i.capLevelOnFPSDrop&&(t=this.video=n.media instanceof HTMLVideoElement?n.media:null,typeof t.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(n,t,i){var o=performance.now(),f;if(t){if(this.lastTime){var h=o-this.lastTime,e=i-this.lastDroppedFrames,s=t-this.lastDecodedFrames,c=1e3*e/h,u=this.hls;u.trigger(r.default.FPS_DROP,{currentDropped:e,currentDecoded:s,totalDroppedFrames:i}),c>0&&e>u.config.fpsDroppedMonitoringThreshold*s&&(f=u.currentLevel,v.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=f)&&(f=f-1,u.trigger(r.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:u.currentLevel}),u.autoLevelCapping=f,u.streamController.nextLevelSwitch()))}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var n=this.video,t;n&&(this.isVideoPlaybackQualityAvailable?(t=n.getVideoPlaybackQuality(),this.checkFPS(n,t.totalVideoFrames,t.droppedVideoFrames)):this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount))}}]),t}(c.default),i.default=f},{"32":32,"33":33,"51":51}],11:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function s(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var e;Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),c=n(33),r=u(c),h=n(32),f=u(h);e=function(n){function t(n){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.MEDIA_ATTACHED,r.default.MEDIA_DETACHING,r.default.FRAG_PARSING_METADATA));return i.id3Track=undefined,i.media=undefined,i}return s(t,n),l(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(n){(this.media=n.media,this.media)&&(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden")}},{key:"onMediaDetaching",value:function(){this.media=undefined}},{key:"onFragParsingMetadata",value:function(n){var f=n.frag,e=n.samples,s=f.start,u=f.start+f.duration,o,t,h,r,i;for(s===u&&(u+=.0001),o=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,t=0;t<e.length;t++)h=this.parseID3Frame(e[t].data),r=this.decodeID3Frame(h),r&&(i=new o(s,u,""),i.value=r,this.id3Track.addCue(i))}},{key:"parseID3Frame",value:function(n){if(n.length<21)return undefined;if(n[0]===73&&n[1]===68&&n[2]===51){var t=String.fromCharCode(n[10],n[11],n[12],n[13]);return n=n.subarray(20),{type:t,data:n}}}},{key:"decodeID3Frame",value:function(n){return n.type==="TXXX"?this.decodeTxxxFrame(n):n.type==="PRIV"?this.decodePrivFrame(n):n.type[0]==="T"?this.decodeTextFrame(n):undefined}},{key:"decodeTxxxFrame",value:function(n){var t,i,r;return n.size<2?undefined:n.data[0]!==3?undefined:(t=1,i=this.utf8ArrayToStr(n.data.subarray(t)),t+=i.length+1,r=this.utf8ArrayToStr(n.data.subarray(t)),{key:"TXXX",description:i,data:r})}},{key:"decodeTextFrame",value:function(n){if(n.size<2||n.data[0]!==3)return undefined;var t=n.data.subarray(1);return{key:n.type,data:this.utf8ArrayToStr(t)}}},{key:"decodePrivFrame",value:function(n){if(n.size<2)return undefined;var t=this.utf8ArrayToStr(n.data),i=n.data.subarray(t.length+1);return{key:"PRIV",info:t,data:i.buffer}}},{key:"utf8ArrayToStr",value:function(n){for(var u=void 0,f=void 0,r="",t=0,e=n.length,i;t<e;){i=n[t++];switch(i>>4){case 0:return r;case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=String.fromCharCode(i);break;case 12:case 13:u=n[t++],r+=String.fromCharCode((i&31)<<6|u&63);break;case 14:u=n[t++],f=n[t++],r+=String.fromCharCode((i&15)<<12|(u&63)<<6|(f&63)<<0)}}return r}}]),t}(f.default),i.default=e},{"32":32,"33":33}],12:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function h(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function a(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var o;Object.defineProperty(i,"__esModule",{value:!0});var y=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),p=n(33),u=e(p),l=n(32),w=e(l),f=n(51),r=n(31),v=n(35),s=e(v);o=function(n){function t(n){c(this,t);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.FRAG_LOADED,u.default.ERROR));return i.ontick=i.tick.bind(i),i._manualLevel=-1,i}return a(t,n),y(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var n=this._levels;n&&n.forEach(function(n){n.loadError=0;var t=n.details;t&&t.live&&(n.details=undefined)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(n){var e=[],t=[],c,a={},o=!1,h=!1,s=this.hls,v=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),l=function(n,t){return MediaSource.isTypeSupported(n+"/mp4;codecs="+t)},i;if(n.levels.forEach(function(n){n.videoCodec&&(o=!0),v&&n.audioCodec&&n.audioCodec.indexOf("mp4a.40.34")!==-1&&(n.audioCodec=undefined),(n.audioCodec||n.attrs&&n.attrs.AUDIO)&&(h=!0);var t=a[n.bitrate];t===undefined?(a[n.bitrate]=e.length,n.url=[n.url],n.urlId=0,e.push(n)):e[t].url.push(n.url)}),o&&h?e.forEach(function(n){n.videoCodec&&t.push(n)}):t=e,t=t.filter(function(n){var i=n.audioCodec,t=n.videoCodec;return(!i||l("audio",i))&&(!t||l("video",t))}),t.length){for(c=t[0].bitrate,t.sort(function(n,t){return n.bitrate-t.bitrate}),this._levels=t,i=0;i<t.length;i++)if(t[i].bitrate===c){this._firstLevel=i,f.logger.log("manifest loaded,"+t.length+" level(s) found, first bitrate:"+c);break}s.trigger(u.default.MANIFEST_PARSED,{levels:t,firstLevel:this._firstLevel,stats:n.stats,audio:h,video:o,altAudio:n.audioTracks.length>0})}else s.trigger(u.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:s.url,reason:"no level with compatible codecs found in manifest"});return}},{key:"setLevelInternal",value:function(n){var h=this._levels,e=this.hls,t,i,s,o;n>=0&&n<h.length?(this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==n&&(f.logger.log("switching to level "+n),this._level=n,t=h[n],t.level=n,e.trigger(u.default.LEVEL_SWITCH,t),e.trigger(u.default.LEVEL_SWITCHING,t)),i=h[n],s=i.details,s&&s.live!==!0||(o=i.urlId,e.trigger(u.default.LEVEL_LOADING,{url:i.url[o],level:n,id:o}))):e.trigger(u.default.ERROR,{type:r.ErrorTypes.OTHER_ERROR,details:r.ErrorDetails.LEVEL_SWITCH_ERROR,level:n,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(n){var o,v,e,a,c;if(!n.fatal){var u=n.details,h=this.hls,i=void 0,t=void 0,l=!1;switch(u){case r.ErrorDetails.FRAG_LOAD_ERROR:case r.ErrorDetails.FRAG_LOAD_TIMEOUT:case r.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case r.ErrorDetails.KEY_LOAD_ERROR:case r.ErrorDetails.KEY_LOAD_TIMEOUT:i=n.frag.level;break;case r.ErrorDetails.LEVEL_LOAD_ERROR:case r.ErrorDetails.LEVEL_LOAD_TIMEOUT:i=n.context.level,l=!0;break;case r.ErrorDetails.REMUX_ALLOC_ERROR:i=n.level}i!==undefined&&(t=this._levels[i],t.loadError?t.loadError++:t.loadError=1,o=t.url.length,o>1&&t.loadError<o?(t.urlId=(t.urlId+1)%o,t.details=undefined,f.logger.warn("level controller,"+u+" for level "+i+": switching to redundant stream id "+t.urlId)):(v=this._manualLevel===-1&&i,v?(f.logger.warn("level controller,"+u+": switch-down for next fragment"),h.nextAutoLevel=Math.max(0,i-1)):t&&t.details&&t.details.live?(f.logger.warn("level controller,"+u+" on live stream, discard"),l&&(this._level=undefined)):(u===r.ErrorDetails.LEVEL_LOAD_ERROR||u===r.ErrorDetails.LEVEL_LOAD_TIMEOUT)&&(e=h.media,a=e&&s.default.isBuffered(e,e.currentTime)&&s.default.isBuffered(e,e.currentTime+.5),a?(c=h.config.levelLoadingRetryDelay,f.logger.warn("level controller,"+u+", but media buffered, retry in "+c+"ms"),this.timer=setTimeout(this.ontick,c)):(f.logger.error("cannot recover "+u+" error"),this._level=undefined,this.timer&&(clearTimeout(this.timer),this.timer=null),n.fatal=!0))))}}},{key:"onFragLoaded",value:function(n){var i=n.frag,t;i&&i.type==="main"&&(t=this._levels[i.level],t&&(t.loadError=0))}},{key:"onLevelLoaded",value:function(n){var e=n.level,u,i,t,r;e===this._level&&(u=this._levels[e],u.loadError=0,i=n.details,i.live?(t=1e3*(i.averagetargetduration?i.averagetargetduration:i.targetduration),r=u.details,r&&i.endSN===r.endSN&&(t/=2,f.logger.log("same live playlist, reload twice faster")),t-=performance.now()-n.stats.trequest,t=Math.max(1e3,Math.round(t)),f.logger.log("live playlist, reload in "+t+" ms"),this.timer=setTimeout(this.ontick,t)):this.timer=null)}},{key:"tick",value:function(){var i=this._level,n,t;i!==undefined&&this.canload&&(n=this._levels[i],n&&n.url&&(t=n.urlId,this.hls.trigger(u.default.LEVEL_LOADING,{url:n.url[t],level:i,id:t})))}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(n){var t=this._levels;t&&t.length>n&&(this._level!==n||t[n].details===undefined)&&this.setLevelInternal(n)}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(n){this._manualLevel=n,this._startLevel===undefined&&(this._startLevel=n),n!==-1&&(this.level=n)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(n){this._firstLevel=n}},{key:"startLevel",get:function(){if(this._startLevel===undefined){var n=this.hls.config.startLevel;return n!==undefined?n:this._firstLevel}return this._startLevel},set:function(n){this._startLevel=n}},{key:"nextLoadLevel",get:function(){return this._manualLevel!==-1?this._manualLevel:this.hls.nextAutoLevel},set:function(n){this.level=n,this._manualLevel===-1&&(this.hls.nextAutoLevel=n)}}]),t}(w.default),i.default=o},{"31":31,"32":32,"33":33,"35":35,"51":51}],13:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function y(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function d(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function k(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var r,c;Object.defineProperty(i,"__esModule",{value:!0});var b=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),p=n(46),v=s(p),it=n(35),o=s(it),g=n(25),a=s(g),tt=n(33),f=s(tt),w=n(32),l=s(w),nt=n(36),h=s(nt),ut=n(52),rt=s(ut),e=n(31),u=n(51);r={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},c=function(n){function t(n){y(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,f.default.MEDIA_ATTACHED,f.default.MEDIA_DETACHING,f.default.MANIFEST_LOADING,f.default.MANIFEST_PARSED,f.default.LEVEL_LOADED,f.default.KEY_LOADED,f.default.FRAG_LOADED,f.default.FRAG_LOAD_EMERGENCY_ABORTED,f.default.FRAG_PARSING_INIT_SEGMENT,f.default.FRAG_PARSING_DATA,f.default.FRAG_PARSED,f.default.ERROR,f.default.AUDIO_TRACK_SWITCHING,f.default.AUDIO_TRACK_SWITCHED,f.default.BUFFER_CREATED,f.default.BUFFER_APPENDED,f.default.BUFFER_FLUSHED));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=r.STOPPED,i.ontick=i.tick.bind(i),i}return k(t,n),b(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),l.default.prototype.destroy.call(this),this.state=r.STOPPED}},{key:"startLoad",value:function(n){var i,f,t;this.levels?(i=this.lastCurrentTime,f=this.hls,this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,this.startFragRequested||(t=f.startLevel,t===-1&&(t=0,this.bitrateTest=!0),this.level=f.nextLoadLevel=t,this.loadedmetadata=!1),i>0&&n===-1&&(u.logger.log("override startPosition with lastCurrentTime @"+i.toFixed(3)),n=i),this.state=r.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()):(this.forceStartLoad=!0,this.state=r.STOPPED)}},{key:"stopLoad",value:function(){var n=this.fragCurrent;n&&(n.loader&&n.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=r.STOPPED,this.forceStartLoad=!1}},{key:"tick",value:function(){this.ticks++,this.ticks===1&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var t,i,n;switch(this.state){case r.BUFFER_FLUSHING:this.fragLoadError=0;break;case r.IDLE:this._doTickIdle();break;case r.WAITING_LEVEL:t=this.levels[this.level],t&&t.details&&(this.state=r.IDLE);break;case r.FRAG_LOADING_WAITING_RETRY:i=performance.now(),n=this.retryDate,(!n||i>=n||this.media&&this.media.seeking)&&(u.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=r.IDLE)}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var v=this.hls,e=v.config,c=this.media,s,h,l,i,n,w,y;if(this.levelLastLoaded===undefined||c||!this.startFragRequested&&e.startFragPrefetch){s=void 0,s=this.loadedmetadata?c.currentTime:this.nextLoadPosition;var a=v.nextLoadLevel,b=this.levels[a],p=b.bitrate,t=void 0;if(t=p?Math.max(8*e.maxBufferSize/p,e.maxBufferLength):e.maxBufferLength,t=Math.min(t,e.maxMaxBufferLength),h=o.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:c,s,e.maxBufferHole),l=h.len,!(l>=t)){if(u.logger.trace("buffer length of "+l.toFixed(3)+" is below max of "+t.toFixed(3)+". checking for more payload ..."),this.level=v.nextLoadLevel=a,i=b.details,typeof i=="undefined"||i.live&&this.levelLastLoaded!==a){this.state=r.WAITING_LEVEL;return}if(n=this.fragPrevious,!i.live&&n&&n.sn===i.endSN&&(w=Math.min(c.duration,n.start+n.duration),w-Math.max(h.end,n.start)<=Math.max(.2,n.duration/2))){y={},this.altAudio&&(y.type="video"),this.hls.trigger(f.default.BUFFER_EOS,y),this.state=r.ENDED;return}this._fetchPayloadOrEos(s,h,i)}}}},{key:"_fetchPayloadOrEos",value:function(n,t,i){var c=this.fragPrevious,a=this.level,e=i.fragments,f=e.length,s;if(f!==0){var h=e[0].start,l=e[f-1].start+e[f-1].duration,o=t.end,r=void 0;if(i.initSegment&&!i.initSegment.data)r=i.initSegment;else if(i.live){if(s=this.config.initialLiveManifestSize,f<s){u.logger.warn("Can not start playback of a level, reason: not enough fragments "+f+" < "+s);return}if(r=this._ensureFragmentAtLivePoint(i,o,h,l,c,e,f),r===null)return}else o<h&&(r=e[0]);r||(r=this._findFragment(h,c,f,e,o,l,i)),r&&this._loadFragmentOrKey(r,a,i,n,o);return}}},{key:"_ensureFragmentAtLivePoint",value:function(n,t,i,r,f,e,o){var a=this.hls.config,s=this.media,h=void 0,v=a.liveMaxLatencyDuration!==undefined?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*n.targetduration,c,l;return(t<Math.max(i-a.maxFragLookUpTolerance,r-v)&&(c=this.liveSyncPosition=this.computeLivePosition(i,n),u.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+c.toFixed(3)),t=c,s&&s.readyState&&s.duration>c&&(s.currentTime=c)),n.PTSKnown&&t>r&&s&&s.readyState)?null:(this.startFragRequested&&!n.PTSKnown&&(f&&(l=f.sn+1,l>=n.startSN&&l<=n.endSN&&(h=e[l-n.startSN],u.logger.log("live playlist, switching playlist, load frag with next SN: "+h.sn))),h||(h=e[Math.min(o-1,Math.round(o/2))],u.logger.log("live playlist, switching playlist, unknown, load middle frag : "+h.sn))),h)}},{key:"_findFragment",value:function(n,t,i,r,f,e,o){var b=this.hls.config,s=void 0,l=void 0,p=b.maxFragLookUpTolerance,w=t?r[t.sn-r[0].sn+1]:undefined,k=function(n){var t=Math.min(p,n.duration);return n.start+n.duration-t<=f?1:n.start-t>f&&n.start?-1:0},y;if(f<e?(f>e-p&&(p=0),l=w&&!k(w)?w:v.default.search(r,k)):l=r[i-1],l){s=l;var h=s.sn-o.startSN,d=t&&s.level===t.level,c=r[h-1],a=r[h+1];d&&s.sn===t.sn?s.sn<o.endSN?(y=t.deltaPTS,y&&y>b.maxBufferHole&&t.dropped&&h?(s=c,u.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(s=a,u.logger.log("SN just loaded, load next one: "+s.sn))):s=null:s.dropped&&!d&&(a&&a.backtracked?(u.logger.warn("Already backtracked from fragment "+(h+1)+", will not backtrack to fragment "+h+". Loading fragment "+(h+1)),s=a):(u.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,c?(c.loadCounter&&c.loadCounter--,s=c):s=null))}return s}},{key:"_loadFragmentOrKey",value:function(n,t,i,o,s){var h=this.hls,l=h.config,c;if(n.decryptdata&&n.decryptdata.uri!=null&&n.decryptdata.key==null)u.logger.log("Loading key for "+n.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t),this.state=r.KEY_LOADING,h.trigger(f.default.KEY_LOADING,{frag:n});else{if(u.logger.log("Loading "+n.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t+", currentTime:"+o.toFixed(3)+",bufferEnd:"+s.toFixed(3)),this.fragLoadIdx!==undefined?this.fragLoadIdx++:this.fragLoadIdx=0,n.loadCounter){if(n.loadCounter++,c=l.fragLoadingLoopThreshold,n.loadCounter>c&&Math.abs(this.fragLoadIdx-n.loadIdx)<c){h.trigger(f.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:n});return}}else n.loadCounter=1;n.loadIdx=this.fragLoadIdx,this.fragCurrent=n,this.startFragRequested=!0,isNaN(n.sn)||(this.nextLoadPosition=n.start+n.duration),n.autoLevel=h.autoLevelEnabled,n.bitrateTest=this.bitrateTest,h.trigger(f.default.FRAG_LOADING,{frag:n}),this.demuxer||(this.demuxer=new a.default(h,"main")),this.state=r.FRAG_LOADING;return}}},{key:"getBufferedFrag",value:function(n){return v.default.search(this._bufferedFrags,function(t){return n<t.startPTS?-1:n>t.endPTS?1:0})}},{key:"followingBufferedFrag",value:function(n){return n?this.getBufferedFrag(n.endPTS+.5):null}},{key:"_checkFragmentChanged",value:function(){var r,n,t=this.media,i,u;t&&t.readyState&&t.seeking===!1&&(n=t.currentTime,n>t.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=n),o.default.isBuffered(t,n)?r=this.getBufferedFrag(n):o.default.isBuffered(t,n+.1)&&(r=this.getBufferedFrag(n+.1)),r&&(i=r,i!==this.fragPlaying&&(this.hls.trigger(f.default.FRAG_CHANGED,{frag:i}),u=i.level,this.fragPlaying&&this.fragPlaying.level===u||this.hls.trigger(f.default.LEVEL_SWITCHED,{level:u}),this.fragPlaying=i)))}},{key:"immediateLevelSwitch",value:function(){var i,t,n;u.logger.log("immediateLevelSwitch"),this.immediateSwitch||(this.immediateSwitch=!0,i=this.media,t=void 0,i?(t=i.paused,i.pause()):t=!0,this.previouslyPaused=t),n=this.fragCurrent,n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var n=this.media;n&&n.buffered.length&&(this.immediateSwitch=!1,o.default.isBuffered(n,n.currentTime)&&(n.currentTime-=.0001),this.previouslyPaused||n.play())}},{key:"nextLevelSwitch",value:function(){var t=this.media,i;if(t&&t.readyState){var r=void 0,u=void 0,n=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,u=this.getBufferedFrag(t.currentTime),u&&u.startPTS>1&&this.flushMainBuffer(0,u.startPTS-1),t.paused)r=0;else{var e=this.hls.nextLoadLevel,o=this.levels[e],f=this.fragLastKbps;r=f&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*f)+1:0}n=this.getBufferedFrag(t.currentTime+r),n&&(n=this.followingBufferedFrag(n),n&&(i=this.fragCurrent,i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.startPTS,Number.POSITIVE_INFINITY)))}}},{key:"flushMainBuffer",value:function(n,t){this.state=r.BUFFER_FLUSHING;var i={startOffset:n,endOffset:t};this.altAudio&&(i.type="video"),this.hls.trigger(f.default.BUFFER_FLUSHING,i)}},{key:"onMediaAttached",value:function(n){var i=this.media=this.mediaBuffer=n.media,t;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("seeked",this.onvseeked),i.addEventListener("ended",this.onvended),t=this.config,this.levels&&t.autoStartLoad&&this.hls.startLoad(t.startPosition)}},{key:"onMediaDetaching",value:function(){var n=this.media,t;n&&n.ended&&(u.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t=this.levels,t&&t.forEach(function(n){n.details&&n.details.fragments.forEach(function(n){n.loadCounter=undefined,n.backtracked=undefined})}),n&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("seeked",this.onvseeked),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var i=this.media,t=i?i.currentTime:undefined,e=this.config;if(u.logger.log("media seeking to "+t.toFixed(3)),this.state===r.FRAG_LOADING){var c=this.mediaBuffer?this.mediaBuffer:i,l=o.default.bufferInfo(c,t,this.config.maxBufferHole),n=this.fragCurrent;if(l.len===0&&n){var f=e.maxFragLookUpTolerance,h=n.start-f,s=n.start+n.duration+f;t<h||t>s?(n.loader&&(u.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=r.IDLE):u.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===r.ENDED&&(this.state=r.IDLE);i&&(this.lastCurrentTime=t),this.state!==r.FRAG_LOADING&&this.fragLoadIdx!==undefined&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){u.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){u.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){u.logger.log("trigger BUFFER_RESET"),this.hls.trigger(f.default.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(n){var f=!1,r=!1,t,i;n.levels.forEach(function(n){t=n.audioCodec,t&&(t.indexOf("mp4a.40.2")!==-1&&(f=!0),t.indexOf("mp4a.40.5")!==-1&&(r=!0))}),this.audioCodecSwitch=f&&r,this.audioCodecSwitch&&u.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startLevelLoaded=!1,this.startFragRequested=!1,i=this.config,(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(n){var t=n.details,s=n.level,c=this.levels[s],l=t.totalduration,e=0,o,i;u.logger.log("level "+s+" loaded ["+t.startSN+","+t.endSN+"],duration:"+l),this.levelLastLoaded=s,t.live?(o=c.details,o&&t.fragments.length>0?(h.default.mergeDetails(o,t),e=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(e,o),t.PTSKnown?u.logger.log("live playlist sliding:"+e.toFixed(3)):u.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,u.logger.log("live playlist - first load, unknown sliding"))):t.PTSKnown=!1,c.details=t,this.hls.trigger(f.default.LEVEL_UPDATED,{details:t,level:s}),this.startFragRequested===!1&&((this.startPosition===-1||this.lastCurrentTime===-1)&&(i=t.startTimeOffset,isNaN(i)?t.live?(this.startPosition=this.computeLivePosition(e,t),u.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(i<0&&(u.logger.log("negative start time offset "+i+", count from end of last fragment"),i=e+l+i),u.logger.log("start time offset found in playlist, adjust startPosition to "+i),this.startPosition=i),this.lastCurrentTime=this.startPosition),this.nextLoadPosition=this.startPosition),this.state===r.WAITING_LEVEL&&(this.state=r.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===r.KEY_LOADING&&(this.state=r.IDLE,this.tick())}},{key:"onFragLoaded",value:function(n){var t=this.fragCurrent,s=n.frag,h;if(this.state===r.FRAG_LOADING&&t&&s.type==="main"&&s.level===t.level&&s.sn===t.sn){var o=n.stats,c=this.levels[t.level],i=c.details;if(u.logger.log("Loaded  "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=o,s.bitrateTest===!0&&this.hls.nextLoadLevel)this.state=r.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=performance.now(),this.hls.trigger(f.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else if(s.sn==="initSegment")this.state=r.IDLE,o.tparsed=o.tbuffered=performance.now(),i.initSegment.data=n.payload,this.hls.trigger(f.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else{this.state=r.PARSING;var w=i.totalduration,b=t.level,k=t.sn,e=this.config.defaultAudioCodec||c.audioCodec;this.audioCodecSwap&&(u.logger.log("swapping playlist audio codec"),e===undefined&&(e=this.lastAudioCodec),e&&(e=e.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,u.logger.log("Parsing "+k+" of ["+i.startSN+" ,"+i.endSN+"],level "+b+", cc "+t.cc),h=this.demuxer,h||(h=this.demuxer=new a.default(this.hls,"main"));var l=this.media,p=l&&l.seeking,v=!p&&(i.PTSKnown||!i.live),y=i.initSegment?i.initSegment.data:[];h.push(n.payload,y,e,c.videoCodec,t,w,v,undefined)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(n){var c=this.fragCurrent,l=n.frag,e,o,t,i,s,h;if(c&&n.id==="main"&&l.sn===c.sn&&l.level===c.level&&this.state===r.PARSING){e=n.tracks,e.audio&&this.altAudio&&delete e.audio,t=e.audio,t&&(i=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase(),i&&this.audioCodecSwap&&(u.logger.log("swapping playlist audio codec"),i=i.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&t.metadata.channelCount!==1&&s.indexOf("firefox")===-1&&(i="mp4a.40.5"),s.indexOf("android")!==-1&&t.container!=="audio/mpeg"&&(i="mp4a.40.2",u.logger.log("Android: force audio codec to "+i)),t.levelCodec=i,t.id=n.id),t=e.video,t&&(t.levelCodec=this.levels[this.level].videoCodec,t.id=n.id),this.hls.trigger(f.default.BUFFER_CODECS,e);for(o in e)t=e[o],u.logger.log("main track:"+o+",container:"+t.container+",codecs[level/parsed]=["+t.levelCodec+"/"+t.codec+"]"),h=t.initSegment,h&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(f.default.BUFFER_APPENDING,{type:o,data:h,parent:"main",content:"initSegment"}));this.tick()}}},{key:"onFragParsingData",value:function(n){var o=this,i=this.fragCurrent,c=n.frag,e,t,l,s;if(i&&n.id==="main"&&c.sn===i.sn&&c.level===i.level&&!(n.type==="audio"&&this.altAudio)&&this.state===r.PARSING){if(e=this.levels[this.level],t=i,isNaN(n.endPTS)&&(n.endPTS=n.startPTS+i.duration,n.endDTS=n.startDTS+i.duration),u.logger.log("Parsed "+n.type+",PTS:["+n.startPTS.toFixed(3)+","+n.endPTS.toFixed(3)+"],DTS:["+n.startDTS.toFixed(3)+"/"+n.endDTS.toFixed(3)+"],nb:"+n.nb+",dropped:"+(n.dropped||0)),n.type==="video")if(t.dropped=n.dropped,t.dropped)if(t.backtracked)u.logger.warn("Already backtracked on this fragment, appending with the gap");else{t.backtracked=!0,this.nextLoadPosition=n.startPTS,this.state=r.IDLE,this.tick();return}else t.backtracked=!1;l=h.default.updateFragPTSDTS(e.details,t,n.startPTS,n.endPTS,n.startDTS,n.endDTS),s=this.hls,s.trigger(f.default.LEVEL_PTS_UPDATED,{details:e.details,level:this.level,drift:l,type:n.type,start:n.startPTS,end:n.endPTS}),[n.data1,n.data2].forEach(function(t){t&&t.length&&o.state===r.PARSING&&(o.appended=!0,o.pendingBuffering=!0,s.trigger(f.default.BUFFER_APPENDING,{type:n.type,data:t,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(n){var t=this.fragCurrent,i=n.frag;t&&n.id==="main"&&i.sn===t.sn&&i.level===t.level&&this.state===r.PARSING&&(this.stats.tparsed=performance.now(),this.state=r.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(n){var o=!!n.url,e=n.id,t,i;o||(this.mediaBuffer!==this.media&&(u.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,t=this.fragCurrent,t.loader&&(u.logger.log("switching to main audio track, cancel main fragment load"),t.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=r.IDLE),i=this.hls,i.trigger(f.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(f.default.AUDIO_TRACK_SWITCHED,{id:e}),this.altAudio=!1)}},{key:"onAudioTrackSwitched",value:function(n){var r=n.id,i=!!this.hls.audioTracks[r].url,t;i&&(t=this.videoBuffer,t&&this.mediaBuffer!==t&&(u.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)),this.altAudio=i,this.tick()}},{key:"onBufferCreated",value:function(n){var r=n.tracks,f=void 0,e=void 0,o=!1,t,i;for(t in r)i=r[t],i.id==="main"?(e=t,f=i,t==="video"&&(this.videoBuffer=r[t].buffer)):o=!0;o&&f?(u.logger.log("alternate track found, use "+e+".buffered to schedule main fragment loading"),this.mediaBuffer=f.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(n){if(n.parent==="main"){var t=this.state;(t===r.PARSING||t===r.PARSED)&&(this.pendingBuffering=n.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){var t,i,e,n;this.state!==r.PARSED||this.appended&&this.pendingBuffering||(t=this.fragCurrent,t&&(i=this.mediaBuffer?this.mediaBuffer:this.media,u.logger.log("main buffered : "+rt.default.toString(i.buffered)),e=this._bufferedFrags.filter(function(n){return o.default.isBuffered(i,(n.startPTS+n.endPTS)/2)}),e.push(t),this._bufferedFrags=e.sort(function(n,t){return n.startPTS-t.startPTS}),this.fragPrevious=t,n=this.stats,n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(f.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=r.IDLE),this.tick())}},{key:"onError",value:function(n){var t=n.frag||this.fragCurrent,f,h,i,s,c;if(!t||t.type==="main"){f=this.media,h=f&&o.default.isBuffered(f,f.currentTime)&&o.default.isBuffered(f,f.currentTime+.5);switch(n.details){case e.ErrorDetails.FRAG_LOAD_ERROR:case e.ErrorDetails.FRAG_LOAD_TIMEOUT:case e.ErrorDetails.KEY_LOAD_ERROR:case e.ErrorDetails.KEY_LOAD_TIMEOUT:n.fatal||(i=this.fragLoadError,i?i++:i=1,s=this.config,i<=s.fragLoadingMaxRetry||h||t.autoLevel&&t.level?(this.fragLoadError=i,t.loadCounter=0,c=Math.min(Math.pow(2,i-1)*s.fragLoadingRetryDelay,s.fragLoadingMaxRetryTimeout),u.logger.warn("mediaController: frag loading failed, retry in "+c+" ms"),this.retryDate=performance.now()+c,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=r.FRAG_LOADING_WAITING_RETRY):(u.logger.error("mediaController: "+n.details+" reaches max retry, redispatch as fatal ..."),n.fatal=!0,this.state=r.ERROR));break;case e.ErrorDetails.FRAG_LOOP_LOADING_ERROR:n.fatal||(h?(this._reduceMaxBufferLength(t.duration),this.state=r.IDLE):t.autoLevel&&t.level!==0||(n.fatal=!0,this.state=r.ERROR));break;case e.ErrorDetails.LEVEL_LOAD_ERROR:case e.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==r.ERROR&&(n.fatal?(this.state=r.ERROR,u.logger.warn("streamController: "+n.details+",switch to "+this.state+" state ...")):this.state===r.WAITING_LEVEL&&(this.state=r.IDLE));break;case e.ErrorDetails.BUFFER_FULL_ERROR:n.parent==="main"&&(this.state===r.PARSING||this.state===r.PARSED)&&(h?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=r.IDLE):(u.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(n){var t=this.config;t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,u.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var n=this.media,i,w,b,h,s,p,l,y,v;if(n&&n.readyState){var t=n.currentTime,nt=this.mediaBuffer?this.mediaBuffer:n,d=nt.buffered;if(!this.loadedmetadata&&d.length)this.loadedmetadata=!0,i=n.seeking?t:this.startPosition,w=o.default.isBuffered(nt,i),t===i&&w||(u.logger.log("target start position:"+i),w||(i=d.start(0),u.logger.log("target start position not buffered, seek to buffered.start(0) "+i)),u.logger.log("adjust currentTime from "+t+" to "+i),n.currentTime=i);else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var k=o.default.bufferInfo(n,t,0),it=!(n.paused||n.ended||n.buffered.length===0),g=.5,rt=t!==this.lastCurrentTime,r=this.config;if(rt)this.stallReported&&(u.logger.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=undefined,this.nudgeRetry=0;else if(it)if(b=performance.now(),h=this.hls,this.stalled){var tt=b-this.stalled,a=k.len,c=this.nudgeRetry||0;a<=g&&tt>r.lowBufferWatchdogPeriod*1e3?(this.stallReported||(this.stallReported=!0,u.logger.warn("playback stalling in low buffer @"+t),h.trigger(f.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:a})),s=k.nextStart,p=s-t,s&&p<r.maxSeekHole&&p>0&&(this.nudgeRetry=++c,l=c*r.nudgeOffset,u.logger.log("adjust currentTime from "+n.currentTime+" to next buffered @ "+s+" + nudge "+l),n.currentTime=s+l,this.stalled=undefined,h.trigger(f.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:s+l-t}))):a>g&&tt>r.highBufferWatchdogPeriod*1e3&&(this.stallReported||(this.stallReported=!0,u.logger.warn("playback stalling in high buffer @"+t),h.trigger(f.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:a})),this.stalled=undefined,this.nudgeRetry=++c,c<r.nudgeMaxRetry?(y=n.currentTime,v=y+c*r.nudgeOffset,u.logger.log("adjust currentTime from "+y+" to "+v),n.currentTime=v,h.trigger(f.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})):(u.logger.error("still stuck in high buffer @"+t+" after "+r.nudgeMaxRetry+", raise fatal error"),h.trigger(f.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})))}else this.stalled=b,this.stallReported=!1}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=r.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var n=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return o.default.isBuffered(n,(t.startPTS+t.endPTS)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=r.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(n,t){var i=this.config.liveSyncDuration!==undefined?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return n+Math.max(0,t.totalduration-i)}},{key:"state",set:function(n){if(this.state!==n){var t=this.state;this._state=n,u.logger.log("main stream:"+t+"->"+n),this.hls.trigger(f.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:n})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media,n;return t&&(n=this.getBufferedFrag(t.currentTime),n)?n.level:-1}},{key:"nextBufferedFrag",get:function(){var n=this.media;return n?this.followingBufferedFrag(this.getBufferedFrag(n.currentTime)):null}},{key:"nextLevel",get:function(){var n=this.nextBufferedFrag;return n?n.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(n){this._liveSyncPosition=n}}]),t}(l.default),i.default=c},{"25":25,"31":31,"32":32,"33":33,"35":35,"36":36,"46":46,"51":51,"52":52}],14:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function s(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var e;Object.defineProperty(i,"__esModule",{value:!0});var v=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),l=n(33),r=u(l),h=n(32),f=u(h),a=n(51);e=function(n){function t(n){c(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.ERROR,r.default.SUBTITLE_TRACKS_UPDATED,r.default.SUBTITLE_TRACK_SWITCH,r.default.SUBTITLE_TRACK_LOADED,r.default.SUBTITLE_FRAG_PROCESSED));return i.config=n.config,i.vttFragSNsProcessed={},i.vttFragQueues=undefined,i.currentlyProcessing=null,i.currentTrackId=-1,i}return s(t,n),v(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"clearVttFragQueues",value:function(){var n=this;this.vttFragQueues={},this.tracks.forEach(function(t){n.vttFragQueues[t.id]=[]})}},{key:"nextFrag",value:function(){if(this.currentlyProcessing===null&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var n=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(r.default.FRAG_LOADING,{frag:n})}}},{key:"onSubtitleFragProcessed",value:function(n){n.success&&this.vttFragSNsProcessed[n.frag.trackId].push(n.frag.sn),this.currentlyProcessing=null,this.nextFrag()}},{key:"onError",value:function(n){var t=n.frag;t&&t.type!=="subtitle"||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())}},{key:"onSubtitleTracksUpdated",value:function(n){var t=this;a.logger.log("subtitle tracks updated"),this.tracks=n.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(n){t.vttFragSNsProcessed[n.id]=[]})}},{key:"onSubtitleTrackSwitch",value:function(n){this.currentTrackId=n.id,this.clearVttFragQueues()}},{key:"onSubtitleTrackLoaded",value:function(n){var u=this.vttFragSNsProcessed[n.id],t=this.vttFragQueues[n.id],f=!this.currentlyProcessing?-1:this.currentlyProcessing.sn,i=function(n){return u.indexOf(n.sn)>-1},r=function(n){return t.some(function(t){return t.sn===n.sn})};n.details.fragments.forEach(function(u){i(u)||u.sn===f||r(u)||(u.trackId=n.id,t.push(u))}),this.nextFrag()}}]),t}(f.default),i.default=e},{"32":32,"33":33,"51":51}],15:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function y(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function l(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function s(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function h(n){for(var i=[],t=0;t<n.length;t++)n[t].kind==="subtitles"&&i.push(n[t]);return i}var f;Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),v=n(33),r=e(v),a=n(32),o=e(a),u=n(51);f=function(n){function t(n){y(this,t);var i=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.MEDIA_ATTACHED,r.default.MEDIA_DETACHING,r.default.MANIFEST_LOADING,r.default.MANIFEST_LOADED,r.default.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=undefined,i}return s(t,n),c(t,[{key:"destroy",value:function(){o.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(n){var t=this;(this.media=n.media,this.media)&&this.media.textTracks.addEventListener("change",function(){var i,r,n;if(t.media){for(i=-1,r=h(t.media.textTracks),n=0;n<r.length;n++)r[n].mode==="showing"&&(i=n);t.subtitleTrack=i}})}},{key:"onMediaDetaching",value:function(){this.media=undefined}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(n){var u=this,t=n.subtitles||[],i=!1;this.tracks=t,this.trackId=-1,this.hls.trigger(r.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:t}),t.forEach(function(n){n.default&&(u.subtitleTrack=n.id,i=!0)})}},{key:"onTick",value:function(){var i=this.trackId,t=this.tracks[i],n;t&&(n=t.details,(n===undefined||n.live===!0)&&(u.logger.log("(re)loading playlist for subtitle track "+i),this.hls.trigger(r.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:i})))}},{key:"onSubtitleTrackLoaded",value:function(n){var t=this;n.id<this.tracks.length&&(u.logger.log("subtitle track "+n.id+" loaded"),this.tracks[n.id].details=n.details,n.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*n.details.targetduration,this)),!n.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setSubtitleTrackInternal",value:function(n){var i,t;n>=0&&n<this.tracks.length&&(this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=n,u.logger.log("switching to subtitle track "+n),i=this.tracks[n],this.hls.trigger(r.default.SUBTITLE_TRACK_SWITCH,{id:n}),t=i.details,(t===undefined||t.live===!0)&&(u.logger.log("(re)loading playlist for subtitle track "+n),this.hls.trigger(r.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:n})))}},{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(n){this.trackId!==n&&this.setSubtitleTrackInternal(n)}}]),t}(o.default),i.default=f},{"32":32,"33":33,"51":51}],16:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function y(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function c(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function h(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function u(n){if(n&&n.cues)while(n.cues.length>0)n.removeCue(n.cues[0])}function v(n,t){return n&&n.label===t.name&&!(n.textTrack1||n.textTrack2)}function a(n,t,i,r){return Math.min(t,r)-Math.max(n,i)}var e;Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),k=n(33),r=f(k),p=n(32),o=f(p),b=n(47),w=f(b),l=n(55),g=f(l),d=n(51);e=function(n){function t(n){var f;if(y(this,t),f=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.MEDIA_ATTACHING,r.default.MEDIA_DETACHING,r.default.FRAG_PARSING_USERDATA,r.default.MANIFEST_LOADING,r.default.MANIFEST_LOADED,r.default.FRAG_LOADED,r.default.LEVEL_SWITCHING,r.default.INIT_PTS_FOUND)),f.hls=n,f.config=n.config,f.enabled=!0,f.Cues=n.config.cueHandler,f.textTracks=[],f.tracks=[],f.unparsedVttFrags=[],f.initPTS=undefined,f.cueRanges=[],f.config.enableCEA708Captions){var i=f,e=function(n,t){var i=null;try{i=new window.Event("addtrack")}catch(r){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=n,t.dispatchEvent(i)},s={newCue:function(n,t,r){var o,f;i.textTrack1||(o=i.getExistingTrack("1"),o?(i.textTrack1=o,u(i.textTrack1),e(i.textTrack1,i.media)):(f=i.createTextTrack("captions",i.config.captionsTextTrack1Label,i.config.captionsTextTrack1LanguageCode),f&&(f.textTrack1=!0,i.textTrack1=f))),i.addCues("textTrack1",n,t,r)}},o={newCue:function(n,t,r){var o,f;i.textTrack2||(o=i.getExistingTrack("2"),o?(i.textTrack2=o,u(i.textTrack2),e(i.textTrack2,i.media)):(f=i.createTextTrack("captions",i.config.captionsTextTrack2Label,i.config.captionsTextTrack1LanguageCode),f&&(f.textTrack2=!0,i.textTrack2=f))),i.addCues("textTrack2",n,t,r)}};f.cea608Parser=new w.default(0,s,o)}return f}return h(t,n),s(t,[{key:"addCues",value:function(n,t,i,r){for(var o=this.cueRanges,s=!1,u,f,e=o.length;e--;)if(u=o[e],f=a(u[0],u[1],t,i),f>=0&&(u[0]=Math.min(u[0],t),u[1]=Math.max(u[1],i),s=!0,f/(i-t)>.5))return;s||o.push([t,i]),this.Cues.newCue(this[n],t,i,r)}},{key:"onInitPtsFound",value:function(n){var t=this;typeof this.initPTS=="undefined"&&(this.initPTS=n.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(n){t.onFragLoaded(n)}),this.unparsedVttFrags=[])}},{key:"getExistingTrack",value:function(n){var r=this.media,t,i,u;if(r)for(t=0;t<r.textTracks.length;t++)if(i=r.textTracks[t],u="textTrack"+n,i[u]===!0)return i;return null}},{key:"createTextTrack",value:function(n,t,i){var r=this.media;if(r)return r.addTextTrack(n,t,i)}},{key:"destroy",value:function(){o.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(n){this.media=n.media}},{key:"onMediaDetaching",value:function(){u(this.textTrack1),u(this.textTrack2)}},{key:"onManifestLoading",value:function(){var i,t,n;if(this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},i=this.media,i&&(t=i.textTracks,t))for(n=0;n<t.length;n++)u(t[n])}},{key:"onManifestLoaded",value:function(n){var i=this,t;this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=undefined,this.cueRanges=[],this.config.enableWebVTT&&(this.tracks=n.subtitles||[],t=this.media?this.media.textTracks:[],this.tracks.forEach(function(n,r){var u=void 0,f;r<t.length&&(f=t[r],v(f,n)&&(u=f)),u||(u=i.createTextTrack("subtitles",n.name,n.lang)),u.mode=n.default?"showing":"hidden",i.textTracks.push(u)}))}},{key:"onLevelSwitching",value:function(){this.enabled=this.hls.currentLevel.closedCaptions!=="NONE"}},{key:"onFragLoaded",value:function(n){var t=n.frag,e=n.payload,f,i,o,u;if(t.type==="main")f=t.sn,f!==this.lastSn+1&&this.cea608Parser.reset(),this.lastSn=f;else if(t.type==="subtitle")if(e.byteLength){if(typeof this.initPTS=="undefined"){this.unparsedVttFrags.push(n);return}i=this.vttCCs,i[t.cc]||(i[t.cc]={start:t.start,prevCC:this.prevCC,"new":!0},this.prevCC=t.cc),o=this.textTracks,u=this.hls,g.default.parse(e,this.initPTS,i,t.cc,function(n){n.forEach(function(n){o[t.trackId].addCue(n)}),u.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(n){d.logger.log("Failed to parse VTT cue: "+n),u.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})}else this.hls.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}},{key:"onFragParsingUserdata",value:function(n){var t,i;if(this.enabled&&this.config.enableCEA708Captions)for(t=0;t<n.samples.length;t++)i=this.extractCea608Data(n.samples[t].bytes),this.cea608Parser.addData(n.samples[t].pts,i)}},{key:"extractCea608Data",value:function(n){for(var h=n[0]&31,f=2,e,u,t,s,o,i=[],r=0;r<h;r++)(e=n[f++],u=127&n[f++],t=127&n[f++],s=(4&e)!=0,o=3&e,u!==0||t!==0)&&s&&o===0&&(i.push(u),i.push(t));return i}}]),t}(o.default),i.default=e},{"32":32,"33":33,"47":47,"51":51,"55":55}],17:[function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u,r;Object.defineProperty(i,"__esModule",{value:!0}),u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(t,i){f(this,n),this.subtle=t,this.aesIV=i}return u(n,[{key:"decrypt",value:function(n,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,n)}}]),n}(),i.default=r},{}],18:[function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u,r;Object.defineProperty(i,"__esModule",{value:!0}),u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(){f(this,n),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return u(n,[{key:"uint8ArrayToUint32Array_",value:function(n){for(var r=new DataView(n),i=new Uint32Array(4),t=0;t<4;t++)i[t]=r.getUint32(t*4);return i}},{key:"initTable",value:function(){for(var l=this.sBox,y=this.invSBox,s=this.subMix,p=s[0],a=s[1],v=s[2],w=s[3],o=this.invSubMix,d=o[0],g=o[1],b=o[2],k=o[3],i=new Uint32Array(256),r=0,f=0,u=0,t,u=0;u<256;u++)i[u]=u<128?u<<1:u<<1^283;for(u=0;u<256;u++){t=f^f<<1^f<<2^f<<3^f<<4,t=t>>>8^t&255^99,l[r]=t,y[t]=r;var e=i[r],h=i[e],c=i[h],n=i[t]*257^t*16843008;p[r]=n<<24|n>>>8,a[r]=n<<16|n>>>16,v[r]=n<<8|n>>>24,w[r]=n,n=c*16843009^h*65537^e*257^r*16843008,d[t]=n<<24|n>>>8,g[t]=n<<16|n>>>16,b[t]=n<<8|n>>>24,k[t]=n,r?(r=e^i[i[i[c^e]]],f^=i[i[f]]):r=f=1}}},{key:"expandKey",value:function(n){for(var e=this.uint8ArrayToUint32Array_(n),v=!0,l=0,r;l<e.length&&v;)v=e[l]===this.key[l],l++;if(!v){if(this.key=e,r=this.keySize=e.length,r!==4&&r!==6&&r!==8)throw new Error("Invalid aes key size="+r);for(var s=this.ksRows=(r+6+1)*4,i=void 0,f=void 0,o=this.keySchedule=new Uint32Array(s),c=this.invKeySchedule=new Uint32Array(s),u=this.sBox,p=this.rcon,h=this.invSubMix,w=h[0],b=h[1],k=h[2],y=h[3],a=void 0,t=void 0,i=0;i<s;i++){if(i<r){a=o[i]=e[i];continue}t=a,i%r==0?(t=t<<8|t>>>24,t=u[t>>>24]<<24|u[t>>>16&255]<<16|u[t>>>8&255]<<8|u[t&255],t^=p[i/r|0]<<24):r>6&&i%r==4&&(t=u[t>>>24]<<24|u[t>>>16&255]<<16|u[t>>>8&255]<<8|u[t&255]),o[i]=a=(o[i-r]^t)>>>0}for(f=0;f<s;f++)i=s-f,t=f&3?o[i]:o[i-4],c[f]=f<4||i<=4?t:w[u[t>>>24]]^b[u[t>>>16&255]]^k[u[t>>>8&255]]^y[u[t&255]],c[f]=c[f]>>>0}}},{key:"networkToHostOrderSwap",value:function(n){return n<<24|(n&65280)<<8|(n&16711680)>>8|n>>>24}},{key:"decrypt",value:function(n,t,i){for(var lt=this.keySize+6,f=this.invKeySchedule,r=this.invSBox,w=this.invSubMix,d=w[0],k=w[1],v=w[2],g=w[3],b=this.uint8ArrayToUint32Array_(i),st=b[0],ht=b[1],ct=b[2],ot=b[3],l=new Int32Array(n),a=new Int32Array(l.length),nt=void 0,tt=void 0,y=void 0,p=void 0,o=void 0,e=void 0,h=void 0,s=void 0,et=void 0,rt=void 0,it=void 0,ft=void 0,u,ut,c=this.networkToHostOrderSwap;t<l.length;){for(et=c(l[t]),rt=c(l[t+1]),it=c(l[t+2]),ft=c(l[t+3]),o=et^f[0],e=ft^f[1],h=it^f[2],s=rt^f[3],u=4,ut=1;ut<lt;ut++)nt=d[o>>>24]^k[e>>16&255]^v[h>>8&255]^g[s&255]^f[u],tt=d[e>>>24]^k[h>>16&255]^v[s>>8&255]^g[o&255]^f[u+1],y=d[h>>>24]^k[s>>16&255]^v[o>>8&255]^g[e&255]^f[u+2],p=d[s>>>24]^k[o>>16&255]^v[e>>8&255]^g[h&255]^f[u+3],o=nt,e=tt,h=y,s=p,u=u+4;nt=r[o>>>24]<<24^r[e>>16&255]<<16^r[h>>8&255]<<8^r[s&255]^f[u],tt=r[e>>>24]<<24^r[h>>16&255]<<16^r[s>>8&255]<<8^r[o&255]^f[u+1],y=r[h>>>24]<<24^r[s>>16&255]<<16^r[o>>8&255]<<8^r[e&255]^f[u+2],p=r[s>>>24]<<24^r[o>>16&255]<<16^r[e>>8&255]<<8^r[h&255]^f[u+3],u=u+3,a[t]=c(nt^st),a[t+1]=c(p^ht),a[t+2]=c(y^ct),a[t+3]=c(tt^ot),st=et,ht=rt,ct=it,ot=ft,t=t+4}return a.buffer}},{key:"destroy",value:function(){this.key=undefined,this.keySize=undefined,this.ksRows=undefined,this.sBox=undefined,this.invSBox=undefined,this.subMix=undefined,this.invSubMix=undefined,this.keySchedule=undefined,this.invKeySchedule=undefined,this.rcon=undefined}}]),n}(),i.default=r},{}],19:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var f;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),s=n(17),v=u(s),a=n(20),h=u(a),l=n(18),y=u(l),e=n(31),r=n(51);f=function(){function n(t,i){c(this,n),this.observer=t,this.config=i,this.logEnabled=!0;try{var r=crypto?crypto:self.crypto;this.subtle=r.subtle||r.webkitSubtle}catch(u){}this.disableWebCrypto=!this.subtle}return o(n,[{key:"isSync",value:function(){return this.disableWebCrypto&&this.config.enableSoftwareAES}},{key:"decrypt",value:function(n,t,i,u){var o=this,f,e;this.disableWebCrypto&&this.config.enableSoftwareAES?(this.logEnabled&&(r.logger.log("JS AES decrypt"),this.logEnabled=!1),f=this.decryptor,f||(this.decryptor=f=new y.default),f.expandKey(t),u(f.decrypt(n,0,i))):(this.logEnabled&&(r.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1),e=this.subtle,this.key!==t&&(this.key=t,this.fastAesKey=new h.default(e,t)),this.fastAesKey.expandKey().then(function(r){var f=new v.default(e,i);f.decrypt(n,r).catch(function(r){o.onWebCryptoError(r,n,t,i,u)}).then(function(n){u(n)})}).catch(function(r){o.onWebCryptoError(r,n,t,i,u)}))}},{key:"onWebCryptoError",value:function(n,t,i,u,f){this.config.enableSoftwareAES?(r.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,i,u,f)):(r.logger.error("decrypting error : "+n.message),this.observer.trigger(Event.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:n.message}))}},{key:"destroy",value:function(){var n=this.decryptor;n&&(n.destroy(),this.decryptor=undefined)}}]),n}(),i.default=f},{"17":17,"18":18,"20":20,"31":31,"51":51}],20:[function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u,r;Object.defineProperty(i,"__esModule",{value:!0}),u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(t,i){f(this,n),this.subtle=t,this.key=i}return u(n,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),n}(),i.default=r},{}],21:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var f;Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),l=n(22),s=u(l),h=n(51),c=n(27),r=u(c);f=function(){function n(t,i,r){o(this,n),this.observer=t,this.config=r,this.remuxer=i}return e(n,[{key:"resetInitSegment",value:function(n,t,i,r){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(n,t,i,u){var e,y=new r.default(n),p=90*y.timeStamp,c,o,k,w,f,l,v,a,b;for(e=this._aacTrack,f=y.length,a=n.length;f<a-1;f++)if(n[f]===255&&(n[f+1]&240)==240)break;for(e.samplerate||(c=s.default.getAudioConfig(this.observer,n,f,e.manifestCodec),e.config=c.config,e.samplerate=c.samplerate,e.channelCount=c.channelCount,e.codec=c.codec,h.logger.log("parsed codec:"+e.codec+",rate:"+c.samplerate+",nb channel:"+c.channelCount)),w=0,k=9216e4/e.samplerate;f+5<a;)if(l=!(n[f+1]&1)?9:7,o=(n[f+3]&3)<<11|n[f+4]<<3|(n[f+5]&224)>>>5,o-=l,o>0&&f+l+o<=a){for(v=p+w*k,b={unit:n.subarray(f+l,f+l+o),pts:v,dts:v},e.samples.push(b),e.len+=o,f+=o+l,w++;f<a-1;f++)if(n[f]===255&&(n[f+1]&240)==240)break}else break;this.remuxer.remux(e,{samples:[]},{samples:[{pts:p,dts:p,unit:y.payload}],inputTimeScale:9e4},{samples:[]},t,i,u)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(n){var u=new r.default(n),t,i;if(u.hasTimeStamp)for(t=u.length,i=n.length;t<i-1;t++)if(n[t]===255&&(n[t+1]&240)==240)return!0;return!1}}]),n}(),i.default=f},{"22":22,"27":27,"51":51}],22:[function(n,t){"use strict";var f=n(51),r=n(31),u={getAudioConfig:function(n,t,i,u){var s,e,h,c,o,a=navigator.userAgent.toLowerCase(),v=u,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=((t[i+2]&192)>>>6)+1,e=(t[i+2]&60)>>>2,e>l.length-1){n.trigger(Event.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+e});return}return c=(t[i+2]&1)<<2,c|=(t[i+3]&192)>>>6,f.logger.log("manifest codec:"+u+",ADTS data:type:"+s+",sampleingIndex:"+e+"["+l[e]+"Hz],channelConfig:"+c),/firefox/i.test(a)?e>=6?(s=5,o=new Array(4),h=e-3):(s=2,o=new Array(2),h=e):a.indexOf("android")!==-1?(s=2,o=new Array(2),h=e):(s=5,o=new Array(4),u&&(u.indexOf("mp4a.40.29")!==-1||u.indexOf("mp4a.40.5")!==-1)||!u&&e>=6?h=e-3:((u&&u.indexOf("mp4a.40.2")!==-1&&e>=6&&c===1||!u&&c===1)&&(s=2,o=new Array(2)),h=e)),o[0]=s<<3,o[0]|=(e&14)>>1,o[1]|=(e&1)<<7,o[1]|=c<<3,s===5&&(o[1]|=(h&14)>>1,o[2]=(h&1)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:l[e],channelCount:c,codec:"mp4a.40."+s,manifestCodec:v}}};t.exports=u},{"31":31,"51":51}],23:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u;Object.defineProperty(i,"__esModule",{value:!0});var v=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),h=n(33),o=r(h),e=n(31),b=n(19),w=r(b),p=n(21),y=r(p),k=n(28),nt=r(k),g=n(30),d=r(g),c=n(43),f=r(c),s=n(44),l=r(s);u=function(){function n(t,i,r,u){a(this,n),this.observer=t,this.typeSupported=i,this.config=r,this.vendor=u}return v(n,[{key:"destroy",value:function(){var n=this.demuxer;n&&n.destroy()}},{key:"push",value:function(n,t,i,r,u,f,e,s,h,c,l,a){var v,p,y;if(n.byteLength>0&&t!=null&&t.key!=null&&t.method==="AES-128"){v=this.decrypter,v==null&&(v=this.decrypter=new w.default(this.observer,this.config)),p=this;try{y=performance.now()}catch(b){y=Date.now()}v.decrypt(n,t.key.buffer,t.iv.buffer,function(n){var v;try{v=performance.now()}catch(w){v=Date.now()}p.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:y,tdecrypt:v}}),p.pushDecrypted(new Uint8Array(n),t,new Uint8Array(i),r,u,f,e,s,h,c,l,a)})}else this.pushDecrypted(new Uint8Array(n),t,new Uint8Array(i),r,u,f,e,s,h,c,l,a)}},{key:"pushDecrypted",value:function(n,t,i,r,u,s,h,c,a,v,p,w){var b=this.demuxer,et,k,tt,ut,g;if(!b||h&&!this.probe(n)){var it=this.observer,ot=this.typeSupported,ft=this.config,rt=[{demux:d.default,remux:f.default},{demux:y.default,remux:f.default},{demux:nt.default,remux:l.default}];for(et in rt)if(k=rt[et],tt=k.demux.probe,tt(n)){ut=this.remuxer=new k.remux(it,ft,ot,this.vendor),b=new k.demux(it,ut,ft,ot),this.probe=tt;break}if(!b){it.trigger(o.default.ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});return}this.demuxer=b}g=this.remuxer,(h||c)&&(b.resetInitSegment(i,r,u,v),g.resetInitSegment()),h&&(b.resetTimeStamp(),g.resetTimeStamp(w)),typeof b.setDecryptData=="function"&&b.setDecryptData(t),b.append(n,s,a,p)}}]),n}(),i.default=u},{"19":19,"21":21,"28":28,"30":30,"31":31,"33":33,"43":43,"44":44}],24:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(i,"__esModule",{value:!0});var o=n(23),h=u(o),s=n(33),r=u(s),c=n(51),l=n(1),e=u(l);f=function(n){var t=new e.default,i;t.trigger=function(n){for(var r=arguments.length,u=Array(r>1?r-1:0),i=1;i<r;i++)u[i-1]=arguments[i];t.emit.apply(t,[n,n].concat(u))},t.off=function(n){for(var r=arguments.length,u=Array(r>1?r-1:0),i=1;i<r;i++)u[i-1]=arguments[i];t.removeListener.apply(t,[n].concat(u))},i=function(t,i){n.postMessage({event:t,data:i})},n.addEventListener("message",function(r){var u=r.data,f;switch(u.cmd){case"init":f=JSON.parse(u.config),n.demuxer=new h.default(t,u.typeSupported,f,u.vendor);try{c.enableLogs(f.debug===!0)}catch(e){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":n.demuxer.push(u.data,u.decryptdata,u.initSegment,u.audioCodec,u.videoCodec,u.timeOffset,u.discontinuity,u.trackSwitch,u.contiguous,u.duration,u.accurateTimeOffset,u.defaultInitPTS)}});t.on(r.default.FRAG_DECRYPTED,i);t.on(r.default.FRAG_PARSING_INIT_SEGMENT,i);t.on(r.default.FRAG_PARSED,i);t.on(r.default.ERROR,i);t.on(r.default.FRAG_PARSING_METADATA,i);t.on(r.default.FRAG_PARSING_USERDATA,i);t.on(r.default.INIT_PTS_FOUND,i);t.on(r.default.FRAG_PARSING_DATA,function(t,i){var u=[],r={event:t,data:i};i.data1&&(r.data1=i.data1.buffer,u.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,u.push(i.data2.buffer),delete i.data2),n.postMessage(r,u)})},i.default=f},{"1":1,"23":23,"33":33,"51":51}],25:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var e;Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),w=n(33),r=f(w),v=n(23),s=f(v),l=n(24),y=f(l),u=n(51),o=n(31),p=n(1),c=f(p);e=function(){function t(i,f){var e,v,h,w,p,l,b;a(this,t),this.hls=i,this.id=f,e=this.observer=new c.default,v=i.config,e.trigger=function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];e.emit.apply(e,[n,n].concat(r))},e.off=function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];e.removeListener.apply(e,[n].concat(r))},h=function(n,t){t=t||{},t.frag=this.frag,t.id=this.id,i.trigger(n,t)}.bind(this);e.on(r.default.FRAG_DECRYPTED,h);e.on(r.default.FRAG_PARSING_INIT_SEGMENT,h);e.on(r.default.FRAG_PARSING_DATA,h);e.on(r.default.FRAG_PARSED,h);e.on(r.default.ERROR,h);e.on(r.default.FRAG_PARSING_METADATA,h);e.on(r.default.FRAG_PARSING_USERDATA,h);e.on(r.default.INIT_PTS_FOUND,h);if(w={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')},p=navigator.vendor,v.enableWorker&&typeof Worker!="undefined"){u.logger.log("demuxing in webworker"),l=void 0;try{b=n(3),l=this.w=b(y.default),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(n){i.trigger(r.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:n.message+" ("+n.filename+":"+n.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:w,vendor:p,id:f,config:JSON.stringify(v)})}catch(k){u.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&URL.revokeObjectURL(l.objectURL),this.demuxer=new s.default(e,w,v,p),this.w=undefined}}else this.demuxer=new s.default(e,w,v,p)}return h(t,[{key:"destroy",value:function(){var i=this.w,t,n;i?(i.removeEventListener("message",this.onwmsg),i.terminate(),this.w=null):(t=this.demuxer,t&&(t.destroy(),this.demuxer=null)),n=this.observer,n&&(n.removeAllListeners(),this.observer=null)}},{key:"push",value:function(n,t,i,r,f,e,o,s){var y=this.w,p=isNaN(f.startDTS)?f.start:f.startDTS,w=f.decryptdata,h=this.frag,l=!(h&&f.cc===h.cc),c=!(h&&f.level===h.level),b=h&&f.sn===h.sn+1,v=!c&&b,a;l&&u.logger.log(this.id+":discontinuity detected"),c&&u.logger.log(this.id+":switch detected"),this.frag=f,y?y.postMessage({cmd:"demux",data:n,decryptdata:w,initSegment:t,audioCodec:i,videoCodec:r,timeOffset:p,discontinuity:l,trackSwitch:c,contiguous:v,duration:e,accurateTimeOffset:o,defaultInitPTS:s},[n]):(a=this.demuxer,a&&a.push(n,w,t,i,r,p,l,c,v,e,o,s))}},{key:"onWorkerMessage",value:function(n){var t=n.data,i=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case r.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data)}}}]),t}(),i.default=e},{"1":1,"23":23,"24":24,"3":3,"31":31,"33":33,"51":51}],26:[function(n,t,i){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var f,u,r;Object.defineProperty(i,"__esModule",{value:!0}),f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),u=n(51),r=function(){function n(t){e(this,n),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return f(n,[{key:"loadWord",value:function(){var i=this.data,r=this.bytesAvailable,u=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(n===0)throw new Error("no bytes available");t.set(i.subarray(u,u+n)),this.word=new DataView(t.buffer).getUint32(0),this.bitsAvailable=n*8,this.bytesAvailable-=n}},{key:"skipBits",value:function(n){var t;this.bitsAvailable>n?(this.word<<=n,this.bitsAvailable-=n):(n-=this.bitsAvailable,t=n>>3,n-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=n,this.bitsAvailable-=n)}},{key:"readBits",value:function(n){var t=Math.min(this.bitsAvailable,n),i=this.word>>>32-t;return n>32&&u.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=n-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}},{key:"skipLZ",value:function(){for(var n=0;n<this.bitsAvailable;++n)if(0!=(this.word&2147483648>>>n))return this.word<<=n,this.bitsAvailable-=n,n;return this.loadWord(),n+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var n=this.skipLZ();return this.readBits(n+1)-1}},{key:"readEG",value:function(){var n=this.readUEG();return 1&n?1+n>>>1:-1*(n>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(n){for(var r=8,t=8,u,i=0;i<n;i++)t!==0&&(u=this.readEG(),t=(r+u+256)%256),r=t===0?r:t}},{key:"readSPS",value:function(){var nt=0,b=0,k=0,p=0,t,it,rt,w,tt,d,s,g,u,r=this.readUByte.bind(this),y=this.readBits.bind(this),i=this.readUEG.bind(this),o=this.readBoolean.bind(this),f=this.skipBits.bind(this),l=this.skipEG.bind(this),e=this.skipUEG.bind(this),a=this.skipScalingList.bind(this),c,h,n,v;if(r(),t=r(),it=y(5),f(3),rt=r(),e(),(t===100||t===110||t===122||t===244||t===44||t===83||t===86||t===118||t===128)&&(c=i(),c===3&&f(1),e(),e(),f(1),o()))for(g=c!==3?8:12,u=0;u<g;u++)o()&&(u<6?a(16):a(64));if(e(),h=i(),h===0)i();else if(h===1)for(f(1),l(),l(),w=i(),u=0;u<w;u++)l();if(e(),f(1),tt=i(),d=i(),s=y(1),s===0&&f(1),f(1),o()&&(nt=i(),b=i(),k=i(),p=i()),n=[1,1],o()&&o()){v=r();switch(v){case 1:n=[1,1];break;case 2:n=[12,11];break;case 3:n=[10,11];break;case 4:n=[16,11];break;case 5:n=[40,33];break;case 6:n=[24,11];break;case 7:n=[20,11];break;case 8:n=[32,11];break;case 9:n=[80,33];break;case 10:n=[18,11];break;case 11:n=[15,11];break;case 12:n=[64,33];break;case 13:n=[160,99];break;case 14:n=[4,3];break;case 15:n=[3,2];break;case 16:n=[2,1];break;case 255:n=[r()<<8|r(),r()<<8|r()]}}return{width:Math.ceil((tt+1)*16-nt*2-b*2),height:(2-s)*(d+1)*16-(s?2:4)*(k+p),pixelRatio:n}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),n}(),i.default=r},{"51":51}],27:[function(n,t,i){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var f,r,u;Object.defineProperty(i,"__esModule",{value:!0}),f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=n(51),u=function(){function n(t){e(this,n),this._hasTimeStamp=!1;var i=0,l,c,s,a,h,f,o,u;do if(o=this.readUTF(t,i,3),i+=3,o==="ID3")i+=3,l=t[i++]&127,c=t[i++]&127,s=t[i++]&127,a=t[i++]&127,h=(l<<21)+(c<<14)+(s<<7)+a,f=i+h,this._parseID3Frames(t,i,f),i=f;else if(o==="3DI")i+=7,r.logger.log("3DI footer found, end: "+i);else{i-=3,u=i,u&&(this.hasTimeStamp||r.logger.warn("ID3 tag found, but no timestamp"),this._length=u,this._payload=t.subarray(0,u));return}while(1)}return f(n,[{key:"readUTF",value:function(n,t,i){var u="",r=t,f=t+i;do u+=String.fromCharCode(n[r++]);while(r<f);return u}},{key:"_parseID3Frames",value:function(n,t,i){for(var e,o,s,h,u,f;t+8<=i;){e=this.readUTF(n,t,4),t+=4,o=n[t++]<<24+n[t++]<<16+n[t++]<<8+n[t++],h=n[t++]<<8+n[t++],s=t;switch(e){case"PRIV":this.readUTF(n,t,44)==="com.apple.streaming.transportStreamTimestamp"&&(t+=44,t+=4,f=n[t++]&1,this._hasTimeStamp=!0,u=((n[t++]<<23)+(n[t++]<<15)+(n[t++]<<7)+n[t++])/45,f&&(u+=47721858.84),u=Math.round(u),r.logger.trace("ID3 timestamp found: "+u),this._timeStamp=u)}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),n}(),i.default=u},{"51":51}],28:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=n(33),s=e(f);r=function(){function n(t,i){u(this,n),this.observer=t,this.remuxer=i}return o(n,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(t,i,r){var e=this.initData=n.parseInitSegment(t),f={};e.audio&&(f.audio={container:"audio/mp4",codec:i,initSegment:t}),e.video&&(f.video={container:"video/mp4",codec:r,initSegment:t}),this.observer.trigger(s.default.FRAG_PARSING_INIT_SEGMENT,{tracks:f})}},{key:"append",value:function(t,i,r,u){var f=this.initData,e=n.startDTS(f,t);this.remuxer.remux(f.audio,f.video,null,null,e,r,u,t)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){if(t.length>=8){var i=n.bin2str(t.subarray(4,8));return["moof","ftyp","styp"].indexOf(i)>=0}return!1}},{key:"bin2str",value:function(n){return String.fromCharCode.apply(null,n)}},{key:"findBox",value:function(t,i){var e=[],r,u,s,f,o;if(!i.length)return null;for(r=0;r<t.byteLength;)u=t[r]<<24,u|=t[r+1]<<16,u|=t[r+2]<<8,u|=t[r+3],s=n.bin2str(t.subarray(r+4,r+8)),f=u>1?r+u:t.byteLength,s===i[0]&&(i.length===1?e.push(t.subarray(r+8,f)):(o=n.findBox(t.subarray(r+8,f),i.slice(1)),o.length&&(e=e.concat(o)))),r=f;return e}},{key:"parseInitSegment",value:function(t){var i=[],r=n.findBox(t,["moov","trak"]);return r.forEach(function(t){var e=n.findBox(t,["tkhd"])[0],u,c,h,l,o;if(e){var s=e[0],r=s===0?12:20,f=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3];f=f<0?4294967296+f:f,u=n.findBox(t,["mdia","mdhd"])[0],u&&(s=u[0],r=s===0?12:20,c=u[r]<<24|u[r+1]<<16|u[r+2]<<8|u[r+3],h=n.findBox(t,["mdia","hdlr"])[0],h&&(l=n.bin2str(h.subarray(8,12)),o={soun:"audio",vide:"video"}[l],o&&(i[f]={timescale:c,type:o},i[o]={timescale:c,id:f})))}}),i}},{key:"startDTS",value:function(t,i){var u,f,r;return u=n.findBox(i,["moof","traf"]),f=[].concat.apply([],u.map(function(i){return n.findBox(i,["tfhd"]).map(function(r){var f,e,u;return f=r[4]<<24|r[5]<<16|r[6]<<8|r[7],e=t[f].timescale||9e4,u=n.findBox(i,["tfdt"]).map(function(n){var i,t;return i=n[0],t=n[4]<<24|n[5]<<16|n[6]<<8|n[7],i===1&&(t*=Math.pow(2,32),t+=n[8]<<24|n[9]<<16|n[10]<<8|n[11]),t})[0],u=u||Infinity,u/e})})),r=Math.min.apply(null,f),isFinite(r)?r:0}}]),n}(),i.default=r},{"33":33}],29:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=n(19),s=e(f);r=function(){function n(t,i,r,f){u(this,n),this.decryptdata=r,this.discardEPB=f,this.decrypter=new s.default(t,i)}return o(n,[{key:"decryptBuffer",value:function(n,t){this.decrypter.decrypt(n,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)}},{key:"decryptAacSample",value:function(n,t,i,r){var f=n[t].unit,u=f.subarray(16,f.length-f.length%16),o=u.buffer.slice(u.byteOffset,u.byteOffset+u.length),e=this;this.decryptBuffer(o,function(u){u=new Uint8Array(u),f.set(u,16),r||e.decryptAacSamples(n,t+1,i)})}},{key:"decryptAacSamples",value:function(n,t,i){for(;;t++){if(t>=n.length){i();return}if(!(n[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(n,t,i,r),!r)return}}}},{key:"getAvcEncryptedData",value:function(n){for(var u=Math.floor((n.length-48)/160)*16+16,i=new Int8Array(u),r=0,t=32;t<=n.length-16;t+=160,r+=16)i.set(n.subarray(t,t+16),r);return i}},{key:"getAvcDecryptedUnit",value:function(n,t){var r,i;for(t=new Uint8Array(t),r=0,i=32;i<=n.length-16;i+=160,r+=16)n.set(t.subarray(r,r+16),i);return n}},{key:"decryptAvcSample",value:function(n,t,i,r,u,f){var o=this.discardEPB(u.data),s=this.getAvcEncryptedData(o),e=this;this.decryptBuffer(s.buffer,function(s){u.data=e.getAvcDecryptedUnit(o,s),f||e.decryptAvcSamples(n,t,i+1,r)})}},{key:"decryptAvcSamples",value:function(n,t,i,r){for(var e,u,f;;t++,i=0){if(t>=n.length){r();return}for(e=n[t].units;;i++){if(i>=e.length)break;if((u=e[i],!(u.length<=48)&&(u.type===1||u.type===5))&&(f=this.decrypter.isSync(),this.decryptAvcSample(n,t,i,r,u,f),!f))return}}}}]),n}(),i.default=r},{"19":19}],30:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var o;Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),c=n(22),p=f(c),y=n(33),s=f(y),l=n(26),e=f(l),v=n(29),w=f(v),r=n(51),u=n(31);o=function(){function n(t,i,r,u){a(this,n),this.observer=t,this.config=r,this.typeSupported=u,this.remuxer=i,this.sampleAes=null}return h(n,[{key:"setDecryptData",value:function(n){this.sampleAes=n!=null&&n.key!=null&&n.method==="SAMPLE-AES"?new w.default(this.observer,this.config,n,this.discardEPB):null}},{key:"resetInitSegment",value:function(n,t,i,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=i,this._duration=r}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(n,t,i,f){var e,tt=n.length,b,st,ht,o,h,it=!1,k;this.contiguous=i;var ct=this.pmtParsed,y=this._avcTrack,l=this._audioTrack,p=this._id3Track,nt=y.id,g=l.id,d=p.id,ot=this._pmtId,v=y.pesData,c=l.pesData,a=p.pesData,lt=this._parsePAT,at=this._parsePMT,w=this._parsePES,rt=this._parseAVCPES.bind(this),ft=this._parseAACPES.bind(this),ut=this._parseMPEGPES.bind(this),et=this._parseID3PES.bind(this);for(tt-=tt%188,e=0;e<tt;e+=188)if(n[e]===71){if(b=!!(n[e+1]&64),st=((n[e+1]&31)<<8)+n[e+2],ht=(n[e+3]&48)>>4,ht>1){if(o=e+5+n[e+4],o===e+188)continue}else o=e+4;switch(st){case nt:b&&(v&&(h=w(v))&&rt(h,!1),v={data:[],size:0}),v&&(v.data.push(n.subarray(o,e+188)),v.size+=e+188-o);break;case g:b&&(c&&(h=w(c))&&(l.isAAC?ft(h):ut(h)),c={data:[],size:0}),c&&(c.data.push(n.subarray(o,e+188)),c.size+=e+188-o);break;case d:b&&(a&&(h=w(a))&&et(h),a={data:[],size:0}),a&&(a.data.push(n.subarray(o,e+188)),a.size+=e+188-o);break;case 0:b&&(o+=n[o]+1),ot=this._pmtId=lt(n,o);break;case ot:b&&(o+=n[o]+1),k=at(n,o,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,this.sampleAes!=null),nt=k.avc,nt>0&&(y.id=nt),g=k.audio,g>0&&(l.id=g,l.isAAC=k.isAAC),d=k.id3,d>0&&(p.id=d),it&&!ct&&(r.logger.log("reparse from beginning"),it=!1,e=-188),ct=this.pmtParsed=!0;break;case 17:case 8191:break;default:it=!0}}else this.observer.trigger(s.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});v&&(h=w(v))?(rt(h,!0),y.pesData=null):y.pesData=v,c&&(h=w(c))?(l.isAAC?ft(h):ut(h),l.pesData=null):(c&&c.size&&r.logger.log("last AAC PES packet truncated,might overlap between fragments"),l.pesData=c),a&&(h=w(a))?(et(h),p.pesData=null):p.pesData=a,this.sampleAes==null?this.remuxer.remux(l,y,p,this._txtTrack,t,i,f):this.decryptAndRemux(l,y,p,this._txtTrack,t,i,f)}},{key:"decryptAndRemux",value:function(n,t,i,r,u,f,e){if(n.samples&&n.isAAC){var o=this;this.sampleAes.decryptAacSamples(n.samples,0,function(){o.decryptAndRemuxAvc(n,t,i,r,u,f,e)})}else this.decryptAndRemuxAvc(n,t,i,r,u,f,e)}},{key:"decryptAndRemuxAvc",value:function(n,t,i,r,u,f,e){if(t.samples){var o=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){o.remuxer.remux(n,t,i,r,u,f,e)})}else this.remuxer.remux(n,t,i,r,u,f,e)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=undefined,this._duration=0}},{key:"_parsePAT",value:function(n,t){return(n[t+10]&31)<<8|n[t+11]}},{key:"_parsePMT",value:function(n,t,i,u){var o,s,h,e,f={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=(n[t+1]&15)<<8|n[t+2],s=t+3+o-4,h=(n[t+10]&15)<<8|n[t+11],t+=12+h;t<s;){e=(n[t+1]&31)<<8|n[t+2];switch(n[t]){case 207:if(!u){r.logger.log("unkown stream type:"+n[t]);break}case 15:f.audio===-1&&(f.audio=e);break;case 21:f.id3===-1&&(f.id3=e);break;case 219:if(!u){r.logger.log("unkown stream type:"+n[t]);break}case 27:f.avc===-1&&(f.avc=e);break;case 3:case 4:i?f.audio===-1&&(f.audio=e,f.isAAC=!1):r.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:r.logger.warn("HEVC stream type found, not supported for now");break;default:r.logger.log("unkown stream type:"+n[t])}t+=((n[t+3]&15)<<8|n[t+4])+5}return f}},{key:"_parsePES",value:function(n){var y=0,t,v,w,o,a,l,u,f,e,i=n.data,h,c,p,s;if(!n||n.size===0)return null;while(i[0].length<19&&i.length>1)h=new Uint8Array(i[0].length+i[1].length),h.set(i[0]),h.set(i[1],i[0].length),i[0]=h,i.splice(1,1);if(t=i[0],w=(t[0]<<16)+(t[1]<<8)+t[2],w===1){if(o=(t[4]<<8)+t[5],o&&o>n.size-6)return null;for(v=t[7],v&192&&(u=(t[9]&14)*536870912+(t[10]&255)*4194304+(t[11]&254)*16384+(t[12]&255)*128+(t[13]&254)/2,u>4294967295&&(u-=8589934592),v&64?(f=(t[14]&14)*536870912+(t[15]&255)*4194304+(t[16]&254)*16384+(t[17]&255)*128+(t[18]&254)/2,f>4294967295&&(f-=8589934592),u-f>54e5&&(r.logger.warn(Math.round((u-f)/9e4)+"s delta between PTS and DTS, align them"),u=f)):f=u),a=t[8],e=a+9,n.size-=e,l=new Uint8Array(n.size),c=0,p=i.length;c<p;c++){if(t=i[c],s=t.byteLength,e)if(e>s){e-=s;continue}else t=t.subarray(e),s-=e,e=0;l.set(t,y),y+=s}return o&&(o-=a+3),{data:l,pts:u,dts:f,len:o}}return null}},{key:"pushAccesUnit",value:function(n,t){if(n.units.length&&n.frame){var u=t.samples,i=u.length;!this.config.forceKeyFrameOnDiscontinuity||n.key===!0||t.sps&&(i||this.contiguous)?(n.id=i,u.push(n)):t.dropped++}n.debug.length&&r.logger.log(n.pts+"/"+n.dts+":"+n.debug)}},{key:"_parseAVCPES",value:function(n,t){var s=this,u=this._avcTrack,c=this._parseAVCNALu(n.data),h=!1,r,i=this.avcSample,o,f;n.data=null,c.forEach(function(t){var w,l,it,tt,nt,ut,v,g,b,a,d;switch(t.type){case 1:o=!0,h&&i&&(i.debug+="NDR "),i.frame=!0,w=t.data,w.length>4&&(l=new e.default(w).readSliceType(),(l===2||l===4||l===7||l===9)&&(i.key=!0));break;case 5:o=!0,i||(i=s.avcSample=s._createAVCSample(!0,n.pts,n.dts,"")),h&&(i.debug+="IDR "),i.key=!0,i.frame=!0;break;case 6:o=!0,h&&i&&(i.debug+="SEI "),r=new e.default(s.discardEPB(t.data)),r.readUByte();for(var k=0,p=0,rt=!1,c=0;!rt&&r.bytesAvailable>1;){k=0;do c=r.readUByte(),k+=c;while(c===255);p=0;do c=r.readUByte(),p+=c;while(c===255);if(k===4&&r.bytesAvailable!==0){if(rt=!0,it=r.readUByte(),it===181&&(tt=r.readUShort(),tt===49&&(nt=r.readUInt(),nt===1195456820&&(ut=r.readUByte(),ut===3)))){var ft=r.readUByte(),et=r.readUByte(),ot=31&ft,y=[ft,et];for(f=0;f<ot;f++)y.push(r.readUByte()),y.push(r.readUByte()),y.push(r.readUByte());s._insertSampleInOrder(s._txtTrack.samples,{type:3,pts:n.pts,bytes:y})}}else if(p<r.bytesAvailable)for(f=0;f<p;f++)r.readUByte()}break;case 7:if(o=!0,h&&i&&(i.debug+="SPS "),!u.sps){for(r=new e.default(t.data),v=r.readSPS(),u.width=v.width,u.height=v.height,u.pixelRatio=v.pixelRatio,u.sps=[t.data],u.duration=s._duration,g=t.data.subarray(1,4),b="avc1.",f=0;f<3;f++)a=g[f].toString(16),a.length<2&&(a="0"+a),b+=a;u.codec=b}break;case 8:o=!0,h&&i&&(i.debug+="PPS "),u.pps||(u.pps=[t.data]);break;case 9:o=!1,i&&s.pushAccesUnit(i,u),i=s.avcSample=s._createAVCSample(!1,n.pts,n.dts,h?"AUD ":"");break;case 12:o=!1;break;default:o=!1,i&&(i.debug+="unknown NAL "+t.type+" ")}i&&o&&(d=i.units,d.push(t))}),t&&i&&(this.pushAccesUnit(i,u),this.avcSample=null)}},{key:"_createAVCSample",value:function(n,t,i,r){return{key:n,pts:t,dts:i,units:[],debug:r}}},{key:"_insertSampleInOrder",value:function(n,t){var r=n.length,i;if(r>0){if(t.pts>=n[r-1].pts)n.push(t);else for(i=r-1;i>=0;i--)if(t.pts<n[i].pts){n.splice(i,0,t);break}}else n.push(t)}},{key:"_getLastNalUnit",value:function(){var n=this.avcSample,u=void 0,r,t,i;return n&&n.units.length!==0||(r=this._avcTrack,t=r.samples,n=t[t.length-1]),n&&(i=n.units,u=i[i.length-1]),u}},{key:"_parseAVCNALu",value:function(n){var r=0,v=n.byteLength,e,a,w=this._avcTrack,t=w.naluState||0,y=t,c=[],l,p,u=-1,s,i,h,f,o;for(t===-1&&(u=0,s=n[0]&31,t=0,r=1);r<v;){if(e=n[r++],!t){t=e?0:1;continue}if(t===1){t=e?0:2;continue}e?e===1?(u>=0?(l={data:n.subarray(u,r-t-1),type:s},c.push(l)):(i=this._getLastNalUnit(),i&&(y&&r<=4-y&&i.state&&(i.data=i.data.subarray(0,i.data.byteLength-y)),a=r-t-1,a>0&&(h=new Uint8Array(i.data.byteLength+a),h.set(i.data,0),h.set(n.subarray(0,a),i.data.byteLength),i.data=h))),r<v?(p=n[r]&31,u=r,s=p,t=0):t=-1):t=0:t=3}return u>=0&&t>=0&&(l={data:n.subarray(u,v),type:s,state:t},c.push(l)),c.length===0&&(f=this._getLastNalUnit(),f&&(o=new Uint8Array(f.data.byteLength+n.byteLength),o.set(f.data,0),o.set(n,f.data.byteLength),f.data=o)),w.naluState=t,c}},{key:"discardEPB",value:function(n){for(var e=n.byteLength,r=[],t=1,f,u,i;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(r.push(t+2),t+=2):t++;if(r.length===0)return n;for(f=e-r.length,u=new Uint8Array(f),i=0,t=0;t<f;i++,t++)i===r[0]&&(i++,r.shift()),u[t]=n[i];return u}},{key:"_parseAACPES",value:function(n){var f=this._audioTrack,i=n.data,b=n.pts,rt=0,o=this.aacOverFlow,tt=this.aacLastPTS,e,c,g,d,t,l,w,h,it,v,y,a,nt,k;for(o&&(v=new Uint8Array(o.byteLength+i.byteLength),v.set(o,0),v.set(i,o.byteLength),i=v),t=rt,h=i.length;t<h-1;t++)if(i[t]===255&&(i[t+1]&240)==240)break;if(!t||(t<h-1?(y="AAC PES did not start with ADTS header,offset:"+t,a=!1):(y="no ADTS header found in AAC PES",a=!0),r.logger.warn("parsing error:"+y),this.observer.trigger(s.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:y}),!a)){for(f.samplerate||(nt=this.audioCodec,e=p.default.getAudioConfig(this.observer,i,t,nt),f.config=e.config,f.samplerate=e.samplerate,f.channelCount=e.channelCount,f.codec=e.codec,f.manifestCodec=e.manifestCodec,f.duration=this._duration,r.logger.log("parsed codec:"+f.codec+",rate:"+e.samplerate+",nb channel:"+e.channelCount)),d=0,g=9216e4/f.samplerate,o&&tt&&(k=tt+g,Math.abs(k-b)>1&&(r.logger.log("AAC: align PTS for overlapping frames by "+Math.round((k-b)/90)),b=k));t+5<h;)if(l=!(i[t+1]&1)?9:7,c=(i[t+3]&3)<<11|i[t+4]<<3|(i[t+5]&224)>>>5,c-=l,c>0&&t+l+c<=h){for(w=b+d*g,it={unit:i.subarray(t+l,t+l+c),pts:w,dts:w},f.samples.push(it),f.len+=c,t+=c+l,d++;t<h-1;t++)if(i[t]===255&&(i[t+1]&240)==240)break}else break;o=t<h?i.subarray(t,h):null,this.aacOverFlow=o,this.aacLastPTS=w}}},{key:"_parseMPEGPES",value:function(n){for(var u=n.data,e=n.pts,r=u.length,f=0,t=0,i;t<r&&(i=this._parseMpeg(u,t,r,f++,e))>0;)t+=i}},{key:"_onMpegFrame",value:function(n,t,i,r,u,f){var s=1152e3/i,o=f+u*s,e=this._audioTrack;e.config=[],e.channelCount=r,e.samplerate=i,e.duration=this._duration,e.samples.push({unit:n,pts:o,dts:o}),e.len+=n.length}},{key:"_onMpegNoise",value:function(n){r.logger.warn("mpeg audio has noise: "+n.length+" bytes")}},{key:"_parseMpeg",value:function(n,t,i,r,u){var b=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],y=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],f;if(t+2>i)return-1;if(n[t]===255||(n[t+1]&224)==224){if(t+24>i)return-1;var e=n[t+1]>>3&3,c=n[t+1]>>1&3,l=n[t+2]>>4&15,v=n[t+2]>>2&3,w=!!(n[t+2]&2);if(e!==1&&l!==0&&l!==15&&v!==3){var d=e===3?3-c:c===3?3:4,h=b[d*14+l-1]*1e3,k=e===3?0:e===2?1:2,o=y[k*3+v],a=w?1:0,p=n[t+3]>>6==3?1:2,s=c===3?(e===3?12:6)*h/o+a<<2:(e===3?144:72)*h/o+a|0;return t+s>i?-1:(this._onMpegFrame&&this._onMpegFrame(n.subarray(t,t+s),h,o,p,r,u),s)}}for(f=t+2;f<i;){if(n[f-1]===255&&(n[f]&224)==224)return this._onMpegNoise&&this._onMpegNoise(n.subarray(t,f-1)),f-t-1;f++}return-1}},{key:"_parseID3PES",value:function(n){this._id3Track.samples.push(n)}}],[{key:"probe",value:function(n){return n.length>=564&&n[0]===71&&n[188]===71&&n[376]===71?!0:!1}}]),n}(),i.default=o},{"22":22,"26":26,"29":29,"31":31,"33":33,"51":51}],31:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=i.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r=i.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},{}],32:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r;Object.defineProperty(i,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},h=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=n(51),u=n(31),l=n(33),s=f(l);r=function(){function n(t){e(this,n),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,u=Array(r>1?r-1:0),i=1;i<r;i++)u[i-1]=arguments[i];this.handledEvents=u,this.useGenericHandler=!0,this.registerListeners()}return h(n,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return c(this.handledEvents)==="object"&&this.handledEvents.length&&typeof this.onEvent=="function"}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(n){if(n==="hlsEventGeneric")throw new Error("Forbidden event name: "+n);this.hls.on(n,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(n){this.hls.off(n,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(n,t){this.onEventGeneric(n,t)}},{key:"onEventGeneric",value:function(n,t){var i=function(n,t){var i="on"+n.replace("hls","");if(typeof this[i]!="function")throw new Error("Event "+n+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,t)};try{i.call(this,n,t).call()}catch(r){o.logger.error("internal error happened while processing "+n+":"+r.message),this.hls.trigger(s.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:n,err:r})}}}]),n}(),i.default=r},{"31":31,"33":33,"51":51}],33:[function(n,t){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],34:[function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u,r;Object.defineProperty(i,"__esModule",{value:!0}),u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(){f(this,n)}return u(n,null,[{key:"getSilentFrame",value:function(n,t){switch(n){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),n}(),i.default=r},{}],35:[function(n,t){"use strict";var r={isBuffered:function(n,t){var r,i;if(n)for(r=n.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0;return!1},bufferInfo:function(n,t,i){if(n){for(var u=n.buffered,f=[],r=0;r<u.length;r++)f.push({start:u.start(r),end:u.end(r)});return this.bufferedInfo(f,t,i)}return{len:0,start:t,end:t,nextStart:undefined}},bufferedInfo:function(n,t,i){var u=[],h,c,o,a,r,e,s,f,l;for(n.sort(function(n,t){var i=n.start-t.start;return i?i:t.end-n.end}),r=0;r<n.length;r++)e=u.length,e?(s=u[e-1].end,n[r].start-s<i?n[r].end>s&&(u[e-1].end=n[r].end):u.push(n[r])):u.push(n[r]);for(r=0,h=0,c=o=t;r<u.length;r++)if(f=u[r].start,l=u[r].end,t+i>=f&&t<l)c=f,o=l,h=o-t;else if(t+i<f){a=f;break}return{len:h,start:c,end:o,nextStart:a}}};t.exports=r},{}],36:[function(n,t){"use strict";var u=n(51),r={mergeDetails:function(n,t){var v=Math.max(n.startSN,t.startSN)-t.startSN,y=Math.min(n.endSN,t.endSN)-t.startSN,h=t.startSN-n.startSN,l=n.fragments,s=t.fragments,c=0,e,i,o,f,a;if(y<v){t.PTSKnown=!1;return}for(i=v;i<=y;i++)o=l[h+i],f=s[i],f&&o&&(c=o.cc-f.cc,isNaN(o.startPTS)||(f.start=f.startPTS=o.startPTS,f.endPTS=o.endPTS,f.duration=o.duration,e=f));if(c)for(u.logger.log("discontinuity sliding from playlist, take drift into account"),i=0;i<s.length;i++)s[i].cc+=c;if(e)r.updateFragPTSDTS(t,e,e.startPTS,e.endPTS,e.startDTS,e.endDTS);else if(h>=0&&h<l.length)for(a=l[h].start,i=0;i<s.length;i++)s[i].start+=a;t.PTSKnown=n.PTSKnown;return},updateFragPTSDTS:function(n,t,i,u,f,e){var l,a,c,h,s,o;if(isNaN(t.startPTS)||(l=Math.abs(t.startPTS-i),t.deltaPTS=isNaN(t.deltaPTS)?l:Math.max(l,t.deltaPTS),i=Math.min(i,t.startPTS),u=Math.max(u,t.endPTS),f=Math.min(f,t.startDTS),e=Math.max(e,t.endDTS)),a=i-t.start,t.start=t.startPTS=i,t.endPTS=u,t.startDTS=f,t.endDTS=e,t.duration=u-i,c=t.sn,!n||c<n.startSN||c>n.endSN)return 0;for(h=c-n.startSN,s=n.fragments,t=s[h],o=h;o>0;o--)r.updatePTS(s,o,o-1);for(o=h;o<s.length-1;o++)r.updatePTS(s,o,o+1);return n.PTSKnown=!0,a},updatePTS:function(n,t,i){var r=n[t],f=n[i],e=f.startPTS;isNaN(e)?f.start=i>t?r.start+r.duration:Math.max(r.start-f.duration,0):i>t?(r.duration=e-r.start,r.duration<0&&u.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(f.duration=r.start-e,f.duration<0&&u.logger.warn("negative duration computed for frag "+f.sn+",level "+f.level+", there should be some duration drift between playlist and fragment!"))}};t.exports=r},{"51":51}],37:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function y(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var e;Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),c=n(2),ft=u(c),nt=n(33),f=u(nt),o=n(31),tt=n(41),g=u(tt),k=n(39),d=u(k),p=n(40),et=u(p),ut=n(13),it=u(ut),rt=n(12),a=u(rt),l=n(11),h=u(l),r=n(51),v=n(1),w=u(v),b=n(4);e=function(){function n(){var b=this,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},s,e,i,f,o,c;if(y(this,n),s=n.DefaultConfig,(t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(e in s)e in t||(t[e]=s[e]);if(t.liveMaxLatencyDurationCount!==undefined&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(t.liveMaxLatencyDuration!==undefined&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||t.liveSyncDuration===undefined))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');r.enableLogs(t.debug),this.config=t,this._autoLevelCapping=-1,i=this.observer=new w.default,i.trigger=function(n){for(var r=arguments.length,u=Array(r>1?r-1:0),t=1;t<r;t++)u[t-1]=arguments[t];i.emit.apply(i,[n,n].concat(u))},i.off=function(n){for(var r=arguments.length,u=Array(r>1?r-1:0),t=1;t<r;t++)u[t-1]=arguments[t];i.removeListener.apply(i,[n].concat(u))},this.on=i.on.bind(i),this.off=i.off.bind(i),this.trigger=i.trigger.bind(i);var ut=this.abrController=new t.abrController(this),rt=new t.bufferController(this),tt=new t.capLevelController(this),st=new t.fpsController(this),ot=new g.default(this),ft=new d.default(this),nt=new et.default(this),p=new h.default(this),v=this.levelController=new a.default(this),k=this.streamController=new it.default(this),l=[v,k],u=t.audioStreamController;u&&l.push(new u(this)),this.networkControllers=l,f=[ot,ft,nt,ut,rt,tt,st,p],u=t.audioTrackController,u&&(o=new u(this),this.audioTrackController=o,f.push(o)),u=t.subtitleTrackController,u&&(c=new u(this),this.subtitleTrackController=c,f.push(c)),[t.subtitleStreamController,t.timelineController].forEach(function(n){n&&f.push(new n(b))}),this.coreComponents=f}return s(n,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&typeof window.MediaSource.isTypeSupported=="function"&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.7.6"}},{key:"Events",get:function(){return f.default}},{key:"ErrorTypes",get:function(){return o.ErrorTypes}},{key:"ErrorDetails",get:function(){return o.ErrorDetails}},{key:"DefaultConfig",get:function(){return n.defaultConfig?n.defaultConfig:b.hlsDefaultConfig},set:function(t){n.defaultConfig=t}}]),s(n,[{key:"destroy",value:function(){r.logger.log("destroy"),this.trigger(f.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(n){n.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1}},{key:"attachMedia",value:function(n){r.logger.log("attachMedia"),this.media=n,this.trigger(f.default.MEDIA_ATTACHING,{media:n})}},{key:"detachMedia",value:function(){r.logger.log("detachMedia"),this.trigger(f.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(n){n=ft.default.buildAbsoluteURL(window.location.href,n,{alwaysNormalize:!0}),r.logger.log("loadSource:"+n),this.url=n,this.trigger(f.default.MANIFEST_LOADING,{url:n})}},{key:"startLoad",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;r.logger.log("startLoad("+n+")"),this.networkControllers.forEach(function(t){t.startLoad(n)})}},{key:"stopLoad",value:function(){r.logger.log("stopLoad"),this.networkControllers.forEach(function(n){n.stopLoad()})}},{key:"swapAudioCodec",value:function(){r.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){r.logger.log("recoverMediaError");var n=this.media;this.detachMedia(),this.attachMedia(n)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(n){r.logger.log("set currentLevel:"+n),this.loadLevel=n,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(n){r.logger.log("set nextLevel:"+n),this.levelController.manualLevel=n,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(n){r.logger.log("set loadLevel:"+n),this.levelController.manualLevel=n}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(n){this.levelController.nextLoadLevel=n}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(n){r.logger.log("set firstLevel:"+n),this.levelController.firstLevel=n}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(n){r.logger.log("set startLevel:"+n);var t=this;n!==-1&&(n=Math.max(n,t.minAutoLevel)),t.levelController.startLevel=n}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(n){r.logger.log("set autoLevelCapping:"+n),this._autoLevelCapping=n}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var r=this,t=r.levels,u=r.config.minAutoBitrate,f=t?t.length:0,i,n=0;n<f;n++)if(i=t[n].realBitrate?Math.max(t[n].realBitrate,t[n].bitrate):t[n].bitrate,i>u)return n;return 0}},{key:"maxAutoLevel",get:function(){var i=this,t=i.levels,r=i.autoLevelCapping,n=void 0;return n=r===-1&&t&&t.length?t.length-1:r}},{key:"nextAutoLevel",get:function(){var n=this;return Math.min(Math.max(n.abrController.nextAutoLevel,n.minAutoLevel),n.maxAutoLevel)},set:function(n){var t=this;t.abrController.nextAutoLevel=Math.max(t.minAutoLevel,n)}},{key:"audioTracks",get:function(){var n=this.audioTrackController;return n?n.audioTracks:[]}},{key:"audioTrack",get:function(){var n=this.audioTrackController;return n?n.audioTrack:-1},set:function(n){var t=this.audioTrackController;t&&(t.audioTrack=n)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var n=this.subtitleTrackController;return n?n.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var n=this.subtitleTrackController;return n?n.subtitleTrack:-1},set:function(n){var t=this.subtitleTrackController;t&&(t.subtitleTrack=n)}}]),n}(),i.default=e},{"1":1,"11":11,"12":12,"13":13,"2":2,"31":31,"33":33,"39":39,"4":4,"40":40,"41":41,"51":51}],38:[function(n,t){"use strict";t.exports=n(37).default},{"37":37}],39:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function l(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function h(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f;Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),y=n(33),r=e(y),a=n(32),o=e(a),u=n(31),v=n(51);f=function(n){function t(n){l(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.FRAG_LOADING));return i.loaders={},i}return h(t,n),c(t,[{key:"destroy",value:function(){var t=this.loaders,i,n;for(i in t)n=t[i],n&&n.destroy();this.loaders={},o.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(n){var i=n.frag,o=i.type,u=this.loaders[o],t=this.hls.config,f,e;i.loaded=0,u&&(v.logger.warn("abort previous fragment loader for type:"+o),u.abort()),u=this.loaders[o]=i.loader=typeof t.fLoader!="undefined"?new t.fLoader(t):new t.loader(t);var r=void 0,h=void 0,s=void 0;r={url:i.url,frag:i,responseType:"arraybuffer",progressData:!1},f=i.byteRangeStartOffset,e=i.byteRangeEndOffset,isNaN(f)||isNaN(e)||(r.rangeStart=f,r.rangeEnd=e),h={timeout:t.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:t.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},u.load(r,h,s)}},{key:"loadsuccess",value:function(n,t,i){var f=n.data,u=i.frag;u.loader=undefined,this.loaders[u.type]=undefined,this.hls.trigger(r.default.FRAG_LOADED,{payload:f,frag:u,stats:t})}},{key:"loaderror",value:function(n,t){var i=t.loader;i&&i.abort(),this.loaders[t.type]=undefined,this.hls.trigger(r.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:n})}},{key:"loadtimeout",value:function(n,t){var i=t.loader;i&&i.abort(),this.loaders[t.type]=undefined,this.hls.trigger(r.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(n,t){var u=t.frag;u.loaded=n.loaded,this.hls.trigger(r.default.FRAG_LOAD_PROGRESS,{frag:u,stats:n})}}]),t}(o.default),i.default=f},{"31":31,"32":32,"33":33,"51":51}],40:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function l(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function h(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f;Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),y=n(33),r=e(y),a=n(32),o=e(a),u=n(31),v=n(51);f=function(n){function t(n){l(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.default.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return h(t,n),c(t,[{key:"destroy",value:function(){var t,n;for(t in this.loaders)n=this.loaders[t],n&&n.destroy();this.loaders={},o.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(n){var i=n.frag,f=i.type,h=this.loaders[f],c=i.decryptdata,u=c.uri,t;if(u!==this.decrypturl||this.decryptkey===null){t=this.hls.config,h&&(v.logger.warn("abort previous key loader for type:"+f),h.abort()),i.loader=this.loaders[f]=new t.loader(t),this.decrypturl=u,this.decryptkey=null;var s=void 0,o=void 0,e=void 0;s={url:u,frag:i,responseType:"arraybuffer"},o={timeout:t.fragLoadingTimeOut,maxRetry:t.fragLoadingMaxRetry,retryDelay:t.fragLoadingRetryDelay,maxRetryDelay:t.fragLoadingMaxRetryTimeout},e={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},i.loader.load(s,o,e)}else this.decryptkey&&(c.key=this.decryptkey,this.hls.trigger(r.default.KEY_LOADED,{frag:i}))}},{key:"loadsuccess",value:function(n,t,i){var u=i.frag;this.decryptkey=u.decryptdata.key=new Uint8Array(n.data),u.loader=undefined,this.loaders[u.type]=undefined,this.hls.trigger(r.default.KEY_LOADED,{frag:u})}},{key:"loaderror",value:function(n,t){var f=t.frag,i=f.loader;i&&i.abort(),this.loaders[t.type]=undefined,this.hls.trigger(r.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:f,response:n})}},{key:"loadtimeout",value:function(n,t){var f=t.frag,i=f.loader;i&&i.abort(),this.loaders[t.type]=undefined,this.hls.trigger(r.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:f})}}]),t}(o.default),i.default=f},{"31":31,"32":32,"33":33,"51":51}],41:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function it(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function tt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),rt=n(2),a=o(rt),nt=n(33),u=o(nt),g=n(32),p=o(g),r=n(31),d=n(45),e=o(d),f=n(51);var w=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,y=/#EXT-X-MEDIA:(.*)/g,v=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,k=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,s=function(){function n(){c(this,n),this.method=null,this.key=null,this.iv=null,this._uri=null}return h(n,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=a.default.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),n}(),l=function(){function n(){c(this,n),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return h(n,[{key:"createInitializationVector",value:function(n){for(var i=new Uint8Array(16),t=12;t<16;t++)i[t]=n>>8*(15-t)&255;return i}},{key:"fragmentDecryptdataFromLevelkey",value:function(n,t){var i=n;return n&&n.method&&n.uri&&!n.iv&&(i=new s,i.method=n.method,i.baseuri=n.baseuri,i.reluri=n.reluri,i.iv=this.createInitializationVector(t)),i}},{key:"cloneObj",value:function(n){return JSON.parse(JSON.stringify(n))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=a.default.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(n){this._url=n}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){var n,t,i;return this._byteRange||(n=this._byteRange=[],this.rawByteRange&&(t=this.rawByteRange.split("@",2),t.length===1?(i=this.lastByteRangeEndOffset,n[0]=i?i:0):n[0]=parseInt(t[1]),n[1]=parseInt(t[0])+n[0])),this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),n}(),b=function(n){function t(n){c(this,t);var i=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,u.default.MANIFEST_LOADING,u.default.LEVEL_LOADING,u.default.AUDIO_TRACK_LOADING,u.default.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return tt(t,n),h(t,[{key:"destroy",value:function(){var t,n;for(t in this.loaders)n=this.loaders[t],n&&n.destroy();this.loaders={},p.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(n){this.load(n.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(n){this.load(n.url,{type:"level",level:n.level,id:n.id})}},{key:"onAudioTrackLoading",value:function(n){this.load(n.url,{type:"audioTrack",id:n.id})}},{key:"onSubtitleTrackLoading",value:function(n){this.load(n.url,{type:"subtitleTrack",id:n.id})}},{key:"load",value:function(n,t){var r=this.loaders[t.type],h,e,o;if(r){if(h=r.context,h&&h.url===n){f.logger.trace("playlist request ongoing");return}f.logger.warn("abort previous loader for type:"+t.type),r.abort()}var i=this.hls.config,c=void 0,l=void 0,s=void 0,u=void 0;t.type==="manifest"?(c=i.manifestLoadingMaxRetry,l=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,u=i.manifestLoadingMaxRetryTimeout):(c=i.levelLoadingMaxRetry,l=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,u=i.levelLoadingMaxRetryTimeout,f.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),r=this.loaders[t.type]=t.loader=typeof i.pLoader!="undefined"?new i.pLoader(i):new i.loader(i),t.url=n,t.responseType="",e=void 0,o=void 0,e={timeout:l,maxRetry:c,retryDelay:s,maxRetryDelay:u},o={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,e,o)}},{key:"resolve",value:function(n,t){return a.default.buildAbsoluteURL(t,n,{alwaysNormalize:!0})}},{key:"parseMasterPlaylist",value:function(n,t){var c=[],h=void 0,i,r,s,u,f,o;for(w.lastIndex=0;(h=w.exec(n))!=null;){if(i={},r=i.attrs=new e.default(h[1]),i.url=this.resolve(h[2],t),s=r.decimalResolution("RESOLUTION"),s&&(i.width=s.width,i.height=s.height),i.bitrate=r.decimalInteger("AVERAGE-BANDWIDTH")||r.decimalInteger("BANDWIDTH"),i.name=r.NAME,u=r.CODECS,u)for(u=u.split(/[ ,]+/),f=0;f<u.length;f++)o=u[f],o.indexOf("avc1")!==-1?i.videoCodec=this.avc1toavcoti(o):i.audioCodec=o;c.push(i)}return c}},{key:"parseMasterPlaylistMedia",value:function(n,t,i){var f=void 0,o=[],s=0,r,u;for(y.lastIndex=0;(f=y.exec(n))!=null;)r={},u=new e.default(f[1]),u.TYPE===i&&(r.groupId=u["GROUP-ID"],r.name=u.NAME,r.type=i,r.default=u.DEFAULT==="YES",r.autoselect=u.AUTOSELECT==="YES",r.forced=u.FORCED==="YES",u.URI&&(r.url=this.resolve(u.URI,t)),r.lang=u.LANGUAGE,r.name||(r.name=r.lang),r.id=s++,o.push(r));return o}},{key:"avc1toavcoti",value:function(n){var t,i=n.split(".");return i.length>2?(t=i.shift()+".",t+=parseInt(i.shift()).toString(16),t+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):t=n,t}},{key:"parseLevelPlaylist",value:function(n,t,i,r){var ft=0,b=0,h={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},y=new s,rt=0,d=null,u=new l,o,a,w,p,st,ut,c,nt,g;for(v.lastIndex=0;(o=v.exec(n))!==null;)if(w=o[1],w)u.duration=parseFloat(w),p=(" "+o[2]).slice(1),u.title=p?p:null,u.tagList.push(p?["INF",w,p]:["INF",w]);else if(o[3])isNaN(u.duration)||(st=ft++,u.type=r,u.start=b,u.levelkey=y,u.sn=st,u.level=i,u.cc=rt,u.baseurl=t,u.relurl=(" "+o[3]).slice(1),h.fragments.push(u),d=u,b+=u.duration,u=new l);else if(o[4])u.rawByteRange=(" "+o[4]).slice(1),d&&(ut=d.byteRangeEndOffset,ut&&(u.lastByteRangeEndOffset=ut));else if(o[5])u.rawProgramDateTime=(" "+o[5]).slice(1),u.tagList.push(["PROGRAM-DATE-TIME",u.rawProgramDateTime]);else{for(o=o[0].match(k),a=1;a<o.length;a++)if(o[a]!==undefined)break;c=(" "+o[a+1]).slice(1),nt=(" "+o[a+2]).slice(1);switch(o[a]){case"#":u.tagList.push(nt?[c,nt]:[c]);break;case"PLAYLIST-TYPE":h.type=c.toUpperCase();break;case"MEDIA-SEQUENCE":ft=h.startSN=parseInt(c);break;case"TARGETDURATION":h.targetduration=parseFloat(c);break;case"VERSION":h.version=parseInt(c);break;case"EXTM3U":break;case"ENDLIST":h.live=!1;break;case"DIS":rt++,u.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":rt=parseInt(c);break;case"KEY":var ht=c,it=new e.default(ht),tt=it.enumeratedString("METHOD"),ot=it.URI,lt=it.hexadecimalInteger("IV");tt&&(y=new s,ot&&["AES-128","SAMPLE-AES"].indexOf(tt)>=0&&(y.method=tt,y.baseuri=t,y.reluri=ot,y.key=null,y.iv=lt));break;case"START":var at=c,ct=new e.default(at),et=ct.decimalFloatingPoint("TIME-OFFSET");isNaN(et)||(h.startTimeOffset=et);break;case"MAP":g=new e.default(c),u.relurl=g.URI,u.rawByteRange=g.BYTERANGE,u.baseurl=t,u.level=i,u.type=r,u.sn="initSegment",h.initSegment=u,u=new l;break;default:f.logger.warn("line parsed but not handled: "+o)}}return u=d,u&&!u.relurl&&(h.fragments.pop(),b-=u.duration),h.totalduration=b,h.averagetargetduration=b/h.fragments.length,h.endSN=ft-1,h}},{key:"loadsuccess",value:function(n,t,i){var c=n.data,e=n.url,s=i.type,a=i.id,p=i.level,o=this.hls,l,v,w,y;if(this.loaders[s]=undefined,(e===undefined||e.indexOf("data:")===0)&&(e=i.url),t.tload=performance.now(),c.indexOf("#EXTM3U")===0)if(c.indexOf("#EXTINF:")>0){var k=s!=="audioTrack"&&s!=="subtitleTrack",b=isNaN(p)?isNaN(a)?0:a:p,h=this.parseLevelPlaylist(c,e,b,s==="audioTrack"?"audio":s==="subtitleTrack"?"subtitle":"main");h.tload=t.tload,s==="manifest"&&o.trigger(u.default.MANIFEST_LOADED,{levels:[{url:e,details:h}],audioTracks:[],url:e,stats:t}),t.tparsed=performance.now(),h.targetduration?k?o.trigger(u.default.LEVEL_LOADED,{details:h,level:p||0,id:a||0,stats:t}):s==="audioTrack"?o.trigger(u.default.AUDIO_TRACK_LOADED,{details:h,id:a,stats:t}):s==="subtitleTrack"&&o.trigger(u.default.SUBTITLE_TRACK_LOADED,{details:h,id:a,stats:t}):o.trigger(u.default.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e,reason:"invalid targetduration"})}else l=this.parseMasterPlaylist(c,e),l.length?(v=this.parseMasterPlaylistMedia(c,e,"AUDIO"),w=this.parseMasterPlaylistMedia(c,e,"SUBTITLES"),v.length&&(y=!1,v.forEach(function(n){n.url||(y=!0)}),y===!1&&l[0].audioCodec&&!l[0].attrs.AUDIO&&(f.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main"}))),o.trigger(u.default.MANIFEST_LOADED,{levels:l,audioTracks:v,subtitles:w,url:e,stats:t})):o.trigger(u.default.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e,reason:"no level found in manifest"});else o.trigger(u.default.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(n,t){var e,f,i=t.loader;switch(t.type){case"manifest":e=r.ErrorDetails.MANIFEST_LOAD_ERROR,f=!0;break;case"level":e=r.ErrorDetails.LEVEL_LOAD_ERROR,f=!1;break;case"audioTrack":e=r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,f=!1}i&&(i.abort(),this.loaders[t.type]=undefined),this.hls.trigger(u.default.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:e,fatal:f,url:i.url,loader:i,response:n,context:t})}},{key:"loadtimeout",value:function(n,t){var e,f,i=t.loader;switch(t.type){case"manifest":e=r.ErrorDetails.MANIFEST_LOAD_TIMEOUT,f=!0;break;case"level":e=r.ErrorDetails.LEVEL_LOAD_TIMEOUT,f=!1;break;case"audioTrack":e=r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,f=!1}i&&(i.abort(),this.loaders[t.type]=undefined),this.hls.trigger(u.default.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:e,fatal:f,url:i.url,loader:i,context:t})}}]),t}(p.default);i.default=b},{"2":2,"31":31,"32":32,"33":33,"45":45,"51":51}],42:[function(n,t,i){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var f,r,u;Object.defineProperty(i,"__esModule",{value:!0}),f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=Math.pow(2,32)-1,u=function(){function n(){e(this,n)}return f(n,null,[{key:"init",value:function(){var t,f,e,u,i;n.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};for(t in n.types)n.types.hasOwnProperty(t)&&(n.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);f=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),n.HDLR_TYPES={video:f,audio:e},u=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]),n.STTS=n.STSC=n.STCO=i,n.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),n.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),n.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var r=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),o=new Uint8Array([0,0,0,1]);n.FTYP=n.box(n.types.ftyp,r,o,r,s),n.DINF=n.box(n.types.dinf,n.box(n.types.dref,u))}},{key:"box",value:function(n){for(var u=Array.prototype.slice.call(arguments,1),t=8,r=u.length,f=r,i;r--;)t+=u[r].byteLength;for(i=new Uint8Array(t),i[0]=t>>24&255,i[1]=t>>16&255,i[2]=t>>8&255,i[3]=t&255,i.set(n,4),r=0,t=8;r<f;r++)i.set(u[r],t),t+=u[r].byteLength;return i}},{key:"hdlr",value:function(t){return n.box(n.types.hdlr,n.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return n.box(n.types.mdat,t)}},{key:"mdhd",value:function(t,i){i*=t;var f=Math.floor(i/(r+1)),u=Math.floor(i%(r+1));return n.box(n.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,f>>24,f>>16&255,f>>8&255,f&255,u>>24,u>>16&255,u>>8&255,u&255,85,196,0,0]))}},{key:"mdia",value:function(t){return n.box(n.types.mdia,n.mdhd(t.timescale,t.duration),n.hdlr(t.type),n.minf(t))}},{key:"mfhd",value:function(t){return n.box(n.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255]))}},{key:"minf",value:function(t){return t.type==="audio"?n.box(n.types.minf,n.box(n.types.smhd,n.SMHD),n.DINF,n.stbl(t)):n.box(n.types.minf,n.box(n.types.vmhd,n.VMHD),n.DINF,n.stbl(t))}},{key:"moof",value:function(t,i,r){return n.box(n.types.moof,n.mfhd(t),n.traf(r,i))}},{key:"moov",value:function(t){for(var i=t.length,r=[];i--;)r[i]=n.trak(t[i]);return n.box.apply(null,[n.types.moov,n.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(n.mvex(t)))}},{key:"mvex",value:function(t){for(var i=t.length,r=[];i--;)r[i]=n.trex(t[i]);return n.box.apply(null,[n.types.mvex].concat(r))}},{key:"mvhd",value:function(t,i){i*=t;var f=Math.floor(i/(r+1)),u=Math.floor(i%(r+1)),e=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,f>>24,f>>16&255,f>>8&255,f&255,u>>24,u>>16&255,u>>8&255,u&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n.box(n.types.mvhd,e)}},{key:"sdtp",value:function(t){for(var u=t.samples||[],f=new Uint8Array(4+u.length),r,i=0;i<u.length;i++)r=u[i].flags,f[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return n.box(n.types.sdtp,f)}},{key:"stbl",value:function(t){return n.box(n.types.stbl,n.stsd(t),n.box(n.types.stts,n.STTS),n.box(n.types.stsc,n.STSC),n.box(n.types.stsz,n.STSZ),n.box(n.types.stco,n.STCO))}},{key:"avc1",value:function(t){for(var r=[],e=[],f,u,i=0;i<t.sps.length;i++)f=t.sps[i],u=f.byteLength,r.push(u>>>8&255),r.push(u&255),r=r.concat(Array.prototype.slice.call(f));for(i=0;i<t.pps.length;i++)f=t.pps[i],u=f.byteLength,e.push(u>>>8&255),e.push(u&255),e=e.concat(Array.prototype.slice.call(f));var l=n.box(n.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|t.sps.length].concat(r).concat([t.pps.length]).concat(e))),h=t.width,c=t.height,o=t.pixelRatio[0],s=t.pixelRatio[1];return n.box(n.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,h&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,n.box(n.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),n.box(n.types.pasp,new Uint8Array([o>>24,o>>16&255,o>>8&255,o&255,s>>24,s>>16&255,s>>8&255,s&255])))}},{key:"esds",value:function(n){var t=n.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(n.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var i=t.samplerate;return n.box(n.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,i&255,0,0]),n.box(n.types.esds,n.esds(t)))}},{key:"mp3",value:function(t){var i=t.samplerate;return n.box(n.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,i&255,0,0]))}},{key:"stsd",value:function(t){return t.type==="audio"?!t.isAAC&&t.codec==="mp3"?n.box(n.types.stsd,n.STSD,n.mp3(t)):n.box(n.types.stsd,n.STSD,n.mp4a(t)):n.box(n.types.stsd,n.STSD,n.avc1(t))}},{key:"tkhd",value:function(t){var f=t.id,o=t.duration*t.timescale,e=t.width,s=t.height,u=Math.floor(o/(r+1)),i=Math.floor(o%(r+1));return n.box(n.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,f>>24&255,f>>16&255,f>>8&255,f&255,0,0,0,0,u>>24,u>>16&255,u>>8&255,u&255,i>>24,i>>16&255,i>>8&255,i&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>8&255,e&255,0,0,s>>8&255,s&255,0,0]))}},{key:"traf",value:function(t,i){var o=n.sdtp(t),f=t.id,u=Math.floor(i/(r+1)),e=Math.floor(i%(r+1));return n.box(n.types.traf,n.box(n.types.tfhd,new Uint8Array([0,0,0,0,f>>24,f>>16&255,f>>8&255,f&255])),n.box(n.types.tfdt,new Uint8Array([1,0,0,0,u>>24,u>>16&255,u>>8&255,u&255,e>>24,e>>16&255,e>>8&255,e&255])),n.trun(t,o.length+16+20+8+16+8+8),o)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,n.box(n.types.trak,n.tkhd(t),n.mdia(t))}},{key:"trex",value:function(t){var i=t.id;return n.box(n.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,i){var a=t.samples||[],u=a.length,l=12+16*u,c=new Uint8Array(l),h,f,e,o,r,s;for(i+=8+l,c.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,u&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255],0),h=0;h<u;h++)f=a[h],e=f.duration,o=f.size,r=f.flags,s=f.cts,c.set([e>>>24&255,e>>>16&255,e>>>8&255,e&255,o>>>24&255,o>>>16&255,o>>>8&255,o&255,r.isLeading<<2|r.dependsOn,r.isDependedOn<<6|r.hasRedundancy<<4|r.paddingValue<<1|r.isNonSync,r.degradPrio&61440,r.degradPrio&15,s>>>24&255,s>>>16&255,s>>>8&255,s&255],12+16*h);return n.box(n.types.trun,c)}},{key:"initSegment",value:function(t){n.types||n.init();var r=n.moov(t),i;return i=new Uint8Array(n.FTYP.byteLength+r.byteLength),i.set(n.FTYP),i.set(r,n.FTYP.byteLength),i}}]),n}(),i.default=u},{}],43:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var h;Object.defineProperty(i,"__esModule",{value:!0});var v=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),y=n(34),o=s(y),a=n(33),u=s(a),r=n(51),l=n(42),e=s(l),f=n(31);h=function(){function n(t,i,r,u){c(this,n),this.observer=t,this.config=i,this.typeSupported=r;var f=navigator.userAgent;this.isSafari=u&&u.indexOf("Apple")>-1&&f&&!f.match("CriOS"),this.ISGenerated=!1}return v(n,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(n){this._initPTS=this._initDTS=n}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(n,t,i,f,e,o,s){var c,l,h;this.ISGenerated||this.generateIS(n,t,e),this.ISGenerated&&(n.samples.length?(n.timescale||(r.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(n,t,e)),c=this.remuxAudio(n,e,o,s),t.samples.length&&(l=void 0,c&&(l=c.endPTS-c.startPTS),t.timescale||(r.logger.warn("regenerate InitSegment as video detected"),this.generateIS(n,t,e)),this.remuxVideo(t,e,o,l))):(h=void 0,t.samples.length&&(h=this.remuxVideo(t,e,o)),h&&n.codec&&this.remuxEmptyAudio(n,e,o,h))),i.samples.length&&this.remuxID3(i,e),f.samples.length&&this.remuxText(f,e),this.observer.trigger(u.default.FRAG_PARSED)}},{key:"generateIS",value:function(n,t,i){var y=this.observer,w=n.samples,v=t.samples,a=this.typeSupported,p="audio/mp4",h={},b={tracks:h},c=this._initPTS===undefined,o,s,l;c&&(o=s=Infinity),n.config&&w.length&&(n.timescale=n.samplerate,r.logger.log("audio sampling rate : "+n.samplerate),n.isAAC||(a.mpeg?(p="audio/mpeg",n.codec=""):a.mp3&&(n.codec="mp3")),h.audio={container:p,codec:n.codec,initSegment:!n.isAAC&&a.mpeg?new Uint8Array:e.default.initSegment([n]),metadata:{channelCount:n.channelCount}},c&&(o=s=w[0].pts-n.inputTimeScale*i)),t.sps&&t.pps&&v.length&&(l=t.inputTimeScale,t.timescale=l,h.video={container:"video/mp4",codec:t.codec,initSegment:e.default.initSegment([t]),metadata:{width:t.width,height:t.height}},c&&(o=Math.min(o,v[0].pts-l*i),s=Math.min(s,v[0].dts-l*i),this.observer.trigger(u.default.INIT_PTS_FOUND,{initPTS:o}))),Object.keys(h).length?(y.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,b),this.ISGenerated=!0,c&&(this._initPTS=o,this._initDTS=s)):y.trigger(u.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(n,t,i,o){var st=8,k=n.timescale,h,ut,oi,b,l,li,ft,et,s=n.samples,rt=[],kt=s.length,d=this._PTSNormalize,w=this._initDTS,lt,ht,c,g,p,ct,gt,dt,nt,at,tt,bt,v,vt,hi,ot,it,ri,ii,ni;if(s.sort(function(n,t){var r=n.dts-t.dts,i=n.pts-t.pts;return r?r:i?i:n.id-t.id}),lt=s.reduce(function(n,t){return Math.max(Math.min(n,t.pts-t.dts),-18e3)},0),lt<0)for(r.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(lt/90)+" ms to overcome this issue"),ht=0;ht<s.length;ht++)s[ht].dts+=lt;for(c=void 0,c=i?this.nextAvcDts:t*k,g=s[0],l=Math.max(d(g.dts-w,c),0),b=Math.max(d(g.pts-w,c),0),p=Math.round((l-c)/90),i&&p&&(p>1?r.logger.log("AVC:"+p+" ms hole between fragments detected,filling it"):p<-1&&r.logger.log("AVC:"+-p+" ms overlapping between fragments detected"),l=c,s[0].dts=l+w,b=Math.max(b-p,c),s[0].pts=b+w,r.logger.log("Video/PTS/DTS adjusted: "+Math.round(b/90)+"/"+Math.round(l/90)+",delta:"+p+" ms")),li=l,g=s[s.length-1],et=Math.max(d(g.dts-w,c),0),ft=Math.max(d(g.pts-w,c),0),ft=Math.max(ft,et),ct=this.isSafari,ct&&(h=Math.round((et-l)/(s.length-1))),gt=0,dt=0,nt=0;nt<kt;nt++){var y=s[nt],si=y.units,ei=si.length,ti=0;for(at=0;at<ei;at++)ti+=si[at].data.length;dt+=ti,gt+=ei,y.length=ti,y.dts=ct?l+nt*h:Math.max(d(y.dts-w,c),l),y.pts=Math.max(d(y.pts-w,c),y.dts)}tt=dt+4*gt+8;try{ut=new Uint8Array(tt)}catch(wi){this.observer.trigger(u.default.ERROR,{type:f.ErrorTypes.MUX_ERROR,details:f.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:tt,reason:"fail allocating video mdat "+tt});return}for(bt=new DataView(ut.buffer),bt.setUint32(0,tt),ut.set(e.default.types.mdat,4),v=0;v<kt;v++){var a=s[v],fi=a.units,ci=0,wt=void 0;for(vt=0,hi=fi.length;vt<hi;vt++){var ui=fi[vt],vi=ui.data,pt=ui.data.byteLength;bt.setUint32(st,pt),st+=4,ut.set(vi,st),st+=pt,ci+=4+pt}if(ct)wt=Math.max(0,h*Math.round((a.pts-a.dts)/h));else{if(v<kt-1)h=s[v+1].dts-a.dts;else if(ot=this.config,it=a.dts-s[v>0?v-1:v].dts,ot.stretchShortVideoTrack){var ai=ot.maxBufferHole,pi=ot.maxSeekHole,yi=Math.floor(Math.min(ai,pi)*k),yt=(o?b+o*k:this.nextAudioPts)-a.pts;yt>yi?(h=yt-it,h<0&&(h=it),r.logger.log("It is approximately "+yt/90+" ms to the next segment; using duration "+h/90+" ms for the last video frame.")):h=it}else h=it;wt=Math.round(a.pts-a.dts)}rt.push({size:ci,duration:h,cts:wt,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:a.key?2:1,isNonSync:a.key?0:1}})}return this.nextAvcDts=et+h,ri=n.dropped,n.len=0,n.nbNalu=0,n.dropped=0,rt.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(ii=rt[0].flags,ii.dependsOn=2,ii.isNonSync=0),n.samples=rt,oi=e.default.moof(n.sequenceNumber++,l,n),n.samples=[],ni={data1:oi,data2:ut,startPTS:b/k,endPTS:(ft+h)/k,startDTS:l/k,endDTS:this.nextAvcDts/k,type:"video",nb:rt.length,dropped:ri},this.observer.trigger(u.default.FRAG_PARSING_DATA,ni),ni}},{key:"remuxAudio",value:function(n,t,i,s){var l=n.inputTimeScale,si=n.timescale,et=l/si,ci=n.isAAC?1024:1152,a=ci*et,lt=this._PTSNormalize,k=this._initDTS,pt=!n.isAAC&&this.typeSupported.mpeg,oi,wt=pt?0:8,bt,rt,ft,ut,kt,ei,ni,at,gt,dt,w,d,ot=[],v=[],h,it,c,p,y,ti,ii,vt,fi,g,tt,ct,yt,ui,st,ht,ri;if(n.samples.sort(function(n,t){return n.pts-t.pts}),v=n.samples,c=this.nextAudioPts,i|=v.length&&c&&(s&&Math.abs(t-c/l)<.1||Math.abs(v[0].pts-c-k)<20*a),i||(c=t*l),s&&n.isAAC)for(p=0,y=c;p<v.length;){var b=v[p],hi=lt(b.pts-k,c),nt=hi-y;if(nt<=-a)r.logger.warn("Dropping 1 audio frame @ "+(y/l).toFixed(3)+"s due to "+Math.abs(1e3*nt/l)+" ms overlap."),v.splice(p,1),n.len-=b.unit.length;else if(nt>=a&&y){for(ti=Math.round(nt/a),r.logger.warn("Injecting "+ti+" audio frame @ "+(y/l).toFixed(3)+"s due to "+1e3*nt/l+" ms gap."),ii=0;ii<ti;ii++)it=y+k,it=Math.max(it,k),h=o.default.getSilentFrame(n.manifestCodec||n.codec,n.channelCount),h||(r.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),h=b.unit.subarray()),v.splice(p,0,{unit:h,pts:it,dts:it}),n.len+=h.length,y+=a,p+=1;b.pts=b.dts=y+k,y+=a,p+=1}else Math.abs(nt)>.1*a,y+=a,b.pts=p===0?b.dts=k+c:b.dts=v[p-1].pts+a,p+=1}for(vt=0,fi=v.length;vt<fi;vt++){if(bt=v[vt],ft=bt.unit,gt=bt.pts-k,dt=bt.dts-k,at!==undefined)w=lt(gt,at),d=lt(dt,at),rt.duration=Math.round((d-at)/et);else{if(w=lt(gt,c),d=lt(dt,c),g=Math.round(1e3*(w-c)/l),tt=0,i&&n.isAAC&&g){if(g>0)tt=Math.round((w-c)/a),r.logger.log(g+" ms hole between AAC samples detected,filling it"),tt>0&&(h=o.default.getSilentFrame(n.manifestCodec||n.codec,n.channelCount),h||(h=ft.subarray()),n.len+=tt*h.length);else if(g<-12){r.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(c/l).toFixed(3)+"s/"+(w/l).toFixed(3)+"s/"+-g+"ms"),n.len-=ft.byteLength;continue}w=d=c}if(ei=Math.max(0,w),ni=Math.max(0,d),n.len>0){ct=pt?n.len:n.len+8;try{ut=new Uint8Array(ct)}catch(li){this.observer.trigger(u.default.ERROR,{type:f.ErrorTypes.MUX_ERROR,details:f.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:ct,reason:"fail allocating audio mdat "+ct});return}pt||(oi=new DataView(ut.buffer),oi.setUint32(0,ct),ut.set(e.default.types.mdat,4))}else return;for(yt=0;yt<tt;yt++)it=w-(tt-yt)*a,h=o.default.getSilentFrame(n.manifestCodec||n.codec,n.channelCount),h||(r.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),h=ft.subarray()),ut.set(h,wt),wt+=h.byteLength,rt={size:h.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},ot.push(rt)}ut.set(ft,wt),ui=ft.byteLength,wt+=ui,rt={size:ui,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},ot.push(rt),at=d}return(st=0,ht=ot.length,ht>=2&&(st=ot[ht-2].duration,rt.duration=st),ht)?(this.nextAudioPts=w+et*st,n.len=0,n.samples=ot,kt=pt?new Uint8Array:e.default.moof(n.sequenceNumber++,ni/et,n),n.samples=[],ri={data1:kt,data2:ut,startPTS:ei/l,endPTS:this.nextAudioPts/l,startDTS:ni/l,endDTS:(d+et*st)/l,type:"audio",nb:ht},this.observer.trigger(u.default.FRAG_PARSING_DATA,ri),ri):null}},{key:"remuxEmptyAudio",value:function(n,t,i,u){var e=n.inputTimeScale,p=n.samplerate?n.samplerate:e,w=e/p,a=this.nextAudioPts,v=(a!==undefined?a:u.startDTS*e)+this._initDTS,y=u.endDTS*e+this._initDTS,b=1024,l=w*b,k=Math.ceil((y-v)/l),s=o.default.getSilentFrame(n.manifestCodec||n.codec,n.channelCount),h,f,c;if(r.logger.warn("remux empty Audio"),!s){r.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");return}for(h=[],f=0;f<k;f++)c=v+f*l,h.push({unit:s,pts:c,dts:c}),n.len+=s.length;n.samples=h,this.remuxAudio(n,t,i)}},{key:"remuxID3",value:function(n,t){var f=n.samples.length,i,e=n.inputTimeScale,o=this._initPTS,s=this._initDTS,r;if(f){for(r=0;r<f;r++)i=n.samples[r],i.pts=(i.pts-o)/e,i.dts=(i.dts-s)/e;this.observer.trigger(u.default.FRAG_PARSING_METADATA,{samples:n.samples})}n.samples=[],t=t}},{key:"remuxText",value:function(n,t){var i;n.samples.sort(function(n,t){return n.pts-t.pts});var f=n.samples.length,r,e=n.inputTimeScale,o=this._initPTS;if(f){for(i=0;i<f;i++)r=n.samples[i],r.pts=(r.pts-o)/e;this.observer.trigger(u.default.FRAG_PARSING_USERDATA,{samples:n.samples})}n.samples=[],t=t}},{key:"_PTSNormalize",value:function(n,t){var i;if(t===undefined)return n;for(i=t<n?-8589934592:8589934592;Math.abs(n-t)>4294967296;)n+=i;return n}}]),n}(),i.default=h},{"31":31,"33":33,"34":34,"42":42,"51":51}],44:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=n(33),r=s(e);u=function(){function n(t){f(this,n),this.observer=t}return o(n,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(n,t,i,u,f,e,o,s){var c=this.observer,h="";n&&(h+="audio"),t&&(h+="video"),c.trigger(r.default.FRAG_PARSING_DATA,{data1:s,startPTS:f,startDTS:f,type:h,nb:1,dropped:0}),c.trigger(r.default.FRAG_PARSED)}}]),n}(),i.default=u},{"33":33}],45:[function(n,t,i){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u;Object.defineProperty(i,"__esModule",{value:!0}),u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();var o=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,f=function(){function n(t){e(this,n),typeof t=="string"&&(t=n.parseAttrList(t));for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])}return u(n,[{key:"decimalInteger",value:function(n){var t=parseInt(this[n],10);return t>Number.MAX_SAFE_INTEGER?Infinity:t}},{key:"hexadecimalInteger",value:function(n){var t,r,i;if(this[n]){for(t=(this[n]||"0x").slice(2),t=(t.length&1?"0":"")+t,r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(i*2,i*2+2),16);return r}return null}},{key:"hexadecimalIntegerAsNumber",value:function(n){var t=parseInt(this[n],16);return t>Number.MAX_SAFE_INTEGER?Infinity:t}},{key:"decimalFloatingPoint",value:function(n){return parseFloat(this[n])}},{key:"enumeratedString",value:function(n){return this[n]}},{key:"decimalResolution",value:function(n){var t=o.exec(this[n]);return t===null?undefined:{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(n){var u,f={},t,i;for(r.lastIndex=0;(u=r.exec(n))!==null;)t=u[2],i='"',t.indexOf(i)===0&&t.lastIndexOf(i)===t.length-1&&(t=t.slice(1,-1)),f[u[1]]=t;return f}}]),n}();i.default=f},{}],46:[function(n,t){"use strict";var r={search:function(n,t){for(var f=0,e=n.length-1,i=null,u=null,r;f<=e;)if(i=(f+e)/2|0,u=n[i],r=t(u),r>0)f=i+1;else if(r<0)e=i-1;else return u;return null}};t.exports=r},{}],47:[function(n,t,i){"use strict";function s(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var e;Object.defineProperty(i,"__esModule",{value:!0}),e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(n){var t=n;return c.hasOwnProperty(n)&&(t=c[n]),String.fromCharCode(t)},u=15,f=100,b={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},k={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},g={25:2,26:4,29:6,30:8,31:10,27:13,28:15},nt=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],r={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(n){this.time=n},log:function(n,t){var i=this.verboseFilter[n];this.verboseLevel>=i&&console.log(this.time+" ["+n+"] "+t)}},o=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t].toString(16));return i},l=function(){function n(t,i,r,u,f){s(this,n),this.foreground=t||"white",this.underline=i||!1,this.italics=r||!1,this.background=u||"black",this.flash=f||!1}return e(n,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(n){for(var r=["foreground","underline","italics","background","flash"],i,t=0;t<r.length;t++)i=r[t],n.hasOwnProperty(i)&&(this[i]=n[i])}},{key:"isDefault",value:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}},{key:"equals",value:function(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash}},{key:"copy",value:function(n){this.foreground=n.foreground,this.underline=n.underline,this.italics=n.italics,this.background=n.background,this.flash=n.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),n}(),w=function(){function n(t,i,r,u,f,e){s(this,n),this.uchar=t||" ",this.penState=new l(i,r,u,f,e)}return e(n,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(n,t){this.uchar=n,this.penState.copy(t)}},{key:"setPenState",value:function(n){this.penState.copy(n)}},{key:"equals",value:function(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)}},{key:"copy",value:function(n){this.uchar=n.uchar,this.penState.copy(n.penState)}},{key:"isEmpty",value:function(){return this.uchar===" "&&this.penState.isDefault()}}]),n}(),p=function(){function n(){s(this,n),this.chars=[];for(var t=0;t<f;t++)this.chars.push(new w);this.pos=0,this.currPenState=new l}return e(n,[{key:"equals",value:function(n){for(var i=!0,t=0;t<f;t++)if(!this.chars[t].equals(n.chars[t])){i=!1;break}return i}},{key:"copy",value:function(n){for(var t=0;t<f;t++)this.chars[t].copy(n.chars[t])}},{key:"isEmpty",value:function(){for(var t=!0,n=0;n<f;n++)if(!this.chars[n].isEmpty()){t=!1;break}return t}},{key:"setCursor",value:function(n){this.pos!==n&&(this.pos=n),this.pos<0?(r.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>f&&(r.log("ERROR","Too large cursor position "+this.pos),this.pos=f)}},{key:"moveCursor",value:function(n){var i=this.pos+n,t;if(n>1)for(t=this.pos+1;t<i+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(i)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(n){n>=144&&this.backSpace();var t=a(n);if(this.pos>=f){r.log("ERROR","Cannot insert "+n.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}},{key:"clearFromPos",value:function(n){for(var t=n;t<f;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var i=[],r=!0,t,n=0;n<f;n++)t=this.chars[n].uchar,t!==" "&&(r=!1),i.push(t);return r?"":i.join("")}},{key:"setPenStyles",value:function(n){this.currPenState.setStyles(n);var t=this.chars[this.pos];t.setPenState(this.currPenState)}}]),n}(),h=function(){function n(){s(this,n),this.rows=[];for(var t=0;t<u;t++)this.rows.push(new p);this.currRow=u-1,this.nrRollUpRows=null,this.reset()}return e(n,[{key:"reset",value:function(){for(var n=0;n<u;n++)this.rows[n].clear();this.currRow=u-1}},{key:"equals",value:function(n){for(var i=!0,t=0;t<u;t++)if(!this.rows[t].equals(n.rows[t])){i=!1;break}return i}},{key:"copy",value:function(n){for(var t=0;t<u;t++)this.rows[t].copy(n.rows[t])}},{key:"isEmpty",value:function(){for(var t=!0,n=0;n<u;n++)if(!this.rows[n].isEmpty()){t=!1;break}return t}},{key:"backSpace",value:function(){var n=this.rows[this.currRow];n.backSpace()}},{key:"clearToEndOfRow",value:function(){var n=this.rows[this.currRow];n.clearToEndOfRow()}},{key:"insertChar",value:function(n){var t=this.rows[this.currRow];t.insertChar(n)}},{key:"setPen",value:function(n){var t=this.rows[this.currRow];t.setPenStyles(n)}},{key:"moveCursor",value:function(n){var t=this.rows[this.currRow];t.moveCursor(n)}},{key:"setCursor",value:function(n){r.log("INFO","setCursor: "+n);var t=this.rows[this.currRow];t.setCursor(n)}},{key:"setPAC",value:function(n){var t,f,s,e,h,i,o,a,l,c;if(r.log("INFO","pacData = "+JSON.stringify(n)),t=n.row-1,this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(f=0;f<u;f++)this.rows[f].clear();if(s=this.currRow+1-this.nrRollUpRows,e=this.lastOutputScreen,e&&(h=e.rows[s].cueStartTime,h&&h<r.time))for(i=0;i<this.nrRollUpRows;i++)this.rows[t-this.nrRollUpRows+i+1].copy(e.rows[s+i])}this.currRow=t,o=this.rows[this.currRow],n.indent!==null&&(a=n.indent,l=Math.max(a-1,0),o.setCursor(n.indent),n.color=o.chars[l].penState.foreground),c={foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1},this.setPen(c)}},{key:"setBkgData",value:function(n){r.log("INFO","bkgData = "+JSON.stringify(n)),this.backSpace(),this.setPen(n),this.insertChar(32)}},{key:"setRollUpRows",value:function(n){this.nrRollUpRows=n}},{key:"rollUp",value:function(){if(this.nrRollUpRows===null){r.log("DEBUG","roll_up but nrRollUpRows not set yet");return}r.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),r.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(n){var t,r;n=n||!1;var i=[],f="",e=-1;for(t=0;t<u;t++)r=this.rows[t].getTextString(),r&&(e=t+1,n?i.push("Row "+e+": '"+r+"'"):i.push(r.trim()));return i.length>0&&(f=n?"["+i.join(" | ")+"]":i.join("\n")),f}},{key:"getTextAndFormat",value:function(){return this.rows}}]),n}(),v=function(){function n(t,i){s(this,n),this.chNr=t,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new h,this.nonDisplayedMemory=new h,this.lastOutputScreen=new h,this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e(n,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(n){this.outputFilter=n}},{key:"setPAC",value:function(n){this.writeScreen.setPAC(n)}},{key:"setBkgData",value:function(n){this.writeScreen.setBkgData(n)}},{key:"setMode",value:function(n){n!==this.mode&&(this.mode=n,r.log("INFO","MODE="+n),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)}},{key:"insertChars",value:function(n){for(var i,t=0;t<n.length;t++)this.writeScreen.insertChar(n[t]);i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP",r.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(r.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){r.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){(r.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT")&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){return}},{key:"ccAON",value:function(){return}},{key:"ccDER",value:function(){r.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(n){r.log("INFO","RU("+n+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(n)}},{key:"ccFON",value:function(){r.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){r.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){r.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){r.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){r.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){r.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){r.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(r.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=n,this.writeScreen=this.nonDisplayedMemory,r.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(n){r.log("INFO","TO("+n+") - Tab Offset"),this.writeScreen.moveCursor(n)}},{key:"ccMIDROW",value:function(n){var t={flash:!1},u,i;t.underline=n%2==1,t.italics=n>=46,t.italics?t.foreground="white":(u=Math.floor(n/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"],t.foreground=i[u]),r.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var n=r.time;n!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(n,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:n):this.cueStartTime=n,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))}}]),n}(),y=function(){function n(t,i,r){s(this,n),this.field=t||1,this.outputs=[i,r],this.channels=[new v(1,i),new v(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e(n,[{key:"getHandler",value:function(n){return this.channels[n].getHandler()}},{key:"setHandler",value:function(n,t){this.channels[n].setHandler(t)}},{key:"addData",value:function(n,t){var f,e,i,s=!1,u,h;for(this.lastTime=n,r.setTime(n),u=0;u<t.length;u+=2){if(e=t[u]&127,i=t[u+1]&127,e===0&&i===0){this.dataCounters.padding+=2;continue}else r.log("DATA","["+o([t[u],t[u+1]])+"] -> ("+o([e,i])+")");f=this.parseCmd(e,i),f||(f=this.parseMidrow(e,i)),f||(f=this.parsePAC(e,i)),f||(f=this.parseBackgroundAttributes(e,i)),f||(s=this.parseChars(e,i),s&&(this.currChNr&&this.currChNr>=0?(h=this.channels[this.currChNr-1],h.insertChars(s)):r.log("WARNING","No channel found yet. TEXT-MODE?"))),f?this.dataCounters.cmd+=2:s?this.dataCounters.char+=2:(this.dataCounters.other+=2,r.log("WARNING","Couldn't parse cleaned data "+o([e,i])+" orig: "+o([t[u],t[u+1]])))}}},{key:"parseCmd",value:function(n,t){var u=null,f=(n===20||n===28)&&32<=t&&t<=47,e=(n===23||n===31)&&33<=t&&t<=35,i;return f||e?n===this.lastCmdA&&t===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,r.log("DEBUG","Repeated command ("+o([n,t])+") is dropped"),!0):(u=n===20||n===23?1:2,i=this.channels[u-1],n===20||n===28?t===32?i.ccRCL():t===33?i.ccBS():t===34?i.ccAOF():t===35?i.ccAON():t===36?i.ccDER():t===37?i.ccRU(2):t===38?i.ccRU(3):t===39?i.ccRU(4):t===40?i.ccFON():t===41?i.ccRDC():t===42?i.ccTR():t===43?i.ccRTD():t===44?i.ccEDM():t===45?i.ccCR():t===46?i.ccENM():t===47&&i.ccEOC():i.ccTO(t-32),this.lastCmdA=n,this.lastCmdB=t,this.currChNr=u,!0):!1}},{key:"parseMidrow",value:function(n,t){var i=null,u;return(n===17||n===25)&&32<=t&&t<=47?(i=n===17?1:2,i!==this.currChNr)?(r.log("ERROR","Mismatch channel in midrow parsing"),!1):(u=this.channels[i-1],u.ccMIDROW(t),r.log("DEBUG","MIDROW ("+o([n,t])+")"),!0):!1}},{key:"parsePAC",value:function(n,t){var i=null,r=null,e=(17<=n&&n<=23||25<=n&&n<=31)&&64<=t&&t<=127,o=(n===16||n===24)&&64<=t&&t<=95,u,f;return e||o?n===this.lastCmdA&&t===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,!0):(i=n<=23?1:2,r=64<=t&&t<=95?i===1?b[n]:k[n]:i===1?d[n]:g[n],u=this.interpretPAC(r,t),f=this.channels[i-1],f.setPAC(u),this.lastCmdA=n,this.lastCmdB=t,this.currChNr=i,!0):!1}},{key:"interpretPAC",value:function(n,t){var i=t,r={color:null,italics:!1,indent:null,underline:!1,row:n};return i=t>95?t-96:t-64,r.underline=(i&1)==1,i<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(r.italics=!0,r.color="white"):r.indent=Math.floor((i-16)/2)*4,r}},{key:"parseChars",value:function(n,t){var e=null,f=null,i=null,u,s;return n>=25?(e=2,i=n-8):(e=1,i=n),17<=i&&i<=19?(u=t,u=i===17?t+80:i===18?t+112:t+144,r.log("INFO","Special char '"+a(u)+"' in channel "+e),f=[u]):32<=n&&n<=127&&(f=t===0?[n]:[n,t]),f&&(s=o(f),r.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null),f}},{key:"parseBackgroundAttributes",value:function(n,t){var i,f,u,r,o=(n===16||n===24)&&32<=t&&t<=47,e=(n===23||n===31)&&45<=t&&t<=47;return o||e?(i={},n===16||n===24?(f=Math.floor((t-32)/2),i.background=nt[f],t%2==1&&(i.background=i.background+"_semi")):t===45?i.background="transparent":(i.foreground="black",t===47&&(i.underline=!0)),u=n<24?1:2,r=this.channels[u-1],r.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0):!1}},{key:"reset",value:function(){for(var n=0;n<this.channels.length;n++)this.channels[n]&&this.channels[n].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(n){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(n)}}]),n}();i.default=y},{}],48:[function(n,t){"use strict";var u=n(54),r={newCue:function(n,t,i,r){for(var o,s,c,e,l,a=window.VTTCue||window.TextTrackCue,h,f=0;f<r.rows.length;f++)if(o=r.rows[f],c=!0,e=0,l="",!o.isEmpty()){for(h=0;h<o.chars.length;h++)o.chars[h].uchar.match(/\s/)&&c?e++:(l+=o.chars[h].uchar,c=!1);o.cueStartTime=t,t===i&&(i+=.0001),s=new a(t,i,u.fixLineBreaks(l.trim())),e>=16?e--:e++,s.line=navigator.userAgent.match(/Firefox\//)?f+1:f>7?f-2:f+1,s.align="left",s.position=Math.max(0,Math.min(100,100*(e/32)+(navigator.userAgent.match(/Firefox\//)?50:0))),n.addCue(s)}}};t.exports=r},{"54":54}],49:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=n(50),r=s(e);u=function(){function n(t,i,u,e){f(this,n),this.hls=t,this.defaultEstimate_=e,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(i),this.fast_=new r.default(u)}return o(n,[{key:"sample",value:function(n,t){n=Math.max(n,this.minDelayMs_);var r=8e3*t/n,i=n/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)}},{key:"canEstimate",value:function(){var n=this.fast_;return n&&n.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),n}(),i.default=u},{"50":50}],50:[function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u,r;Object.defineProperty(i,"__esModule",{value:!0}),u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(t){f(this,n),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return u(n,[{key:"sample",value:function(n,t){var i=Math.pow(this.alpha_,n);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=n}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var n=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/n}return this.estimate_}}]),n}(),i.default=r},{}],51:[function(n,t,i){"use strict";function r(){}function c(n,t){return t="["+n+"] > "+t}function l(n){var t=self.console[n];return t?function(){for(var u=arguments.length,i=Array(u),r=0;r<u;r++)i[r]=arguments[r];i[0]&&(i[0]=c(n,i[0])),t.apply(self.console,i)}:r}function h(n){for(var i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];r.forEach(function(t){u[t]=n[t]?n[t].bind(n):l(t)})}var e,f,u,o,s;Object.defineProperty(i,"__esModule",{value:!0}),e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f={trace:r,debug:r,log:r,warn:r,info:r,error:r},u=f,o=i.enableLogs=function o(n){if(n===!0||(typeof n=="undefined"?"undefined":e(n))==="object"){h(n,"debug","log","info","warn","error");try{u.log()}catch(t){u=f}}else u=f},s=i.logger=u},{}],52:[function(n,t){"use strict";var r={toString:function(n){for(var i="",r=n.length,t=0;t<r;t++)i+="["+n.start(t).toFixed(3)+","+n.end(t).toFixed(3)+"]";return i}};t.exports=r},{}],53:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){function e(n){if(typeof n!="string")return!1;var t=u[n.toLowerCase()];return t?n.toLowerCase():!1}function t(n){if(typeof n!="string")return!1;var t=f[n.toLowerCase()];return t?n.toLowerCase():!1}function n(n){for(var r=1,i,t;r<arguments.length;r++){i=arguments[r];for(t in i)n[t]=i[t]}return n}function i(i,u,f){var o=this,d=function(){if(typeof navigator!="undefined")return/MSIE\s8\.0/.test(navigator.userAgent)}(),s={};d?o=document.createElement("custom"):s.enumerable=!0,o.hasBeenReset=!1;var k="",b=!1,g=i,it=u,tt=f,nt=null,w="",l=!0,c="auto",h="start",a=50,p="middle",y=50,v="middle";return Object.defineProperty(o,"id",n({},s,{get:function(){return k},set:function(n){k=""+n}})),Object.defineProperty(o,"pauseOnExit",n({},s,{get:function(){return b},set:function(n){b=!!n}})),Object.defineProperty(o,"startTime",n({},s,{get:function(){return g},set:function(n){if(typeof n!="number")throw new TypeError("Start time must be set to a number.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",n({},s,{get:function(){return it},set:function(n){if(typeof n!="number")throw new TypeError("End time must be set to a number.");it=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",n({},s,{get:function(){return tt},set:function(n){tt=""+n,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",n({},s,{get:function(){return nt},set:function(n){nt=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",n({},s,{get:function(){return w},set:function(n){var t=e(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",n({},s,{get:function(){return l},set:function(n){l=!!n,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",n({},s,{get:function(){return c},set:function(n){if(typeof n!="number"&&n!==r)throw new SyntaxError("An invalid number or illegal string was specified.");c=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",n({},s,{get:function(){return h},set:function(n){var i=t(n);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");h=i,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",n({},s,{get:function(){return a},set:function(n){if(n<0||n>100)throw new Error("Position must be between 0 and 100.");a=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",n({},s,{get:function(){return p},set:function(n){var i=t(n);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");p=i,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",n({},s,{get:function(){return y},set:function(n){if(n<0||n>100)throw new Error("Size must be between 0 and 100.");y=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",n({},s,{get:function(){return v},set:function(n){var i=t(n);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");v=i,this.hasBeenReset=!0}})),o.displayState=undefined,d?o:void 0}if(typeof window!="undefined"&&window.VTTCue)return window.VTTCue;var r="auto",u={"":!0,lr:!0,rl:!0},f={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){var n=window.WebVTT;return n.convertCueToDOMTree(window,this.text)},i}()},{}],54:[function(n,t,i){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function l(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new h,this.regionList=[]}function v(n){function i(n,t,i,r){return(n|0)*3600+(t|0)*60+(i|0)+(r|0)/1e3}var t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function e(){this.values=Object.create(null)}function s(n,t,i,r){var e=r?n.split(r):[n],f,u,s,o;for(f in e)typeof e[f]=="string"&&(u=e[f].split(i),u.length===2)&&(s=u[0],o=u[1],t(s,o))}function y(n,t,i){function h(){var t=v(n);if(t===null)throw new Error("Malformed timestamp: "+o);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function c(n,t){var f=new e,h,o;s(n,function(n,t){var e,u,o;switch(n){case"region":for(e=i.length-1;e>=0;e--)if(i[e].id===t){f.set(n,i[e].region);break}break;case"vertical":f.alt(n,t,["rl","lr"]);break;case"line":u=t.split(","),o=u[0],f.integer(n,o),f.percent(n,o)&&f.set("snapToLines",!1),f.alt(n,o,["auto"]),u.length===2&&f.alt("lineAlign",u[1],["start",r,"end"]);break;case"position":u=t.split(","),f.percent(n,u[0]),u.length===2&&f.alt("positionAlign",u[1],["start",r,"end","line-left","line-right","auto"]);break;case"size":f.percent(n,t);break;case"align":f.alt(n,t,["start",r,"end","left","right"])}},/:/,/\s/),t.region=f.get("region",null),t.vertical=f.get("vertical",""),h=f.get("line","auto"),h==="auto"&&u.line===-1&&(h=-1),t.line=h,t.lineAlign=f.get("lineAlign","start"),t.snapToLines=f.get("snapToLines",!0),t.size=f.get("size",100),t.align=f.get("align",r),o=f.get("position","auto"),o==="auto"&&u.position===50&&(o=t.align==="start"||t.align==="left"?0:t.align==="end"||t.align==="right"?100:50),t.position=o}function f(){n=n.replace(/^\s+/,"")}var o=n;if(f(),t.startTime=h(),f(),n.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+o);n=n.substr(3),f(),t.endTime=h(),f(),c(n,t)}function o(n){return n.replace(/<br(?: \/)?>/gi,"\n")}var c,f,h,u,r;Object.defineProperty(i,"__esModule",{value:!0}),i.fixLineBreaks=undefined,c=n(53),f=a(c),h=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}},e.prototype={set:function(n,t){this.get(n)||t===""||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){var i;return(i=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(n,t),!0):!1}},u=new f.default(0,0,0),r=u.align==="middle"?"middle":"center",l.prototype={parse:function(n){function e(){for(var i=t.buffer,n=0,r,i=o(i);n<i.length&&i[n]!=="\r"&&i[n]!=="\n";)++n;return r=i.substr(0,n),i[n]==="\r"&&++n,i[n]==="\n"&&++n,t.buffer=i.substr(n),r}function c(n){s(n,function(n,t){switch(n){case"Region":console.log("parse region",t)}},/:/)}var t=this,i,u,r,h;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;if(i=e(),u=i.match(/^WEBVTT([ \t].*)?$/),!u||!u[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(r=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;r?r=!1:i=e();switch(t.state){case"HEADER":/:/.test(i)?c(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new f.default(0,0,""),t.state="CUE",i.indexOf("-->")===-1){t.cue.id=i;continue}case"CUE":try{y(i,t.cue,t.regionList)}catch(l){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(h=i.indexOf("-->")!==-1,!i||h&&(r=!0)){if(t.oncue)t.oncue(t.cue);t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(l){if(t.state==="CUETEXT"&&t.cue&&t.oncue)t.oncue(t.cue);t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+="\n\n",n.parse()),n.state==="INITIAL")throw new Error("Malformed WebVTT signature.");}catch(t){throw t;}return n.onflush&&n.onflush(),this}},i.fixLineBreaks=o,i.default=l},{"53":53}],55:[function(n,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}var e=n(54),o=s(e),r=function(n){var t=parseInt(n.substr(-3)),u=parseInt(n.substr(-6,2)),r=parseInt(n.substr(-9,2)),i=n.length>9?parseInt(n.substr(0,n.indexOf(":"))):0;return isNaN(t)||isNaN(u)||isNaN(r)||isNaN(i)?-1:(t+=1e3*u,t+=6e4*r,t+=36e5*i)},u=function(n,t,i){var r=n[t],u=n[r.prevCC];if(!u||!u.new&&r.new){n.ccOffset=n.presentationOffset=r.start,r.new=!1;return}while(u&&u.new)n.ccOffset+=r.start-u.start,r.new=!1,r=u,u=n[r.prevCC];n.presentationOffset=i},f={parse:function(n,t,i,f,e,s){var k=/\r\n|\n\r|\n|\r/g,b=String.fromCharCode.apply(null,new Uint8Array(n)).trim().replace(k,"\n").split("\n"),w="00:00.000",y=0,h=0,a=0,p=[],c=void 0,v=!0,l=new o.default;l.oncue=function(n){var r=i[f],t=i.ccOffset;r&&r.new&&(h?t=i.ccOffset=r.start:u(i,f,a)),a&&!h&&(t=a+i.ccOffset-i.presentationOffset),n.startTime+=t-h,n.endTime+=t-h,n.text=decodeURIComponent(escape(n.text)),n.endTime>0&&p.push(n)},l.onparsingerror=function(n){c=n},l.onflush=function(){if(c&&s){s(c);return}e(p)},b.forEach(function(n){if(v){if(n.startsWith("X-TIMESTAMP-MAP=")){v=!1,n.substr(16).split(",").forEach(function(n){n.startsWith("LOCAL:")?w=n.substr(6):n.startsWith("MPEGTS:")&&(y=parseInt(n.substr(7)))});try{t=t<0?t+8589934592:t,y-=t,h=r(w)/1e3,a=y/9e4,h===-1&&(c=new Error("Malformed X-TIMESTAMP-MAP: "+n))}catch(i){c=new Error("Malformed X-TIMESTAMP-MAP: "+n)}return}n===""&&(v=!1)}l.parse(n+"\n")}),l.flush()}};t.exports=f},{"54":54}],56:[function(n,t,i){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var f,r,u;Object.defineProperty(i,"__esModule",{value:!0}),f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=n(51),u=function(){function n(t){e(this,n),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return f(n,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var n=this.loader;n&&n.readyState!==4&&(this.stats.aborted=!0,n.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(n,t,i){this.context=n,this.config=t,this.callbacks=i,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var n,t=this.context,r,i;if(n=typeof XDomainRequest!="undefined"?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,r=this.stats,r.tfirst=0,r.loaded=0,i=this.xhrSetup,i)try{i(n,t.url)}catch(u){n.open("GET",t.url,!0),i(n,t.url)}n.readyState||n.open("GET",t.url,!0),t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),n.send()}},{key:"readystatechange",value:function(n){var f=n.currentTarget,c=f.readyState,t=this.stats,e=this.context,s=this.config,i,u,o,h;if(!t.aborted&&c>=2)if(window.clearTimeout(this.requestTimeout),t.tfirst===0&&(t.tfirst=Math.max(performance.now(),t.trequest)),c===4)if(i=f.status,i>=200&&i<300){t.tload=Math.max(t.tfirst,performance.now()),u=void 0,o=void 0,e.responseType==="arraybuffer"?(u=f.response,o=u.byteLength):(u=f.responseText,o=u.length),t.loaded=t.total=o,h={url:f.responseURL,data:u};this.callbacks.onSuccess(h,t,e)}else if(t.retry>=s.maxRetry||i>=400&&i<499){r.logger.error(i+" while loading "+e.url);this.callbacks.onError({code:i,text:f.statusText},e)}else r.logger.warn(i+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),t.retry++;else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)}},{key:"loadtimeout",value:function(){r.logger.warn("timeout while loading "+this.context.url);this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(n){var i=this.stats,t;i.loaded=n.loaded,n.lengthComputable&&(i.total=n.total),t=this.callbacks.onProgress,t&&t(i,this.context,null)}}]),n}(),i.default=u},{"51":51}]},{},[38])(38)});
;
var autocomplete,app=angular.module("riksdagen",["ngAnimate","ngSanitize","angular-loading-bar","video","ngResource"]).config(["$locationProvider","$provide","cfpLoadingBarProvider",function(n,t,i){n.html5Mode({enabled:!1}),i.includeSpinner=!1,typeof riksdagen_angularLocationHandling!="undefined"&&riksdagen_angularLocationHandling?t.decorator("$location",["$delegate","$browser",function(n,t){return n.absUrl=function(){return t.url()},n}]):t.decorator("$browser",["$delegate",function(n){return n.onUrlChange=function(){},n.url=function(){return""},n.absUrl=function(){return $browser.url()},n}])}]);$(document).ready(function(){$(document).foundation(),$("html").addClass("dom-ready"),$("select").customSelect(),rd.event.scroll({scroll:!1,direction:!0,delay:100,dev:!1}),rd.utils.anchorLinks(),rd.component.campaignVideoModal.init(),rd.component.election2018Logo.init(),rd.module.nav.mobile(),rd.module.nav.toTop(),rd.module.search.mobile(),rd.module.memberChart.init(),rd.module.campaignFeed.init(),rd.module.quiz.init(),rd.module.infoBlock.init(),rd.module.upplevBanner.init(),rd.dom.equalize.init(),rd.dom.toggle.init(),rd.dom.columnlist.init(),rd.module.slick.init(),rd.module.loadmoreGalleries.init(),rd.module.readspeaker.init(),rd.module.rdSlider.init(),rd.module.inputChangeReload.init();var n=new Clipboard("[data-clipboard-action]");String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})}),typeof prototype=="undefined"&&(rd.module.twitter.init(),rd.module.systemMessages.init()),rd.module.accessibility.init();$(window).on("rd-responsive",function(n,t){$(".sticky-menu").stickyanchor(t)})});
angular.module("video",["ngAnimate","ngResource","sticky"]).factory("subscribe",["$rootScope",function(n){return{on:function(t,i){$.subscribe(t,function(t,r){i(r),n.$apply()})}}}]);
angular.module("video").service("videoService",["$http","$q",function(n,t){function f(t){return n.get(rd.settings.video.voddatapath+t,{cache:!0}).then(function(n){return n.data.videodata[0]})}function e(i){var r=[];return $.each(i,function(t,i){var e=new URI(i.streams.files[0].url),f=rd.settings.video.CDNpublishpoint+"&callback=JSON_CALLBACK&clearUed=true",u=e.removeSearch("publishPoint")+f;r.push(n.jsonp(u))}),t.all(r).then(function(n){var t=[];return $.each(n,function(n,r){var u={rtmp:r.data.url,rtsp:r.data.url.replace("rtmp:","rtsp:"),hls:r.data.url.replace("rtmp:","http:")+"/playlist.m3u8"};t.push({stream:i[n],streamvariants:u})}),t})}function o(n,t){return t.filter(function(t){if(t.mimetype===n)return t})}function i(i,r){var e=i.streams.files,u=o(r,e),f;return typeof u[0]=="undefined"?t.reject(new Error("No videofile was found")):(f=u[0].url+"&callback=JSON_CALLBACK",n.jsonp(f).then(function(n){return n.data}))}function u(n){return i(n,"video/mp4")}function r(n){return i(n,"audio/mp3")}return{getVideoMetadataByDokId:f,getDownloadableVideoFileForDebateByUrl:u,getDownloadableAudioFileForDebateByUrl:r,getAllCDNStreamsForLive:e}}]);
app.directive("ngReveal",["$compile","$http",function(n,t){return{restrict:"A",link:function(i,r,u){window.vodPlayer&&window.vodPlayer.pause();var f="aria-hidden",e="tabindex",s=function(){var n=$("body").children(":not(#modal)"),i,t;n.each(function(){var n=$(this);rd.utils.saveAttrValue(n,f),n.attr("aria-hidden","true")}),i=n.filter(":focusable"),t=i.add(n.find(":focusable")),t.each(function(){var n=$(this);rd.utils.saveAttrValue(n,e),n.attr("tabindex","-1")})},o=function(){var n=$("body").children(":not(#modal)"),i,t;n.each(function(){var n=$(this);rd.utils.tryRestoreSavedAttrValueOrDeleteAttr(n,f)}),i=n.filter(":focusable"),t=i.add(n.find(":focusable")),t.each(function(){var n=$(this);rd.utils.tryRestoreSavedAttrValueOrDeleteAttr(n,e)})};r.off("click").on("click",function(e){var h,e;e.preventDefault(),h=$(window).scrollTop(),setTimeout(function(){},500),e||(e=window.event),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation();$(document).off("open.fndtn.reveal").on("open.fndtn.reveal","[data-reveal]",function(){var n=$(this),u=n.height(),i=60,r=$(window).height(),t=r-i*2;u>t&&n.css("height",t),$("body").css("position","fixed"),s(),n.attr(f,"false"),$("#modal").focus()});$("body").addClass("reveal-modal-open");$(document).off("close.fndtn.reveal").on("close.fndtn.reveal","[data-reveal]",function(){$("body").css("position","static").removeClass("reveal-modal-open"),$(window).scrollTop(h),o()});$(document).off("closed.fndtn.reveal").on("closed.fndtn.reveal","[data-reveal]",function(){var n=$(this);n.attr(f,"true").css("height",""),rd.utils.setFocus(r)});t.get(u.overlayUrl).then(function(t){var u=t.data.html||t.data,r=n(u)(i);angular.element("#modal").html(r),$("#modal").foundation("reveal","open"),rd.event.keepfocus($("#modal")[0])})})}}}]),app.directive("ngSearchTrigger",[function(){return{restrict:"A",link:function(n,t,i){t.on("click",function(t){n.searchFor&&(t.preventDefault(),n.searchFor(i.href))})}}}]),app.directive("ngSearchRadioTrigger",[function(){return{restrict:"A",link:function(n,t,i){t.on("change",function(t){n.searchFor&&(t.preventDefault(),n.searchFor(i.radioHref))})}}}]),app.directive("ngSearchLoadFacets",[function(){return{restrict:"A",link:function(n,t,i){t.on("click",function(t){n.searchFacetGroup&&(t.preventDefault(),n.searchFacetGroup(i.searchFacetsKey))})}}}]),app.directive("ngSearchFilter",[function(){var t=function(n,t){var i=new URI,u=i.search(!0),r=u[n];return r?(i.removeQuery(n,r),i.addQuery(n,r+","+t),i):(i.addQuery(n,t),i)},n=function(n,t){var i=new URI,o=i.search(!0),e=o[n],r,u,f;return e?(r=e.split(","),!r.length)?(i.removeQuery(n),i):(u=r.filter(function(n){return n!==t&&n!==encodeURIComponent(t)}),!u.length)?(i.removeQuery(n),i):(f=u.join(","),i.setQuery(n,f),i):i};return{restrict:"A",link:function(i,r,u){r.on("click",function(){i.pageNumber=1});i.$on("triggerUrlChanged",function(){var h=r.parent().hasClass("selected"),e=u.facetKey,o=u.facetValue,s;e&&o&&(s=h?n(e,o):t(e,o),u.$set("href",decodeURIComponent(s)))}),i.$on("searchurlChange",function(f,e){var h;if(e&&e.triggerScope!==i){var c=r.parent().hasClass("selected"),o=u.facetKey,s=u.facetValue;o&&s&&(h=c?n(o,s):t(o,s),u.$set("href",decodeURIComponent(h)))}})}}}]),app.directive("ngUrlChangeTrigger",[function(){return{restrict:"A",link:function(n,t){t.on("click",function(t){t.preventDefault(),n.triggerUrlChanged()})}}}]),app.directive("ngDiariumItemToggle",[function(){var t=function(n,t){var i=new URI,u=i.search(!0),r=u[n];return r?(i.removeQuery(n,r),i.addQuery(n,r+","+decodeURIComponent(t)),i):(i.addQuery(n,decodeURIComponent(t)),i)},n=function(n,t){var i=new URI,o=i.search(!0),e=o[n],r,u,f;return e?(r=e.split(","),!r.length)?(i.removeQuery(n),i):(u=r.filter(function(n){return n!==t&&n!==encodeURIComponent(t)}),!u.length)?(i.removeQuery(n),i):(f=u.join(","),i.setQuery(n,f),i):i};return{restrict:"A",link:function(i,r,u){r.on("click",function(f){var h;f.preventDefault();var o=u.facetKey,s=u.facetValue,c=i.getItemIndex(u.itemId)>-1,e="";c?(e=n(o,s),u.$set("href",t(o,s))):(e=t(o,s),u.$set("href",n(o,s))),h={type:"search"},e=decodeURIComponent(e),history.pushState(h,document.title,e),r.data("selected",!c);var v=r.data("item-title"),a=r.data("item-id"),l={id:a,title:v};i.toggleItem(l),i.triggerUrlChanged()})}}}]);
app.directive("ngTargetReveal",["$compile","$http",function(n,t){var i=function(n,t,i){var r=t.is(":visible");r?(t.hide(),n.removeClass("expanded")):(t.show(),n.addClass("expanded")),i.$set("aria-expanded",!r)};return{restrict:"A",link:function(r,u,f){var e=angular.element(f.target);f.$set("aria-controls",e.attr("id")),e.hide(),f.$set("aria-expanded",!1);u.on("click",function(e){var e,o;(e.preventDefault(),e||(e=window.event),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),o=angular.element(f.target),i(u,o,f),f["data-file-loaded"])||t.get(f.overlayUrl).then(function(t){f.$set("data-file-loaded","true");var u=t.data.html||t.data,i=n(u)(r);o.html(i),rd.responsive.detect_mq.callback()})})}}}]);
app.directive("ngAutocomplete",["$http","AutocompleteService",function(n,t){return{restrict:"A",scope:{addClass:"@"},link:function(n,i){var u=i.parents(".row").find("button:visible");i.autocomplete({minLength:3,delay:50,source:function(n,i){t.get(n.term).then(function(n){var t=[];return n.data.dokumentlista?(n.data.dokumentlista.forEach(function(n){t.push({label:n.searchTerm,value:n.searchTerm})}),i(t)):t})},select:function(n,t){i.val(t.item.value),u.trigger("click")},open:function(){var e=i.offset().top+i.outerHeight(!1),f=i.outerWidth(!1)+u.outerWidth(!1);$(".ui-autocomplete").css({top:e+"px",width:f+"px"}),!!n.addClass&&$(".ui-autocomplete").addClass(n.addClass)},close:function(){!!n.addClass&&$(".ui-autocomplete").removeClass(n.addClass)}})}}}]);
angular.module("video").directive("query",["$parse",function(n){return{restrict:"A",link:function(t,i,r){t.query=undefined,t.filterByCommittee=undefined,typeof r.query!="undefined"&&r.query!==""&&(t.query=n(r.query)(t).param),typeof r.filterByCommittee!="undefined"&&r.filterByCommittee!==""&&(t.filterByCommittee=r.filterByCommittee)}}}]).directive("ngChangeSpeaker",["$compile","$http",function(){return{restrict:"A",link:function(n,t,i){t.on("click",function(t){t.preventDefault();var r=parseInt(i.speakerstart);$.publish("speakers/change",r),n.$apply(),window.vodPlayer&&window.vodPlayer.video&&(window.vodPlayer.video.currentTime=r,window.vodPlayer.video.play())})}}}]).directive("removeClass",[function(){return{restrict:"A",link:function(n,t,i){t.removeClass(i.removeClass)}}}]).directive("loadVideo",["$rootScope","$q","subscribe",function(n,t,i){return function(t,r){n.$emit("cfpLoadingBar:progress",{value:25}),t.$watch("VideoModel",function(){typeof n.VideoModel!="undefined"&&(n.islive?setTimeout(function(){rd.video.playerlive.init('[data-video-player="hls"]'),n.$emit("cfpLoadingBar:progress",{value:100}),setTimeout(function(){n.$emit("cfpLoadingBar:complete",{value:!0})},500)},500):(t.vodPlayer=new PlayerVod(r[0].querySelector("[data-vod-player]"),t,n.VideoModel,!1,i),window.vodPlayer=t.vodPlayer,n.$emit("cfpLoadingBar:progress",{value:100}),setTimeout(function(){n.$emit("cfpLoadingBar:complete",{value:!0})},500)))})}}]).directive("loadStaticVideo",["$rootScope","$q","subscribe",function(n,t,i){return function(t,r){n.islive?rd.video.playerlive.init('[data-video-player="hls"]'):t.vodPlayer=new PlayerVod(r[0].querySelector("[data-vod-player]"),t,n.VideoModel,!0,i)}}]).directive("ngConnectEmbedSlider",["videoModelFactory",function(n){return{link:function(t,i){var u=angular.element("#slider-range");if(u.length){var o=function(n,t){var r=(t.values[2]-t.values[0])/e*100,i=t.values[0]/e*100;$(".ui-slider-range",u).css({width:r+"%",left:i+"%"})},f=i[0].querySelector("[data-vod-player]"),h=function(n,t,i,r){var f=i.values[0]>i.values[1]?i.values[0]:i.values[1],u;typeof n.video.duration=="undefined"?(n.resume(),u=function(){typeof n.video.duration=="undefined"?setTimeout(u,10):n.seek(f,function(n,t){t.pause(),r&&t.resume()})},u()):(n.resume(),n.seek(f,function(){n.pause(function(){r&&n.resume()})}))},s=n.getInstance(),e=s.debateseconds;u.slider({self:this,isplaying:!1,range:"max",min:0,max:e,values:[0,0,e],slide:function(n,i){if(i.values[0]>i.values[2]||i.values[2]<i.values[0]||i.values[1]<i.values[0]&&(u.slider("values",[i.values[0],i.values[0],i.values[2]]),$(i.handle).is(".progress-handle"))||i.values[1]>i.values[2]&&(u.slider("values",[i.values[0],i.values[2],i.values[2]]),$(i.handle).is(".progress-handle")))return!1;o(n,i),t.$apply(function(){t.setTimeValues(i.values)}),$(".rd-eplapsed").html(rd.video.helpers.format(i.values[1]))},create:function(){$(".ui-slider-handle:eq(1)",u).addClass("progress-handle")},change:function(n,t){o(n,t)}});u.on("slidestart",function(){f.pause()});u.on("slidestop",function(n,t){var i=t.values[0]>t.values[1]?t.values[0]:t.values[1];f.currentTime=i});f.ontimeupdate=function(){f.currentTime>u.slider("values",2)?(f.currentTime=u.slider("values",2),f.pause()):f.currentTime<u.slider("values",0)&&(f.currentTime=u.slider("values",0),f.pause()),typeof f.duration!="undefined"&&u.slider("values",1,f.currentTime)}}}}}]).directive("updateSlider",function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i){n.$watch(i.ngModel,function(){var t=$("[data-ng-slider]"),i;t.length!==0&&typeof t.slider!="function"&&(n.embedModel.start<n.embedModel.end&&(t.slider("values",0,n.embedModel.start),i=t.slider("values",1),n.embedModel.start>=i&&t.slider("values",1,n.embedModel.start)),n.embedModel.end>n.embedModel.start&&(t.slider("values",2,n.embedModel.end),i=t.slider("values",1),n.embedModel.end<=i&&t.slider("values",1,n.embedModel.end)))})}}});
app.filter("urlencode",function(){return function(n){return n===decodeURI(n)?window.encodeURI(n):n}});
app.service("revealService",["$http","$q","$rootScope",function(n,t){function r(i,r){return t.all([n.get(r),n.get(i)]).then(function(n){return{template:n[0],data:n[1]}})}return{get:r}}]);
app.service("AutocompleteService",["$http","$q",function(n){return{get:function(t){var i=encodeURI(t);return n.jsonp("https://data.riksdagen.se/dokumentlista2/",{params:{sok:i,typeahead:"true",callback:"JSON_CALLBACK"}})}}}]);
angular.module("video").factory("videoModelFactory",["$http","$q","$rootScope","videoService","VideoModel",function(n,t,i,r,u){function f(n){i.VideoModel=new u(n)}function c(n){var t=moment.duration(n.debateseconds,"seconds")._data;n.duration={},n.duration.hours=t.hours,n.duration.minutes=t.minutes,n.duration.hourlocale=t.hours>1?"timmar":"timme",n.duration.minutelocale=t.minutes>1?"minuter ":"minut",n.duration.seconds=t.hours<1&&t.minutes<1?t.seconds:0,n.duration.secondslocale="sekunder",n.duration.outputString="",n.duration.hours>0&&(n.duration.outputString+="<span>"+n.duration.hours+" "+n.duration.hourlocale+"</span>"),n.duration.minutes>0&&(n.duration.outputString+="<span>"+n.duration.minutes+" "+n.duration.minutelocale+"</span>")}var h="/api/videostream/getlive?dokid=",o=!0,e=null;return{setVideoModelByLiveItem:function(n){typeof n!="undefined"&&n!==null&&(o?(e=n.livestreamurl,f(n),o=!1):(n.livestreamurl=e,f(n)))},setVideoModelByLiveDocumentId:function(t){n.get(h+t,{cache:!1}).then(function(n){f(n.data.videodata[0])})},setVideoModelByDocumentId:function(n){r.getVideoMetadataByDokId(n).then(function(n){n&&(c(n),f(n))})},setInstanceByData:function(n){f(n)},getInstance:function(){return i.VideoModel}}}]);
angular.module("video").service("videoModelListener",["$http","$q","$rootScope","videoModelFactory","subscribe",function(n,t,i,r,u){i.islive=!1;u.on("filteredlivemetadata/change",function(n){i.islive=!0,r.setVideoModelByLiveItem(n)});u.on("livemetadata/shareddebatedocument",function(n){i.islive=!0,r.setVideoModelByLiveDocumentId(n)});u.on("livemetadata/notfound",function(n){r.setVideoModelByDocumentId(n)});u.on("speakers/change",function(n){i.islive||typeof r.getInstance()!="undefined"&&r.getInstance().setActiveSpeaker(n)})}]);
angular.module("video").factory("VideoModel",["videoService",function(){function t(n){n&&angular.extend(this,n)}return t.prototype={setActiveSpeaker:function(n){for(var i=this,t=0;t<i.speakers.length;t++)i.speakers[t].active=!1,i.speakers[t].start===n&&(i.speakers[t].active=!0)}},t}]);
angular.module("video").factory("liveTickerVideoModelFactory",function(){var i=2,r=function(n){var u=n.shareddebatedocuments,t=u.map(function(n){return n.interpellationnumber}),r=t.pop(),i=t.join(", ");return"Gemensamt svar på interpellationerna "+i+" och "+r},n=function(n){return n.shareddebatedocuments.slice(0,i).map(function(n){return n})};return{create:function(t){var u,i;if(!t.videodata)return t;for(u=0;u<t.videodata.length;u++){if(i=t.videodata[u],!i.shareddebatedocuments||i.shareddebatedocuments.length<2){i.displayTitle=i.title;continue}i.displayTitle=r(i),i.debateDocumentsForDisplay=n(i),i.sharedDebateListIsTruncated=i.debateDocumentsForDisplay.length<i.shareddebatedocuments.length}return t}}});
angular.module("video").controller("mycontroller",["$scope",function(n){n.panel1=!0,n.panel2=!1,n.panel3=!1,n.changetab=function(t){t===1&&(n.panel2=!1,n.panel3=!1,n.panel1=!0),t===2&&(n.panel1=!1,n.panel3=!1,n.panel2=!0),t===3&&(n.panel1=!1,n.panel2=!1,n.panel3=!0)}}]),angular.module("video").controller("embedshare",["$scope","videoModelFactory",function(n,t){function c(n){if(typeof n!="undefined"){for(var t=0;t<n.length;t++)if(n[t].active)return n[t];return n[0]}}function e(t){var r="?did={dokid}&start={start}&end={end}",i=new URI.expand(r,{dokid:n.embedModel.dokid,start:0!==t.start?Math.floor(t.start):null,end:Math.floor(n.videoMetadata.debateseconds)!==Math.floor(t.end)?Math.floor(t.end):null});return i.hasQuery("start",!0)||i.removeSearch("start"),i.hasQuery("end",!0)||i.removeSearch("end"),i.toString()}function o(){var t={facebook:"https://www.facebook.com/sharer/sharer.php?u={url}",twitter:"https://twitter.com/home?status={url}",linkedin:"https://www.linkedin.com/shareArticle?mini=true&summary=&source=&url={url}&title={title}",mail:"mailto:?body={url}"};(n.embedModel.share.facebook=u(t.facebook),n.embedModel.share.twitter=u(t.twitter),n.embedModel.share.linkedin=u(t.linkedin),n.embedModel.share.mail=u(t.mail)+"&subject="+URI.encode(n.embedModel.title),n.islive)||(n.embedModel.share.speach.facebook=f(t.facebook),n.embedModel.share.speach.twitter=f(t.twitter),n.embedModel.share.speach.linkedin=f(t.linkedin),n.embedModel.share.speach.mail=f(t.mail)+"&subject="+URI.encode(n.embedModel.title))}function s(t){return angular.element("<iframe/>").attr("src",t?l:h()).attr("width",n.videosize.value.width).attr("height",n.videosize.value.height).attr("allowfullscreen","").attr("frameborder","0").attr("scrolling","no").attr("title",n.videoMetadata.debatename+" "+n.videoMetadata.debatedate+" från Riksdagen om "+n.videoMetadata.title)[0].outerHTML.replace(/&amp;/g,"&")}function r(){(n.embedCode.full=s(),n.islive)||(n.embedCode.speach=s(!0),n.embedCode.part=s())}function h(){return new URI(n.configUrl).query(e({start:n.embedModel.start,end:n.embedModel.end})).toString()}function l(){return new URI(n.configUrl).query(e({start:n.currentspeaker.start,end:n.currentspeaker.start+n.currentspeaker.duration})).toString()}function u(t){var i=(new URI).query(e({start:n.embedModel.start,end:n.embedModel.end})).toString();return new URI.expand(t,{url:i,title:n.embedModel.title}).toString()}function f(t){var i=(new URI).query(e({start:n.currentspeaker.start,end:n.currentspeaker.start+n.currentspeaker.duration})).toString();return new URI.expand(t,{url:i,title:n.embedModel.title}).toString()}var i=t.getInstance();n.helpers=rd.video.helpers,n.configUrl=rd.settings.video.embedurl,n.embedModel={dokid:null,title:null,start:0,end:0,humanized:{start:n.helpers.format(0),end:n.helpers.format(0)},share:{speach:{}},videosize:[{label:"Liten (560 x 315)",value:{width:560,height:315}},{label:"Mellan (640 x 360)",value:{width:640,height:360}},{label:"Stor (1280 x 720)",value:{width:1280,height:720}},{label:"Fullbredd",value:{width:"100%",height:"100%"}}]},n.videosize=n.embedModel.videosize[0],n.embedModel.dokid=i.dokid,n.embedModel.title=i.title,n.embedModel.end=i.debateseconds,n.embedModel.humanized.end=n.helpers.format(i.debateseconds),n.embedCode={},n.videoMetadata=i,n.currentspeaker=c(i.speakers),o(),r(),n.modelChange=function(){n.embedModel.start=n.helpers.hms2sec(n.embedModel.humanized.start),n.embedModel.end=n.helpers.hms2sec(n.embedModel.humanized.end),o(),r()},n.setTimeValues=function(t){n.embedModel.start=t[0],n.embedModel.end=t[2],n.embedModel.humanized.start=n.helpers.format(t[0]),n.embedModel.humanized.end=n.helpers.format(t[2]),r(),o()},n.changeVideoSize=function(t){n.videosize=t,r()}}]);
angular.module("video").controller("PlayerController",["$rootScope","$scope","$q","$sce","videoService","videoModelListener","subscribe",function(n,t,i,r,u,f,e){var h,s,o;t.errorclass="",t.loadingpercent=0,t.waitForPlayActionClasses="",t.videoStateClasses="is-paused",t.error=!1,t.playerview="/Views/Ui/js/video/views/rd.video.views.player.html",t.isNewWindow=(new URI).search(!0).newWindow||!1,t.isProtocolClosed=!0,t.qualityChooser=!1,t.videoLength="0 minuter",t.videoStartTime=0,t.videoEndTime=0,h=function(n){for(var r=null,i=[],u=location.search.substr(1).split("&"),t=0;t<u.length;t++)i=u[t].split("="),i[0]===n&&(r=decodeURIComponent(i[1]));return r},s=function(){window.vodPlayer.video.currentTime>=t.videoEndTime&&(window.vodPlayer.video.pause(),window.vodPlayer.video.removeEventListener("progress",s))},t.videoStartTime=h("start"),t.videoEndTime=h("end"),o=function(n){switch(n.type){case"pause":t.videoStateClasses="is-paused",t.$apply();break;case"play":t.videoStateClasses="",t.$apply()}};e.on("vodmetadata/error",function(n){t.error=!0,t.errorclass="player-error",t.metadata=n});n.$on("cfpLoadingBar:progress",function(n,i){t.loadingpercent>i.value||(t.loadingpercent=Math.floor(i.value))}),n.$on("cfpLoadingBar:complete",function(){t.waitForPlayActionClasses="f-is-ready",t.$apply(),window.vodPlayer&&(window.vodPlayer.video.addEventListener("pause",o),window.vodPlayer.video.addEventListener("play",o))}),t.$on("protocolToggle",function(){t.isProtocolClosed=!t.isProtocolClosed}),t.currentid=function(){if(t.VideoModel)return t.VideoModel.dokid||t.VideoModel.id},t.showQualityTooltip=function(n){n.preventDefault(),t.qualityChooser=t.qualityChooser?!1:!0},t.openNewWindow=function(n){n.preventDefault();var i=n.currentTarget.getAttribute("data-href");return window.vodPlayer&&!window.vodPlayer.video.paused&&window.vodPlayer.video.pause(),window.open(i,t.VideoModel.title,"menubar=1,resizable=1,width=765,height=428"),!1},t.changeQuality=function(n,t){window.vodPlayer.loadNewQuality(t)},t.handleQualityKeypress=function(n){n.which===13&&t.showQualityTooltip(n)},t.startPlaying=function(n){n.preventDefault(),t.waitForPlayActionClasses="f-is-ready video-block--active",window.vodPlayer.video.play(),window.vodPlayer.video.currentTime=t.videoStartTime,t.videoEndTime&&window.vodPlayer.video.addEventListener("progress",s)}}]);
angular.module("video").controller("StaticPlayerController",["$scope","$q","$sce","$rootScope",function(n){n.loadingpercent=0,n.playerview="/Views/Ui/js/video/views/rd.video.views.static-player.html",n.$on("cfpLoadingBar:progress",function(t,i){n.loadingpercent>i.value||(n.loadingpercent=Math.floor(i.value))})}]);
angular.module("video").controller("SpeakersController",["$scope","$sce","videoModelListener",function(n){n.speakersview="/Views/Ui/js/video/views/rd.video.views.speakers.html",n.$on("$includeContentLoaded",function(){rd.dom.toggle.init()})}]);
angular.module("video").controller("DownloadController",["$scope","videoModelFactory",function(n,t){var i=t.getInstance();n.videourl=i.streams.files[0].videofileurl}]);
angular.module("video").controller("LiveHero",["$scope","$rootScope","subscribe","videoModelFactory","videoModelListener",function(n,t,i,r){n.live=!0,t.islive=!1,n.liveheroview="/Views/Ui/js/video/views/rd.video.views.livehero.html";i.on("livemetadata/load",function(n){t.islive=!0,r.setVideoModelByLiveItem(n.videodata[0])});i.on("livemetadata/change",function(t){n.live=!0,n.liveVideoModel=t});i.on("livemetadata/notfound",function(){n.live=!1,t.islive=!1})}]);
angular.module("video").controller("Carousel",["$scope","$timeout","subscribe","$parse","SearchService",function(n,t,i,r,u){function f(){t(function(){rd.module.slick.init(".delay-slick-init")})}function s(){rd.module.slick.destroy(".delay-slick-init")}function h(){var r=n.extraQuery,f=new URI("?"+r),i=f.search(!0);return i.endpoint="videostream",i.action="latest",u.query(i)}function e(t,i){if(t.videodata.length===0){f();return}t.videodata.forEach(function(n){o(n)}),n.voditems=t.videodata.slice(0,i),f()}function o(n){var t=moment.duration(n.debateseconds,"seconds")._data;n.duration={},n.duration.hours=t.hours,n.duration.minutes=t.minutes,n.duration.hourlocale=t.hours>1?"timmar":"timme",n.duration.minutelocale=t.minutes>1?"minuter":"minut",n.duration.seconds=t.hours<1&&t.minutes<1?t.seconds:0,n.duration.secondslocale="sekunder"}i.on("metadata/load",function(){var n=12;s(),h().$promise.then(function(t){e(t,n)})})}]);
angular.module("video").controller("PressStreamsController",["$scope","videoService","subscribe",function(n,t,i){n.pressview="/Views/Ui/js/video/views/rd.video.views.press-streams.html",n.islive=!1,n.cdnVariants=null;i.on("livemetadata/change",function(i){n.islive=!0,t.getAllCDNStreamsForLive(i.videodata).then(function(t){n.cdnVariants=t})})}]);
angular.module("video").controller("LiveTicker",["$scope","subscribe","liveTickerVideoModelFactory",function(n,t,i){n.islive=!1,n.livetickerview="/Views/Ui/js/video/views/rd.video.views.liveticker.html";var r;n.init=function(u){r=u=="chamberlive";t.on("livemetadata/change",function(t){r&&(t.videodata=$.grep(t.videodata,function(n){return n.fromchamber==!0})),n.islive=t.videodata&&t.videodata.length>0,n.liveVideoModel=i.create(t)});t.on("livemetadata/notfound",function(){n.islive=!1})}}]);
angular.module("video").controller("TranscriptController",["$scope","$sce","videoModelListener",function(n){n.transcriptview="/Views/Ui/js/video/views/rd.video.views.transcript.html",n.$on("$includeContentLoaded",function(){rd.dom.toggle.init()})}]);
(function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(n){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,i,r,u,f,e){function c(){r.cancel(l),e.complete(),o=0,s=0}function h(t){var f,e=i.get("$http"),u=n.defaults,r;return((t.cache||u.cache)&&t.cache!==!1&&(t.method==="GET"||t.method==="JSONP")&&(f=angular.isObject(t.cache)?t.cache:angular.isObject(u.cache)?u.cache:e),r=f!==undefined?f.get(t.url)!==undefined:!1,t.cached!==undefined&&r!==t.cached)?t.cached:(t.cached=r,r)}var s=0,o=0,a=e.latencyThreshold,l;return{request:function(n){return n.ignoreLoadingBar||h(n)||(u.$broadcast("cfpLoadingBar:loading",{url:n.url}),s===0&&(l=r(function(){e.start()},a)),s++,e.set(o/s)),n},response:function(n){return!n||!n.config?(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),n):(n.config.ignoreLoadingBar||h(n.config)||(o++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url,result:n}),o>=s?c():e.set(o/s)),n)},responseError:function(n){return!n||!n.config?(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(n)):(n.config.ignoreLoadingBar||h(n.config)||(o++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url,result:n}),o>=s?c():e.set(o/s)),t.reject(n))}}}];n.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(n,t,i,r){function g(){u||(u=n.get("$animate"));var o=t.find(p).eq(0);(i.cancel(s),f)||(r.$broadcast("cfpLoadingBar:started"),f=!0,d&&u.enter(c,o,angular.element(o[0].lastChild)),b&&u.enter(y,o,angular.element(o[0].lastChild)),e(nt))}function e(n){if(f){var t=n*100+"%";k.css("width",t),h=n,i.cancel(a),a=i(function(){l()},250)}}function l(){var t,n,i;o()>=1||(t=0,n=o(),t=n>=0&&n<.25?(Math.random()*3+3)/100:n>=.25&&n<.65?Math.random()*3/100:n>=.65&&n<.9?Math.random()/50:n>=.9&&n<.99?.005:0,i=o()+t,e(i))}function o(){return h}function v(){h=0,f=!1}function w(){u||(u=n.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),e(1),i.cancel(s),s=i(function(){var n=u.leave(c,v);n&&n.then&&n.then(v),u.leave(y)},500)}var u,p=this.parentSelector,c=angular.element(this.loadingBarTemplate),k=c.find("div").eq(0),y=angular.element(this.spinnerTemplate),a,s,f=!1,h=0,b=this.includeSpinner,d=this.includeBar,nt=this.startSize;return{start:g,set:e,status:o,inc:l,complete:w,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})})();
rd.video.helpers={self:this,zeropad:function(n){return n=parseInt(n,10),n>=10?n:"0"+n},format:function(n){n=n||0;var i=Math.floor(n/3600),t=Math.floor(n/60);return(n=n-t*60,i>=1)?(t-=i*60,i+":"+this.zeropad(t)+":"+this.zeropad(n)):this.zeropad(t)+":"+this.zeropad(n)},hms2sec:function(n){for(var r=n.split(":"),i=0,t=1;r.length>0;)i+=t*parseInt(r.pop(),10),t*=60;return i},isEmbedDialog:function(){return $(".popout").is(":visible")},chapterChanged:function(n){$.publish("speakers/change",n),$speakerLink=$("li[data-speakerstart='"+n+"']");var t=$($speakerLink).position();t!=null&&(t.top>1||t.top<-1)&&$(".component-speakers-list-wrapper").animate({scrollTop:t.top}),rd.module.videoTranscript.handleChapterChanged(n)},isIOS:function(){return/iPad|iPhone|iPod/i.test(navigator.userAgent)},isAndroid:function(){return/android/i.test(navigator.userAgent)},enabledFlash:function(){return!1},getQuerySeekPosition:function(){var n=window.location.href,i="",t;return n.indexOf("#pos=")>-1?(t=n.substring(n.indexOf("#pos=")+5),"&pos="+t):""}},$(document).ready(function(){rd.video.helpers.isIOS()&&$("body").addClass("ios")});
(function(){"use strict";var n=angular.module("sticky",[]);n.directive("sticky",["$window","$timeout",function(n,t){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(i,r,u){function ft(){if(ut){w.on("scroll",p);lt.on("resize",g);ii(),i.$watch(pt,yt),i.$on("$destroy",ei),ut=!1}}function ii(){f=i.getInitialDimensions(),oi&&(r[0].getBoundingClientRect().height||(rt=i.$watch(function(){return r.height()},function(n){n>0&&(f=i.getInitialDimensions(),ri||rt())})))}function ni(t){var i=ti(dt,t);return i.length===1?i[0]:n}function ti(n,t){var f=[],i=t.parent(),r,u;do{if(u=i[0],u.nodeType!==1)break;if(u.tagName.toUpperCase()===n.toUpperCase())return i;r=i.parent(),i=r}while(r.length!==0);return f}function si(t){return t==="true"?n.innerHeight-(r[0].offsetHeight+parseInt(b))<0:!1}function hi(n,t,i){var r="top",f=Math.abs(n-t),u=Math.abs(n-i);return f>u&&(r="bottom"),r}function l(n){st&&r.attr("style",st),c=!1,f.width=i.getInitialDimensions().width,d.removeClass(nt),r.removeClass(ht),r.addClass(vt),n==="top"?(r.removeClass(tt),r.css("z-index",10).css("width",f.width).css("top",f.top).css("position",f.position).css("left",f.cssLeft).css("margin-top",f.marginTop).css("height",f.height)):n==="bottom"&&v===!0&&(r.addClass(tt),et(),r.css("z-index",10).css("width",f.width).css("top","").css("bottom",0).css("position","absolute").css("left",f.cssLeft).css("margin-top",f.marginTop).css("margin-bottom",f.marginBottom).css("height",f.height)),o&&n===h&&o.remove()}function fi(){c=!0,t(function(){f.offsetWidth=r[0].offsetWidth},0),d.addClass(nt),r.removeClass(vt),r.removeClass(tt),r.addClass(ht),et(),r.css("z-index","10").css("width",r[0].offsetWidth+"px").css("position","fixed").css("left",r.css("left").replace("px","")+"px").css(h,b+s(e)+"px").css("margin-top",0),h==="bottom"&&r.css("margin-bottom",0)}function it(){l(h),p()}function et(){if(at){o&&o.remove(),o=angular.element("<div>");var t=r[0].offsetHeight,n=r[0].currentStyle||window.getComputedStyle(r[0]);t+=parseInt(n.marginTop,10),t+=parseInt(n.marginBottom,10),t+=parseInt(n.borderTopWidth,10),t+=parseInt(n.borderBottomWidth,10),o.css("height",r[0].offsetHeight+"px"),r.after(o)}}function gt(){return v&&y()>k?!0:!1}function s(n){var t=0;return n.getBoundingClientRect&&(t=n.getBoundingClientRect().top),t}function y(){var n;return n=typeof e.scrollTop!="undefined"?e.scrollTop:typeof e.pageYOffset!="undefined"?e.pageYOffset:document.documentElement.scrollTop}function wt(){var t;return t=w[0]instanceof HTMLElement?n.getComputedStyle(w[0],null).getPropertyValue("height").replace(/px;?/,""):n.innerHeight,parseInt(t)||0}function kt(){var t=u.mediaQuery||!1,i=n.matchMedia;return t&&!(i("("+t+")").matches||i(t).matches)}function bt(n,t){var u=n[0].parentNode,i=n[0].cloneNode(),r;return i.style.display="none",i=u.appendChild(i),r=window.getComputedStyle(i)[t],u.removeChild(i),r}var dt="sticky-scroll",ui=r.css("position"),st=r.attr("style")||"",k=0,c=!1,rt,ot,ct,o,a,f,ht=u.stickyClass||"",vt=u.unstickyClass||"",nt=u.bodyClass||"",tt=u.bottomClass||"",e=ni(r),lt=angular.element(n),w=angular.element(e),d=angular.element(document.body),g=function(){i.$root&&!i.$root.$$phase?i.$apply(it):it()},at=u.usePlaceholder!=="false",h=u.anchor==="bottom"?"bottom":"top",v=u.confine==="true",oi=u.isStickyLayoutDeferred!==undefined?u.isStickyLayoutDeferred==="true":!1,ri=u.isStickyLayoutWatched!==undefined?u.isStickyLayoutWatched==="true":!0,b=u.offset?parseInt(u.offset.replace(/px;?/,"")):0,ut=!0,p=function(){var n,t,f;if(i.disabled===!0||kt())return c&&l(),!1;n=y(),t=h==="top"?v===!0?n>a&&n<=k:n>a:n<=a,f=hi(n,a,k),!t||si(u.stickLimit)||c?!t&&c?l(f,n):v&&!t&&(ct=s(r[0]),l(f,n)):fi(f)},ei=function(){w.off("scroll",p),lt.off("resize",g),g=null,d.removeClass(nt),o&&o.remove()},pt=function(){if(i.disabled===!0)return l();var n=s(r[0]);return n===0?n:h==="top"?(ct||n)-s(e)+y():n-wt()+r[0].offsetHeight+y()},yt=function(n,t){var o=!!n,tt=!t,nt=n!==t||typeof a=="undefined",g=!c&&!gt();if(nt&&g&&n>0&&o){a=n-b,o&&tt&&i.updateStickyContentUpdateDimensions(r[0].offsetWidth,r[0].offsetHeight),v&&r.parent().css({position:"relative"});var u=r.parent()[0],rt=parseInt(u.offsetHeight)-(at?0:r[0].offsetHeight),it=parseInt(r.css("margin-bottom").replace(/px;?/,""))||0,f=s(r[0]),h=s(u),d=s(e),w=f-d,l=h+rt-f;k=w+l-r[0].offsetHeight-it-b+ +y(),p()}};i.getElement=function(){return r},i.getScrollbar=function(){return e},i.getInitialCSS=function(){return f},i.getAnchor=function(){return h},i.isSticking=function(){return c},i.getOriginalInitialCSS=function(){return ot},i.processUnStickElement=function(n){l(n)},i.processCheckIfShouldStick=function(){p()},i.getInitialDimensions=function(){return{zIndex:r.css("z-index"),top:r.css("top"),position:ui,marginTop:r.css("margin-top"),marginBottom:r.css("margin-bottom"),cssLeft:bt(r,"left"),width:r[0].offsetWidth,height:r.css("height")}},i.updateStickyContentUpdateDimensions=function(n,t){n&&t&&(ft(),f.width=n+"px",f.height=t+"px")},t(function(){ot=i.getInitialDimensions(),ft()},0)},controller:["$scope","$window",function(n,t){this.resetLayout=function(i,r){function s(){o==="top"&&(f===t?t.scrollTo(0,0):f.scrollTop>0&&(f.scrollTop=0))}var f=n.getScrollbar(),e=n.getInitialCSS(),o=n.getAnchor(),u;n.isSticking()&&(n.processUnStickElement(o),n.processCheckIfShouldStick()),n.getElement().css({width:"",height:"",position:"",top:"",zIndex:""}),e.position=n.getOriginalInitialCSS().position,delete e.offsetWidth,i===undefined&&r===undefined&&(u=n.getElement()[0].getBoundingClientRect(),i=u.width,r=u.height),n.updateStickyContentUpdateDimensions(i,r),s()},this.getScrollbar=function(){return n.getScrollbar()}}]}}]),window.matchMedia=window.matchMedia||function(){var n="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(n),function(){return{matches:!0}}}()})();
(function(n){var t=function(n,t,i,r){this.src=i.streams.files[0].videofileurl,this.video=n,this.staticPlayer=r,this.videoModel=i,this.currentSpeaker=null,this.rootScope=t,this.hlsInstance=null,this.initHLS=this.initHLS.bind(this),this.loadNewQuality=this.loadNewQuality.bind(this),this.handleVideoTimeUpdate=this.handleVideoTimeUpdate.bind(this),this.getCurrentSpeakerIndex=this.getCurrentSpeakerIndex.bind(this),this.getDuration=this.getDuration.bind(this),this.setCurrentTime=this.setCurrentTime.bind(this),this.pause=this.pause.bind(this),this.src&&this.video&&(this.initHLS(),this.staticPlayer||(this.video.ontimeupdate=this.handleVideoTimeUpdate))};t.prototype={initHLS:function(){var n,i,e,u,r,f=-1,t;Hls.isSupported()?(n&&(n.destroy(),n.bufferTimer&&(clearInterval(n.bufferTimer),n.bufferTimer=undefined),n=null),i={url:this.src,t0:performance.now(),load:[],buffer:[],video:[],level:[],bitrate:[]},r={audio:[],video:[]},n=new Hls({debug:!1}),t=this,n.attachMedia(this.video),n.loadSource(t.src),this.hlsInstance=n):this.video.setAttribute("src",this.src)},loadNewQuality:function(n){for(var f=this,i=this.videoModel.streams.files[0].bandwidth,r,e,t=0,u=i.length;t<u;t++)if(i[t].quality===n){r=this.video.currentTime,e=this.hlsInstance,this.hlsInstance.media&&(this.hlsInstance.detachMedia(),this.hlsInstance.attachMedia(this.video),this.hlsInstance.loadSource(i[t].url),f.video.play(),f.hlsInstance.startLoad(r));return}},handleVideoTimeUpdate:function(){var t=this.getCurrentSpeakerIndex();this.currentSpeaker!==t&&(this.currentSpeaker=t,this.currentSpeaker!==null&&rd.video.helpers.chapterChanged(this.videoModel.speakers[this.currentSpeaker].start))},getCurrentSpeakerIndex:function(){for(var t,n=0;n<this.videoModel.speakers.length;n++)if(t=this.videoModel.speakers[n],this.video.currentTime>=t.start&&this.video.currentTime<t.start+t.duration)return n;return null},getDuration:function(){return this.video.duration},setCurrentTime:function(n){this.video.currentTime=n},pause:function(){this.video.pause()}},n.PlayerVod=t})(window);
(function(n){var t={CSSAnimations:function(){for(var t=["","Webkit","Moz","O","ms","Khtml"],i=$("<p/>")[0],n=0;n<t.length;n++)if(i.style[t[n]+"AnimationName"]!==undefined)return!0;return!1}};rd.video.playerlive=function(){function nt(n){if(v||(t=$(n),t.length==0))return!1;i=t.find("video"),r=t.find('[data-volume-on="handle"]'),f=r.offset().top,u=r.height();var e=i.data("video-url");if(v=!0,e)g(i[0],e);else return console.error("Ingen videofeed"),!1}function g(n,r){"use strict";function u(n){var r="",i,t,u;switch(n.type){case"durationchange":if(n.target.duration-s<=.5)return;s=n.target.duration,r=Math.round(n.target.duration*1e3);break;case"resize":r=n.target.videoWidth+"/"+n.target.videoHeight;break;case"loadedmetadata":case"loadeddata":case"canplay":$('[data-video-player="hls"]').removeClass("is-loading");break;case"playing":h=n.target.currentTime;break;case"pause":$('[data-video-player="hls"]').removeClass("is-playing");break;case"waiting":case"stalled":case"error":if(r=Math.round(n.target.currentTime*1e3),n.type==="error"){t=n.currentTarget.error;switch(t.code){case t.MEDIA_ERR_ABORTED:i="You aborted the video playback";break;case t.MEDIA_ERR_DECODE:i="The video playback was aborted due to a corruption problem or because the video used features your browser did not support";break;case t.MEDIA_ERR_NETWORK:i="A network error caused the video download to fail part-way";break;case t.MEDIA_ERR_SRC_NOT_SUPPORTED:i="The video could not be loaded, either because the server or network failed or because the format is not supported"}console.error(i)}}u={time:performance.now()-e.t0,type:n.type,name:r},e.video.push(u),n.type==="seeking"&&(o=e.video.length-1),n.type==="seeked"&&(e.video[o].duration=u.time-e.video[o].time)}var f,e,v,a,c,l=-1,o,h,s;n.volume=.5,Hls.isSupported()?(f&&(f.destroy(),f.bufferTimer&&(clearInterval(f.bufferTimer),f.bufferTimer=undefined),f=null),e={url:r,t0:performance.now(),load:[],buffer:[],video:[],level:[],bitrate:[]},c={audio:[],video:[]},f=new Hls({debug:!1}),f.loadSource(r),f.autoLevelCapping=l,f.attachMedia(n),n.addEventListener("resize",u),n.addEventListener("seeking",u),n.addEventListener("seeked",u),n.addEventListener("pause",u),n.addEventListener("play",u),n.addEventListener("canplay",u),n.addEventListener("canplaythrough",u),n.addEventListener("ended",u),n.addEventListener("playing",u),n.addEventListener("error",u),n.addEventListener("loadedmetadata",u),n.addEventListener("loadeddata",u),n.addEventListener("durationchange",u),ut(i,t)):n.canPlayType("application/vnd.apple.mpegURL")?($('[data-video-player="hls"]').removeClass("is-loading").addClass("vpl-native-ui"),$(n).attr("src",r).attr("controls","").attr("poster","/Views/Ui/images/video/riksdagshuset.jpg").attr("playsinline",""),$(".vlp-controls").remove(),$(".vlp-splash").remove()):navigator.userAgent.toLowerCase().indexOf("firefox")!==-1?console.error("MediaSource is not enabled in Firefox"):console.error("Your Browser does not support MediaSourceExtension / MP4 mediasource")}function ut(t,i){i.on("mouseleave",function(n){rt(n,i)}).on("mouseenter",function(){it(i)}).on("mousemove",function(){l()});i.find("*").focus(function(){$(this).hasClass("keyboard-focus")?i.addClass("focused"):i.removeClass("focused")}).blur(function(){i.removeClass("focused")});$(".vlp-popout").on("click",function(){return i.hasClass("is-playing")&&t[0].pause(),n.open($(this).attr("href"),"Debatt","menubar=1,resizable=1,width=765,height=428"),!1});$(".vlp-social__button").on("click",function(){i.hasClass("is-playing")&&t[0].pause()});$('[data-on-click="play"]',i).on("click",function(){i.addClass("is-playing"),i.addClass("vlp--interacted"),t[0].play(),$("body").hasClass("popout")&&$(".vlp-embed-meta").hide()});$('[data-on-click="playpause"]',i).on("click",function(){i.hasClass("is-playing")?(i.removeClass("is-playing"),o(),t[0].pause(),$("body").hasClass("popout")&&$(".vlp-embed-meta").show()):(i.addClass("is-playing"),i.addClass("vlp--interacted"),l(),$("body").hasClass("popout")&&$(".vlp-embed-meta").hide(),t[0].play())});$('[data-on-click="fullscreen"]',i[0]).on("click",function(){var t=document.fullscreenElement&&document.fullscreenElement!==null||document.webkitFullscreenElement&&document.webkitFullscreenElement!==null||document.mozFullScreenElement&&document.mozFullScreenElement!==null||document.msFullscreenElement&&document.msFullscreenElement!==null;t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():i[0].requestFullscreen?i[0].requestFullscreen():i[0].mozRequestFullScreen?i[0].mozRequestFullScreen():i[0].webkitRequestFullScreen?i[0].webkitRequestFullScreen():i[0].msRequestFullscreen&&i[0].msRequestFullscreen()});$('[data-on-click="volume"]',i).on("click",function(n){return n.stopPropagation(),$("[data-sound]",i).is(".is-active")?($(this).removeClass("is-active"),$("[data-sound]",i).removeClass("is-active")):($(this).addClass("is-active"),$("[data-sound]",i).addClass("is-active")),!1});var u,r=function(n){isNaN(t[0].volume)&&(t[0].volume=0);var r=parseFloat(t[0].volume)+n;$("[data-volume-level]",i).height(r*100),r>=0&&r<=1&&(t[0].volume=r)};$('[data-volume-on="plus"]',i).on("click",k);$('[data-volume-on="min"]',i).on("click",w);$('[data-volume-on="handle"]',i).on("mousedown",y)}function rt(n,t){t.is(".is-playing")||o()}function it(n){clearTimeout(tt),n.is(".is-touch")||(t.find(".vlp-controls").fadeIn("fast"),t.find(".vlp-social").fadeIn("fast"))}function l(){o(),t.is(".is-playing")&&(h=setTimeout(function(){s=!0,t.addClass("vlp--idle"),$('[data-on-click="volume"]',t).removeClass("is-active"),$("[data-sound]",t).removeClass("is-active"),t.find(":focus").blur()},d))}function o(){s&&(t.removeClass("vlp--idle"),s=!1),clearTimeout(h)}function b(n){return n.pageY<f?100:n.pageY>f+u?0:Math.floor((u-(n.pageY-f))/u*100)}function c(n){return n.preventDefault(),e(b(n)),!1}function p(){$(n).off("mousemove",c),a=null}function y(t){f=r.offset().top,u=r.height();$(n).on("mousemove",c);$(n).one("mouseup",p);a=t.pageY}function e(n){var u=n>100?100:n<0?0:n;i[0].volume=u/100,$("[data-volume-level]",t).height(r.height()/100*u)}function k(){e((i[0].volume+.1)*100)}function w(){e((i[0].volume-.1)*100)}var t=null,i=null,ft="[data-mimetype]",tt=null,ot=-1,a,et,r,f,u,v=!1,s=!1,h,d=3e3;return{init:nt}}()})(window);
(function(n){function it(n,t,i){switch(arguments.length){case 2:return n!=null?n:t;case 3:return n!=null?n:t!=null?t:i;default:throw new Error("Implement me");}}function w(n,t){return hu.call(n,t)}function wt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function wr(n){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function o(n,t){var i=!0;return d(function(){return i&&(wr(n),i=!1),t.apply(this,arguments)},t)}function ef(n,t){ar[n]||(wr(t),ar[n]=!0)}function vr(n,t){return function(i){return r(n.call(this,i),t)}}function of(n,t){return function(i){return this.localeData().ordinal(n.call(this,i),t)}}function au(n,t){var u=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(u,"months"),r,f;return t-i<0?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)}function sf(n,t,i){var r;return i==null?t:n.meridiemHour!=null?n.meridiemHour(t,i):n.isPM!=null?(r=n.isPM(i),r&&t<12&&(t+=12),r||t!==12||(t=0),t):t}function rr(){}function rt(n,i){i!==!1&&ai(n),hi(this,n),this._d=new Date(+n._d),bt===!1&&(bt=!0,t.updateOffset(this),bt=!1)}function yt(n){var i=bi(n),h=i.year||0,s=i.quarter||0,l=i.month||0,c=i.week||0,o=i.day||0,u=i.hour||0,r=i.minute||0,e=i.second||0,f=i.millisecond||0;this._milliseconds=+f+e*1e3+r*6e4+u*36e5,this._days=+o+c*7,this._months=+l+s*3+h*12,this._data={},this._locale=t.localeData(),this._bubble()}function d(n,t){for(var i in t)w(t,i)&&(n[i]=t[i]);return w(t,"toString")&&(n.toString=t.toString),w(t,"valueOf")&&(n.valueOf=t.valueOf),n}function hi(n,t){var u,i,r;if(typeof t._isAMomentObject!="undefined"&&(n._isAMomentObject=t._isAMomentObject),typeof t._i!="undefined"&&(n._i=t._i),typeof t._f!="undefined"&&(n._f=t._f),typeof t._l!="undefined"&&(n._l=t._l),typeof t._strict!="undefined"&&(n._strict=t._strict),typeof t._tzm!="undefined"&&(n._tzm=t._tzm),typeof t._isUTC!="undefined"&&(n._isUTC=t._isUTC),typeof t._offset!="undefined"&&(n._offset=t._offset),typeof t._pf!="undefined"&&(n._pf=t._pf),typeof t._locale!="undefined"&&(n._locale=t._locale),et.length>0)for(u in et)i=et[u],r=t[i],typeof r!="undefined"&&(n[i]=r);return n}function h(n){return n<0?Math.ceil(n):Math.floor(n)}function r(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function ei(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function lf(n,t){var i;return t=pt(t,n),n.isBefore(t)?i=ei(n,t):(i=ei(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function gi(n,i){return function(r,u){var e,f;return u===null||isNaN(+u)||(ef(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period)."),f=r,r=u,u=f),r=typeof r=="string"?+r:r,e=t.duration(r,u),ki(this,e,n),this}}function ki(n,i,r,u){var o=i._milliseconds,e=i._days,f=i._months;u=u==null?!0:u,o&&n._d.setTime(+n._d+o*r),e&&ri(n,"Date",kt(n,"Date")+e*r),f&&di(n,kt(n,"Month")+f*r),u&&t.updateOffset(n,e||f)}function ut(n){return Object.prototype.toString.call(n)==="[object Array]"}function ht(n){return Object.prototype.toString.call(n)==="[object Date]"||n instanceof Date}function vi(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;u<e;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function e(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=hf[n]||cf[t]||t}return n}function bi(n){var r={},i,t;for(t in n)w(n,t)&&(i=e(t),i&&(r[i]=n[t]));return r}function tf(i){var u,r;if(i.indexOf("week")===0)u=7,r="day";else if(i.indexOf("month")===0)u=12,r="month";else return;t[i]=function(f,e){var o,s,c=t._locale[i],h=[];if(typeof f=="number"&&(e=f,f=n),s=function(n){var i=t().utc().set(r,n);return c.call(t._locale,i,f||"")},e!=null)return s(e);for(o=0;o<u;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return t!==0&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function dt(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function si(n,i,r){return p(t([n,11,31+i-r]),i,r).week}function pi(n){return wi(n)?366:365}function wi(n){return n%4==0&&n%100!=0||n%400==0}function ai(n){var t;n._a&&n._pf.overflow===-2&&(t=n._a[a]<0||n._a[a]>11?a:n._a[s]<1||n._a[s]>dt(n._a[c],n._a[a])?s:n._a[f]<0||n._a[f]>24||n._a[f]===24&&(n._a[b]!==0||n._a[k]!==0||n._a[tt]!==0)?f:n._a[b]<0||n._a[b]>59?b:n._a[k]<0||n._a[k]>59?k:n._a[tt]<0||n._a[tt]>999?tt:-1,n._pf._overflowDayOfYear&&(t<c||t>s)&&(t=s),n._pf.overflow=t)}function yi(t){return t._isValid==null&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&t._pf.charsLeftOver===0&&t._pf.unusedTokens.length===0&&t._pf.bigHour===n)),t._isValid}function nr(n){return n?n.toLowerCase().replace("_","-"):n}function ne(n){for(var u=0,i,t,f,r;u<n.length;){for(r=nr(n[u]).split("-"),i=r.length,t=nr(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=ui(r.slice(0,i).join("-")),f)return f;if(t&&t.length>=i&&vi(r,t,!0)>=i-1)break;i--}u++}return null}function ui(n){var i=null;if(!nt[n]&&pr)try{i=t.locale(),require("./locale/"+n),t.locale(i)}catch(r){}return nt[n]}function pt(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(t.isMoment(n)||ht(n)?+n:+t(n))-+r,r._d.setTime(+r._d+u),t.updateOffset(r,!1),r):t(n).local()}function df(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function re(n){for(var i=n.match(cr),t=0,r=i.length;t<r;t++)i[t]=l[i[t]]?l[i[t]]:df(i[t]);return function(u){var f="";for(t=0;t<r;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function gt(n,t){return n.isValid()?(t=ci(t,n.localeData()),vt[t]||(vt[t]=re(t)),vt[t](n)):n.localeData().invalidDate()}function ci(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ot.lastIndex=0;i>=0&&ot.test(n);)n=n.replace(ot,r),ot.lastIndex=0,i-=1;return n}function yf(n,t){var r,i=t._strict;switch(n){case"Q":return ur;case"DDDD":return sr;case"YYYY":case"GGGG":case"gggg":return i?af:ru;case"Y":case"G":case"g":return uf;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?rf:iu;case"S":if(i)return ur;case"SS":if(i)return hr;case"SSS":if(i)return sr;case"DDD":return nu;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return vf;case"a":case"A":return t._locale._meridiemParse;case"x":return ie;case"X":return gf;case"Z":case"ZZ":return ni;case"T":return te;case"SSSS":return wf;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?hr:lr;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return lr;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return r=new RegExp(ou(fu(n.replace("\\","")),"i"))}}function ti(n){n=n||"";var u=n.match(ni)||[],f=u[u.length-1]||[],t=(f+"").match(nf)||["-",0,0],r=+(t[1]*60)+i(t[2]);return t[0]==="+"?r:-r}function kf(n,r,u){var o,e=u._a;switch(n){case"Q":r!=null&&(e[a]=(i(r)-1)*3);break;case"M":case"MM":r!=null&&(e[a]=i(r)-1);break;case"MMM":case"MMMM":o=u._locale.monthsParse(r,n,u._strict),o!=null?e[a]=o:u._pf.invalidMonth=r;break;case"D":case"DD":r!=null&&(e[s]=i(r));break;case"Do":r!=null&&(e[s]=i(parseInt(r.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":r!=null&&(u._dayOfYear=i(r));break;case"YY":e[c]=t.parseTwoDigitYear(r);break;case"YYYY":case"YYYYY":case"YYYYYY":e[c]=i(r);break;case"a":case"A":u._meridiem=r;break;case"h":case"hh":u._pf.bigHour=!0;case"H":case"HH":e[f]=i(r);break;case"m":case"mm":e[b]=i(r);break;case"s":case"ss":e[k]=i(r);break;case"S":case"SS":case"SSS":case"SSSS":e[tt]=i(("0."+r)*1e3);break;case"x":u._d=new Date(i(r));break;case"X":u._d=new Date(parseFloat(r)*1e3);break;case"Z":case"ZZ":u._useUTC=!0,u._tzm=ti(r);break;case"dd":case"ddd":case"dddd":o=u._locale.weekdaysParse(r),o!=null?(u._w=u._w||{},u._w.d=o):u._pf.invalidWeekday=r;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":n=n.substr(0,1);case"gggg":case"GGGG":case"GGGGG":n=n.substr(0,2),r&&(u._w=u._w||{},u._w[n]=i(r));break;case"gg":case"GG":u._w=u._w||{},u._w[n]=t.parseTwoDigitYear(r)}}function bf(n){var i,s,e,u,r,f,o;i=n._w,i.GG!=null||i.W!=null||i.E!=null?(r=1,f=4,s=it(i.GG,n._a[c],p(t(),1,4).year),e=it(i.W,1),u=it(i.E,1)):(r=n._locale._week.dow,f=n._locale._week.doy,s=it(i.gg,n._a[c],p(t(),r,f).year),e=it(i.w,1),i.d!=null?(u=i.d,u<r&&++e):u=i.e!=null?i.e+r:r),o=du(s,e,u,f,r),n._a[c]=o.year,n._dayOfYear=o.dayOfYear}function ii(n){var t,u,e=[],i,r;if(!n._d){for(i=tu(n),n._w&&n._a[s]==null&&n._a[a]==null&&bf(n),n._dayOfYear&&(r=it(n._a[c],i[c]),n._dayOfYear>pi(r)&&(n._pf._overflowDayOfYear=!0),u=ct(r,0,n._dayOfYear),n._a[a]=u.getUTCMonth(),n._a[s]=u.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=e[t]=i[t];for(;t<7;t++)n._a[t]=e[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[f]===24&&n._a[b]===0&&n._a[k]===0&&n._a[tt]===0&&(n._nextDay=!0,n._a[f]=0),n._d=(n._useUTC?ct:gr).apply(null,e),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[f]=24)}}function pf(n){var t;n._d||(t=bi(n._i),n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ii(n))}function tu(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function st(i){if(i._f===t.ISO_8601){fi(i);return}i._a=[],i._pf.empty=!0;for(var u=""+i._i,r,e,s,a=u.length,c=0,h=ci(i._f,i._locale).match(cr)||[],o=0;o<h.length;o++)e=h[o],r=(u.match(yf(e,i))||[])[0],r&&(s=u.substr(0,u.indexOf(r)),s.length>0&&i._pf.unusedInput.push(s),u=u.slice(u.indexOf(r)+r.length),c+=r.length),l[e]?(r?i._pf.empty=!1:i._pf.unusedTokens.push(e),kf(e,r,i)):i._strict&&!r&&i._pf.unusedTokens.push(e);i._pf.charsLeftOver=a-c,u.length>0&&i._pf.unusedInput.push(u),i._pf.bigHour===!0&&i._a[f]<=12&&(i._pf.bigHour=n),i._a[f]=sf(i._locale,i._a[f],i._meridiem),ii(i),ai(i)}function fu(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function ou(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function uu(n){var t,f,u,r,i;if(n._f.length===0){n._pf.invalidFormat=!0,n._d=new Date(NaN);return}for(r=0;r<n._f.length;r++)(i=0,t=hi({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._pf=wt(),t._f=n._f[r],st(t),yi(t))&&(i+=t._pf.charsLeftOver,i+=t._pf.unusedTokens.length*10,t._pf.score=i,(u==null||i<u)&&(u=i,f=t));d(n,f||t)}function fi(n){var t,r,i=n._i,u=ff.exec(i);if(u){for(n._pf.iso=!0,t=0,r=lt.length;t<r;t++)if(lt[t][1].exec(i)){n._f=lt[t][0]+(u[6]||" ");break}for(t=0,r=at.length;t<r;t++)if(at[t][1].exec(i)){n._f+=at[t][0];break}i.match(ni)&&(n._f+="Z"),st(n)}else n._isValid=!1}function su(n){fi(n),n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function eu(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function dr(i){var r=i._i,u;r===n?i._d=new Date:ht(r)?i._d=new Date(+r):(u=cu.exec(r))!==null?i._d=new Date(+u[1]):typeof r=="string"?su(i):ut(r)?(i._a=eu(r.slice(0),function(n){return parseInt(n,10)}),ii(i)):typeof r=="object"?pf(i):typeof r=="number"?i._d=new Date(r):t.createFromInputFallback(i)}function gr(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<1970&&o.setFullYear(n),o}function ct(n){var t=new Date(Date.UTC.apply(null,arguments));return n<1970&&t.setUTCFullYear(n),t}function wu(n,t){if(typeof n=="string")if(isNaN(n)){if(n=t.weekdaysParse(n),typeof n!="number")return null}else n=parseInt(n,10);return n}function pu(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function bu(n,i,r){var u=t.duration(n).abs(),c=g(u.as("s")),e=g(u.as("m")),h=g(u.as("h")),s=g(u.as("d")),o=g(u.as("M")),l=g(u.as("y")),f=c<y.s&&["s",c]||e===1&&["m"]||e<y.m&&["mm",e]||h===1&&["h"]||h<y.h&&["hh",h]||s===1&&["d"]||s<y.d&&["dd",s]||o===1&&["M"]||o<y.M&&["MM",o]||l===1&&["y"]||["yy",l];return f[2]=i,f[3]=+n>0,f[4]=r,pu.apply({},f)}function p(n,i,r){var e=r-i,u=r-n.day(),f;return u>e&&(u-=7),u<e-7&&(u+=7),f=t(n).add(u,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function du(n,t,i,r,u){var f=ct(n,0,1).getUTCDay(),o,e;return f=f===0?7:f,i=i!=null?i:u,o=u-f+(f>r?7:0)-(f<u?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:pi(n-1)+e}}function tr(i){var r=i._i,f=i._f,u;return(i._locale=i._locale||t.localeData(i._l),r===null||f===n&&r==="")?t.invalid({nullInput:!0}):(typeof r=="string"&&(i._i=r=i._locale.preparse(r)),t.isMoment(r))?new rt(r,!0):(f?ut(f)?uu(i):st(i):dr(i),u=new rt(i),u._nextDay&&(u.add(1,"d"),u._nextDay=n),u)}function ir(n,i){var u,r;if(i.length===1&&ut(i[0])&&(i=i[0]),!i.length)return t();for(u=i[0],r=1;r<i.length;++r)i[r][n](u)&&(u=i[r]);return u}function di(n,t){var i;return typeof t=="string"&&(t=n.localeData().monthsParse(t),typeof t!="number")?n:(i=Math.min(n.date(),dt(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function kt(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function ri(n,t,i){return t==="Month"?di(n,i):n._d["set"+(n._isUTC?"UTC":"")+t](i)}function v(n,i){return function(r){return r!=null?(ri(this,n,r),t.updateOffset(this,i),this):kt(this,n)}}function li(n){return n*400/146097}function oi(n){return n*146097/400}function vu(n){t.duration.fn[n]=function(){return this._data[n]}}function yr(n){typeof ender=="undefined"&&(kr=ft.moment,ft.moment=n?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,lu="2.9.0",ft=typeof global!="undefined"&&(typeof window=="undefined"||window===global.window)?global:this,kr,g=Math.round,hu=Object.prototype.hasOwnProperty,u,c=0,a=1,s=2,f=3,b=4,k=5,tt=6,nt={},et=[],pr=typeof module!="undefined"&&module&&module.exports,cu=/^\/?Date\((\-?\d+)/i,yu=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ku=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,cr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,ot=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,lr=/\d\d?/,nu=/\d{1,3}/,ru=/\d{1,4}/,iu=/[+\-]?\d{1,6}/,wf=/\d+/,vf=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ni=/Z|[\+\-]\d\d:?\d\d/gi,te=/T/i,ie=/[\+\-]?\d+/,gf=/[\+\-]?\d+(\.\d{1,3})?/,ur=/\d/,hr=/\d\d/,sr=/\d{3}/,af=/\d{4}/,rf=/[+-]?\d{6}/,uf=/[+-]?\d+/,ff=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gu="YYYY-MM-DDTHH:mm:ssZ",lt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],at=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],nf=/([\+\-]|\d\d)/gi,ue="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),fr={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},hf={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},cf={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},vt={},y={s:45,m:45,h:22,d:26,M:11},or="DDD w W M D d".split(" "),er="M D H h m s w W".split(" "),l={M:function(){return this.month()+1},MMM:function(n){return this.localeData().monthsShort(this,n)},MMMM:function(n){return this.localeData().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.localeData().weekdaysMin(this,n)},ddd:function(n){return this.localeData().weekdaysShort(this,n)},dddd:function(n){return this.localeData().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+r(Math.abs(n),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return r(i(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=this.utcOffset(),t="+";return n<0&&(n=-n,t="-"),t+r(i(n/60),2)+":"+r(i(n)%60,2)},ZZ:function(){var n=this.utcOffset(),t="+";return n<0&&(n=-n,t="-"),t+r(i(n/60),2)+r(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ar={},br=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],bt=!1;or.length;)u=or.pop(),l[u+"o"]=of(l[u],u);while(er.length)u=er.pop(),l[u+u]=vr(l[u],2);for(l.DDDD=vr(l.DDD,3),d(rr.prototype,{set:function(n){var i,t;for(t in n)i=n[t],typeof i=="function"?this[t]=i:this["_"+t]=i;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n,i,r){var u,f,e;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++)if((f=t.utc([2e3,u]),r&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),r||this._monthsParse[u]||(e="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[u]=new RegExp(e.replace(".",""),"i")),r&&i==="MMMM"&&this._longMonthsParse[u].test(n))||r&&i==="MMM"&&this._shortMonthsParse[u].test(n)||!r&&this._monthsParse[u].test(n))return u},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;i<7;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return(n+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t,i){var r=this._calendar[n];return typeof r=="function"?r.apply(t,[i]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return typeof u=="function"?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return typeof i=="function"?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(n){return n},postformat:function(n){return n},week:function(n){return p(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=wt(),tr(f)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.min=function(){var n=[].slice.call(arguments,0);return ir("isBefore",n)},t.max=function(){var n=[].slice.call(arguments,0);return ir("isAfter",n)},t.utc=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=wt(),tr(f).utc()},t.unix=function(n){return t(n*1e3)},t.duration=function(n,r){var u=n,e=null,h,l,o,c;return t.isDuration(n)?u={ms:n._milliseconds,d:n._days,M:n._months}:typeof n=="number"?(u={},r?u[r]=n:u.milliseconds=n):(e=yu.exec(n))?(h=e[1]==="-"?-1:1,u={y:0,d:i(e[s])*h,h:i(e[f])*h,m:i(e[b])*h,s:i(e[k])*h,ms:i(e[tt])*h}):(e=ku.exec(n))?(h=e[1]==="-"?-1:1,o=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*h},u={y:o(e[2]),M:o(e[3]),d:o(e[4]),h:o(e[5]),m:o(e[6]),s:o(e[7]),w:o(e[8])}):u==null?u={}:typeof u=="object"&&("from"in u||"to"in u)&&(c=lf(t(u.from),t(u.to)),u={},u.ms=c.milliseconds,u.M=c.months),l=new yt(u),t.isDuration(n)&&w(n,"_locale")&&(l._locale=n._locale),l},t.version=lu,t.defaultFormat=gu,t.ISO_8601=function(){},t.momentProperties=et,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,i){return y[t]===n?!1:i===n?y[t]:(y[t]=i,!0)},t.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(n,i){return t.locale(n,i)}),t.locale=function(n,i){var r;return n&&(r=typeof i!="undefined"?t.defineLocale(n,i):t.localeData(n),r&&(t.duration._locale=t._locale=r)),t._locale._abbr},t.defineLocale=function(n,i){return i!==null?(i.abbr=n,nt[n]||(nt[n]=new rr),nt[n].set(i),t.locale(n),nt[n]):(delete nt[n],null)},t.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(n){return t.localeData(n)}),t.localeData=function(n){var i;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return t._locale;if(!ut(n)){if(i=ui(n),i)return i;n=[n]}return ne(n)},t.isMoment=function(n){return n instanceof rt||n!=null&&w(n,"_isAMomentObject")},t.isDuration=function(n){return n instanceof yt},u=br.length-1;u>=0;--u)tf(br[u]);t.normalizeUnits=function(n){return e(n)},t.invalid=function(n){var i=t.utc(NaN);return n!=null?d(i._pf,n):i._pf.userInvalidated=!0,i},t.parseZone=function(){return t.apply(null,arguments).parseZone()},t.parseTwoDigitYear=function(n){return i(n)+(i(n)>68?1900:2e3)},t.isDate=ht,d(t.fn=rt.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d-(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():gt(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):gt(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return yi(this)},isDSTShifted:function(){return this._a?this.isValid()&&vi(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(n){return this.utcOffset(0,n)},local:function(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(n){var i=gt(this,n||t.defaultFormat);return this.localeData().postformat(i)},add:gi(1,"add"),subtract:gi(-1,"subtract"),diff:function(n,t,i){var f=pt(n,this),o=(f.utcOffset()-this.utcOffset())*6e4,c,u,r,s;return t=e(t),t==="year"||t==="month"||t==="quarter"?(r=au(this,f),t==="quarter"?r=r/3:t==="year"&&(r=r/12)):(u=this-f,r=t==="second"?u/1e3:t==="minute"?u/6e4:t==="hour"?u/36e5:t==="day"?(u-o)/864e5:t==="week"?(u-o)/6048e5:u),i?r:h(r)},from:function(n,i){return t.duration({to:this,from:n}).locale(this.locale()).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(n){var r=n||t(),f=pt(r,this).startOf("day"),i=this.diff(f,"days",!0),u=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(u,this,t(r)))},isLeapYear:function(){return wi(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=wu(n,this.localeData()),this.add(n-t,"d")):t},month:v("Month",!0),startOf:function(n){n=e(n);switch(n){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"?this.weekday(0):n==="isoWeek"&&this.isoWeekday(1),n==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(t){return(t=e(t),t===n||t==="millisecond")?this:this.startOf(t).add(1,t==="isoWeek"?"week":t).subtract(1,"ms")},isAfter:function(n,i){var r;return i=e(typeof i!="undefined"?i:"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this>+n):(r=t.isMoment(n)?+n:+t(n),r<+this.clone().startOf(i))},isBefore:function(n,i){var r;return i=e(typeof i!="undefined"?i:"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this<+n):(r=t.isMoment(n)?+n:+t(n),+this.clone().endOf(i)<r)},isBetween:function(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)},isSame:function(n,i){var r;return i=e(i||"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this==+n):(r=+t(n),+this.clone().startOf(i)<=r&&r<=+this.clone().endOf(i))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n<this?this:n}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n>this?this:n}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}),utcOffset:function(n,i){var u=this._offset||0,r;return n!=null?(typeof n=="string"&&(n=ti(n)),Math.abs(n)<16&&(n=n*60),!this._isUTC&&i&&(r=this._dateUtcOffset()),this._offset=n,this._isUTC=!0,r!=null&&this.add(r,"m"),u!==n&&(!i||this._changeInProgress?ki(this,t.duration(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(ti(this._i)),this},hasAlignedHourOffset:function(n){return n=n?t(n).utcOffset():0,(this.utcOffset()-n)%60==0},daysInMonth:function(){return dt(this.year(),this.month())},dayOfYear:function(n){var i=g((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return n==null?i:this.add(n-i,"d")},quarter:function(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)},weekYear:function(n){var t=p(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return n==null?t:this.add(n-t,"y")},isoWeekYear:function(n){var t=p(this,1,4).year;return n==null?t:this.add(n-t,"y")},week:function(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")},isoWeek:function(n){var t=p(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")},weekday:function(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")},isoWeekday:function(n){return n==null?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return si(this.year(),1,4)},weeksInYear:function(){var n=this.localeData()._week;return si(this.year(),n.dow,n.doy)},get:function(n){return n=e(n),this[n]()},set:function(n,t){var i;if(typeof n=="object")for(i in n)this.set(i,n[i]);else n=e(n),typeof this[n]=="function"&&this[n](t);return this},locale:function(i){var r;return i===n?this._locale._abbr:(r=t.localeData(i),r!=null&&(this._locale=r),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===n?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}}),t.fn.millisecond=t.fn.milliseconds=v("Milliseconds",!1),t.fn.second=t.fn.seconds=v("Seconds",!1),t.fn.minute=t.fn.minutes=v("Minutes",!1),t.fn.hour=t.fn.hours=v("Hours",!0),t.fn.date=v("Date",!0),t.fn.dates=o("dates accessor is deprecated. Use date instead.",v("Date",!0)),t.fn.year=v("FullYear",!0),t.fn.years=o("years accessor is deprecated. Use year instead.",v("FullYear",!0)),t.fn.days=t.fn.day,t.fn.months=t.fn.month,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.fn.quarters=t.fn.quarter,t.fn.toJSON=t.fn.toISOString,t.fn.isUTC=t.fn.isUtc,d(t.duration.fn=yt.prototype,{_bubble:function(){var o=this._milliseconds,t=this._days,r=this._months,n=this._data,e,f,u,i=0;n.milliseconds=o%1e3,e=h(o/1e3),n.seconds=e%60,f=h(e/60),n.minutes=f%60,u=h(f/60),n.hours=u%24,t+=h(u/24),i=h(li(t)),t-=h(oi(i)),r+=h(t/30),t%=30,i+=h(r/12),r%=12,n.days=t,n.months=r,n.years=i},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+i(this._months/12)*31536e6},humanize:function(n){var t=bu(this,!n,this.localeData());return n&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=e(n),this[n.toLowerCase()+"s"]()},as:function(n){var t,i;if(n=e(n),n==="month"||n==="year")return t=this._days+this._milliseconds/864e5,i=this._months+li(t)*12,n==="month"?i:i/12;t=this._days+Math.round(oi(this._months/12));switch(n){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return t*24+this._milliseconds/36e5;case"minute":return t*1440+this._milliseconds/6e4;case"second":return t*86400+this._milliseconds/1e3;case"millisecond":return Math.floor(t*864e5)+this._milliseconds;default:throw new Error("Unknown unit "+n);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),t=Math.abs(this.hours()),n=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(t||n||i?"T":"")+(t?t+"H":"")+(n?n+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),t.duration.fn.toString=t.duration.fn.toISOString;for(u in fr)w(fr,u)&&vu(u.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")},t.duration.fn.asSeconds=function(){return this.as("s")},t.duration.fn.asMinutes=function(){return this.as("m")},t.duration.fn.asHours=function(){return this.as("h")},t.duration.fn.asDays=function(){return this.as("d")},t.duration.fn.asWeeks=function(){return this.as("weeks")},t.duration.fn.asMonths=function(){return this.as("M")},t.duration.fn.asYears=function(){return this.as("y")},t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,r=i(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+r}}),function(n){n(t)}(function(n){return n.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(n){return/^nm$/i.test(n)},meridiem:function(n,t,i){return n<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(n){return n+(n===1||n===8||n>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(n){n(t)}(function(n){var i={"1":"١","2":"٢","3":"٣","4":"٤","5":"٥","6":"٦","7":"٧","8":"٨","9":"٩","0":"٠"},t={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return n.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/ص|م/,isPM:function(n){return"م"===n},meridiem:function(n){return n<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(n){return n.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(n){return t[n]}).replace(/،/g,",")},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(n){n(t)}(function(n){return n.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){var u={"1":"١","2":"٢","3":"٣","4":"٤","5":"٥","6":"٦","7":"٧","8":"٨","9":"٩","0":"٠"},f={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(n){return n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},e={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},t=function(n){return function(t,i){var s=r(t),o=e[n][r(t)];return s===2&&(o=o[i?0:1]),o.replace(/%d/i,t)}},i=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];return n.defineLocale("ar",{months:i,monthsShort:i,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/ص|م/,isPM:function(n){return"م"===n},meridiem:function(n){return n<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:t("s"),m:t("m"),mm:t("m"),h:t("h"),hh:t("h"),d:t("d"),dd:t("d"),M:t("M"),MM:t("M"),y:t("y"),yy:t("y")},preparse:function(n){return n.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(n){return f[n]}).replace(/،/g,",")},postformat:function(n){return n.replace(/\d/g,function(n){return u[n]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(n){n(t)}(function(n){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return n.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(n){return/^(gündüz|axşam)$/.test(n)},meridiem:function(n){return n<4?"gecə":n<12?"səhər":n<17?"gündüz":"axşam"},ordinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(n){if(n===0)return n+"-ıncı";var i=n%10,u=n%100-i,r=n>=100?100:null;return n+(t[i]||t[u]||t[r])},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){function u(n,t){var i=n.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function t(n,t,i){var r={mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return i==="m"?t?"хвіліна":"хвіліну":i==="h"?t?"гадзіна":"гадзіну":n+" "+u(r[i],+n)}function r(n,t){var r={nominative:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_"),accusative:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[i][n.month()]}function i(n,t){var r={nominative:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),accusative:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_")},i=/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/.test(t)?"accusative":"nominative";return r[i][n.day()]}return n.defineLocale("be",{months:r,monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:i,weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:t,mm:t,h:t,hh:t,d:"дзень",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(n){return/^(дня|вечара)$/.test(n)},meridiem:function(n){return n<4?"ночы":n<12?"раніцы":n<17?"дня":"вечара"},ordinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(n,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return(n%10==2||n%10==3)&&n%100!=12&&n%100!=13?n+"-і":n+"-ы";case"D":return n+"-га";default:return n}},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(n){var t=n%10,i=n%100;return n===0?n+"-ев":i===0?n+"-ен":i>10&&i<20?n+"-ти":t===1?n+"-ви":t===2?n+"-ри":t===7||t===8?n+"-ми":n+"-ти"},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){var i={"1":"১","2":"২","3":"৩","4":"৪","5":"৫","6":"৬","7":"৭","8":"৮","9":"৯","0":"০"},t={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return n.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(n){return n.replace(/[১২৩৪৫৬৭৮৯০]/g,function(n){return t[n]})},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]})},meridiemParse:/রাত|শকাল|দুপুর|বিকেল|রাত/,isPM:function(n){return/^(দুপুর|বিকেল|রাত)$/.test(n)},meridiem:function(n){return n<4?"রাত":n<10?"শকাল":n<17?"দুপুর":n<20?"বিকেল":"রাত"},week:{dow:0,doy:6}})}),function(n){n(t)}(function(n){var i={"1":"༡","2":"༢","3":"༣","4":"༤","5":"༥","6":"༦","7":"༧","8":"༨","9":"༩","0":"༠"},t={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};return n.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(n){return n.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(n){return t[n]})},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,isPM:function(n){return/^(ཉིན་གུང|དགོང་དག|མཚན་མོ)$/.test(n)},meridiem:function(n){return n<4?"མཚན་མོ":n<10?"ཞོགས་ཀས":n<17?"ཉིན་གུང":n<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}),function(n){n(t)}(function(t){function i(n,t,i){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return n+" "+f(r[i],n)}function e(n){switch(r(n)){case 1:case 3:case 4:case 5:case 9:return n+" bloaz";default:return n+" vloaz"}}function r(n){return n>9?r(n%10):n}function f(n,t){return t===2?u(n):n}function u(t){var i={m:"v",b:"v",d:"z"};return i[t.charAt(0)]===n?t:i[t.charAt(0)]+t.substring(1)}return t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:i,h:"un eur",hh:"%d eur",d:"un devezh",dd:i,M:"ur miz",MM:i,y:"ur bloaz",yy:e},ordinalParse:/\d{1,2}(añ|vet)/,ordinal:function(n){var t=n===1?"añ":"vet";return n+t},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function t(n,t,i){var r=n+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=n===1?"minuta":n===2||n===3||n===4?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=n===1?"sat":n===2||n===3||n===4?"sata":"sati";case"dd":return r+=n===1?"dan":"dana";case"MM":return r+=n===1?"mjesec":n===2||n===3||n===4?"mjeseca":"mjeseci";case"yy":return r+=n===1?"godina":n===2||n===3||n===4?"godine":"godina"}}return n.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(n,t){var i=n===1?"r":n===2?"n":n===3?"r":n===4?"t":"è";return(t==="w"||t==="W")&&(i="a"),n+i},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function i(n){return n>1&&n<5&&~~(n/10)!=1}function t(n,t,r,u){var f=n+" ";switch(r){case"s":return t||u?"pár sekund":"pár sekundami";case"m":return t?"minuta":u?"minutu":"minutou";case"mm":return t||u?f+(i(n)?"minuty":"minut"):f+"minutami";case"h":return t?"hodina":u?"hodinu":"hodinou";case"hh":return t||u?f+(i(n)?"hodiny":"hodin"):f+"hodinami";case"d":return t||u?"den":"dnem";case"dd":return t||u?f+(i(n)?"dny":"dní"):f+"dny";case"M":return t||u?"měsíc":"měsícem";case"MM":return t||u?f+(i(n)?"měsíce":"měsíců"):f+"měsíci";case"y":return t||u?"rok":"rokem";case"yy":return t||u?f+(i(n)?"roky":"let"):f+"lety"}}var u="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),r="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return n.defineLocale("cs",{months:u,monthsShort:r,monthsParse:function(n,t){for(var r=[],i=0;i<12;i++)r[i]=new RegExp("^"+n[i]+"$|^"+t[i]+"$","i");return r}(u,r),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(n){var t=/сехет$/i.exec(n)?"рен":/çул$/i.exec(n)?"тан":"ран";return n+t},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinalParse:/\d{1,2}-мĕш/,ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(n){var t=n,i="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?i=t===40||t===50||t===60||t===80||t===100?"fed":"ain":t>0&&(i=r[t]),n+i},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function t(n,t,i){var u={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[n+" Tage",n+" Tagen"],M:["ein Monat","einem Monat"],MM:[n+" Monate",n+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[n+" Jahre",n+" Jahren"]};return t?u[i][0]:u[i][1]}return n.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function t(n,t,i){var u={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[n+" Tage",n+" Tagen"],M:["ein Monat","einem Monat"],MM:[n+" Monate",n+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[n+" Jahre",n+" Jahren"]};return t?u[i][0]:u[i][1]}return n.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(n,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[n.month()]:this._monthsNominativeEl[n.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(n,t,i){return n>11?i?"μμ":"ΜΜ":i?"πμ":"ΠΜ"},isPM:function(n){return(n+"").toLowerCase()[0]==="μ"},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(n,t){var i=this._calendarEl[n],r=t&&t.hours();return typeof i=="function"&&(i=i.apply(t)),i.replace("{}",r%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=~~(n%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=~~(n%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i}})}),function(n){n(t)}(function(n){return n.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=~~(n%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(n){return n.charAt(0).toLowerCase()==="p"},meridiem:function(n,t,i){return n>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),t="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(n,r){return/-MMM-/.test(r)?t[n.month()]:i[n.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function t(n,t,i,r){var u={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[n+" minuti",n+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[n+" tunni",n+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[n+" kuu",n+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[n+" aasta",n+" aastat"]};return t?u[i][2]?u[i][2]:u[i][1]:r?u[i][0]:u[i][1]}return n.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){var i={"1":"۱","2":"۲","3":"۳","4":"۴","5":"۵","6":"۶","7":"۷","8":"۸","9":"۹","0":"۰"},t={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return n.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(n){return/بعد از ظهر/.test(n)},meridiem:function(n){return n<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(n){return n.replace(/[۰-۹]/g,function(n){return t[n]}).replace(/،/g,",")},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}),function(n){n(t)}(function(n){function t(n,t,i,u){var f="";switch(i){case"s":return u?"muutaman sekunnin":"muutama sekunti";case"m":return u?"minuutin":"minuutti";case"mm":f=u?"minuutin":"minuuttia";break;case"h":return u?"tunnin":"tunti";case"hh":f=u?"tunnin":"tuntia";break;case"d":return u?"päivän":"päivä";case"dd":f=u?"päivän":"päivää";break;case"M":return u?"kuukauden":"kuukausi";case"MM":f=u?"kuukauden":"kuukautta";break;case"y":return u?"vuoden":"vuosi";case"yy":f=u?"vuoden":"vuotta"}return f=r(n,u)+" "+f}function r(n,t){return n<10?t?u[n]:i[n]:n}var i="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),u=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",i[7],i[8],i[9]];return n.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(n){return n+(n===1?"er":"")}})}),function(n){n(t)}(function(n){return n.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(n){return n+(n===1?"er":"")},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){var i="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),t="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return n.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(n,r){return/-MMM-/.test(r)?t[n.month()]:i[n.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(n){return n+(n===1||n===8||n>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(this.hours()!==1?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(n){return n==="uns segundos"?"nuns segundos":"en "+n},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(n){return n===2?"שעתיים":n+" שעות"},d:"יום",dd:function(n){return n===2?"יומיים":n+" ימים"},M:"חודש",MM:function(n){return n===2?"חודשיים":n+" חודשים"},y:"שנה",yy:function(n){return n===2?"שנתיים":n%10==0&&n!==10?n+" שנה":n+" שנים"}}})}),function(n){n(t)}(function(n){var i={"1":"१","2":"२","3":"३","4":"४","5":"५","6":"६","7":"७","8":"८","9":"९","0":"०"},t={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return n.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(n){return n.replace(/[१२३४५६७८९०]/g,function(n){return t[n]})},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(n,t){return(n===12&&(n=0),t==="रात")?n<4?n:n+12:t==="सुबह"?n:t==="दोपहर"?n>=10?n:n+12:t==="शाम"?n+12:void 0},meridiem:function(n){return n<4?"रात":n<10?"सुबह":n<17?"दोपहर":n<20?"शाम":"रात"},week:{dow:0,doy:6}})}),function(n){n(t)}(function(n){function t(n,t,i){var r=n+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=n===1?"minuta":n===2||n===3||n===4?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=n===1?"sat":n===2||n===3||n===4?"sata":"sati";case"dd":return r+=n===1?"dan":"dana";case"MM":return r+=n===1?"mjesec":n===2||n===3||n===4?"mjeseca":"mjeseci";case"yy":return r+=n===1?"godina":n===2||n===3||n===4?"godine":"godina"}}return n.defineLocale("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){function t(n,t,i,r){var u=n,f;switch(i){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return u+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return u+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return u+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return u+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return u+(r||t?" év":" éve")}return""}function i(n){return(n?"":"[múlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return n.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(n){return n.charAt(1).toLowerCase()==="u"},meridiem:function(n,t,i){return n<12?i===!0?"de":"DE":i===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){function r(n,t){var r={nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[i][n.month()]}function i(n){var i="հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_");return i[n.month()]}function t(n){var i="կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_");return i[n.day()]}return n.defineLocale("hy-am",{months:r,monthsShort:i,weekdays:t,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(n){return/^(ցերեկվա|երեկոյան)$/.test(n)},meridiem:function(n){return n<4?"գիշերվա":n<12?"առավոտվա":n<17?"ցերեկվա":"երեկոյան"},ordinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(n,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return n===1?n+"-ին":n+"-րդ";default:return n}},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(n,t){return(n===12&&(n=0),t==="pagi")?n:t==="siang"?n>=11?n:n+12:t==="sore"||t==="malam"?n+12:void 0},meridiem:function(n){return n<11?"pagi":n<15?"siang":n<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){function i(n){return n%100==11?!0:n%10==1?!1:!0}function t(n,t,r,u){var f=n+" ";switch(r){case"s":return t||u?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return t?"mínúta":"mínútu";case"mm":return i(n)?f+(t||u?"mínútur":"mínútum"):t?f+"mínúta":f+"mínútu";case"hh":return i(n)?f+(t||u?"klukkustundir":"klukkustundum"):f+"klukkustund";case"d":return t?"dagur":u?"dag":"degi";case"dd":return i(n)?t?f+"dagar":f+(u?"daga":"dögum"):t?f+"dagur":f+(u?"dag":"degi");case"M":return t?"mánuður":u?"mánuð":"mánuði";case"MM":return i(n)?t?f+"mánuðir":f+(u?"mánuði":"mánuðum"):t?f+"mánuður":f+(u?"mánuð":"mánuði");case"y":return t||u?"ár":"ári";case"yy":return i(n)?f+(t||u?"ár":"árum"):f+(t||u?"ár":"ári")}}return n.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:t,m:t,mm:t,h:"klukkustund",hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(n){return(/^[0-9].+$/.test(n)?"tra":"in")+" "+n},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"LTs秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiemParse:/午前|午後/i,isPM:function(n){return n==="午後"},meridiem:function(n){return n<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(n){n(t)}(function(n){function i(n,t){var r={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},i=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return r[i][n.month()]}function t(n,t){var r={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},i=/(წინა|შემდეგ)/.test(t)?"accusative":"nominative";return r[i][n.day()]}return n.defineLocale("ka",{months:i,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:t,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(n){return/(წამი|წუთი|საათი|წელი)/.test(n)?n.replace(/ი$/,"ში"):n+"ში"},past:function(n){return/(წამი|წუთი|საათი|დღე|თვე)/.test(n)?n.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(n)?n.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(n){return n===0?n:n===1?n+"-ლი":n<20||n<=100&&n%20==0||n%100==0?"მე-"+n:n+"-ე"},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(n){return n==="오후"},meridiem:function(n){return n<12?"오전":"오후"}})}),function(n){n(t)}(function(n){function i(n,t,i){var u={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?u[i][0]:u[i][1]}function r(n){var i=n.substr(0,n.indexOf(" "));return t(i)?"a "+n:"an "+n}function u(n){var i=n.substr(0,n.indexOf(" "));return t(i)?"viru "+n:"virun "+n}function t(n){if(n=parseInt(n,10),isNaN(n))return!1;if(n<0)return!0;if(n<10)return 4<=n&&n<=7?!0:!1;if(n<100){var i=n%10,r=n/10;return i===0?t(r):t(i)}if(n<1e4){while(n>=10)n=n/10;return t(n)}return n=n/1e3,t(n)}return n.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:r,past:u,s:"e puer Sekonnen",m:i,mm:"%d Minutten",h:i,hh:"%d Stonnen",d:i,dd:"%d Deeg",M:i,MM:"%d Méint",y:i,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function s(n,t,i,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"}function i(n,i,r,u){return i?t(r)[0]:u?t(r)[1]:t(r)[2]}function u(n){return n%10==0||n>10&&n<20}function t(n){return e[n].split("_")}function r(n,r,f,e){var o=n+" ";return n===1?o+i(n,r,f[0],e):r?o+(u(n)?t(f)[1]:t(f)[0]):e?o+t(f)[1]:o+(u(n)?t(f)[1]:t(f)[2])}function f(n,t){var r=t.indexOf("dddd HH:mm")===-1,i=o[n.day()];return r?i:i.substring(0,i.length-2)+"į"}var e={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},o="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");return n.defineLocale("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:f,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:s,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},ordinalParse:/\d{1,2}-oji/,ordinal:function(n){return n+"-oji"},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function r(n,t,i){var r=n.split("_");return i?t%10==1&&t!==11?r[2]:r[3]:t%10==1&&t!==11?r[0]:r[1]}function t(n,t,u){return n+" "+r(i[u],n,t)}var i={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return n.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:t,h:"stundu",hh:t,d:"dienu",dd:t,M:"mēnesi",MM:t,y:"gadu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(n){var t=n%10,i=n%100;return n===0?n+"-ев":i===0?n+"-ен":i>10&&i<20?n+"-ти":t===1?n+"-ви":t===2?n+"-ри":t===7||t===8?n+"-ми":n+"-ти"},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,isPM:function(n){return/^(ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി)$/.test(n)},meridiem:function(n){return n<4?"രാത്രി":n<12?"രാവിലെ":n<17?"ഉച്ച കഴിഞ്ഞ്":n<20?"വൈകുന്നേരം":"രാത്രി"}})}),function(n){n(t)}(function(n){var i={"1":"१","2":"२","3":"३","4":"४","5":"५","6":"६","7":"७","8":"८","9":"९","0":"०"},t={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return n.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(n){return n.replace(/[१२३४५६७८९०]/g,function(n){return t[n]})},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(n,t){return(n===12&&(n=0),t==="रात्री")?n<4?n:n+12:t==="सकाळी"?n:t==="दुपारी"?n>=10?n:n+12:t==="सायंकाळी"?n+12:void 0},meridiem:function(n){return n<4?"रात्री":n<10?"सकाळी":n<17?"दुपारी":n<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}),function(n){n(t)}(function(n){return n.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(n,t){return(n===12&&(n=0),t==="pagi")?n:t==="tengahari"?n>=11?n:n+12:t==="petang"||t==="malam"?n+12:void 0},meridiem:function(n){return n<11?"pagi":n<15?"tengahari":n<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){var i={"1":"၁","2":"၂","3":"၃","4":"၄","5":"၅","6":"၆","7":"၇","8":"၈","9":"၉","0":"၀"},t={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};return n.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(n){return n.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(n){return t[n]})},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]})},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tirs_ons_tors_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){var i={"1":"१","2":"२","3":"३","4":"४","5":"५","6":"६","7":"७","8":"८","9":"९","0":"०"},t={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return n.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(n){return n.replace(/[१२३४५६७८९०]/g,function(n){return t[n]})},postformat:function(n){return n.replace(/\d/g,function(n){return i[n]})},meridiemParse:/राती|बिहान|दिउँसो|बेलुका|साँझ|राती/,meridiemHour:function(n,t){return(n===12&&(n=0),t==="राती")?n<3?n:n+12:t==="बिहान"?n:t==="दिउँसो"?n>=10?n:n+12:t==="बेलुका"||t==="साँझ"?n+12:void 0},meridiem:function(n){return n<3?"राती":n<10?"बिहान":n<15?"दिउँसो":n<18?"बेलुका":n<20?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),t="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return n.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(n,r){return/-MMM-/.test(r)?t[n.month()]:i[n.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(n){return n+(n===1||n===8||n>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function i(n){return n%10<5&&n%10>1&&~~(n/10)%10!=1}function t(n,t,r){var u=n+" ";switch(r){case"m":return t?"minuta":"minutę";case"mm":return u+(i(n)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return u+(i(n)?"godziny":"godzin");case"MM":return u+(i(n)?"miesiące":"miesięcy");case"yy":return u+(i(n)?"lata":"lat")}}var u="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return n.defineLocale("pl",{months:function(n,t){return/D MMMM/.test(t)?r[n.month()]:u[n.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:t,mm:t,h:t,hh:t,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:t,y:"rok",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"})}),function(n){n(t)}(function(n){return n.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function t(n,t,i){var u={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(n%100>=20||n>=100&&n%100==0)&&(r=" de "),n+r+u[i]}return n.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){function u(n,t){var i=n.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function t(n,t,i){var r={mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return i==="m"?t?"минута":"минуту":n+" "+u(r[i],+n)}function f(n,t){var r={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[i][n.month()]}function i(n,t){var r={nominative:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[i][n.month()]}function r(n,t){var r={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},i=/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/.test(t)?"accusative":"nominative";return r[i][n.day()]}return n.defineLocale("ru",{months:f,monthsShort:i,weekdays:r,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return this.day()===2?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(n){if(n.week()!==this.week())switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}else return this.day()===2?"[Во] dddd [в] LT":"[В] dddd [в] LT"},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(n){return/^(дня|вечера)$/.test(n)},meridiem:function(n){return n<4?"ночи":n<12?"утра":n<17?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(n,t){switch(t){case"M":case"d":case"DDD":return n+"-й";case"D":return n+"-го";case"w":case"W":return n+"-я";default:return n}},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){function i(n){return n>1&&n<5}function t(n,t,r,u){var f=n+" ";switch(r){case"s":return t||u?"pár sekúnd":"pár sekundami";case"m":return t?"minúta":u?"minútu":"minútou";case"mm":return t||u?f+(i(n)?"minúty":"minút"):f+"minútami";case"h":return t?"hodina":u?"hodinu":"hodinou";case"hh":return t||u?f+(i(n)?"hodiny":"hodín"):f+"hodinami";case"d":return t||u?"deň":"dňom";case"dd":return t||u?f+(i(n)?"dni":"dní"):f+"dňami";case"M":return t||u?"mesiac":"mesiacom";case"MM":return t||u?f+(i(n)?"mesiace":"mesiacov"):f+"mesiacmi";case"y":return t||u?"rok":"rokom";case"yy":return t||u?f+(i(n)?"roky":"rokov"):f+"rokmi"}}var u="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),r="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return n.defineLocale("sk",{months:u,monthsShort:r,monthsParse:function(n,t){for(var r=[],i=0;i<12;i++)r[i]=new RegExp("^"+n[i]+"$|^"+t[i]+"$","i");return r}(u,r),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){function t(n,t,i){var r=n+" ";switch(i){case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=n===1?"minuta":n===2?"minuti":n===3||n===4?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return r+=n===1?"ura":n===2?"uri":n===3||n===4?"ure":"ur";case"dd":return r+=n===1?"dan":"dni";case"MM":return r+=n===1?"mesec":n===2?"meseca":n===3||n===4?"mesece":"mesecev";case"yy":return r+=n===1?"leto":n===2?"leti":n===3||n===4?"leta":"let"}}return n.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(n){return n.charAt(0)==="M"},meridiem:function(n){return n<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(n,t){return n===1?t[0]:n>=2&&n<=4?t[1]:t[2]},translate:function(n,i,r){var u=t.words[r];return r.length===1?i?u[0]:u[1]:n+" "+t.correctGrammaticalCase(n,u)}};return n.defineLocale("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var n=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return n[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(n,t){return n===1?t[0]:n>=2&&n<=4?t[1]:t[2]},translate:function(n,i,r){var u=t.words[r];return r.length===1?i?u[0]:u[1]:n+" "+t.correctGrammaticalCase(n,u)}};return n.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var n=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return n[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(n){var t=n%10,i=~~(n%100/10)==1?"e":t===1?"a":t===2?"a":t===3?"e":"e";return n+i},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinalParse:/\d{1,2}வது/,ordinal:function(n){return n+"வது"},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(n){return n<2?" யாமம்":n<6?" வைகறை":n<10?" காலை":n<14?" நண்பகல்":n<18?" எற்பாடு":n<22?" மாலை":" யாமம்"},meridiemHour:function(n,t){return n===12&&(n=0),t==="யாமம்"?n<2?n:n+12:t==="வைகறை"||t==="காலை"?n:t==="நண்பகல்"?n>=10?n:n+12:n+12},week:{dow:0,doy:6}})}),function(n){n(t)}(function(n){return n.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",LTS:"LT s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(n){return n==="หลังเที่ยง"},meridiem:function(n){return n<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(n){n(t)}(function(n){return n.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(n){return n},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return n.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(n){if(n===0)return n+"'ıncı";var i=n%10,u=n%100-i,r=n>=100?100:null;return n+(t[i]||t[u]||t[r])},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(n){n(t)}(function(n){return n.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(n){n(t)}(function(n){function r(n,t){var i=n.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function i(n,t,i){var u={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return i==="m"?t?"хвилина":"хвилину":i==="h"?t?"година":"годину":n+" "+r(u[i],+n)}function f(n,t){var r={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},i=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return r[i][n.month()]}function u(n,t){var r={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},i=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return r[i][n.day()]}function t(n){return function(){return n+"о"+(this.hours()===11?"б":"")+"] LT"}}return n.defineLocale("uk",{months:f,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:u,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:t("[Сьогодні "),nextDay:t("[Завтра "),lastDay:t("[Вчора "),nextWeek:t("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return t("[Минулої] dddd [").call(this);case 1:case 2:case 4:return t("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:i,mm:i,h:"годину",hh:i,d:"день",dd:i,M:"місяць",MM:i,y:"рік",yy:i},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(n){return/^(дня|вечора)$/.test(n)},meridiem:function(n){return n<4?"ночі":n<12?"ранку":n<17?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(n,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return n+"-й";case"D":return n+"-го";default:return n}},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(n){n(t)}(function(n){return n.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(n){return n},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(n,t){return n===12&&(n=0),t==="凌晨"||t==="早上"||t==="上午"?n:t==="下午"||t==="晚上"?n+12:n>=11?n:n+12},meridiem:function(n,t){var r=n*100+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:function(){return this.minutes()===0?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return this.minutes()===0?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return this.minutes()===0?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var i,t;return i=n().startOf("week"),t=this.unix()-i.unix()>=604800?"[下]":"[本]",this.minutes()===0?t+"dddAh点整":t+"dddAh点mm"},lastWeek:function(){var i,t;return i=n().startOf("week"),t=this.unix()<i.unix()?"[上]":"[本]",this.minutes()===0?t+"dddAh点整":t+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(n,t){switch(t){case"d":case"D":case"DDD":return n+"日";case"M":return n+"月";case"w":case"W":return n+"周";default:return n}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(n){n(t)}(function(n){return n.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/早上|上午|中午|下午|晚上/,meridiemHour:function(n,t){return(n===12&&(n=0),t==="早上"||t==="上午")?n:t==="中午"?n>=11?n:n+12:t==="下午"||t==="晚上"?n+12:void 0},meridiem:function(n,t){var r=n*100+t;return r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(n,t){switch(t){case"d":case"D":case"DDD":return n+"日";case"M":return n+"月";case"w":case"W":return n+"週";default:return n}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),t.locale("en"),pr?module.exports=t:typeof define=="function"&&define.amd?(define(function(n,i,r){return r.config&&r.config()&&r.config().noGlobal===!0&&(ft.moment=kr),t}),yr(!0)):yr()}).call(this);
app.controller("moduleCalendarOccuranceController",["$scope","$rootScope","$location","$http","$attrs","subscribe",function(n,t,i,r,u,f){n.isLiveClass="live-future";f.on("livemetadata/change",function(t){var r=u.dokids.split(","),i=t.streams.every(function(n){if(r.indexOf(n.dokid)>-1)return!0});n.isLiveClass=i?"live-active":""})}]);
(function(n){n.fn.tweet=function(t){function r(n,t){var i,u,r;if(typeof n=="string"){i=n;for(u in t)r=t[u],i=i.split("{"+u+"}").join(r===null?"":r);return i}return n(t)}function u(t,i){return function(){var r=[];return this.each(function(){r.push(this.replace(t,i))}),n(r)}}function s(n){return n.replace(/</g,"&lt;").replace(/>/g,"^&gt;")}function f(n,t){return n.replace(o,function(n){for(var u=/^[a-z]+:/i.test(n)?n:"https://"+n,f=n,i,r=0;r<t.length;++r)if(i=t[r],i.url===u&&i.expanded_url){u=i.expanded_url,f=i.display_url;break}return'<a target="_blank" href="'+s(u)+'">'+s(f)+"</a>"})}function v(n){return Date.parse(n.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function a(n){var i=new Date,t=Math.round((i.getTime()-n)/1e3);return t<1&&(t=0),{days:Math.round(t/86400),hours:Math.round(t/3600),minutes:Math.round(t/60),seconds:Math.round(t)}}function p(n){var t="";return t=n.days>1?i.translations.time_text_days_ago.format(n.days):n.hours>24?i.translations.time_text_day_ago:n.hours>1?i.translations.time_text_hours_ago.format(n.hours):n.minutes>45?i.translations.time_text_hour_ago:n.minutes>1?i.translations.time_text_mins_ago.format(n.minutes):n.seconds>1?i.translations.time_text_sec_ago.format(n.seconds):i.translations.time_text_now}function y(n){return n.match(/^(@([A-Za-z0-9-_]+)) .*/i)?i.auto_join_text_reply:n.match(o)?i.auto_join_text_url:n.match(/^((\w+ed)|just) .*/im)?i.auto_join_text_ed:n.match(/^(\w*ing) .*/i)?i.auto_join_text_ing:i.auto_join_text_default}function e(n,t){return t?"user"in n?n.user.profileimageurlhttps:e(n,!1).replace(/^http:\/\/[a-z0-9]{1,3}\.twimg\.com\//,"https://s3.amazonaws.com/twitter_production/"):n.profileimageurl||n.user.profileimageurl}function c(t){var u={};return u.item=t,u.source=t.source,t.fromuser?u.screenname=t.fromuser:t.user!=null&&t.user.screenname&&(u.screenname=t.user.screenname),u.name=t.fromusername||t.user.name,u.isRetweet=t.hasOwnProperty("retweetedstatus")&&t.retweetedstatus!==null,u.rtusername='<span class="metadata retweet"> Retweetad av <a target="_blank" href="http://'+i.twitter_url+"/"+u.screenname+'">'+u.name+"</a></span>",u.isRetweet&&(u.name=t.retweetedstatus.user.name,u.screenname=t.retweetedstatus.user.screenname,t.text=t.retweetedstatus.text),u.tweet_time=v(t.created_at),u.join_text=i.join_text==="auto"?y(t.text):i.join_text,u.tweet_id=t.id_str,u.twitter_base="https://"+i.twitter_url+"/",u.user_url=u.twitter_base+u.screenname,u.tweet_url=u.user_url+"/status/"+u.tweet_id,u.reply_url=u.twitter_base+"intent/tweet?in_reply_to="+u.tweet_id,u.retweet_url=u.twitter_base+"intent/retweet?tweet_id="+u.tweet_id,u.favorite_url=u.twitter_base+"intent/favorite?tweet_id="+u.tweet_id,u.retweeted_screenname=u.isRetweet&&t.retweetedstatus.user.screenname,u.tweet_relative_time=p(a(u.tweet_time)),u.entities=t.entities?(t.entities.urls||[]).concat(t.entities.media||[]):[],u.tweet_raw_text=t.text,u.tweet_text=n([f(u.tweet_raw_text,u.entities)]).linkUser().linkHash()[0],u.tweet_text=u.isRetweet?u.tweet_text+u.rtusername:u.tweet_text,u.retweeted_tweet_text=n([f(t.text,u.entities)]).linkUser().linkHash()[0],u.tweet_text_fancy=n([u.tweet_text]).makeHeart()[0],u.avatar_size=i.avatar_size,u.avatar_url=e(u.isRetweet?t.retweetedstatus:t,document.location.protocol==="https:"),u.avatar_screen_name=u.isRetweet?u.retweeted_screenname:u.screenname,u.avatar_profile_url=u.twitter_base+u.avatar_screen_name,u.user=r('<a target="_blank" class="tweet__user" href="{user_url}">{screenname}</a>',u),u.join=i.join_text?r('<span class="tweet__join">{join_text}</span>',u):"",u.avatar=u.avatar_size?r('<img src="{avatar_url}" height="{avatar_size}" width="{avatar_size}" alt="{avatar_screen_name}'+i.translations.avatar_title_text+'" title="{avatar_screen_name}'+i.translations.avatar_title_text+'" border="0"/>',u):"",u.time=r('<span class="tweet__metadata"><a target="_blank" href="{tweet_url}" title="'+i.translations.timestamp_linktext+'" class="tweet__time">{tweet_relative_time}</a></span>',u),u.text=r('<span class="tweet__text">{tweet_text_fancy}</span>',u),u.retweeted_text=r('<span class="tweet__text">{retweeted_tweet_text}</span>',u),u.reply_action=r('<a target="_blank" class="tweet__reply" href="{reply_url}"><span class="tweet__action__icon icon__twitter__reply"></span><span class="tweet__action__text">reply</span></a>',u),u.retweet_action=r('<a target="_blank" class="tweet__retweet" href="{retweet_url}"><span class="tweet__action__icon icon__twitter__retweet"></span><span class="tweet__action__text">retweet</span></a>',u),u.favorite_action=r('<a target="_blank" class="tweet__favorite" href="{favorite_url}"><span class="tweet__action__icon icon__twitter__like"></span><span class="tweet__action__text">favorite</span></a>',u),u}function h(t,u){var f=n('<ul class="tweet__list">');f.append(n.map(u,function(n){return"<li>"+r(i.template,n)+"</li>"}).join("")).children("li:first").addClass("tweet__first").end().children("li:odd").addClass("tweet__even").end().children("li:even").addClass("tweet__odd"),n(t).empty().append(f),i.intro_text&&f.before('<p class="tweet__intro">'+i.intro_text+"</p>"),i.outro_text&&f.after('<p class="tweet__outro">'+i.outro_text+"</p>"),n(t).trigger("loaded").trigger(u.length===0?"empty":"full"),i.refresh_interval&&window.setTimeout(function(){n(t).trigger("tweet:load")},1e3*i.refresh_interval)}function l(t){var u=n('<p class="loading">'+i.translations.loading_text+"</p>"),r;i.translations.loading_text&&n(t).not(":has(.tweet_list)").empty().append(u),r="",!isNaN(i.count)&&i.count>0&&(r+="count="+i.count+"&"),i.twitter_account_name!==undefined&&i.twitter_account_name.length>0&&(r+="accountName="+i.twitter_account_name+"&"),n.ajax({url:"/api/twitter/GetFeed?"+r,cache:!1,dataType:"json",success:function(r){var u=n.map(r.content||r,c),f=u;u=i.count!=undefined&&i.count>0?n.grep(f,i.filter).sort(i.comparator).slice(0,i.count):n.grep(f,i.filter).sort(i.comparator),n(t).trigger("tweet:retrieved",[u])}})}var i=n.extend({username:null,list:null,favorites:!1,query:null,avatar_size:null,count:3,twitter_account_name:null,fetch:null,page:1,retweets:!0,intro_text:null,outro_text:null,join_text:null,auto_join_text_default:" I said, ",auto_join_text_ed:" I ",auto_join_text_ing:" I am ",auto_join_text_reply:" I replied to ",auto_join_text_url:" I was looking at ",translations:[],loading_text:null,refresh_interval:null,twitter_url:"twitter.com",twitter_api_url:"api.twitter.com/1.1/",twitter_hashtag_url:"twitter.com/hashtag/",template:'{avatar}<a target="_blank" href="https://twitter.com/{screenname}">{name} <span class="metadata screenname">@{screenname}</span></a> {text} {time}',comparator:function(n,t){return t.tweet_time-n.tweet_time},filter:function(){return!0}},t),o=/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi;return n.extend({tweet:{t:r}}),n.fn.extend({linkUser:u(/(^|[\W])@(\w+)/gi,'$1<span class="at">@</span><a target="_blank" href="http://'+i.twitter_url+'/$2">$2</a>'),linkHash:u(/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi,' <a target="_blank" href="https://'+i.twitter_hashtag_url+"/$1?src=hash"+(i.username&&i.username.length===1&&!i.list?"&from="+i.username.join("%2BOR%2B"):"")+'" class="tweet__hashtag">#$1</a>'),makeHeart:u(/(&lt;)+[3]/gi,"<tt class='heart'>&#x2665;</tt>")}),this.each(function(t,r){i.username&&typeof i.username=="string"&&(i.username=[i.username]),n(r).unbind("tweet:render").unbind("tweet:retrieved").unbind("tweet:load").bind({"tweet:load":function(){l(r)},"tweet:retrieved":function(t,i){n(r).trigger("tweet:render",[i])},"tweet:render":function(t,i){h(n(r),i)}}).trigger("tweet:load")})}})(jQuery);
var rd=rd||{};rd.utils={originalAttrPrefix:"data-saved-attr-",setFocus:function(n){n.is(":focusable")||n.attr("tabindex","-1"),n.focus()},getTextOfLengthWithoutCuttingWords:function(n,t){var r=n,u,i;if(n&&n.length&&t>0){if(n.Length<=t)return r;for(r=n.substring(0,t),u=[" ","\t","\n","."],i=0;i<u.length;i++)if(r.lastIndexOf(u[i])>0)return r.substring(0,end)}else return""},hasAttrValue:function(n){return typeof n!=typeof undefined&&n!==!1},saveAttrValue:function(n,t){var i=n.attr(t)||n.prop(t);this.hasAttrValue(i)&&n.attr(rd.utils.originalAttrPrefix+t,i)},restoreSavedAttrValue:function(n,t){var i=n.attr(rd.utils.originalAttrPrefix+t);return this.hasAttrValue(i)?(n.attr(t,i).removeAttr(rd.utils.originalAttrPrefix+t),!0):!1},tryRestoreSavedAttrValueOrDeleteAttr:function(n,t){this.restoreSavedAttrValue(n,t)||n.removeAttr(t)},isJqueryElement:function(n){return n instanceof jQuery||"jquery"in Object(n)},returnJqueryElement:function(n){return this.isJqueryElement(n)?n:$(n)},elementsExist:function(n){return this.returnJqueryElement(n).length>0},elementsExistsInContext:function(n,t){return this.returnJqueryElement(t).find(this.returnJqueryElement(n)).length>0},getHashTarget:function(n){var t=n.split("#");return t.length>0?t[1]:""},anchorLinks:function(n){var n=n||"html";this.returnJqueryElement(n).find('a[href*=#]:not([href=#], .noscroll, [role="tab"])').each(function(){var n=$(this);$(this).on("click",function(){var u;if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var f=rd.utils.getHashTarget(this.hash),e=$("#"+f),r=e.length?e:$("[name="+f+"]"),t=$(".smint"),i=0;if(t.length&&(i=t.height(),t.hasClass("fxd")||(i+=25)),r.length)return u=r.offset().top-i,$("html, body").animate({scrollTop:u},600),r.attr("tabindex",-1).focus(),!1}})})},unscrambleEmail:function(n){var n=n||"html";this.returnJqueryElement(n).find(".scrambled-email").each(function(){var i="&#64;",n=$(this).text(),n=n.replace("[på]",i),r="<a href='mailto:"+n+"'>"+n+"</a>",t=$(this).parent();t.html(r),t.show()})}};
rd.animate={presets:{dev:!0,duration:{faster:150,fast:300,normal:1e3,slow:2e3},expandedClass:"expanded"},scrollTop:function(n){var t=typeof n!="undefined"?n:"body";$("html,body").animate({scrollTop:rd.utils.returnJqueryElement(t).offset().top},{duration:600,fail:function(n){return element.removeClass(expandedClass),this.presets.dev&&console.log("rd.animate, scrollTop: animation failure: "+n),!1}})},expand:function(n){var t=typeof n!="undefined"?rd.utils.returnJqueryElement(n):!1,i=this.presets.expandedClass,r=this.presets.duration.faster;if(!t)return this.presets.dev&&console.log("rd.animate, expand: element is not provided"),!1;t.animate({height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},{duration:r,easing:"easeOutCubic",complete:function(){t.addClass(i)},fail:function(n){return t.removeClass(i),this.presets.dev&&console.log("rd.animate, contract: animation failure: "+n),!1}})},contract:function(n){var t=typeof n!="undefined"?rd.utils.returnJqueryElement(n):!1,i=this.presets.expandedClass,r=this.presets.duration.faster;if(!t)return this.presets.dev&&console.log("rd.animate, contract: element is not provided"),!1;t.animate({height:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},{duration:r,easing:"easeOutCubic",complete:function(){t.removeClass(i)},fail:function(n){return t.removeClass(i),this.presets.dev&&console.log("rd.animate, contract: animation failure: "+n),!1}})}};
rd.dom=function(){var n={setup:function(){var t=$(".off-canvas-wrap");t.each(function(){var t=$(this),n=t.find(".exit-off-canvas").first();$(window).on("rd-responsive",function(t,i){$(this).hasClass("move-left")&&i!="small"&&n.trigger("click")})});$(document).on("open.fndtn.offcanvas","[data-offcanvas]",function(){var n=$(this);setTimeout(function(){n.find(".right-off-canvas-menu").find(".right-off-canvas-toggle").first().focus()},750)});$(document).on("close.fndtn.offcanvas","[data-offcanvas]",function(){var n=$(this);n.find(".inner-wrap").find(".right-off-canvas-toggle").first().focus()})}};return{offCanvas:n}}();
rd.dom.toggle=function(){var t=!1,f="[data-dom-toggle]",u="[data-dom-toggle-trigger]",l="data-dom-toggle-trigger-for-id",e="["+l+"]",b="[data-dom-toggle-single-active-trigger]",a="data-dom-toggle-open-default",k="["+a+"]",i="[data-dom-toggle-receiver]",r="expanded",p="selected",c=function(n){var t=n.attr(l);return t?$("#"+t):!1},s=function(t,i){n.contract(t),i.attr("data-dom-toggle-animation")==="off"?n.contract(i):n.contract(i,!0),n.triggerChangeText(t),n.handleToggleOnce(t)},o=function(t,i,r){n.expand(t),i.attr("data-dom-toggle-animation")==="off"?n.expand(i):n.expand(i,!0),n.triggerChangeText(t),n.handleToggleOnce(t),typeof r=="function"&&r()},h=function(t,i,r){if(t.type==="keydown"&&(t.keyCode!==13||t.keyCode!==32))return!0;if(t.preventDefault(),n.isExpanded(i)||n.isExpanded(r)){s(i,r);return}o(i,r,function(){r.attr("data-dom-toggle-focus")!=="off"&&rd.utils.setFocus(r)})},g=function(){var r=$(f);rd.utils.elementsExist(r)&&r.each(function(){t&&console.log("fn.toggle, instance");var r=$(this),e=r.is(u)?r:r.find(u+":first").siblings(u).andSelf(),f=r.find(i+":first").siblings(i).andSelf();e.each(function(t,i){var r=$(f[t]),u=$(i);n.setAriaAttributes(u,r);$(this).off("click keydown").on("click keydown",function(n){h(n,u,r)});$(this).off("expand").on("expand",function(){o(u,r,function(){r.attr("data-dom-toggle-focus")!=="off"&&rd.utils.setFocus(r)})})})})},d=function(n,t){var i=n.closest(b);i.length&&t.not(n).each(function(){s($(this),c($(this)))})},v=function(){var t=$(e);rd.utils.elementsExist(t)&&t.each(function(){var r=$(this),i=c($(this));if(!i)return!0;n.setAriaAttributes(r,i);$(this).off("click keydown").on("click keydown",function(n){d(r,t),h(n,r,i)})})},y=function(){var n=$(k);n.length>0&&n.each(function(){var t=$(this),n=parseInt(t.attr(a));n>0&&t.find(".facets-group:not(.facet-group-with-dependency)").each(function(t){var r=$(this),u=r.find("[data-dom-toggle-receiver]").first(),i=r.find("[data-dom-toggle-trigger]").first();n<=t||i.hasClass("expanded")||o(i,u)})})},w=function(){t&&console.log("fn.toggle, initialized"),t&&console.log("fn.toggle, numbers of instances: "+instances.length),g(),v(),y(),t&&console.log("fn.toggle, end")},n={isExpanded:function(n){return rd.utils.returnJqueryElement(n).hasClass(r)?!0:!1},isChildInstance:function(n){return rd.utils.returnJqueryElement(n).closest(i).length>0?!0:!1},hasSelectedElement:function(n){return rd.utils.returnJqueryElement(n).find("."+p).length>0?!0:!1},expand:function(o,s){var o=o||!1,s=s||!1;if(t&&console.log("fn.expand, element: "+o.length+", animate: "+s),!o||o==="open-all")return!1;if((o.is(u)||o.is(e))&&n.getAriaTrigger(o).attr("aria-expanded","true"),o.is(i)&&o.attr("aria-hidden","false"),s){rd.animate.expand(o);return}rd.utils.returnJqueryElement(o).addClass(r).closest(f).addClass(r);return},contract:function(o,s){var o=o||!1,s=s||!1;if(t&&console.log("fn.contract, element: "+o.length+", animate: "+s),!o||o==="close-all")return!1;if((o.is(u)||o.is(e))&&n.getAriaTrigger(o).attr("aria-expanded","false"),o.is(i)&&o.attr("aria-hidden","true"),s){rd.animate.contract(o);return}rd.utils.returnJqueryElement(o).removeClass(r).closest(f).removeClass(r);return},handleToggleOnce:function(n){n[0].hasAttribute("data-dom-toggle-once")&&n.off("click keydown")},getAriaTrigger:function(n){var i,t;return n.is(":button")||n.is("a")||n.attr("role")==="button"||n.attr("role")==="tab"?n:(i=n.find('[role="tab"]'),i.length)?i.first():(t=n.find(":button, a[href*=#]"),t.length)?t.first():n},setAriaAttributes:function(t,i){var u=i.attr("id"),r=n.getAriaTrigger(t);u&&!r.attr("aria-controls")&&r.attr("aria-controls",u),r.attr("aria-expanded",i.is(":visible"))},triggerChangeText:function(n){var i="data-dom-toggle-alternative-text",t=n.find("["+i+"]"),u=t.text(),r=t.attr(i);t.length>0&&t.text(r).attr(i,u)}};return{init:w,utils:n}}();
"use strict";rd.dom.equalize=function(){var t=!1,r=function(){t&&console.log("equalize.init");var r=$("[data-rd-dom-equalize]");r.length>0&&(r=$("[data-rd-dom-equalize]"),r.each(function(){t&&console.log("equalize.item.begin");var r=$(this);i(r);$(window).on("rd-responsive",function(){n.releaseHeight(n.getChildren(r)),i(r)});t&&console.log("equalize.item.end")}),t&&console.log("equalize.done"))},i=function(i){t&&console.log("equalize.create");var r=$(i);return n.hasChildSets(r)?u(r):f(r)},f=function(i){var u,f;t&&console.log("equalize.singleInstance");var e=$(i),r=n.getChildren(e),o=n.getSettings(e);r&&(o.stacked||!n.isStacked(r))&&(n.releaseHeight(r),u=n.getHeight(r),f=n.getMaxHeight(u),n.setHeight(r,f))},u=function(i){var u,r,f,e;t&&console.log("equalize.multipleInstance");var o=$(i),h=n.getSettings(o),s=n.getChildSets(o);for(u in s)t&&console.log("equalize.set ["+u+"] begin"),r=s[u],n.releaseHeight(r),f=n.getHeight(r),e=n.getMaxHeight(f),n.setHeight(r,e),t&&console.log("equalize.set ["+u+"] end")},n={getSettings:function(n){var r={stacked:!1,stackedOnMobile:!1},i,u;return n.attr("data-rd-dom-equalize")==""?(t&&console.log("equalize.utils.getSettings - default settings"),r):(i=$.parseJSON(n.attr("data-rd-dom-equalize")),u={stacked:i.stacked||r.stacked,stackedOnMobile:i.stackedOnMobile||r.stackedOnMobile},t&&console.log("equalize.utils.getSettings - custom settings"),u)},hasChildSets:function(n){return n.find("[data-rd-dom-equalize-watch*='set']").length>0?(t&&console.log("equalize.utils.hasChildSets - true"),!0):!1},getChildSets:function(n){var t={},i=n.find("[data-rd-dom-equalize-watch]");return i.each(function(){var i=$(this),n=$.parseJSON(i.attr("data-rd-dom-equalize-watch")).set;typeof t[n]=="undefined"&&(t[n]=[]),t[n].push(i)}),t},getChildren:function(n){if(n.find("[data-rd-dom-equalize-watch]").length==0)return!1;var i=[];return n.find("[data-rd-dom-equalize-watch]").each(function(){i.push($(this))}),t&&console.log("equalize.utils.getChildren: "+i.length),i},getHeight:function(n){return n.map(function(n){return $(n).height()})},getMaxHeight:function(n){return Math.max.apply(null,n)},setHeight:function(n,t){n.map(function(n){$(n).height(t)})},releaseHeight:function(n){n.map(function(n){$(n).css("height","auto")})},removeHeight:function(n){n.map(function(n){$(n).css("height","")})},isStacked:function(n){if(n)return $(n[0]).offset().top-$(n[n.length-1]).offset().top!=0?(t&&console.log("equalize.utils.isStacked: true"),!0):(t&&console.log("equalize.utils.isStacked: false"),!1)}};return{init:r,create:i}}();
"use strict";rd.dom.columnlist=function(){var n=function(){var r=$(".list-assignments"),n,i,t;r.length>0&&(n=window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/['"]/g,""),n!=="small"&&(i=$.grep(r.attr("class").split(" "),function(t){return t.indexOf(n)===0}).join(),t=i.match(/\d+$/)[0],$(".list-assignments").columnlist({size:t,"class":"columnized",incrementClass:"col-list-"})))};return{init:n}}(),function(n){n.fn.columnlist=function(t){function i(i){return n('<li class="'+t.incrementClass+i+" "+t["class"]+'"></li>')}return t=n.extend({},n.fn.columnlist.defaults,t),this.each(function(){for(var h=n(this),f=t.size||h.data("columnList")||1,u=h.children("li"),c=Math.floor(u.length/f),a=u.length-c*f,s=[],e=0,o,l,r=0;r<f;r++)a>0?(s.push(c+1),a--):s.push(c);for(r=0;r<f;r++){for(o=n("<ul />").appendTo(i(r)),l=0;l<s[r];l++)u.length>e&&(o.append(u[e]),e++);h.append(o.parent())}})},n.fn.columnlist.defaults={"class":"column-list",incrementClass:"column-list-"}}(jQuery);
rd.dom.clickableLinkedArea=function(){var r="[data-clickable-linked-area]",u="[data-clickable-linked-area-link]",i=function(){var r=$(this),t=r.find(u).first(),n,i;if(t.length&&t[0].hasAttribute("href")&&(n=t.attr("href"),i=t.attr("target"),n&&!(n.length<2))){if(rd.utils.hasAttrValue(i)){window.open(n,i);return}window.location=n}},n=function(){$("body").on("click",r,i)},t=function(){n()};return{init:t}}();
rd.event=function(){var i={submit:function(n){n.preventDefault(),n.stopPropagation()}},t="a[href], area[href], input:not([disabled]),select:not([disabled]), textarea:not([disabled]),button:not([disabled]), iframe, object, embed, *[tabindex],*[contenteditable]",n=function(n){var i=n.querySelectorAll(t),u=i[0],r=i[i.length-1],f=function(n){var t=n.which||n.keyCode;n.preventDefault=n.preventDefault||function(){n.returnValue=!1},t===9&&(n.target!==r||n.shiftKey?n.target===u&&n.shiftKey&&(n.preventDefault(),r.focus()):(n.preventDefault(),u.focus()))};n.addEventListener("keydown",f,!1)};return{prevent:i,keepfocus:n}}();
var dmq_size="unknown";rd.responsive=function(){var n=!1,i=function(){},t={live:!0,threshold:300,callback:function(){if(dmq_size=="unknown"){n&&console.log("responsive layout: unknown");return}dmq_size=="small"&&(n&&console.log("responsive layout: small"),$.event.trigger("rd-responsive-small")),dmq_size=="medium"&&(n&&console.log("responsive layout: medium"),$.event.trigger("rd-responsive-medium")),dmq_size=="large"&&(n&&console.log("responsive layout: large"),$.event.trigger("rd-responsive-large")),$.event.trigger("rd-responsive",dmq_size)}};return{init:i,detect_mq:t}}();
/*! detectMQ.js v0.3
 * https://github.com/viljamis/detectMQ.js
 * http://viljamis.com
 *
 * Copyright (c) 2012-2013 @viljamis
 * Available under the MIT license
 */
(function(n){var r,u=n.document,t=rd.responsive.detect_mq||{},e=t.live||!0,o=t.threshold||300,s=t.callback||{},f=function(t,i,r){return n.getComputedStyle(t,i)[r]},i=function(){var n=f(u.body,":after","content");n!==null&&(dmq_size=n.replace(/['"]/g,""),s())};u.addEventListener&&typeof window.getComputedStyle!="undefined"&&(n.addEventListener("load",i,!1),e===!0&&n.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(i,o)},!1))})(this);
rd.event.scroll=function(n){var t={scroll:n.scroll||!1,direction:n.direction||!1,delay:n.delay||!1,dev:n.dev||!1},u=$(window).scrollTop(),f=0,i=t.dev,r,e;return i&&console.log("init scroll-position: "+u),i&&console.log("triggers to bind | scroll: "+t.scroll+", direction: "+t.direction+", delay: "+t.delay),r=function(n,i){t.scroll&&$.event.trigger("rd-scroll",n),t.direction&&(n>i?$.event.trigger("rd-scroll-down",n):n<i&&$.event.trigger("rd-scroll-up",n))},e=function(n,i,u){if(t.delay===!1||t.delay===0){r(n,i);return}setTimeout(function(){f===u&&r(n,i)},t.delay)},$(window).scroll(function(){f++;var t=$(this).scrollTop();e(t,u,f),u=t}),i?console.log("rd.event.scroll: initiated"):!0};
rd.component={};
var election2018Logo={selectors:{parent:"[data-js-election-2018-logo]",playpause:"[data-js-election-2018-logo-playpause]"},classNames:{parentPaused:"election-2018-logo--paused",buttonPaused:"election-2018-logo__playpause--paused"},init:function(){$(election2018Logo.selectors.parent).length>0&&election2018Logo.registerEvents()},registerEvents:function(){$(election2018Logo.selectors.playpause).on("click",election2018Logo.eventHandlers.handlePlayPauseClick)},eventHandlers:{handlePlayPauseClick:function(){var t=$(this),n=!t.hasClass(election2018Logo.classNames.buttonPaused);t.toggleClass(election2018Logo.classNames.buttonPaused,n),$(election2018Logo.selectors.parent).toggleClass(election2018Logo.classNames.parentPaused,n)}}};rd.component.election2018Logo=election2018Logo;
var campaignVideoModal={selectors:{modal:"[data-js-campaign-video-modal]",toggle:"[data-js-campaign-video-modal-toggle]",video:"[data-js-campaign-video-modal-video]",videoSrc:"[data-js-campaign-video-modal-video-src]"},classNames:{modalActive:"campaign-video-modal--active"},init:function(){campaignVideoModal.registerEvents()},registerEvents:function(){$(campaignVideoModal.selectors.toggle).on("click",campaignVideoModal.eventHandlers.handleToggleClick)},eventHandlers:{handleToggleClick:function(n){var i;n.preventDefault();var e=$(this),u=$(campaignVideoModal.selectors.modal),t=$(campaignVideoModal.selectors.video)[0],f=e.attr("data-js-campaign-video-modal-toggle"),r=!u.hasClass(campaignVideoModal.classNames.modalActive);if(u.toggleClass(campaignVideoModal.classNames.modalActive,r),$("body").toggleClass("reveal-modal-open",r),r){i=$(campaignVideoModal.selectors.videoSrc),i.attr("src")!==f?(i.attr("src",f),t.load(),t.play(),u.focus()):t.play();$(window).on("keyup",campaignVideoModal.eventHandlers.handleKeyUp)}else t.pause(),$(window).off("keyup",campaignVideoModal.eventHandlers.handleKeyUp)},handleKeyUp:function(n){n.which===27&&($(window).off("keyup",campaignVideoModal.eventHandlers.handleKeyUp),$(campaignVideoModal.selectors.video)[0].pause(),$("body").removeClass("reveal-modal-open"),$(campaignVideoModal.selectors.modal).removeClass(campaignVideoModal.classNames.modalActive),$('[data-js-campaign-video-modal-toggle="'+$(campaignVideoModal.selectors.videoSrc).attr("src")+'"]').focus())}}};rd.component.campaignVideoModal=campaignVideoModal;
rd.module={};
rd.module.globalMenuModal=function(){var t="aria-hidden",n="tabindex",r=function(){var u=$(".mobile-menu-overlay").first().parent(),i=$("body").children().not(u,"[role=status]","[role=alert]"),e,f,r;i.each(function(){var n=$(this);rd.utils.saveAttrValue(n,t),n.attr(t,"true")}),e=i.find(":focusable").add(i.filter(":focusable")),e.each(function(){var t=$(this);rd.utils.saveAttrValue(t,n),t.attr(n,"-1")}),f=u.children(),r=f.filter(":not(.mobile-menu-overlay, .header-container)"),r.each(function(){var n=$(this);rd.utils.saveAttrValue(n,t),n.attr(t,"true")}),r.find(":focusable").each(function(){var t=$(this);rd.utils.saveAttrValue(t,n),t.attr(n,"-1")})},i=function(){var u=$(".mobile-menu-overlay").first().parent(),i=$("body").children().not(u,"[role=status]","[role=alert]"),e,f,r;i.each(function(){var n=$(this);rd.utils.tryRestoreSavedAttrValueOrDeleteAttr(n,t)}),e=i.find(":focusable").add(i.filter(":focusable")),e.each(function(){var t=$(this);rd.utils.tryRestoreSavedAttrValueOrDeleteAttr(t,n)}),f=u.children(),r=f.filter(":not(.mobile-menu-overlay, .header-container)"),r.each(function(){var n=$(this);rd.utils.tryRestoreSavedAttrValueOrDeleteAttr(n,t)}),r.find(":focusable").each(function(){var t=$(this);rd.utils.tryRestoreSavedAttrValueOrDeleteAttr(t,n)})};return{setBackgroundAccessabilityAttributesForOpenModal:r,setBackgroundAccessabilityAttributesForClosedModal:i}}();
rd.module.nav=function(){var i=function(){var n=$(".menu-buttons .burger-icon");n.each(function(n,t){var f=!1,i="close",r="Meny",u="Stäng";$(t).on("click",function(){return $("body").is(".mobile-menu-open")?($(".lines-button",$(this)).removeClass(i),$(".menu-text",$(this)).text(r),$("body").removeClass("mobile-menu-open").removeClass("mobile-m").removeClass("mobile-s"),rd.module.globalMenuModal.setBackgroundAccessabilityAttributesForClosedModal()):($(".lines-button",$(this)).addClass(i),$(".menu-text",$(this)).text(u),$("body").addClass("mobile-menu-open mobile-m"),$(".mobile-menu").first().focus(),rd.module.globalMenuModal.setBackgroundAccessabilityAttributesForOpenModal()),!1});$(window).on("rd-responsive",function(n,i){$("body").is(".mobile-menu-open")&&i=="large"&&$(t).trigger("click")})})},r=function(){var r=!0,u=$("[data-sticky]").offset().top,i=$("[data-sticky]").offset().top+56,t=$(window),n=!1;t.on("resize",function(){n&&console.log("sticky-nav: resize"),u=$("[data-sticky]").offset().top,i=$("[data-sticky]").offset().top+56});var f=function(){n&&console.log("sticky-nav: resetMenuPosition"),$("html").removeClass("scrolling-up"),$("html").removeClass("scrolling-down"),$(".header-outer").removeClass("hide-menu"),$("body").removeClass("f-topbar-fixed"),$("[data-sticky]").removeClass("fixed"),$(".header-outer").addClass("menu-visible"),r=!0},o=function(){n&&console.log("sticky-nav: show menu"),$(".header-outer").removeClass("hide-menu")},e=function(){n&&console.log("sticky-nav: hide menu"),$(".header-outer").addClass("hide-menu")};t.on("rd-scroll-down",function(t,o){n&&console.log("sticky-nav: scroll-down"),$("html").removeClass("scrolling-up"),$("html").addClass("scrolling-down"),o>i&&($("[data-sticky]").addClass("fixed"),$("body").addClass("f-topbar-fixed"),r&&($("html").addClass("scrolling-start"),r=!1),setTimeout(function(){e()},20)),$(".ioslist-fake-header").removeClass("ioslist-space-for-top-menu"),o<u&&f()});t.on("rd-scroll-up",function(t,r){n&&console.log("sticky-nav: scroll-up"),r>i&&($(".header-outer").addClass("menu-visible"),$(".ioslist-fake-header").addClass("ioslist-space-for-top-menu"),$("html").removeClass("scrolling-start")),setTimeout(function(){$("html").removeClass("scrolling-down"),$("html").addClass("scrolling-up"),o()},20),r<u&&f()})},n=function(){var t=$("[data-navigation-right-container]"),y=$("[data-navigation-right-list]"),f=$("[data-navigation-right-context]"),v="created",s="h2:visible",e="[data-navigation-right-context-ignore] h2",p=[],b=[0],w=-20,r=t.parent().width(),u=!1,i=!1,a;if(f.find(s).not(e).length<=1)return $(".nav-right-wrapper").hide(),!1;a=function(n){console.log(rd.utils.returnJqueryElement("[data-navigation-link-target-offset='']")+" "+n)},f.find(s).not(e).each(function(){var i=$(this),t=i.attr("id");i.attr("id",""),p.push(t);var u="#"+t,f=i.before('<div id="'+t+'" class="global-anchor-target scrollto" data-magellan-destination="'+t+'"></div>').offset().top,r=Math.floor(f);y.append('<li><a href="'+u+'" data-navigation-link-target-offset="'+r+'" data-magellan-arrival="'+t+'">'+i.text()+"</a></li>"),b.push(r)}),$(document).foundation({"magellan-expedition":{active_class:"selected",threshold:w,destination_threshold:0,throttle_delay:50,fixed_top:0,offset_by_height:!1}});$(window).on("rd-responsive",function(n,f){f==="small"?(i=!0,t.removeClass("visuallyhidden"),u&&t.css("width","100%")):(i=!1,$(window).scrollTop()>0&&setTimeout(function(){$.event.trigger("scroll.fndtn.magellan")},100),setTimeout(function(){r=t.parent().width(),t.width(r),u=!0},100))});var c=$('nav[data-magellan-expedition="fixed"]'),o=c.height(),k=o,h=f,l=h.height();$(window).on("scroll.fndtn.magellan",function(){if(!i){var s=h.offset().top,c=$(window).scrollTop(),f=c+o,e=s+l;f+50>e?t.addClass("visuallyhidden"):t.removeClass("visuallyhidden")}t.hasClass("fixed")&&t.prop("style").width===""&&(t.width(r),u=!0)});rd.utils.anchorLinks(),t.addClass(v)},t=function(){$(window).on("rd-scroll-up rd-scroll-down",function(n,t){var i=$(".footer-nav-to-top");t>500?i.addClass("show"):i.removeClass("show")})};return{mobile:i,sticky:r,right:n,toTop:t}}();
rd.module.search=function(){var i=function(){var t=window.location.href,n=location.protocol+"//"+location.hostname+location.pathname;return t!=n&&$(window).scrollTop()===0?(rd.animate.scrollTop("#totopsearch"),!0):!1},t=function(){var n=$(".search-field-focus"),r=$(".mobile-search-field"),i=$(".close-button .burger-icon"),t=$("#mobile-search-form");n.on("click",function(n){n.preventDefault(),$("body").addClass("mobile-menu-open mobile-s");t.on("animationend webkitAnimationEnd oAnimationEnd msAnimationEnd",function(){r.focus()});rd.module.globalMenuModal.setBackgroundAccessabilityAttributesForOpenModal()});i.on("click",function(){return $("body").is(".mobile-menu-open")?$("body").removeClass("mobile-menu-open").removeClass("mobile-s"):$("body").addClass("mobile-menu-open mobile-m"),rd.module.globalMenuModal.setBackgroundAccessabilityAttributesForClosedModal(),n.focus(),!1})},n=function(){var t=$(".module-facets"),n="[data-dom-toggle-trigger].button-more";if(!(t.find(n).length<=0)){n=t.find(n);n.on("click",function(){$(this).find(".show-less").is(":visible")||rd.animate.scrollTop("#totopsearch")})}};return{searchQueryExist:i,mobile:t,scrollTopOnShowLess:n}}();
rd.module.fellow={},rd.module.fellow.list=function(){var t=function(){var t=window.location.href,n=location.protocol+"//"+location.hostname+location.pathname;return t!=n&&$(window).scrollTop()===0?!0:!1},n=function(){(function(n,t){var u=function(t,i){this.$elem=n(t),this.$elem.data("instance",this),this.init(i)};u.prototype={defaults:{classes:{animated:"ioslist-animated",container:"ioslist-wrapper",hidden:"ioslist-hidden",stationaryHeader:"ioslist-fake-header"},selectors:{groupContainer:".ioslist-group-container",groupHeader:".ioslist-group-header",stationaryHeader:"div"}},init:function(i){var r=this,f=navigator.userAgent.match(/ipad|iphone|ipod/gi)?!0:!1,u=this.$elem.attr("data-filter-anchor-link");this.options=n.extend(!0,{},this.defaults,i||{}),this.elems=[],this.$elem.addClass("ioslist"),this.$elem.children().wrapAll(["<div class='",this.options.classes.container,"' data-ios='",f,"'></div>"].join("")),this.$elem.prepend('<div class="ioslist-fake-header"><div class="row"><div class="small-12 columns"><span class="nav-header muted"></span><a class="ioslist-to-top" href="'+u+'">Filtrera <i class="icon-up-open"></i></a></div></div></div>'),this.$listWrapper=this.$elem.find("."+this.options.classes.container),this.$fakeHeader=n(".ioslist-fake-header"),this.$elem.find(this.options.selectors.groupContainer).each(function(n){var i=r.$elem.find(r.options.selectors.groupContainer).eq(n),u=i.find(r.options.selectors.groupHeader).eq(0),e=i.height(),f=r.$elem.offset().top+i.position().top;r.elems.push({list:i,header:u,listHeight:e,headerText:u.text(),headerHeight:u.outerHeight(),listOffset:f,listBottom:e+f})}),n(".nav-header",this.$fakeHeader).text(this.elems[0].headerText),n(t).scroll(function(){r.testPosition()}),anchors.initAnchorLinks()},currentActiveList:null,listContainer:n(".ioslist-group-container"),testPosition:function(){for(var f=n(t).scrollTop(),i,e,r,u=0;this.elems[u].listOffset-f<=0;)if(i=this.elems[u],r=i.listBottom-f-22,r<-i.headerHeight&&(e=i),u++,u>=this.elems.length)break;i&&f>i.listOffset?n(".ioslist-fake-header").show():n(".ioslist-fake-header").hide(),r<0&&r>-i.headerHeight?(this.$fakeHeader.addClass(this.options.classes.hidden),n(i.list).addClass(this.options.classes.animated)):(this.$fakeHeader.removeClass(this.options.classes.hidden),i&&n(i.list).removeClass(this.options.classes.animated)),i?((this.currentActiveList==null||this.currentActiveList!=i.list)&&(this.listContainer.removeClass("list-active"),i.list.addClass("list-active"),this.currentActiveList=i.list),n(".nav-header",this.$fakeHeader).text(i.headerText)):this.listContainer.removeClass("list-active")}},n.fn.ioslist=function(t,i){return typeof t=="string"?this.each(function(){n(this).data("instance")[t](i)}):this.each(function(){new u(this,t)})}})(jQuery,window,document),$(function(){$(".ioslist-list-container").ioslist()})};return{fellowQueryExist:t,indicationBar:n}}();
rd.module.nav.stickyanchor={init:function(n,t){var u;$(n).addClass("smint");var h=$.extend({"scrollSpeed ":1e3},t),i=[],e=0,s=40,c=70,l=$(n).height()+s+c,f=$(n).offset().top,a=$(n).height()+s,v=h.scrollSpeed,r=$(n),o=t[0];return r.parent().hasClass("smint-ghost")&&r.unwrap(),u=$('<div class="smint-ghost"></div>'),o!=="small"?u.css("height",a+"px"):u.css("height","auto"),r.wrap(u),$(".smint a").each(function(n){var h=rd.utils.getHashTarget($(this).attr("href")),t=$("#"+h);if(!t)return!0;var c=$(this),u=function(t){var u=$(window).scrollTop();u>f?(u=u-40,r.addClass("fxd")):(u=u+f,r.removeClass("fxd")),typeof i[n]!="undefined"&&(i[n][4]=i[n][0]<=u&&u<=i[n][1]-170&&r.hasClass("fxd")),typeof i[n]!="undefined"&&i[n][4]&&(t==="up"?$(i[n][3]).addClass("active"):n>-1?$(i[n][3]).addClass("active"):t===undefined&&$(i[n][3]).addClass("active")),typeof i[n]=="undefined"||i[n][4]||i[n][3].removeClass("active")},s=function(){setTimeout(function(){f!==r.offset().top?(f=r.offset().top,s()):(i.push(Array(t.offset().top-l,t.height()+t.offset().top,h,c,!1)),u())},10)};o!=="small"&&s(),$(window).scroll(function(){var t=undefined,n=$(this).scrollTop();n>e?t="down":n<e&&(t="up"),e=n,u(t),$(window).scrollTop()+$(window).height()===$(document).height()&&($(".smint a").removeClass("active"),$(".smint a").last().addClass("active"))});$(this).on("click",function(n){var u=$(".smint"),f=u.height(),r,t,i;if(u.hasClass("fxd")||(f+=25),n.preventDefault(),r=rd.utils.getHashTarget($(this).attr("href")),t=$("#"+r),!t)return!0;if($(this).hasClass("smint-disable"))return!1;i=t.offset().top-f,$("html, body").animate({scrollTop:i},v),t.attr("tabindex",-1).focus()})})}},function(n){n.fn.stickyanchor=function(){var n=arguments;return this.each(function(){return rd.module.nav.stickyanchor.init(this,n),this})}}(jQuery);
rd.module.calendar=function(){var n=function(){var t="[data-calendar]",n="[data-calendar-header-narrow]";rd.utils.elementsExist(t)&&rd.utils.elementsExist(n)&&rd.utils.returnJqueryElement(n).each(function(){var n=$(this);n.addClass("equalization-applied")})};return{init:n}}();
rd.module.slick={sliderElem:"[data-slick]",sliderDotsImgAttr:"[data-slick-dot-img]:not(.slick-cloned)",loadedSlideAttr:"data-loaded",loadedAllSlidesAttr:"data-src-loaded-all",hasSrcSetSupport:!1,init:function(n){var t=this;t.hasSrcSetSupport=t.supportsSrcSet(),typeof n!="undefined"&&(t.sliderElem=n),$(t.sliderElem).each(function(){var i=$(this);i.on("init",function(n,i){i.$dots&&t.fixSlides(i),$(i.$slides.get(0)).attr(t.loadedSlideAttr,!0),i.$slider.attr(t.loadedAllSlidesAttr,!1),t.positionArrows(i),t.checkSrcAttr(i)});i.on("beforeChange",function(n,i,r,u){t.checkSrcAttr(i,r,u)});i.on("breakpoint",function(n,i){i.$dots&&t.fixSlides(i),t.positionArrows(i)});i.slick({prevArrow:'<button type="button" class="slick-prev">Föregående</button>',nextArrow:'<button type="button" class="slick-next">Nästa</button>',useTransform:!0})})},supportsSrcSet:function(){var n=document.createElement("img");return"srcset"in n&&"sizes"in n},destroy:function(n){$(n).each(function(){$(this).is(".slick-initialized")&&$(this).slick("unslick")})},getActiveBreakpoint:function(n){var r=this,i=$.Deferred(),t={};return setTimeout(function(){n.activeBreakpoint?(t.slidesToScroll=n.breakpointSettings[n.activeBreakpoint].slidesToScroll,t.slidesToShow=n.breakpointSettings[n.activeBreakpoint].slidesToShow):(t.slidesToScroll=n.options.slidesToScroll,t.slidesToShow=n.options.slidesToShow),i.resolve(t)},1),i.promise()},fixSlides:function(n){var t=this;this.getActiveBreakpoint(n).then(function(i){var c=i.slidesToShow,o=n.slideCount,u=$(n.$slides).not(".slick-fillup-item").length,f=Math.ceil(u/c),s=Math.ceil(u/f),l=o-u,h=f*s-u,e=$(n).attr("data-fixed-slides"),r;if(!e||e!==n.activeBreakpoint){for($(n).attr("data-fixed-slides",n.activeBreakpoint),r=0;r<l;r++)n.slickRemove(o-(r+1));for(r=0;r<h;r++)n.slickAdd('<div class="small-12 colums slick-fillup-item" data-slick-dot-img="disabled"></div>');t.buildImgDots(n)}})},buildImgDots:function(n){var i=$(this.sliderDotsImgAttr,n.$list),f=$("li",n.$dots),u,r,t;if(i.length!==0){for(u=Math.ceil(i.length/f.length),r=[],t=0;t<i.length;t=t+u)r.push(i.slice(t,t+u));f.each(function(n,t){$.each(r[n],function(n,i){var u=$("<img />"),r=$(i).attr("data-slick-dot-img");if(r==="disabled")return!0;u.attr("src",r),u.appendTo($("button",t))})})}},checkSrcAttr:function(n,t,i){var f=this,e=n.$slider.attr(f.loadedAllSlidesAttr);if(e===!1||e==="false"){var o=n.$slides,u=n.$slides.length-1,r=[];typeof t=="undefined"||typeof i=="undefined"?r=[u,1]:(r=[i-1,i+1],r[0]<0?r[0]=u:r[1]>u&&(r[1]=0)),f.loadSrc(n,r)}else return!1},loadSrc:function(n,t){for(var i=this,e=[],f=0;f<t.length;f++){var r=$(n.$slides.get(t[f])),u=r.find(".component-gallery-image img"),s=u.attr("data-src"),o=u.attr("data-srcset");r.attr(i.loadedSlideAttr)||(o?(u.attr("srcset",o),i.hasSrcSetSupport||picturefill(),r.attr(i.loadedSlideAttr,"srcset")):s&&(u.attr("src",s),r.attr(i.loadedSlideAttr,"src")))}n.$slides.each(function(){$(this).attr(i.loadedSlideAttr)?e.push(!0):e.push(!1)}),e.indexOf(!1)===-1?n.$slider.attr(i.loadedAllSlidesAttr,!0):n.$slider.attr(i.loadedAllSlidesAttr,!1)},positionArrows:function(n){var i=$(n.$slides.get(0)),t=i.find(".component-gallery-image img");t.length&&t.one("load",function(){var u=t.outerHeight(),i=[],r;if(n.$nextArrow&&i.push(n.$nextArrow),n.$prevArrow&&i.push(n.$prevArrow),i.length>0)for(r=0;r<i.length;r++)i[r].css("top",u/2+"px")}).each(function(){this.complete&&$(this).load()})}};
rd.module.datepicker={settings:{datepicker:"[data-type-datepicker]",datepickerParent:"[data-type-datepicker-parent]",isDatepickerInitilized:"data-type-datepicker-init"},init:function(){var n=this;if(rd.utils.elementsExist($(n.settings.datepicker))){$(n.settings.datepicker).each(function(){}),n.hideDatepicker($(n.settings.datepicker));$(n.settings.datepicker).on("focus",function(){$(this).attr(n.settings.isDatepickerInitilized)!==undefined?n.showDatepicker($(this)):(n.createDatepicker($(this)),$(this).attr(n.settings.isDatepickerInitilized,"true"))})}},createDatepicker:function(n){var t=this;$(n).date({defaultDate:"Välj datum",prevText:"Föregående",nextText:"Nästa",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["S","M","T","O","T","F","L"],dayNamesShort:["Sön","Mån","Tis","Ons","Tors","Fre","Lör"],inline:!0,yearRange:"c-10:c+10",onSelect:function(n,i){t.hideDatepicker(i.dpDiv[0])},constrainInput:!0,dateFormat:"yy-mm-dd",firstDay:1})},showDatepicker:function(n){$(n).parents(this.settings.datepickerParent).find(".hasDatepicker:first").show().addClass("is-visible").removeClass("is-hidden")},hideDatepicker:function(n){$(n).parents(this.settings.datepickerParent).find(".hasDatepicker:first").hide().addClass("is-hidden").removeClass("is-visible")}};
rd.module.loadmoreGalleries={archiveList:".gallery-archive-list",archiveItem:".gallery-archive-item",loadMoreContainer:".gallery-archive-load-more",loadMoreBtn:".gallery-archive-load-more .load-more-btn",ajaxUrlAttr:"data-load-listings-url",data:[],settings:{dev:!1,ajaxCallMade:!1,take:4,skip:0,loadingText:"Laddar...",buttonText:""},init:function(){var t=this;t.events()},events:function(){var n=this;$(n.loadMoreBtn).on("click",function(t){t.preventDefault();var i=$(this);if(n.settings.buttonText=i.html(),n.settings.ajaxCallMade===!1)n.ajaxCall();else if(n.data.length>0)n.printData();else return!1})},ajaxCall:function(){var n=this,t=$(n.loadMoreBtn).parent().attr(n.ajaxUrlAttr);n.toggleLoadingState("on"),t.length>0&&$.ajax({url:t,dataType:"json"}).done(function(t){n.data=t,n.settings.ajaxCallMade=!0,n.printData(),n.toggleLoadingState("off")}).fail(function(t,i){n.settings.dev&&console.log("Request failed: ",i)})},toggleLoadingState:function(n){var t=this,i=$(t.loadMoreBtn);n==="on"||n===!0?i.html(t.settings.loadingText):i.html(t.settings.buttonText)},printData:function(){for(var n=this,r=n.data.splice(n.settings.skip,n.settings.take),i,t=0;t<r.length;t++)i=r[t].hit,$(n.archiveList).append(i),t===0&&$(n.archiveItem).last().focus();n.data.length===0&&$(n.loadMoreContainer).addClass("gallery-archive-load-more-hidden")}};
window.rsConf={general:{cookieLifetime:0}};
rd.module.readspeaker=function(){var n={readSpeakerTrigger:null,readSpeakerPlayerContainer:null,readSpeakerPlayerInfo:null},r=function(){n.readSpeakerTrigger=$(".readspeaker-trigger"),n.readSpeakerPlayerContainer=$("#readspeaker_button1"),n.readSpeakerPlayerInfo=$(".readspeaker-info")},u=function(t){t.preventDefault(),n.readSpeakerPlayerContainer.removeClass("hidden").find("a").first().focus(),n.readSpeakerPlayerContainer.parent().addClass("visible"),n.readSpeakerPlayerInfo.removeClass("hidden")},t=function(){n.readSpeakerTrigger.on("click",u)},i=function(){r(),n.readSpeakerTrigger.attr("role","button"),t()};return{init:i}}();
var attributeToString=function(n){return n.replace(/\[|]/g,"")},attributeWithValue=function(n,t){return"["+attributeToString(n)+'="'+t+'"]'},minMax=function(n,t,i){return n<t?t:n>i?i:n},setCssTransform=function(n,t){n.css({webkitTransform:t,MozTransform:t,msTransform:t,OTransform:t,transform:t})},slider={selectors:{parent:"[data-rd-slider]",track:"[data-rd-slider-track]",skip:"[data-rd-slider-skip]",skipContainer:"[data-rd-slider-skip-container]",play:"[data-rd-slider-play]",step:"[data-rd-slider-step]",autoplay:"[data-rd-slider-autoplay]",initialItem:"[data-rd-slider-initial-item]",initialItemOffset:"[data-rd-slider-initial-item-offset]",item:"[data-rd-slider-item]"},vars:{resizeTimout:250,autoplayInterval:4e3,autoplayStates:{},touchXStart:null,touchYStart:null,isSwiping:!1},classNames:{skipActive:"active",playActive:"rd-slider__play__btn--active",stepDisabled:"rd-slider__step__btn--disabled"},templates:{skip:'<li class="rd-slider__skip__item"><button data-rd-slider-skip="{{skipIndex}}"></button></li>'},swipeSettings:{swipeMinTreshold:10,swipeTriggerPoint:30,swipeMaxTreshold:150},init:function(){$(slider.selectors.parent).length>0&&(slider.registerEvents(),slider.eventHandlers.handleWindowResize())},registerEvents:function(){$(slider.selectors.parent).on("click",slider.selectors.skip,slider.eventHandlers.handleSkipClick);$(slider.selectors.parent).on("click",slider.selectors.play,slider.eventHandlers.handlePlayClick);$(slider.selectors.parent).on("click",slider.selectors.step,slider.eventHandlers.handleStepClick);$(window).on("scroll",slider.eventHandlers.handleWindowScroll);$(window).on("resize",slider.utils.debounce(slider.eventHandlers.handleWindowResize,slider.vars.resizeTimout));$(slider.selectors.parent).each(function(){$(this).get(0).addEventListener("touchstart",slider.eventHandlers.handleSwipe,!1),$(this).get(0).addEventListener("touchend",slider.eventHandlers.handleSwipe,!1),$(this).get(0).addEventListener("touchmove",slider.eventHandlers.handleSwipe,!1)})},eventHandlers:{handleSwipe:function(n){var r=$(n.target),u,t,o;if(typeof n!="undefined"&&typeof n.touches!="undefined")if(u=n.touches[0],n.type=="touchstart")slider.vars.touchXStart=u.clientX,slider.vars.touchYStart=u.clientY;else if(n.type=="touchend"){var l=n.changedTouches[n.changedTouches.length-1].clientX,h=slider.utils.getNextState(r).targetIndex,c=slider.utils.getNextState(r);Math.abs(slider.vars.touchXStart-l)>slider.swipeSettings.swipeTriggerPoint?slider.vars.touchXStart-l>0?(t=slider.utils.getNextState(r,{targetIndex:h+1}),slider.utils.update(t)):(t=slider.utils.getNextState(r,{targetIndex:h-1}),slider.utils.update(t)):slider.vars.isSwiping&&slider.utils.update(c),slider.touchXStart=null,slider.touchYStart=null,slider.vars.isSwiping=!1,c.$track.css({transitionDuration:"0.7s"})}else if(n.type=="touchmove"){var i=u.clientX-slider.vars.touchXStart,s=u.clientY-slider.vars.touchYStart,t=slider.utils.getNextState(r);if(Math.abs(i)>Math.abs(s)&&n.preventDefault(),(Math.abs(i)>slider.swipeSettings.swipeMinTreshold||slider.vars.isSwiping)&&(slider.vars.isSwiping=!0,Math.abs(i)<slider.swipeSettings.swipeMaxTreshold&&Math.abs(i)>Math.abs(s))){var f=i>=0?1:-1,a=(slider.swipeSettings.swipeMaxTreshold-slider.swipeSettings.swipeMinTreshold)/2,e=1;t.initialItemOffset?(o=parseFloat(t.initialItemOffset),setCssTransform(t.$track,"translateX("+(t.targetIndex+o)*-100+"%) translateX("+(i-slider.swipeSettings.swipeMinTreshold*f)*e+"px)")):setCssTransform(t.$track,"translateX("+t.targetIndex*-100+"%) translateX("+(i-slider.swipeSettings.swipeMinTreshold*f)*e+"px)"),t.$track.css({transitionDuration:"0s"})}}},handleSkipClick:function(n){n.preventDefault();var t=$(this),i=slider.utils.getNextState(t,{targetIndex:parseInt(t.attr(attributeToString(slider.selectors.skip)))});slider.utils.update(i)},handlePlayClick:function(n){n.preventDefault();var t=$(this),i=slider.utils.getNextState(t,{autoplay:!t.hasClass(slider.classNames.playActive)});slider.utils.update(i)},handleStepClick:function(n){n.preventDefault();var t=$(this),i=slider.utils.getNextState(t,{targetIndex:slider.utils.getCurrentIndex(t)+parseInt(t.attr(attributeToString(slider.selectors.step)))});slider.utils.update(i)},handleWindowScroll:function(){var n=$(slider.selectors.parent+slider.selectors.autoplay);$(slider.selectors.parent+slider.selectors.autoplay).each(function(n,t){var i=$(t);slider.utils.elementIsInScrollView(i)&&i.removeAttr(attributeToString(slider.selectors.autoplay)).find(slider.selectors.play).trigger("click")}),$(slider.selectors.parent+slider.selectors.autoplay).length===0&&$(window).off("scroll",slider.eventHandlers.handleWindowScroll)},handleWindowResize:function(){$(slider.selectors.track).each(function(n,t){slider.utils.update(slider.utils.getNextState($(t)))})}},utils:{getNextState:function(n,t){var i=n.parents(slider.selectors.parent),o=i.find(slider.selectors.track),r=i.find(slider.selectors.skip),l=r.filter("."+slider.classNames.skipActive),h=i.find(slider.selectors.play),c=i.find(slider.selectors.step),u=i.attr(attributeToString(slider.selectors.parent)),a=slider.utils.getItemsPerPage(i),s=slider.utils.getInitialItem(i),f=i.attr(attributeToString(slider.selectors.initialItemOffset)),e;return skipCount=slider.utils.getSkipCount(o,i.find(slider.selectors.skipContainer).length>0),targetIndex=slider.utils.getTargetIndex(t,r,l,skipCount,f),targetIndexIsLast=targetIndex===skipCount-1,autoplay=t?t.autoplay:!1,autoplayActive=slider.vars.autoplayStates[u]?!0:!1,e={$parent:i,$track:o,$skip:r,$play:h,$step:c,parentId:u,skipCount:skipCount,targetIndex:targetIndex,targetIndexIsLast:targetIndexIsLast,autoplay:autoplay,autoplayActive:autoplayActive,initialItem:s,itemsPerPage:a,initialItemOffset:f}},getItemsPerPage:function(n){var r=n.find(slider.selectors.item).length,i=n.find(slider.selectors.track),t=r>0?Math.round(i[0].scrollWidth/r):-1;return t>0?Math.round(i.width()/t):-1},getInitialItem:function(n){var i=n.find(slider.selectors.item).length,t=parseInt(n.attr(attributeToString(slider.selectors.initialItem)));return t>=0&&t<i?t:t>=0&&i>0?i-1:0},getTargetIndex:function(n,t,i,r,u){var f=parseInt(i.attr(attributeToString(slider.selectors.skip)))||0,e=n&&n.targetIndex!==undefined?n.targetIndex:f,s=0,o=r-1;return u>0&&e==f-1&&(e=f),n&&n.autoplay&&f>=o?s:minMax(e,s,o)},update:function(n){slider.utils.updateInitialState(n),slider.utils.updateTrack(n),slider.utils.updateSkip(n),slider.utils.updateStep(n),(n.autoplay&&!n.autoplayActive||!n.autoplay&&n.autoplayActive)&&slider.utils.autoPlay(n)},updateInitialState:function(n){if(n.initialItem){n.$parent.removeAttr(attributeToString(slider.selectors.initialItem));var t=n.itemsPerPage>0?n.initialItem%n.itemsPerPage/n.itemsPerPage:0;n.$parent.attr(attributeToString(slider.selectors.initialItemOffset),t)}n.initialItemOffset&&n.$parent.removeAttr(attributeToString(slider.selectors.initialItemOffset))},updateTrack:function(n){if(n.initialItem&&n.itemsPerPage>0){n.targetIndex=parseInt(n.initialItem/n.itemsPerPage);var t=n.initialItem/n.itemsPerPage-n.targetIndex;setCssTransform(n.$track,"translateX("+(n.targetIndex+t)*-100+"%)")}else setCssTransform(n.$track,"translateX("+n.targetIndex*-100+"%)")},updateSkip:function(n){var i,t;if(n.$skip.length!==n.skipCount)for(i=n.$parent.find(slider.selectors.skipContainer),i.empty(),t=0;t<n.skipCount;t++)i.append(slider.templates.skip.replace("{{skipIndex}}",t));n.$parent.find(slider.selectors.skip).removeClass(slider.classNames.skipActive),n.$parent.find(attributeWithValue(slider.selectors.skip,n.targetIndex)).addClass(slider.classNames.skipActive)},getSkipCount:function(n,t){return t?Math.ceil(n[0].scrollWidth/n.width()):Math.round(n[0].scrollWidth/n.width())},updateStep:function(n){n.$step.removeClass(slider.classNames.stepDisabled),n.initialItem?n.initialItem==0?n.$step.filter(attributeWithValue(slider.selectors.step,"-1")).addClass(slider.classNames.stepDisabled):n.targetIndex===n.skipCount-1&&n.$step.filter(attributeWithValue(slider.selectors.step,"1")).addClass(slider.classNames.stepDisabled):n.targetIndex==0?n.$step.filter(attributeWithValue(slider.selectors.step,"-1")).addClass(slider.classNames.stepDisabled):n.targetIndexIsLast&&n.$step.filter(attributeWithValue(slider.selectors.step,"1")).addClass(slider.classNames.stepDisabled)},autoPlay:function(n){n.$play.toggleClass(slider.classNames.playActive,n.autoplay),n.autoplay?slider.vars.autoplayStates[n.parentId]=setInterval(function(){var t=slider.utils.getNextState(n.$play,{targetIndex:slider.utils.getCurrentIndex(n.$play)+1,autoplay:!0});slider.utils.update(t)},slider.vars.autoplayInterval):(clearInterval(slider.vars.autoplayStates[n.parentId]),delete slider.vars.autoplayStates[n.parentId])},getCurrentIndex:function(n){var t=n.parents(slider.selectors.parent).find(slider.selectors.skip).filter("."+slider.classNames.skipActive);return parseInt(t.attr(attributeToString(slider.selectors.skip)))},elementIsInScrollView:function(n){var i=$(window).scrollTop(),u=i+$(window).height(),t=n.offset().top,r=t+n.height();return r<=u&&t>=i||i>=t&&u<=r},debounce:function(n,t,i){var r;return function(){var f=this,u=arguments,o=function(){r=null,i||n.apply(f,u)},e=i&&!r;clearTimeout(r),r=setTimeout(o,t),e&&n.apply(f,u)}}}};rd.module.rdSlider=slider;
var inputChangeReload={selectors:{input:"[data-js-input-change-reload]"},init:function(){inputChangeReload.registerEvents()},registerEvents:function(){$(inputChangeReload.selectors.input).on("change",inputChangeReload.eventHandlers.handleInputChange)},eventHandlers:{handleInputChange:function(){var n=$(this);window.location.href=inputChangeReload.utils.updateQueryStringParameter(window.location.href,n.attr("data-js-input-change-reload"),n.val())}},utils:{updateQueryStringParameter:function(n,t,i){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),u=n.indexOf("?")!==-1?"&":"?";return n.match(r)?n.replace(r,"$1"+t+"="+i+"$2"):n+u+t+"="+i}}};rd.module.inputChangeReload=inputChangeReload;
var memberChart={selectors:{$parent:$("[data-module-member-chart]"),$items:$("[data-module-member-chart-items]"),relSize:"[data-rel-size]"},vars:{layoutBreakPoint:1050},init:function(){memberChart.selectors.$parent.length&&(memberChart.registerEvents(),memberChart.eventHandlers.handleWindowScroll())},registerEvents:function(){$(window).on("scroll",memberChart.eventHandlers.handleWindowScroll)},eventHandlers:{handleWindowScroll:function(){memberChart.utils.moduleIsInScrollView()&&($(window).off("scroll",memberChart.eventHandlers.handleWindowScroll),$(memberChart.selectors.relSize).each(function(){var i=$(this);i.css({width:i.attr("data-rel-size")+"%",height:i.attr("data-rel-size")+"%"})}))}},utils:{moduleIsInScrollView:function(){var i=$(window).scrollTop(),r=$(window).height(),o=$(window).width(),e=i+r,t=memberChart.selectors.$items.offset().top,n=memberChart.selectors.$items.height(),f=t+n,u=r<n?r/2:n/2;return e<f&&e>t+u||i>t&&i<f-u}}};rd.module.memberChart=memberChart;
var infoBlock={selectors:{parent:"[data-info-block]",modal:"[data-info-block-modal]",toggle:"[data-info-block-modal-toggle]"},classNames:{triggerActive:"info-block__trigger--active",modalActive:"info-block__modal--active"},init:function(){infoBlock.registerEvents()},registerEvents:function(){$(infoBlock.selectors.toggle).on("click",infoBlock.eventHandlers.handleToggleClick)},eventHandlers:{handleToggleClick:function(){var t=$(this),r=t.attr("aria-controls"),u=$(infoBlock.selectors.toggle+'[aria-controls="'+r+'"]'),i=$("#"+r),n=!t.is('[aria-expanded="true"]');t.parents(infoBlock.selectors.parent).find(infoBlock.selectors.modal).removeClass(infoBlock.classNames.modalActive),t.parents(infoBlock.selectors.parent).find(infoBlock.selectors.toggle).attr("aria-expanded",!1),u.toggleClass(infoBlock.classNames.triggerActive,n).attr("aria-expanded",n),i.toggleClass(infoBlock.classNames.modalActive,n),n&&i.attr("tabindex",-1).focus()}}};rd.module.infoBlock=infoBlock;
rd.module.twitter={settings:{dev:!1,timelineSelector:".twittertimeline"},init:function(){var n=this.settings;$(n.timelineSelector).each(function(n,t){var i=$(t),f=i.attr("data-twitter-count"),u=i.attr("data-twitter-screenname"),r={timestamp_linktext:i.attr("data-translate-timestamp_linktext"),avatar_title_text:i.attr("data-translate-avatar_title_text"),time_text_day_ago:i.attr("data-translate-time_text_day_ago"),time_text_days_ago:i.attr("data-translate-time_text_days_ago"),time_text_hour_ago:i.attr("data-translate-time_text_hour_ago"),time_text_hours_ago:i.attr("data-translate-time_text_hours_ago"),time_text_mins_ago:i.attr("data-translate-time_text_mins_ago"),time_text_sec_ago:i.attr("data-translate-time_text_sec_ago"),time_text_now:i.attr("data-translate-time_text_now"),loading_text:i.attr("data-translate-loading_text")};i.tweet({join_text:"auto",username:"seaofclouds",avatar_size:35,count:f,twitter_account_name:u,auto_join_text_default:" we said, ",auto_join_text_ed:" we ",auto_join_text_ing:" we were ",auto_join_text_reply:" we replied ",auto_join_text_url:" we were checking out ",translations:r,template:'<blockquote class="tweet" cite="{tweet_url}"><div class="tweet__header"><div class="tweet__author"><a target="_blank" class="tweet__avatar" href="https://twitter.com/{screenname}">{avatar}<span class="tweet__author__name">{name}</span><span class="tweet__author__screenname">@{screenname}</span></a></div></div><div class="tweet__body">{text}<div class="tweet__metadata">{time}</div><ul class="tweet__actions"><li class="tweet__action">{reply_action}</li><li class="tweet__action">{retweet_action}</li><li class="tweet__action">{favorite_action}</li></ul></div></blockquote>'})})}};
rd.module.systemMessages={socket:null,moduleSelector:".component-system-message",settings:{dev:!0,socketURL:rd.settings.socketurl},init:function(){var t=this;t.connectIO(),t.websocketConnector()},connectIO:function(){var t=this,n;if(typeof io=="undefined")return console.log("io is undefined"),eventBus.socket_error(io);n=document.location.protocol==="https:",t.socket=io.connect(t.settings.socketURL,{secure:n,"connect timeout":1e4})},websocketConnector:function(){var n=this;n.socket.on("systemMessages",function(t){var i=n.getCurrentMessageByLanguage(t);i===undefined||i===null||i.message===null?$(n.moduleSelector).parents(".module-block-hidden").removeClass("visible"):n.printer(i)})},printer:function(n){var i=this,t=$(i.moduleSelector);t.find(".component-system-message-heading").html(n.title),t.find(".component-system-message-text").html(n.message),t.parents(".module-block-hidden").addClass("visible")},getCurrentMessageByLanguage:function(n){var u=this,i=null,r,t;if(n!==null){r=u.getCurrentLanguage();for(t in n)if(n.hasOwnProperty(t)&&n[t].languagecode===r){i=n[t];break}}return i},getCurrentLanguage:function(){for(var t=document.getElementsByTagName("meta"),i="sv",n=0;n<t.length;n++)t[n].getAttribute("name")==="content_language"&&(i=t[n].getAttribute("content"));return i}};
rd.module.tablesorter={settings:{dev:!0,triggeredSort:!1,tables:[]},init:function(){var n=this;n.destroyTableSorter(),n.settings.tables=$("[data-rd-tablesorter]").tablesorter({sortList:[[0,0]],textExtraction:function(n){return $(n).data("sortvalue")?$(n).data("sortvalue"):n.innerText}});n.settings.tables.off().on("sortEnd",function(){if(n.settings.triggeredSort===!1){var t=$(this);n.isTableSplit(t)&&n.sortOtherTable(t)}else n.settings.triggeredSort=!1})},destroyTableSorter:function(){var n=this;n.settings.tables.length>0&&n.settings.tables.each(function(){var n=$(this);n.unbind("update updateCell sorton appendCache applyWidgetId applyWidgets").find("thead th").unbind("click mousedown")})},sortOtherTable:function(n){var t=this,r=t.getActiveHeaderIndex(n),u=t.getTableSplitId(n),i=t.getOtherTable(n);t.settings.triggeredSort=!0,i.find(".header").eq(r).trigger("click")},getOtherTable:function(n){var i=this,t=i.getTableSplitId(n);return i.isOriginalTable(n)?$('[data-table-clone][data-table-split-id="'+t+'"]'):$('[data-table-original][data-table-split-id="'+t+'"]')},getActiveHeaderIndex:function(n){return n.find(".header.headerSortDown, .header.headerSortUp").index()},getTableSplitId:function(n){return n.attr("data-table-split-id")},isTableSplit:function(n){return n[0].hasAttribute("data-table-split-id")?!0:!1},isOriginalTable:function(n){return n[0].hasAttribute("data-table-original")?!0:!1}};
rd.module.videoTranscript=function(){var r=766,n=function(n){var u=$('.video-transcript__item[data-speakerstart="'+n+'"]'),t=u.offset(),r,i;t!=null&&(t.top>1||t.top<-1)&&(r=t.top,i=$(".videoplayer--sticky .component-video").height(),$("html, body").animate({scrollTop:r-i},function(){$(".video-transcript__item.current a").focus()}))},i=function(t){var i=$(".video-transcript__item:first [data-ng-change-speaker]");$("html, body").animate({scrollTop:i.offset().top},function(){n(t)})},t=function(t){var f=screen.width>=r&&$("#video-transcript-toggle").hasClass("expanded"),u;if(f){if(u=$(".videoplayer--sticky").length,u){n(t);return}i(t)}};return{handleChapterChanged:t}}();
var campaignFeed={selectors:{parent:"[data-js-campaign-feed]",item:"[data-js-campaign-feed-item]"},classNames:{itemFloat:"campaign-feed__item--float"},vars:{resizeTimout:250},init:function(){$(campaignFeed.selectors.parent).length>0&&(campaignFeed.eventHandlers.handleWindowResize(),campaignFeed.registerEvents(),$(window).trigger("resize"))},registerEvents:function(){$(window).on("resize",campaignFeed.utils.debounce(campaignFeed.eventHandlers.handleWindowResize,campaignFeed.vars.resizeTimout))},eventHandlers:{handleWindowResize:function(){$(campaignFeed.selectors.parent).each(campaignFeed.utils.calculateLayout)}},utils:{calculateLayout:function(){var i=$(this),r=i.find(campaignFeed.selectors.item),n=0,t=0;r.each(function(){campaignFeed.utils.calculateItemPosition(this,n,t,function(i){n=i.leftColumnHeight,t=i.rightColumnHeight})}),i.css("height",campaignFeed.utils.getHighestValue(n,t))},calculateItemPosition:function(n,t,i,r){var u=$(n),f=u.outerHeight(!0);u.removeAttr("style"),t<=i?(u.css("top",t).css("left",0).addClass(campaignFeed.classNames.itemFloat),t+=f):(u.css("top",i).css("right",0).addClass(campaignFeed.classNames.itemFloat),i+=f),r({leftColumnHeight:t,rightColumnHeight:i})},debounce:function(n,t,i){var r;return function(){var f=this,u=arguments,o=function(){r=null,i||n.apply(f,u)},e=i&&!r;clearTimeout(r),r=setTimeout(o,t),e&&n.apply(f,u)}},getHighestValue:function(n,t){return n<t?t:n}}};rd.module.campaignFeed=campaignFeed;
var quiz={selectors:{parent:"[data-js-quiz]",result:"[data-js-quiz-result]",question:"[data-js-quiz-question]",answer:"[data-js-quiz-question-answer]",radio:"[data-js-quiz-question-radio]",submitBtn:"[data-js-quiz-submit-button]"},classNames:{answerSelected:"quiz-question__answer--selected",questionLabel:"quiz-question__label"},init:function(){$(quiz.selectors.parent).length>0&&(quiz.registerEvents(),$(quiz.selectors.submitBtn).length>0&&$(quiz.selectors.submitBtn).prop("disabled",!0))},registerEvents:function(){$(quiz.selectors.parent).on("change",quiz.selectors.radio,quiz.eventHandlers.handleAnswerClick)},eventHandlers:{handleAnswerClick:function(n){var t=n.target,r=$(t).closest(quiz.selectors.question),i=$(t).closest(quiz.selectors.answer);r.find(quiz.selectors.answer).removeClass(quiz.classNames.answerSelected),i.addClass(quiz.classNames.answerSelected),quiz.quizReadySubmit()&&$(quiz.selectors.submitBtn).length>0&&$(quiz.selectors.submitBtn).prop("disabled",!1)}},quizReadySubmit:function(){for(var t=$(quiz.selectors.question),n=0;n<t.length;n++)if($("input[type=radio]:checked",t.eq(n)).size()<=0)return!1;return!0}};rd.module.quiz=quiz;
upplevBanner={selectors:{parent:"[data-js-upplev-banner]",video:"[data-js-upplev-video]",image:"[data-js-upplev-image]",imageContainer:"[data-js-upplev-image-container]"},objects:{vid:null,image:null},vars:{scrollPosition:0,frameNumber:0,bannerHeight:0,interpolateToFrame:0,interpolating:!1,frameStep:1,imageOffsetWidth:300},init:function(){if($(upplevBanner.selectors.parent).length>0&&$(upplevBanner.selectors.video).length>0)upplevBanner.objects.vid=$(upplevBanner.selectors.video).get(0),$(window).scroll(upplevBanner.utils.scrollPlay);else if($(upplevBanner.selectors.parent).length>0&&$(upplevBanner.selectors.image).length>0){upplevBanner.objects.image=$(upplevBanner.selectors.image).get(0),upplevBanner.objects.image.style.right="0px",upplevBanner.objects.imageContainer=$(upplevBanner.selectors.imageContainer).get(0),upplevBanner.objects.image.style.width=upplevBanner.objects.imageContainer.clientWidth+upplevBanner.vars.imageOffsetWidth+"px",$(window).scroll(upplevBanner.utils.scrollPlayImage);$(window).on("resize",upplevBanner.utils.resize)}},utils:{resize:function(){upplevBanner.objects.image.style.width=upplevBanner.objects.imageContainer.clientWidth+upplevBanner.vars.imageOffsetWidth+"px"},scrollPlay:function(){var n=upplevBanner.utils.getFrameNumber();n>=0&&(console.log(n),n!=upplevBanner.utils.interpolateToFrame&&(upplevBanner.vars.interpolateToFrame=n,upplevBanner.vars.interpolating||upplevBanner.utils.interpolateVideo())),upplevBanner.vars.scrollPosition=window.pageYOffset},scrollPlayImage:function(){var n=upplevBanner.utils.getFrameNumberImage();n>=0&&n!=upplevBanner.utils.interpolateToFrame&&(upplevBanner.vars.interpolateToFrame=n,upplevBanner.vars.interpolating||upplevBanner.utils.interpolateImage()),upplevBanner.vars.scrollPosition=window.pageYOffset},interpolateVideo:function(){upplevBanner.objects.vid.currentTime<upplevBanner.vars.interpolateToFrame-upplevBanner.vars.frameStep?(upplevBanner.vars.interPolatating=!0,upplevBanner.objects.vid.currentTime+=upplevBanner.vars.frameStep,window.requestAnimationFrame(upplevBanner.utils.interpolateVideo)):upplevBanner.objects.vid.currentTime>upplevBanner.vars.interpolateToFrame+upplevBanner.vars.frameStep?(upplevBanner.vars.interPolatating=!0,upplevBanner.objects.vid.currentTime-=upplevBanner.vars.frameStep,window.requestAnimationFrame(upplevBanner.utils.interpolateVideo)):upplevBanner.vars.interpolating=!1},interpolateImage:function(){var n=parseInt(upplevBanner.objects.image.style.right,10);n<upplevBanner.vars.interpolateToFrame-upplevBanner.vars.frameStep?(upplevBanner.vars.interPolatating=!0,upplevBanner.objects.image.style.right=n+upplevBanner.vars.frameStep+"px",window.requestAnimationFrame(upplevBanner.utils.interpolateImage)):n>upplevBanner.vars.interpolateToFrame+upplevBanner.vars.frameStep?(upplevBanner.vars.interPolatating=!0,upplevBanner.objects.image.style.right=n-upplevBanner.vars.frameStep+"px",window.requestAnimationFrame(upplevBanner.utils.interpolateImage)):upplevBanner.vars.interpolating=!1},getFrameNumber:function(){var f=window.innerHeight,r=upplevBanner.objects.vid.getBoundingClientRect().top-document.body.getBoundingClientRect().top,e=r+upplevBanner.objects.vid.clientHeight,t=upplevBanner.objects.vid.duration,i=r-f,o=e,u=t/(o-i),n=(window.pageYOffset-i)*u;return n>=0&&n<=t?n:-1},getFrameNumberImage:function(){var u=window.innerHeight,i=upplevBanner.objects.imageContainer.getBoundingClientRect().top-document.body.getBoundingClientRect().top,f=i+upplevBanner.objects.imageContainer.clientHeight,t=i-u,e=f,r=upplevBanner.vars.imageOffsetWidth/(e-t),n=(window.pageYOffset-t)*r;return n>0&&n<upplevBanner.vars.imageOffsetWidth?n:-1}}},rd.module.upplevBanner=upplevBanner;
app.service("SearchService",["$http","$q","$rootScope","$resource",function(n,t,i,r){return r("/api/:endpoint/:action",{},{query:{method:"GET",isArray:!1}})}]);
app.service("diariumService",["$http","$q","$rootScope","$timeout",function(n,t,i,r){function e(t){return n({method:"GET",url:"/api/DiarieOrderForm/GetVerifiedItem?Id="+encodeURI(t.id),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(n){if(n!=null&&n.data!=null&&n.data.length===2)return u.push({id:n.data[0],title:n.data[1]}),!0},function(){return!1}),!1}function s(n){u.splice(n,1)}function h(n){var u=0,t=f(n.id);return t===-1?(u=1,e(n)):s(t),r(function(){i.$apply()},0,!1),u}function c(){var i,t;u=[];var o=new URI,f=o.search(!0),r=decodeURIComponent(f.documents);if(r!="undefined"&&r!=null&&r!=="")for(i=r.split(","),t=0;t<i.length;++t)i[t]!==""&&e({id:i[t]})}function o(){u=[]}function f(n){for(var i=-1,t=0;t<u.length;t++)if(u[t].id===n){i=t;break}return i}var u=[];return c(),{items:u,toggleItem:h,wipe:o,getItemIndex:f}}]);
app.controller("SearchController",["$scope","$rootScope","$location","$window","SearchService","$element","$attrs","$compile",function(n,t,i,r,u,f,e,o){function b(){var n=$("#global-search-field").val(),t=$("#mobile-global-search-field").val();return n?n:t}function k(){$(".aspnetForm").submit(function(t){var r=b(),i=!1;if(n.submitActor!=null&&(i=n.submitActor.data("allow-server-submit")),e.overrideForm&&!r&&(i==null||i===!1))t.preventDefault(),window.location.href=n.getUrlForFormSubmit();else return!0})}function p(){n.isLoading=!0,n.linkText="Hämtar...",n.loadingClass="loading"}function h(){var n=e.additionalArguments?JSON.parse(e.additionalArguments):{};return angular.extend(n,URI.parseQuery(r.location.search))}function l(t){var i='<div class="button-load-more-container loading-button"><button class="rd-button rd-button-more rd-size-wide loading">'+n.linkText+" </button></div>";f.find(".fetch-more-search-result-container").append(i),setTimeout(function(){$(".loading-button").animate({height:0,padding:0,margin:0,overflow:"hidden","border-top":"none"},{duration:450,complete:function(){$(this).remove(),n.$apply(function(){n.isLoading=!1}),t&&t()}})},300)}function v(n){var r;if(n!=null&&n!==[]&&n!==""){var i=f.find("[data-search-datepicker-from]"),t=f.find("[data-search-datepicker-to]"),s=!0,u=$(n).find("[data-custom-facet]");if(u!=null&&u!==[]&&(r=u.data("custom-facet"),r!=null&&r!=="")){var h=r.split(","),c=h[0],l=h[1],o=c.split(":")[1],e=l.split(":")[1];i!=null&&(o===""||o==="0")&&(i.val(""),i.empty()),t!=null&&(e===""||e==="0")&&(t.val(""),t.empty()),s=!1}s&&(i!=null&&$(i.val("")),t!=null&&$(t.val("")))}}function s(t,i,r){c&&t.p&&(c=!1,n.pageNumber=t.p),t.endpoint="search",n.pageNumber++,t[n.pagingKey]=t.p=n.pageNumber,n.wantsMore=!0,p(),u.query(t,function(t){var o,u,e;typeof r=="function"&&(t=r(t)),l(i),o=f.find(".fetch-more-search-result-container"),u=$(t.html),o.append(u),e=u.first(),e.length&&rd.utils.setFocus(e),rd.utils.unscrambleEmail(".fetch-more-search-result-container"),n.isDriedOut=t.is_dried_out,n.hitsfrom=t.traff_fran,n.hitsto=t.traff_till,n.hits=t.traffar,n.isNextPage=!0,n.linkText="Visa fler",n.loadingClass=""})}function w(t){p();var i=function(){t.removeClass(n.cssClassForPreloadedHiddenHits),rd.utils.setFocus(t.first())};l(i),n.linkText="Visa fler",n.loadingClass="",n.isDriedOut=n.disableAfterFirstUse}var c,y,a;n.linkText="Visa fler",n.loadingClass="",n.isLoading=!1,n.isNextPage=!1,n.wantsMore=!1,n.isDriedOut=!1,n.pagingKey="p",n.submitActor=null,c=!0,n.pageNumber=1,n.setSubmitActor=function(t){n.submitActor=angular.element(t.currentTarget)},y=function(){r.addEventListener("popstate",function(){n.search()}),k()},y(),n.getUrlForFormSubmit=function(){var r=f.find("[data-search-datepicker-from]"),e=r.val(),u=f.find("[data-search-datepicker-to]"),o=u.val(),s=f.find("[data-search-main-field]"),n=new URI,t,i;return r&&e?n.setQuery("datum",e):n.hasQuery("datum")&&n.removeQuery("datum"),u&&o?n.setQuery("tom",o):n.hasQuery("tom")&&n.removeQuery("tom"),n.setQuery("q",s.val()),n.setQuery("p","1"),t=$("#cSearchTrackKey").val(),i=$("#cSearchTrackValue").val(),t!=null&&t!==""&&i!=null&&i!==""&&n.setQuery(t,i),n},a=function(t){var u=f.find("[data-search-nohits]"),s=f.find("[data-search-hashits]"),i=f.find("[data-search-hits]"),h,r,e;i.attr("data-search-compile-hits")!=="false"&&(h=$(t.html),i.empty().append(o(h)(n))),r=i.children().first(),r.length?(rd.utils.setFocus(r),u.hide(),e=t.traffar===1?"träff":"träffar",s.empty().append("("+t.traffar+" "+e+")")):(u.show(),s.empty().append("(0 träffar)"));var w=f.find("[data-search-facets]"),p=f.find("[data-search-facets-horizontal]"),k=f.find("[data-search-facets-inner]"),b=f.find("[data-search-pagination]"),l=f.find("[data-search-sortlinks]"),c=f.find("[data-search-mobilesortlinks]"),y=f.find(".rss-link"),a=f.find("[data-search-hitcount]");v(t.horizontalfacetshtml),v(t.innerfacetshtml),w.empty().append($(o(t.facetshtml)(n))),p.empty().append($(o(t.horizontalfacetshtml)(n))),k.empty().append($(o(t.innerfacetshtml)(n))),b.empty().append($(o(t.paginationhtml)(n))),l.empty().append($(o(t.sortlinkshtml)(n))),a.empty().append(t.traffar),c.empty().append($(o(t.mobilesortlinkshtml)(n))),y.prop("href",t.rssurl)},n.searchFor=function(t){try{var i={type:"search"};history.pushState(i,document.title,t),n.search()}catch(r){window.location=t}},n.searchFacetGroup=function(t){var r='[data-search-groupname="'+t+'"]',i=h();i.endpoint="search",i.action=e.filteraction,i.fcl=t,i.fcs="0",i.sz="0",u.query(i,function(t){var u=$(t.facetshtml),e=u.find(r),i=f.find(r);i.empty().append($(o(e.html())(n))),rd.dom.toggle.init(),i.find("[data-dom-toggle-trigger]").trigger("click")})},n.search=function(){var i=h();i.endpoint="search",i.action=e.filteraction,u.query(i,function(i){a(i),t.$broadcast("searchurlChange",{triggerScope:n,html:i.html}),n.isDriedOut=i.is_dried_out,n.hitsfrom=i.traff_fran,n.hitsto=i.traff_till,n.hits=i.traffar,n.loadingClass="",f.find(".fetch-more-search-result-container").empty(),rd.utils.unscrambleEmail(".fetch-more-search-result-container"),rd.dom.toggle.init()})},n.triggerUrlChanged=function(){t.$broadcast("triggerUrlChanged",{triggerScope:n,html:[]})},n.loadMoreSaidAndDone=function(){var n=h();n.action="GetMoreSaidAndDone",s(n)},n.loadMoreCommissionerVods=function(){var n=h();n.action="GetMoreCommissionerVod",s(n)},n.loadMoreCommitteeCases=function(){var n=h();n.action="GetMoreCommitteeCases",s(n)},n.loadMoreNews=function(){var n=h();n.action="GetMoreNews",s(n)},n.loadMorePress=function(){var n=h();n.action="GetMorePress",s(n)},n.loadMoreFellowsNotes=function(t){var i,r;if(t=t||{},t.action="GetMoreFellowsNotes",i=$(".fellows-notes-list, .fellows-notes-item").filter("."+n.cssClassForPreloadedHiddenHits),i.length){w(i);return}r=function(n){var e=$(n.html),r=e.first(".fellows-notes-list"),f,t,u,i;return r.length?(f=r.attr("data-fellows-notes-date"),t=$(".fellows-notes-list").last(),!t.length)?n:(u=t.attr("data-fellows-notes-date"),u===f&&(i=$(r).find(".fellows-notes-item"),i.appendTo(t.find("ul").first()),rd.utils.setFocus(i.first()),n.html=""),n):n},s(t,!1,r)},n.loadMoreItems=function(n){n=n||{},n.action="getmore",s(n,rd.dom.equalize.init)}}]);
app.controller("CommissionerListController",["$scope","$rootScope","$location","$element","$attrs","$window","$compile","SearchService",function(n,t,i,r,u,f,e,o){function a(){var n=u.additionalArguments?JSON.parse(u.additionalArguments):{};return n.endpoint=v,n.action=p,angular.extend(n,URI.parseQuery(f.location.search))}function h(t,i){history.pushState({},document.title,t);var u=a();n.isLoading=!0,o.query(u,function(t){var o,u,f;n.result=t.html,o=r.find(y),u=r.find("[data-commissioner-subfilter]").val(),o.empty().append(u!==""?"Riksdagsledamöter "+u:"Ingen valkrets vald"),f=r.find(l),f.empty().append($(e(t.html)(n))),rd.utils.anchorLinks(r),$(l+" select").customSelect(),typeof i=="function"&&i(),n.isLoading=!1})}var l="[data-commissioner-result-area]",y="[data-commissioner-result-accessibility-heading]",p="GetCommissionerResults",v="commissionerList",c,s;n.typeoflist=r.find("[data-commissioner-mainfilter]").val(),n.subFilter=r.find("[data-commissioner-subfilter]").val(),n.result="",c=r.find("[data-commissioner-mainfilter]").attr("name"),s="",n.handleMainFilterChange=function(){var i=new URI,t;s&&i.removeQuery(s),i.setQuery(c,n.typeoflist),t=r.find("[data-commissioner-mainfilter] option:selected"),t.attr("data-default-value")&&(i.setQuery(t.attr("data-subfilter-key"),t.attr("data-default-value")),s=t.attr("data-subfilter-key")),history.pushState({},document.title,i),h(i,function(){n.subFilter=r.find("[data-commissioner-subfilter]").val()})},n.handleSubFilterChange=function(t){var i=new URI;s=t,i.setQuery(t,n.subFilter),h(i)}}]);
app.controller("DiarieOrderForm",["$scope","$rootScope","$location","$http","diariumService",function(n,t,i,r,u){n.isPosted=!1,n.showErroMessage=!1,n.wipeItems=u.wipe,n.submit=function(t){if(t.preventDefault(),n.isValid=!0,n.showEmailErrorMsg=!1,(n.diarieForm.clientEmail.$untouched||n.diarieForm.clientEmail.$modelValue===""||n.diarieForm.clientEmail.$error.email===!0)&&(n.showEmailErrorMsg=!0,n.isValid=!1),!n.isValid)return!1;var i={ClientEmail:n.clientEmail,RegistrarEmail:n.recieverEmail,Records:n.diarieForm.records.$modelValue};return r({method:"POST",url:"/api/DiarieOrderForm/PostForm",data:$.param(i),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){t.success&&(n.isPosted=!0,n.wipeItems())}),!1}}]);
app.controller("DiariumController",["$scope","diariumService","$element","$compile","$timeout","$q",function(n,t,i,r,u){function e(n){var t=new URI,i="documents",e=n.id,s=t.search(!0),f=s[i],r,u,o;return f?(r=f.split(","),!r.length)?(t.removeQuery(i),t):(u=r.filter(function(n){return n!==e&&n!==encodeURIComponent(e)}),!u.length)?(t.removeQuery(i),t):(o=u.join(","),t.setQuery(i,o)):t}n.loaded=!0,n.requestedItems=t.items,n.toggleItem=function(i){t.toggleItem(i),$("#hidResultItems").val(n.selectedDocumentsString())},n.removeItemAndSetUrl=function(i){var f=e(i),r;f!=null&&(r={type:"search"},history.pushState(r,document.title,decodeURIComponent(f))),t.toggleItem(i),$("#hidResultItems").val(n.selectedDocumentsString()),n.triggerUrlChanged(),u(function(){n.$apply()},0,!1)},n.getItemIndex=t.getItemIndex,n.hasSearchHits=!1,n.selectedDocumentsString=function(){for(var i="",t=0;t<n.requestedItems.length;t++)i+=n.requestedItems[t].title+"("+n.requestedItems[t].id+")|";return encodeURIComponent(i)},n.requestParams=function(){for(var i=[],t=0;t<n.requestedItems.length;t++)i.push(n.requestedItems[t].id);return encodeURIComponent(i)},n.setSubmitActorOnParent=function(t){$("#hidResultItems").val(n.selectedDocumentsString()),n.$parent.setSubmitActor(t)},n.$on("searchurlChange",function(t,f){n.hasSearchHits&&u(function(){var u=$(f.html),t=i.find("[data-search-hits]");t.empty().append(r(u)(n)),n.$apply()},0,!1)})}]),app.filter("BeginAt",function(){return function(n,t){return t=!t||isNaN(t)?0:parseInt(t,10),t=t<0&&t>=-n.length?n.length+t:t,n.slice(t,n.length)}});
"use strict";(function(){function t(){var t=new URI,u=t.search(!0).did,i,r,n;return u?u:(i=t.segment(),!i.length)?undefined:(r=t.segment().pop(),n=r.split("_"),n.length>1)?n[1]:undefined}var n=function(){function i(n,t){var u,i,r;if(!t||!t.length||!n)return!1;for(u=0;u<t.length;u++)if(i=t[u].shareddebatedocuments,i&&i.length)for(r=0;r<i.length;r++)if(i[r].dokid&&i[r].dokid===n)return!0;return!1}function n(n){var i=t();return n.filter(function(n){if(n.dokid===i||n.id===i)return n;var t=decodeURIComponent(i);if(t===n.dokid||t===n.id)return n})}return{metadata_load:function(n){if($.publish("metadata/load",n),$.publish("debate/change",n),n!=undefined&&n.videodata!=undefined&&n.videodata.length===0){$.publish("metadata/load/livemetadata/notfound",n),$.publish("livemetadata/notfound",t());return}},livemetadata_load:function(r){var f=t(),u;if($.publish("livemetadata/load",r),$.publish("livemetadata/change",r),u=n(r.videodata),u.length===0&&typeof f!="undefined"){if(i(f,r.videodata)){$.publish("livemetadata/shareddebatedocument",f);return}$.publish("livemetadata/notfound",f);return}$.publish("filteredlivemetadata/load",u),$.publish("filteredlivemetadata/change",u)},dokid_change:function(n,i){var r,u;($.publish("debate/dokid/change",n.dokid),r=t(),i.dokid===r||i.id===r)&&(u=n.dokid||n.id,History.pushState(null,null,"?did="+u))},debate_change:function(n){$.publish("debate/change",n)},livemetadata_change:function(r){var f,u;if($.publish("livemetadata/change",r),f=n(r.videodata),f.length===0){u=t(),u&&i(u,r.videodata)&&$.publish("livemetadata/shareddebatedocument",u);return}$.publish("filteredlivemetadata/change",f)},socket_error:function(n){$.publish("videosystem/error",n);return}}}(),i=function(){function r(){if(typeof io=="undefined")return n.socket_error(io);t=io.connect(u,{secure:!1,"connect timeout":1e4})}function i(){t.on("metadata.load",n.metadata_load);t.on("livemetadata.load",n.livemetadata_load);t.on("livemetadata.change",n.livemetadata_change);t.on("debate.change",n.debate_change);t.on("debate.dokid.change",n.dokid_change);t.on("error",n.socket_error)}var t=null,u=rd.settings.socketurl;return{connect:function(){r(),i()}}}();rd.video.initLiveDataConsumer=function(){i.connect()},rd.video.initLiveDataConsumer(),typeof History.getHash=="function"&&History.getHash()&&t()&&typeof riksdagen_angularLocationHandling!="undefined"&&riksdagen_angularLocationHandling&&(location.href=History.getHash())})();
rd.module.accessibility=function(){var n={signLanguageCloseBtn:null,easyReadCloseBtn:null},u=function(){n.signLanguageCloseBtn=$("#sign-language-close"),n.easyReadCloseBtn=$("#easy-read-close"),n.easyReadToggleBtn=$("#easy-read-toggle"),n.signLanguageToggleBtn=$("#sign-language-toggle")},f=function(t){t.preventDefault(),n.signLanguageToggleBtn.click()},r=function(t){t.preventDefault(),n.easyReadToggleBtn.click()},t=function(){n.signLanguageCloseBtn.on("click",f);n.easyReadCloseBtn.on("click",r)},i=function(){u(),t()};return{init:i}}();
