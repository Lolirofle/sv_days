!function(t){function e(e){for(var n,o,i=e[0],a=e[1],s=0,c=[];s<i.length;s++)o=i[s],r[o]&&c.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(u&&u(e);c.length;)c.shift()()}var n={},r={5:0};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,o){n=r[t]=[e,o]});e.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(t){return o.p+"js/"+({0:"core-js-polyfill",1:"custom-event-polyfill",2:"element-closest-polyfill",3:"formdata-polyfill",4:"intersection-observer-polyfill"}[t]||t)+"-"+{0:"aa610b239b9b6af0232b",1:"90e26bac8bf9a9df1e8e",2:"f6c5166922fdb920cdbd",3:"0b1a0671763e95f6b71b",4:"b7a7d7b65ac6531a577c"}[t]+".chunk.js"}(t),a=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[t]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://unicef.se/packs/",o.oe=function(t){throw console.error(t),t};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var u=a;o(o.s=53)}([function(t,e,n){"use strict";var r=function(){function t(t,e){this.eventTarget=t,this.eventName=e,this.unorderedBindings=new Set}return t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},t.prototype.bindingConnected=function(t){this.unorderedBindings.add(t)},t.prototype.bindingDisconnected=function(t){this.unorderedBindings.delete(t)},t.prototype.handleEvent=function(t){for(var e=function(t){if("immediatePropagationStopped"in t)return t;var e=t.stopImmediatePropagation;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,e.call(this)}})}(t),n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(e.immediatePropagationStopped)break;o.handleEvent(e)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort(function(t,e){var n=t.index,r=e.index;return n<r?-1:n>r?1:0})},enumerable:!0,configurable:!0}),t}();var o=function(){function t(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}return t.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(t){return t.connect()}))},t.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(t){return t.disconnect()}))},Object.defineProperty(t.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce(function(t,e){return t.concat(Array.from(e.values()))},[])},enumerable:!0,configurable:!0}),t.prototype.bindingConnected=function(t){this.fetchEventListenerForBinding(t).bindingConnected(t)},t.prototype.bindingDisconnected=function(t){this.fetchEventListenerForBinding(t).bindingDisconnected(t)},t.prototype.handleError=function(t,e,n){void 0===n&&(n={}),this.application.handleError(t,"Error "+e,n)},t.prototype.fetchEventListenerForBinding=function(t){var e=t.eventTarget,n=t.eventName;return this.fetchEventListener(e,n)},t.prototype.fetchEventListener=function(t,e){var n=this.fetchEventListenerMapForEventTarget(t),r=n.get(e);return r||(r=this.createEventListener(t,e),n.set(e,r)),r},t.prototype.createEventListener=function(t,e){var n=new r(t,e);return this.started&&n.connect(),n},t.prototype.fetchEventListenerMapForEventTarget=function(t){var e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e},t}(),i=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;var a=function(){function t(t,e,n){this.element=t,this.index=e,this.eventTarget=n.eventTarget||t,this.eventName=n.eventName||function(t){var e=t.tagName.toLowerCase();if(e in s)return s[e](t)}(t)||u("missing event name"),this.identifier=n.identifier||u("missing identifier"),this.methodName=n.methodName||u("missing method name")}return t.forToken=function(t){return new this(t.element,t.index,(e=t.content,n=e.trim().match(i)||[],{eventTarget:(r=n[4],"window"==r?window:"document"==r?document:void 0),eventName:n[2],identifier:n[5],methodName:n[7]}));var e,n,r},t.prototype.toString=function(){var t=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+t+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(t.prototype,"eventTargetName",{get:function(){return(t=this.eventTarget)==window?"window":t==document?"document":void 0;var t},enumerable:!0,configurable:!0}),t}(),s={a:function(t){return"click"},button:function(t){return"click"},form:function(t){return"submit"},input:function(t){return"submit"==t.getAttribute("type")?"click":"change"},select:function(t){return"change"},textarea:function(t){return"change"}};function u(t){throw new Error(t)}var c=function(){function t(t,e){this.context=t,this.action=e}return Object.defineProperty(t.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),t.prototype.handleEvent=function(t){this.willBeInvokedByEvent(t)&&this.invokeWithEvent(t)},Object.defineProperty(t.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){var t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),t.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(u){var e={identifier:this.identifier,controller:this.controller,element:this.element,index:this.index,event:t};this.context.handleError(u,'invoking action "'+this.action+'"',e)}},t.prototype.willBeInvokedByEvent=function(t){var e=t.target;return this.element===e||(!(e instanceof Element&&this.element.contains(e))||this.scope.containsElement(e))},Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),t}(),l=function(){function t(t,e){var n=this;this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver(function(t){return n.processMutations(t)})}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started){for(var t=new Set(this.matchElementsInTree()),e=0,n=Array.from(this.elements);e<n.length;e++){var r=n[e];t.has(r)||this.removeElement(r)}for(var o=0,i=Array.from(t);o<i.length;o++){r=i[o];this.addElement(r)}}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,n=t;e<n.length;e++){var r=n[e];this.processMutation(r)}},t.prototype.processMutation=function(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))},t.prototype.processAttributeChange=function(t,e){var n=t;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,e):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},t.prototype.processRemovedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e],o=this.elementFromNode(r);o&&this.processTree(o,this.removeElement)}},t.prototype.processAddedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e],o=this.elementFromNode(r);o&&this.elementIsActive(o)&&this.processTree(o,this.addElement)}},t.prototype.matchElement=function(t){return this.delegate.matchElement(t)},t.prototype.matchElementsInTree=function(t){return void 0===t&&(t=this.element),this.delegate.matchElementsInTree(t)},t.prototype.processTree=function(t,e){for(var n=0,r=this.matchElementsInTree(t);n<r.length;n++){var o=r[n];e.call(this,o)}},t.prototype.elementFromNode=function(t){if(t.nodeType==Node.ELEMENT_NODE)return t},t.prototype.elementIsActive=function(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)},t.prototype.addElement=function(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))},t.prototype.removeElement=function(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))},t}(),f=function(){function t(t,e,n){this.attributeName=e,this.delegate=n,this.elementObserver=new l(t,this)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.elementObserver.start()},t.prototype.stop=function(){this.elementObserver.stop()},t.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(t.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),t.prototype.matchElement=function(t){return t.hasAttribute(this.attributeName)},t.prototype.matchElementsInTree=function(t){var e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector));return e.concat(n)},t.prototype.elementMatched=function(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)},t.prototype.elementUnmatched=function(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)},t.prototype.elementAttributeChanged=function(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)},t}();function h(t,e,n){d(t,e).add(n)}function p(t,e,n){d(t,e).delete(n),function(t,e){var n=t.get(e);null!=n&&0==n.size&&t.delete(e)}(t,e)}function d(t,e){var n=t.get(e);return n||(n=new Set,t.set(e,n)),n}var y,g=function(){function t(){this.valuesByKey=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(t,e){return t.concat(Array.from(e))},[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(t,e){return t+e.size},0)},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){h(this.valuesByKey,t,e)},t.prototype.delete=function(t,e){p(this.valuesByKey,t,e)},t.prototype.has=function(t,e){var n=this.valuesByKey.get(t);return null!=n&&n.has(e)},t.prototype.hasKey=function(t){return this.valuesByKey.has(t)},t.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some(function(e){return e.has(t)})},t.prototype.getValuesForKey=function(t){var e=this.valuesByKey.get(t);return e?Array.from(e):[]},t.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter(function(e){e[0];return e[1].has(t)}).map(function(t){var e=t[0];t[1];return e})},t}(),b=(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=(function(t){function e(){var e=t.call(this)||this;return e.keysByValue=new Map,e}b(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),e.prototype.add=function(e,n){t.prototype.add.call(this,e,n),h(this.keysByValue,n,e)},e.prototype.delete=function(e,n){t.prototype.delete.call(this,e,n),p(this.keysByValue,n,e)},e.prototype.hasValue=function(t){return this.keysByValue.has(t)},e.prototype.getKeysForValue=function(t){var e=this.keysByValue.get(t);return e?Array.from(e):[]}}(g),function(){function t(t,e,n){this.attributeObserver=new f(t,e,this),this.delegate=n,this.tokensByElement=new g}return Object.defineProperty(t.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.attributeObserver.start()},t.prototype.stop=function(){this.attributeObserver.stop()},t.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),t.prototype.elementMatchedAttribute=function(t){this.tokensMatched(this.readTokensForElement(t))},t.prototype.elementAttributeValueChanged=function(t){var e=this.refreshTokensForElement(t),n=e[0],r=e[1];this.tokensUnmatched(n),this.tokensMatched(r)},t.prototype.elementUnmatchedAttribute=function(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))},t.prototype.tokensMatched=function(t){var e=this;t.forEach(function(t){return e.tokenMatched(t)})},t.prototype.tokensUnmatched=function(t){var e=this;t.forEach(function(t){return e.tokenUnmatched(t)})},t.prototype.tokenMatched=function(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)},t.prototype.tokenUnmatched=function(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)},t.prototype.refreshTokensForElement=function(t){var e,n,r,o=this.tokensByElement.getValuesForKey(t),i=this.readTokensForElement(t),a=(e=o,n=i,r=Math.max(e.length,n.length),Array.from({length:r},function(t,r){return[e[r],n[r]]})).findIndex(function(t){var e,n,r=t[0],o=t[1];return n=o,!((e=r)&&n&&e.index==n.index&&e.content==n.content)});return-1==a?[[],[]]:[o.slice(a),i.slice(a)]},t.prototype.readTokensForElement=function(t){var e=this.attributeName;return function(t,e,n){return t.trim().split(/\s+/).filter(function(t){return t.length}).map(function(t,r){return{element:e,attributeName:n,content:t,index:r}})}(t.getAttribute(e)||"",t,e)},t}());var m=function(){function t(t,e,n){this.tokenListObserver=new v(t,e,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(t.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.tokenListObserver.start()},t.prototype.stop=function(){this.tokenListObserver.stop()},t.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),t.prototype.tokenMatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).set(t,n),this.delegate.elementMatchedValue(e,n))},t.prototype.tokenUnmatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,n))},t.prototype.fetchParseResultForToken=function(t){var e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e},t.prototype.fetchValuesByTokenForElement=function(t){var e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e},t.prototype.parseToken=function(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(u){return{error:u}}},t}(),w=function(){function t(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}return t.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new m(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),t.prototype.connectAction=function(t){var e=new c(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)},t.prototype.disconnectAction=function(t){var e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))},t.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach(function(e){return t.delegate.bindingDisconnected(e)}),this.bindingsByAction.clear()},t.prototype.parseValueForToken=function(t){var e=a.forToken(t);if(e.identifier==this.identifier)return e},t.prototype.elementMatchedValue=function(t,e){this.connectAction(e)},t.prototype.elementUnmatchedValue=function(t,e){this.disconnectAction(e)},t}(),O=function(){function t(t,e){this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new w(this,this.dispatcher);try{this.controller.initialize()}catch(u){this.handleError(u,"initializing controller")}}return t.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(u){this.handleError(u,"connecting controller")}},t.prototype.disconnect=function(){try{this.controller.disconnect()}catch(u){this.handleError(u,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(t.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),t.prototype.handleError=function(t,e,n){void 0===n&&(n={});var r=this.identifier,o=this.controller,i=this.element;n=Object.assign({identifier:r,controller:o,element:i},n),this.application.handleError(t,"Error "+e,n)},t}(),k=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var T=function(){function t(t){function e(){var n=this&&this instanceof e?this.constructor:void 0;return Reflect.construct(t,arguments,n)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return(e=t(function(){this.a.call(this)})).prototype.a=function(){},new e,t}catch(u){return function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e}(t)}}var e}(),E=function(){function t(t,e){this.application=t,this.definition=function(t){return{identifier:t.identifier,controllerConstructor:(e=t.controllerConstructor,n=T(e),n.bless(),n)};var e,n}(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),t.prototype.connectContextForScope=function(t){var e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()},t.prototype.disconnectContextForScope=function(t){var e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())},t.prototype.fetchContextForScope=function(t){var e=this.contextsByScope.get(t);return e||(e=new O(this,t),this.contextsByScope.set(t,e)),e},t}(),j=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return t=this.getFormattedKey(t),this.element.getAttribute(t)},t.prototype.set=function(t,e){return t=this.getFormattedKey(t),this.element.setAttribute(t,e),this.get(t)},t.prototype.has=function(t){return t=this.getFormattedKey(t),this.element.hasAttribute(t)},t.prototype.delete=function(t){return!!this.has(t)&&(t=this.getFormattedKey(t),this.element.removeAttribute(t),!0)},t.prototype.getFormattedKey=function(t){return"data-"+this.identifier+"-"+t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},t}();function _(t,e){return"["+t+'~="'+e+'"]'}var S=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return null!=this.find(t)},t.prototype.find=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getSelectorForTargetNames(t);return this.scope.findElement(n)},t.prototype.findAll=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getSelectorForTargetNames(t);return this.scope.findAllElements(n)},t.prototype.getSelectorForTargetNames=function(t){var e=this;return t.map(function(t){return e.getSelectorForTargetName(t)}).join(", ")},t.prototype.getSelectorForTargetName=function(t){var e=this.identifier+"."+t;return _(this.schema.targetAttribute,e)},t}(),x=function(){function t(t,e,n){this.schema=t,this.identifier=e,this.element=n,this.targets=new S(this),this.data=new j(this)}return t.prototype.findElement=function(t){return this.findAllElements(t)[0]},t.prototype.findAllElements=function(t){var e=this.element.matches(t)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(t)));return e.concat(n)},t.prototype.filterElements=function(t){var e=this;return t.filter(function(t){return e.containsElement(t)})},t.prototype.containsElement=function(t){return t.closest(this.controllerSelector)===this.element},Object.defineProperty(t.prototype,"controllerSelector",{get:function(){return _(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0}),t}(),P=function(){function t(t,e,n){this.element=t,this.schema=e,this.delegate=n,this.valueListObserver=new m(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return t.prototype.start=function(){this.valueListObserver.start()},t.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),t.prototype.parseValueForToken=function(t){var e=t.element,n=t.content,r=this.fetchScopesByIdentifierForElement(e),o=r.get(n);return o||(o=new x(this.schema,n,e),r.set(n,o)),o},t.prototype.elementMatchedValue=function(t,e){var n=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,n),1==n&&this.delegate.scopeConnected(e)},t.prototype.elementUnmatchedValue=function(t,e){var n=this.scopeReferenceCounts.get(e);n&&(this.scopeReferenceCounts.set(e,n-1),1==n&&this.delegate.scopeDisconnected(e))},t.prototype.fetchScopesByIdentifierForElement=function(t){var e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e},t}(),L=function(){function t(t){this.application=t,this.scopeObserver=new P(this.element,this.schema,this),this.scopesByIdentifier=new g,this.modulesByIdentifier=new Map}return Object.defineProperty(t.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return this.modules.reduce(function(t,e){return t.concat(e.contexts)},[])},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.scopeObserver.start()},t.prototype.stop=function(){this.scopeObserver.stop()},t.prototype.loadDefinition=function(t){this.unloadIdentifier(t.identifier);var e=new E(this.application,t);this.connectModule(e)},t.prototype.unloadIdentifier=function(t){var e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)},t.prototype.getContextForElementAndIdentifier=function(t,e){var n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find(function(e){return e.element==t})},t.prototype.handleError=function(t,e,n){this.application.handleError(t,e,n)},t.prototype.scopeConnected=function(t){this.scopesByIdentifier.add(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)},t.prototype.scopeDisconnected=function(t){this.scopesByIdentifier.delete(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)},t.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.connectContextForScope(e)})},t.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.disconnectContextForScope(e)})},t}(),A={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},C=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},I=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},M=function(){function t(t,e){void 0===t&&(t=document.documentElement),void 0===e&&(e=A),this.element=t,this.schema=e,this.dispatcher=new o(this),this.router=new L(this)}return t.start=function(e,n){var r=new t(e,n);return r.start(),r},t.prototype.start=function(){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",t):t()})];case 1:return t.sent(),this.router.start(),this.dispatcher.start(),[2]}})})},t.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},t.prototype.register=function(t,e){this.load({identifier:t,controllerConstructor:e})},t.prototype.load=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(Array.isArray(t)?t:[t].concat(n)).forEach(function(t){return e.router.loadDefinition(t)})},t.prototype.unload=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(Array.isArray(t)?t:[t].concat(n)).forEach(function(t){return e.router.unloadIdentifier(t)})},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map(function(t){return t.controller})},enumerable:!0,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(t,e){var n=this.router.getContextForElementAndIdentifier(t,e);return n?n.controller:null},t.prototype.handleError=function(t,e,n){console.error("%s\n\n%o\n\n%o",e,t,n)},t}();function N(t){var e=t.prototype;(function(t){var e=function(t){var e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e}(t);return Array.from(e.reduce(function(t,e){return function(t){var e=t.targets;return Array.isArray(e)?e:[]}(e).forEach(function(e){return t.add(e)}),t},new Set))})(t).forEach(function(t){var n,r,o;return r=e,(n={})[t+"Target"]={get:function(){var e=this.targets.find(t);if(e)return e;throw new Error('Missing target element "'+this.identifier+"."+t+'"')}},n[t+"Targets"]={get:function(){return this.targets.findAll(t)}},n["has"+function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t)+"Target"]={get:function(){return this.targets.has(t)}},o=n,void Object.keys(o).forEach(function(t){if(!(t in r)){var e=o[t];Object.defineProperty(r,t,e)}})})}var F=function(){function t(t){this.context=t}return t.bless=function(){N(this)},Object.defineProperty(t.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){},t.prototype.connect=function(){},t.prototype.disconnect=function(){},t.targets=[],t}();n.d(e,"a",function(){return M}),n.d(e,"b",function(){return F})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(15),o={};n.n(r).a.mixin(o),o=window.UnicefEvents||o},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return f});var r="cart-item:change",o="X-Unicef-Cart-Size",i=500,a="is-loading",s="cart:html:new",u="cart:size:change",c="cart",l="cart:update:done",f="cart:update:start"},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"d",function(){return f}),n.d(e,"j",function(){return h});var r="is-open",o="toggle-content",i="hide-main-content",a="disable-form-elements",s=".js-main-content",u="has-open",c="has-open-",l=new RegExp("^".concat(c,".*$"),"i"),f=".js-focus",h="toggleTarget"},function(t){t.exports={grandIdHints:{alreadyInProgress:"En identifiering eller underskrift f\xf6r det h\xe4r personnumret \xe4r redan p\xe5b\xf6rjad. F\xf6rs\xf6k igen.",cancelled:"\xc5tg\xe4rden avbruten. Fo\u0308rso\u0308k igen.",expiredTransaction:"BankID-appen svarar inte. Kontrollera att den \xe4r startad och att du har internetanslutning. Om du inte har n\xe5got giltigt BankID kan du h\xe4mta ett hos din Bank. F\xf6rs\xf6k sedan igen.",internalError:"Internt tekniskt fel. F\xf6rs\xf6k igen.",userCancel:"A\u030atg\xe4rden avbruten.",userSign:"Skriv in din s\xe4kerhetskod i BankID-appen och v\xe4lj Skriv under."}}},function(t,e,n){var r=n(12),o=n(27),i=n(29),a="Expected a function",s=Math.max,u=Math.min;t.exports=function(t,e,n){var c,l,f,h,p,d,y=0,g=!1,b=!1,v=!0;if("function"!=typeof t)throw new TypeError(a);function m(e){var n=c,r=l;return c=l=void 0,y=e,h=t.apply(r,n)}function w(t){var n=t-d;return void 0===d||n>=e||n<0||b&&t-y>=f}function O(){var t=o();if(w(t))return k(t);p=setTimeout(O,function(t){var n=e-(t-d);return b?u(n,f-(t-y)):n}(t))}function k(t){return p=void 0,v&&c?m(t):(c=l=void 0,h)}function T(){var t=o(),n=w(t);if(c=arguments,l=this,d=t,n){if(void 0===p)return function(t){return y=t,p=setTimeout(O,e),g?m(t):h}(d);if(b)return p=setTimeout(O,e),m(d)}return void 0===p&&(p=setTimeout(O,e)),h}return e=i(e)||0,r(n)&&(g=!!n.leading,f=(b="maxWait"in n)?s(i(n.maxWait)||0,e):f,v="trailing"in n?!!n.trailing:v),T.cancel=function(){void 0!==p&&clearTimeout(p),y=0,c=d=l=p=void 0},T.flush=function(){return void 0===p?h:k(o())},T}},function(t,e,n){"use strict";n.d(e,"b",function(){return y}),n.d(e,"a",function(){return d});var r=n(11),o=n.n(r);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,o)}function s(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e="function"===typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)})(t)}function c(t,e,n){return(c=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h="json",p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=s(this,f(e).call(this,t))).name="PollError",n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,u(Error)),e}();function d(t){var e=t.url,n=void 0===e?null:e,r=t.interval,i=void 0===r?1e3:r,s=t.timeout,u=void 0===s?3e4:s,c=t.responseType,l=void 0===c?h:c,f=t.compareFn,d=void 0===f?function(t){return!!t.ok}:f,y=new Date;return new Promise(function(t,e){function r(t){var n=t.status,r=t.statusText;return e(new p("".concat(n," ").concat(r)))}function s(t){return c.apply(this,arguments)}function c(){var n;return n=o.a.mark(function n(a){var s,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.ok){n.next=2;break}return n.abrupt("return",r(a));case 2:n.t0=l,n.next=n.t0===h?5:(n.t0,15);break;case 5:return n.prev=5,n.next=8,a.json();case 8:s=n.sent,n.next=14;break;case 11:n.prev=11,n.t1=n.catch(5),s={};case 14:return n.abrupt("break",19);case 15:return n.next=17,a.text();case 17:return s=n.sent,n.abrupt("break",19);case 19:if(n.prev=19,!((c=d(a,s))instanceof Error)){n.next=23;break}return n.abrupt("return",e(c));case 23:if(!c){n.next=25;break}return n.abrupt("return",t(s));case 25:n.next=30;break;case 27:return n.prev=27,n.t2=n.catch(19),n.abrupt("return",e(n.t2));case 30:if(!(new Date-y>u)){n.next=32;break}return n.abrupt("return",r({status:408,statusText:"Poll timeout"}));case 32:return window.setTimeout(f,i),n.abrupt("return",!1);case 34:case"end":return n.stop()}},n,null,[[5,11],[19,27]])}),(c=function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function s(t){a(i,r,o,s,u,"next",t)}function u(t){a(i,r,o,s,u,"throw",t)}s(void 0)})}).apply(this,arguments)}function f(){fetch(n,{credentials:"same-origin"}).then(s,r)}f()})}function y(t,e){var n=e.expectedStatus||200;return d(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}({},e,{url:t,compareFn:function(t){return t.status===n}}))}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(1),o=n(2),i="post",a="get",s=new Headers({"X-Requested-With":"XMLHttpRequest"}),u=0;function c(){0===(u-=1)&&r.a.trigger(o.h)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,n=t.body,l=t.method||(n?i:a);1===(u+=1)&&r.a.trigger(o.i);var f=new Promise(function(t,i){fetch(e,{body:n,method:l,headers:s,credentials:"include"}).then(function(e){if(!e.ok)return i(e);var n=e.headers.get(o.b);return e.text().then(function(e){return r.a.trigger(o.f,n),r.a.trigger(o.e,e),t(e)})}).catch(i)});return f.then(c,c),f}},function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.headers,o=i(e,["headers"]);return fetch(t,r({headers:r({"X-Requested-With":"XMLHttpRequest"},n),credentials:"same-origin"},o))}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";var r=void 0!==document.onmspointerup?"change":"input";e.a=r},function(t){t.exports={messages:{invalid:"Ange ett giltigt personummer",toShort:"Ange ditt personummer med 12 siffror (t.ex. 19%value)",toLong:"Ange ett giltigt personummer med 12 siffror (t.ex. 19910101xxxx)"}}},function(t,e,n){t.exports=n(21)},function(t,e){function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(28),i="object"==("undefined"===typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e,n){var r=n(13).Symbol;t.exports=r},function(t,e,n){t.exports=n(24)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t){if(t){var e=function(t){return[].slice.call(t)},n={IDLE:0,DIRTY_CONTENT:1,DIRTY_LAYOUT:2,DIRTY:3},o=[],i=null,a="requestAnimationFrame"in t?function(){t.cancelAnimationFrame(i),i=t.requestAnimationFrame(function(){u(o.filter(function(t){return t.dirty}))})}:function(){},s=function(t){return function(){o.forEach(function(e){e.dirty=t}),a()}},u=function(t){t.filter(function(t){return!t.styleComputed}).forEach(function(t){t.styleComputed=h(t)}),t.filter(p).forEach(d);var e=t.filter(f);e.forEach(l),e.forEach(function(t){d(t),c(t)}),e.forEach(y)},c=function(t){return t.dirty=n.IDLE},l=function(t){t.availableWidth=t.element.parentNode.clientWidth,t.currentWidth=t.element.scrollWidth,t.previousFontSize=t.currentFontSize,t.currentFontSize=Math.min(Math.max(t.minSize,t.availableWidth/t.currentWidth*t.previousFontSize),t.maxSize),t.whiteSpace=t.multiLine&&t.currentFontSize===t.minSize?"normal":"nowrap"},f=function(t){return t.dirty!==n.DIRTY_LAYOUT||t.dirty===n.DIRTY_LAYOUT&&t.element.parentNode.clientWidth!==t.availableWidth},h=function(e){var n=t.getComputedStyle(e.element,null);e.currentFontSize=parseInt(n.getPropertyValue("font-size"),10),e.display=n.getPropertyValue("display"),e.whiteSpace=n.getPropertyValue("white-space")},p=function(t){var e=!1;return!t.preStyleTestCompleted&&(/inline-/.test(t.display)||(e=!0,t.display="inline-block"),"nowrap"!==t.whiteSpace&&(e=!0,t.whiteSpace="nowrap"),t.preStyleTestCompleted=!0,e)},d=function(t){t.originalStyle||(t.originalStyle=t.element.getAttribute("style")||""),t.element.style.cssText=t.originalStyle+";white-space:"+t.whiteSpace+";display:"+t.display+";font-size:"+t.currentFontSize+"px"},y=function(t){t.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:t.previousFontSize,newValue:t.currentFontSize,scaleFactor:t.currentFontSize/t.previousFontSize}}))},g=function(t,e){return function(){t.dirty=e,a()}},b=function(t){t.newbie=!0,t.dirty=!0,o.push(t)},v=function(t){return function(){o=o.filter(function(e){return e.element!==t.element}),t.observeMutations&&t.observer.disconnect(),t.element.style.cssText=t.originalStyle}},m=function(t){t.observeMutations&&(t.observer=new MutationObserver(g(t,n.DIRTY_CONTENT)),t.observer.observe(t.element,t.observeMutations))},w={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in t&&{subtree:!0,childList:!0,characterData:!0}},O=null,k=function(){t.clearTimeout(O),O=t.setTimeout(s(n.DIRTY_LAYOUT),j.observeWindowDelay)},T=["resize","orientationchange"];return Object.defineProperty(j,"observeWindow",{set:function(e){var n=(e?"add":"remove")+"EventListener";T.forEach(function(e){t[n](e,k)})}}),j.observeWindow=!0,j.observeWindowDelay=100,j.fitAll=s(n.DIRTY),j}function E(t,e){var o=r({},w,e),i=t.map(function(t){var e=r({},o,{element:t});return b(e),m(e),{element:t,fit:g(e,n.DIRTY),unsubscribe:v(e)}});return a(),i}function j(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof t?E(e(document.querySelectorAll(t)),n):E([t],n)[0]}}("undefined"===typeof window?null:window)},function(t,e,n){var r,o,i;function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t){return(u="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)})(t)}i=function(){"use strict";var t="undefined"!==typeof window,e=t&&!("onscroll"in window)||"undefined"!==typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,r=t&&"classList"in document.createElement("p"),o={elements_selector:"img",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null},i=function(t,e){return t.getAttribute("data-"+e)},a=function(t,e,n){var r="data-"+e;null!==n?t.setAttribute(r,n):t.removeAttribute(r)},u=function(t){return"true"===i(t,"was-processed")},c=function(t,e){return a(t,"ll-timeout",e)},l=function(t){return i(t,"ll-timeout")},f=function(t,e){var n,r=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(o){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},h=function(t,e){t&&t(e)},p=function(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&h(t._settings.callback_finish)},d=function(t){for(var e,n=[],r=0;e=t.children[r];r+=1)"SOURCE"===e.tagName&&n.push(e);return n},y=function(t,e,n){n&&t.setAttribute(e,n)},g=function(t,e){y(t,"sizes",i(t,e.data_sizes)),y(t,"srcset",i(t,e.data_srcset)),y(t,"src",i(t,e.data_src))},b={IMG:function(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&d(n).forEach(function(t){g(t,e)});g(t,e)},IFRAME:function(t,e){y(t,"src",i(t,e.data_src))},VIDEO:function(t,e){d(t).forEach(function(t){y(t,"src",i(t,e.data_src))}),y(t,"src",i(t,e.data_src)),t.load()}},v=function(t,e){var n,r,o=e._settings,a=t.tagName,s=b[a];if(s)return s(t,o),p(e,1),void(e._elements=(n=e._elements,r=t,n.filter(function(t){return t!==r})));!function(t,e){var n=i(t,e.data_src),r=i(t,e.data_bg);n&&(t.style.backgroundImage='url("'.concat(n,'")')),r&&(t.style.backgroundImage=r)}(t,o)},m=function(t,e){r?t.classList.add(e):t.className+=(t.className?" ":"")+e},w=function(t,e,n){t.addEventListener(e,n)},O=function(t,e,n){t.removeEventListener(e,n)},k=function(t,e,n){O(t,"load",e),O(t,"loadeddata",e),O(t,"error",n)},T=function(t,e,n){var o=n._settings,i=e?o.class_loaded:o.class_error,a=e?o.callback_loaded:o.callback_error,s=t.target;!function(t,e){r?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(s,o.class_loading),m(s,i),h(a,s),p(n,-1)},E=function(t,e){var n=function n(o){T(o,!0,e),k(t,n,r)},r=function r(o){T(o,!1,e),k(t,n,r)};!function(t,e,n){w(t,"load",e),w(t,"loadeddata",e),w(t,"error",n)}(t,n,r)},j=["IMG","IFRAME","VIDEO"],_=function(t,e){var n=e._observer;P(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},S=function(t){var e=l(t);e&&(clearTimeout(e),c(t,null))},x=function(t,e){var n=e._settings.load_delay,r=l(t);r||(r=setTimeout(function(){_(t,e),S(t)},n),c(t,r))},P=function(t,e,n){var r=e._settings;!n&&u(t)||(j.indexOf(t.tagName)>-1&&(E(t,e),m(t,r.class_loading)),v(t,e),function(t){a(t,"was-processed","true")}(t),h(r.callback_reveal,t))},L=function(t){return!!n&&(t._observer=new IntersectionObserver(function(e){e.forEach(function(e){return function(t){return t.isIntersecting||t.intersectionRatio>0}(e)?function(t,e){var n=e._settings;h(n.callback_enter,t),n.load_delay?x(t,e):_(t,e)}(e.target,t):function(t,e){var n=e._settings;h(n.callback_exit,t),n.load_delay&&S(t)}(e.target,t)})},{root:(e=t._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),!0);var e},A=function(t,e){this._settings=function(t){return s({},o,t)}(t),this._loadingCount=0,L(this),this.update(e)};return A.prototype={update:function(t){var n=this,r=this._settings,o=t||r.container.querySelectorAll(r.elements_selector);this._elements=function(t){return t.filter(function(t){return!u(t)})}(Array.prototype.slice.call(o)),!e&&this._observer?this._elements.forEach(function(t){n._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){P(t,this,e)},loadAll:function(){var t=this;this._elements.forEach(function(e){_(e,t)})}},t&&function(t,e){if(e)if(e.length)for(var n,r=0;n=e[r];r+=1)f(t,n);else f(t,e)}(A,window.lazyLoadOptions),A},"object"===u(e)&&"undefined"!==typeof t?t.exports=i():void 0===(o="function"===typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},function(t,e,n){(function(t){function e(t){return(e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n){"use strict";var r,o=Object.prototype,i=o.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l="object"===e(t),f=n.regeneratorRuntime;if(f)l&&(t.exports=f);else{(f=n.regeneratorRuntime=l?t.exports:{}).wrap=O;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={},b={};b[s]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==o&&i.call(m,s)&&(b=m);var w=j.prototype=T.prototype=Object.create(b);E.prototype=w.constructor=j,j.constructor=E,j[c]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},f.awrap=function(t){return{__await:t}},_(S.prototype),S.prototype[u]=function(){return this},f.AsyncIterator=S,f.async=function(t,e,n,r){var o=new S(O(t,e,n,r));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(w),w[c]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=C,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return s.type="throw",s.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),g}}}function O(t,e,n,r){var o=e&&e.prototype instanceof T?e:T,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(t,e,n){var r=h;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=k(t,e,n);if("normal"===u.type){if(r=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=y,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function k(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function T(){}function E(){}function j(){}function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var n;this._invoke=function(r,o){function a(){return new Promise(function(n,a){!function n(r,o,a,s){var u=k(t[r],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===e(l)&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):Promise.resolve(l).then(function(t){c.value=t,a(c)},function(t){return n("throw",t,a,s)})}s(u.arg)}(r,o,n,a)})}return n=n?n.then(a,a):a()}}function x(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,x(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=k(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,g;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,g):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(t){if(t){var e=t[s];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this||"object"===("undefined"===typeof self?"undefined":e(self))&&self}()||Function("return this")())}).call(this,n(22)(t))},function(t,e){function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(o){"object"===("undefined"===typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){!function(){"use strict";!function(t){if(!window.MutationObserver)return void t(!1);var e=document.createElement("div");e.innerHTML="<div><div></div></div>";var n=new MutationObserver(function(e){n.disconnect();var r=e[0];if(r&&"childList"==r.type){var o=r.removedNodes[0],i=0==o.childNodes.length;t(i)}});n.observe(e,{childList:!0,subtree:!0}),e.innerHTML=""}(function(t){t&&function(){var t=HTMLElement.prototype,e=Object.getOwnPropertyDescriptor(t,"innerHTML");if(!e)return;var n=e.set;if(!n)return;Object.defineProperty(t,"innerHTML",{set:function(t){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,t)}})}()})}()},function(t,e,n){function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(){return this||"object"===("undefined"===typeof self?"undefined":r(self))&&self}()||Function("return this")(),i=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,a=i&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,t.exports=n(18),i)o.regeneratorRuntime=a;else try{delete o.regeneratorRuntime}catch(s){o.regeneratorRuntime=void 0}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r={"./bank-id-controller.js":54,"./cart-controller.js":25,"./cart/item_controller.js":26,"./checkbox-toggle-controller.js":35,"./civic-number-input-controller.js":56,"./content-loader-controller.js":36,"./countries-map-controller.js":37,"./fit-text-controller.js":38,"./form-with-stripe-card-input-controller.js":59,"./lazy-load-images-controller.js":39,"./limit-input-length-controller.js":40,"./load-in-modal-controller.js":52,"./loading-image-controller.js":45,"./option-follows-text-input-controller.js":46,"./permanently-dismissable-controller.js":58,"./popup-controller.js":47,"./range-slider-controller.js":48,"./recurring-donations-controller.js":49,"./show-if-user-agent-match-controller.js":50,"./tabs-controller.js":51,"./toggle-content-controller.js":57,"./track-controller.js":55};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=23},function(t,e,n){function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var n=Array.prototype.forEach,o=Object.prototype.hasOwnProperty,i=Array.prototype.slice,a=0;var s,u={keys:Object.keys||function(t){if("object"!==r(t)&&"function"!==typeof t||null===t)throw new TypeError("keys() called on a non-object");var e,n=[];for(e in t)t.hasOwnProperty(e)&&(n[n.length]=e);return n},uniqueId:function(t){var e=++a+"";return t?t+e:e},has:function(t,e){return o.call(t,e)},each:function(t,e,r){if(null!=t)if(n&&t.forEach===n)t.forEach(e,r);else if(t.length===+t.length)for(var o=0,i=t.length;o<i;o++)e.call(r,t[o],o,t);else for(var a in t)this.has(t,a)&&e.call(r,t[a],a,t)},once:function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}}};s={on:function(t,e,n){return l(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!l(this,"once",t,[e,n])||!e)return this;var r=this,o=u.once(function(){r.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,n)},off:function(t,e,n){var r,o,i,a,s,c,f,h;if(!this._events||!l(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(s=0,c=(a=t?[t]:u.keys(this._events)).length;s<c;s++)if(t=a[s],i=this._events[t]){if(this._events[t]=r=[],e||n)for(f=0,h=i.length;f<h;f++)o=i[f],(e&&e!==o.callback&&e!==o.callback._callback||n&&n!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=i.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&f(n,e),r&&f(r,arguments),this},stopListening:function(t,e,n){var o=this._listeners;if(!o)return this;var i=!e&&!n;for(var a in"object"===r(e)&&(n=this),t&&((o={})[t._listenerId]=t),o)o[a].off(e,n,this),i&&delete this._listeners[a];return this}};var c=/\s+/,l=function(t,e,n,o){if(!n)return!0;if("object"===r(n)){for(var i in n)t[e].apply(t,[i,n[i]].concat(o));return!1}if(c.test(n)){for(var a=n.split(c),s=0,u=a.length;s<u;s++)t[e].apply(t,[a[s]].concat(o));return!1}return!0},f=function(t,e){var n,r=-1,o=t.length,i=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<o;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,a);return;case 3:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,a,s);return;default:for(;++r<o;)(n=t[r]).callback.apply(n.ctx,e)}};u.each({listenTo:"on",listenToOnce:"once"},function(t,e){s[e]=function(e,n,o){return(this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=u.uniqueId("l"))]=e,"object"===r(n)&&(o=this),e[t](n,o,this),this}}),s.bind=s.on,s.unbind=s.off,s.mixin=function(t){return u.each(["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"],function(e){t[e]=this[e]},this),t},t.exports&&(e=t.exports=s),e.BackboneEvents=s}()},function(t,e,n){"use strict";n.r(e),n.d(e,"CartController",function(){return h}),n.d(e,"default",function(){return h});var r=n(0),o=n(1),i=n(7),a=n(3),s=n(2);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=c(this,(t=l(e)).call.apply(t,[this].concat(o)))).didLoadHtml=!1,n}var n,h,p;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["b"]),n=e,(h=[{key:"initialize",value:function(){this.onNewHtml=this.onNewHtml.bind(this),this.onToggleContentToggle=this.onToggleContentToggle.bind(this),this.onUpdateDone=this.onUpdateDone.bind(this),this.onUpdateStart=this.onUpdateStart.bind(this)}},{key:"connect",value:function(){this.connectDisconnectEventBuffer("on")}},{key:"disconnect",value:function(){this.connectDisconnectEventBuffer("off")}},{key:"connectDisconnectEventBuffer",value:function(t){o.a[t](s.e,this.onNewHtml),o.a[t](a.c,this.onToggleContentToggle),o.a[t](s.h,this.onUpdateDone),o.a[t](s.i,this.onUpdateStart)}},{key:"onNewHtml",value:function(t){this.didLoadHtml=!0;var e=this.innerTarget.parentNode,n=document.createElement("div");n.innerHTML=t,e.removeChild(this.innerTarget),e.insertBefore(n.firstChild,e.lastChild)}},{key:"onToggleContentToggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=void 0===e?null:e,r=t.active;(void 0===r?null:r)&&n===s.g&&(this.didLoadHtml||this.loadHtml())}},{key:"onUpdateDone",value:function(){this.element.classList.remove(s.d)}},{key:"onUpdateStart",value:function(){this.element.classList.add(s.d)}},{key:"loadHtml",value:function(){this.didLoadHtml=!0,Object(i.a)({url:this.url})}},{key:"url",get:function(){return this.data.get("url")}}])&&u(n.prototype,h),p&&u(n,p),e}();h.targets=["inner"]},function(t,e,n){"use strict";n.r(e),n.d(e,"CartItemController",function(){return p}),n.d(e,"default",function(){return p});var r=n(0),o=n(5),i=n.n(o),a=n(1),s=n(7),u=n(2);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,f(e).apply(this,arguments))}var n,o,p;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,r["b"]),n=e,(o=[{key:"initialize",value:function(){this.onQuantityChanged=i()(this.onQuantityChanged,u.c),this.onUpdateDone=this.onUpdateDone.bind(this),this.onUpdateStart=this.onUpdateStart.bind(this)}},{key:"connect",value:function(){a.a.on(u.h,this.onUpdateDone),a.a.on(u.i,this.onUpdateStart)}},{key:"disconnect",value:function(){a.a.off(u.h,this.onUpdateDone),a.a.off(u.i,this.onUpdateStart)}},{key:"quantityChangeAction",value:function(){this.updateQuantity(this.quantity||1)}},{key:"incrementAction",value:function(t){t&&t.preventDefault(),this.updateQuantity(this.quantity+1)}},{key:"decrementAction",value:function(t){t&&t.preventDefault(),this.updateQuantity(this.quantity-1)}},{key:"removeAction",value:function(t){t&&t.preventDefault(),this.onRemoved()}},{key:"updateQuantity",value:function(t){t<1||(this.quantity=t,this.onQuantityChanged())}},{key:"onQuantityChanged",value:function(){this.sendRequest(this.formData),a.a.trigger(u.a,{id:this.id,name:this.name,price:this.price,quantityChange:this.quantity-this.originalQuantity})}},{key:"onRemoved",value:function(){var t=new FormData;t.append("authenticity_token",this.authenticity_token),t.append("_method","delete"),a.a.trigger(u.a,{id:this.id,name:this.name,price:this.price,quantityChange:-1*this.originalQuantity}),this.sendRequest(t)}},{key:"sendRequest",value:function(t){Object(s.a)({url:this.url,body:t})}},{key:"onUpdateStart",value:function(){this.hasFormTarget&&this.formTarget.classList.add(u.d)}},{key:"onUpdateDone",value:function(){this.hasFormTarget&&this.formTarget.classList.remove(u.d)}},{key:"id",get:function(){return this.data.get("virtual-gift-id")}},{key:"name",get:function(){return this.data.get("name")}},{key:"price",get:function(){return parseInt(this.data.get("price"),10)}},{key:"originalQuantity",get:function(){return parseInt(this.data.get("current-quantity"),10)}},{key:"quantity",get:function(){return parseInt(this.quantityTarget.value||0,10)},set:function(t){delete this.cachedFormData,this.quantityTarget.value=t}},{key:"url",get:function(){return this.formTarget.getAttribute("action")}},{key:"formData",get:function(){return this.cachedFormData||(this.cachedFormData=new FormData(this.formTarget)),this.cachedFormData}},{key:"authenticityToken",get:function(){return this.formData.get("authenticity_token")}}])&&c(n.prototype,o),p&&c(n,p),e}();p.targets=["form","quantity"]},function(t,e,n){var r=n(13);t.exports=function(){return r.Date.now()}},function(t,e,n){(function(e){function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==("undefined"===typeof e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(19))},function(t,e,n){var r=n(12),o=n(30),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?i:+t}},function(t,e,n){function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(31),i=n(34),a="[object Symbol]";t.exports=function(t){return"symbol"==r(t)||i(t)&&o(t)==a}},function(t,e,n){var r=n(14),o=n(32),i=n(33),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(14),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==n(t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"CheckboxToggleController",function(){return c}),n.d(e,"default",function(){return c});var r=n(0),o=n(1);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=a(this,(t=s(e)).call.apply(t,[this].concat(o)))).checkedState=!1,n}var n,c,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["b"]),n=e,(c=[{key:"initialize",value:function(){this.onToggled=this.onToggled.bind(this)}},{key:"connect",value:function(){this.isCheckbox&&(this.checkedState=!!this.element.checked,this.eventName&&o.a.on(this.eventName,this.onToggled))}},{key:"disconnect",value:function(){this.eventName&&o.a.off(this.eventName,this.onToggled)}},{key:"checkAction",value:function(){this.toggle(!0)}},{key:"uncheckAction",value:function(){this.toggle(!1)}},{key:"toggleAction",value:function(){this.toggle()}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.checkedState;this.eventName?o.a.trigger(this.eventName,t):this.onToggled(t)}},{key:"onToggled",value:function(t){this.isCheckbox&&(this.element.checked=t),this.checkedState=t}},{key:"id",get:function(){return this.data.get("id")||void 0}},{key:"eventName",get:function(){return this.id?"".concat("checkbox-toggle:").concat(this.id):void 0}},{key:"isCheckbox",get:function(){return"undefined"!==typeof this.element.checked}}])&&i(n.prototype,c),l&&i(n,l),e}()},function(t,e,n){"use strict";n.r(e),n.d(e,"ContentLoaderController",function(){return c}),n.d(e,"default",function(){return c});var r=n(0),o=n(8);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}var n,c,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["b"]),n=e,(c=[{key:"connect",value:function(){this.url=this.data.get("url"),this.load()}},{key:"load",value:function(){Object(o.a)(this.url).then(function(t){if(!t.ok)throw new Error("".concat(t.status," (").concat(t.statusText,")"));return t.text()}).then(this.onResponseHTML.bind(this)).catch(this.onFetchError.bind(this))}},{key:"onResponseHTML",value:function(t){this.element.innerHTML=t}},{key:"onFetchError",value:function(t){console&&console.error&&console.error(t)}}])&&i(n.prototype,c),l&&i(n,l),e}()},function(t,e,n){"use strict";n.r(e),n.d(e,"CountriesMapController",function(){return d}),n.d(e,"default",function(){return d});var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u={mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},c={center:[40,0],zoom:2},l=[{featureType:"landscape",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",stylers:[{visibility:"on"},{color:"#d1eafa"}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}],f={fillColor:"#00aeef",fillOpacity:1,strokeWeight:0},h={fillColor:"#003860",fillOpacity:1,strokeWeight:0},p=!1;window.dispatchGoogleMapsLoadEvent=function(){var t=new CustomEvent("google-maps-load");window.dispatchEvent(t)};var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,d,y;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["b"]),n=e,(d=[{key:"initialize",value:function(){p||(this.loadGoogleMaps(),p=!0)}},{key:"connect",value:function(){var t=this.element.getAttribute("data-options")||"{}",e=this.element.getAttribute("data-styles");this.map=null,this.countries=JSON.parse(this.element.getAttribute("data-countries")),this.options=Object.assign({},c,JSON.parse(t)),this.styles=e?JSON.parse(e):null,this.onGoogleMapsLoad=this.onGoogleMapsLoad.bind(this),this.highlightedCountry=null,window.addEventListener("google-maps-load",this.onGoogleMapsLoad,!1)}},{key:"loadGoogleMaps",value:function(){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyCaqDOtNI6QiYoh0w3qL8qwm-EY54aEyeU","&v=3&callback=").concat("dispatchGoogleMapsLoadEvent"),document.body.appendChild(t)}},{key:"onGoogleMapsLoad",value:function(){var t=JSON.parse(JSON.stringify(l));this.styles&&this.styles.landscape&&(t.find(function(t){return"landscape.natural"===t.featureType}).stylers[1].color=this.styles.landscape),this.styles&&this.styles.water&&(t.find(function(t){return"water"===t.featureType&&!t.elementType}).stylers[0].color=this.styles.water),this.options.center=new window.google.maps.LatLng(this.options.center[0],this.options.center[1]),this.map=new window.google.maps.Map(this.mapTarget,Object.assign({},u,this.options)),this.map.mapTypes.set("simple",new window.google.maps.StyledMapType(t,{map:this.map})),this.map.setMapTypeId("simple"),this.setupMapData(),this.hasCountriesTarget&&(this.setupMapEventListeners(),this.setupCountryNameListeners())}},{key:"setupMapData",value:function(){var t=Object.assign({},f);this.styles&&(t.fillColor=this.styles.country),this.map.data.addGeoJson(this.countries),this.map.data.setStyle(function(){return t})}},{key:"setupMapEventListeners",value:function(){var t=this,e=Object.assign({},h);this.styles&&(e.fillColor=this.styles.highlighted),this.map.data.addListener("mouseover",function(n){var r=n.feature.getId();t.map.data.overrideStyle(n.feature,e),t.highlightCountryName(r)}),this.map.data.addListener("mouseout",function(e){t.map.data.revertStyle(e.feature),t.removeCountryNameHighlights()})}},{key:"highlightCountryName",value:function(t){this.countryTargets.find(function(e){return parseInt(e.getAttribute("data-id"),10)===t}).classList.add("is-highlighted")}},{key:"removeCountryNameHighlights",value:function(){this.countryTargets.forEach(function(t){t.classList.remove("is-highlighted")})}},{key:"setupCountryNameListeners",value:function(){var t=this,e=Object.assign({},h);this.styles&&(e.fillColor=this.styles.highlighted),this.countriesTarget.addEventListener("mouseover",function(n){var r=n.target.getAttribute("data-id");if(r){n.target.classList.add("is-highlighted");var o=t.map.data.getFeatureById(r);t.map.data.overrideStyle(o,e)}}),this.countriesTarget.addEventListener("mouseout",function(e){var n=e.target.getAttribute("data-id");if(n){e.target.classList.remove("is-highlighted");var r=t.map.data.getFeatureById(n);t.map.data.revertStyle(r)}})}}])&&o(n.prototype,d),y&&o(n,y),e}();d.targets=["map","countries","country"]},function(t,e,n){"use strict";n.r(e),n.d(e,"FitTextController",function(){return f}),n.d(e,"default",function(){return f});var r=n(0),o=n(16),i=n.n(o);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l={minSize:12},f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}var n,o,f;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["b"]),n=e,(o=[{key:"initialize",value:function(){this.render=this.render.bind(this),this.render()}},{key:"connect",value:function(){window.addEventListener("load",this.render,!1)}},{key:"disconnect",value:function(){window.removeEventListener("load",this.render,!1)}},{key:"render",value:function(){i()(this.element,l)}}])&&a(n.prototype,o),f&&a(n,f),e}()},function(t,e,n){"use strict";n.r(e),n.d(e,"LazyLoadImagesController",function(){return f}),n.d(e,"default",function(){return f});var r=n(0),o=n(17),i=n.n(o);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=new CustomEvent("lazy-load-image-load"),f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}var n,o,f;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["b"]),n=e,(o=[{key:"connect",value:function(){this.loader=new i.a({elements_selector:".js-lazy-load-image",callback_loaded:function(){window.dispatchEvent(l)}})}}])&&a(n.prototype,o),f&&a(n,f),e}()},function(t,e,n){"use strict";n.r(e),n.d(e,"LimitInputLengthController",function(){return c}),n.d(e,"default",function(){return c});var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46],c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,c,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["b"]),n=e,(c=[{key:"connect",value:function(){this.maxChars=parseInt(this.data.get("max-chars"),10),this.maxRows=parseInt(this.data.get("max-rows"),10)||1/0,this.onInput=this.onInput.bind(this),this.setupEventListeners(),this.updateRemainingChars()}},{key:"setupEventListeners",value:function(){this.inputTarget.addEventListener("keydown",this.onInput),this.inputTarget.addEventListener("keyup",this.onInput),this.inputTarget.addEventListener("change",this.onInput)}},{key:"onInput",value:function(t){var e=this.inputTarget.value.length,n=this.inputTarget.value.split(/\n/g).length;u.includes(t.keyCode)||t.metaKey||e>=this.maxChars&&(this.inputTarget.value=this.inputTarget.value.substring(0,this.maxChars),t.preventDefault()),this.maxRows&&13===t.keyCode&&n>=this.maxRows&&t.preventDefault(),this.updateRemainingChars()}},{key:"updateRemainingChars",value:function(){var t=this.inputTarget.value.length,e=this.maxChars-t;this.remainingCharsTarget.innerHTML="".concat(e," tecken kvar."),e<=10&&!this.remainingCharsTarget.classList.contains("u-colorNegative")?this.remainingCharsTarget.classList.add("u-colorNegative"):e>10&&this.remainingCharsTarget.classList.contains("u-colorNegative")&&this.remainingCharsTarget.classList.remove("u-colorNegative")}}])&&o(n.prototype,c),l&&o(n,l),e}();c.targets=["input","remainingChars"]},function(t,e,n){(function(t){function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])g(s)||!O(s)?a+=" "+s:a+=" "+u(s);return a},e.deprecate=function(n,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return n;if("undefined"===typeof t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var a,s={};function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,t,r.depth)}function c(t,e){var n=u.styles[e];return n?"\x1b["+u.colors[n][0]+"m"+t+"\x1b["+u.colors[n][1]+"m":t}function l(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=f(t,o,r)),o}var i=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(b(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return h(n)}var c,l="",O=!1,j=["{","}"];(d(n)&&(O=!0,j=["[","]"]),E(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(l=" "+RegExp.prototype.toString.call(n)),k(n)&&(l=" "+Date.prototype.toUTCString.call(n)),T(n)&&(l=" "+h(n)),0!==a.length||O&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=O?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)x(e,String(a))?i.push(p(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}(t,n,r,s,a):a.map(function(e){return p(t,n,r,s,e,O)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,l,j)):j[0]+l+j[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),x(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(n)?f(t,u.value,null):f(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),m(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function y(t){return"boolean"===typeof t}function g(t){return null===t}function b(t){return"number"===typeof t}function v(t){return"string"===typeof t}function m(t){return void 0===t}function w(t){return O(t)&&"[object RegExp]"===j(t)}function O(t){return"object"===r(t)&&null!==t}function k(t){return O(t)&&"[object Date]"===j(t)}function T(t){return O(t)&&("[object Error]"===j(t)||t instanceof Error)}function E(t){return"function"===typeof t}function j(t){return Object.prototype.toString.call(t)}function _(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(m(a)&&(a=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=y,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=b,e.isString=v,e.isSymbol=function(t){return"symbol"===r(t)},e.isUndefined=m,e.isRegExp=w,e.isObject=O,e.isDate=k,e.isError=T,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===r(t)||"undefined"===typeof t},e.isBuffer=n(43);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[_(t.getHours()),_(t.getMinutes()),_(t.getSeconds())].join(":"),[t.getDate(),S[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(44),e._extend=function(t,e){if(!e||!O(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var P="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!==typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(a){n(a)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=P,e.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!==typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(L,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,o(e)),n}}).call(this,n(42))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t&&"object"===n(t)&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e),n.d(e,"LoadingImageController",function(){return u}),n.d(e,"default",function(){return u});var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,u,c;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["b"]),n=e,(u=[{key:"connect",value:function(){this.onImageLoad=this.onImageLoad.bind(this),this.onImageError=this.onImageError.bind(this),this.setupEventListeners()}},{key:"setupEventListeners",value:function(){this.imageTarget.complete?this.imageTarget.naturalWidth?this.onImageLoad():this.onImageError():(this.imageTarget.addEventListener("load",this.onImageLoad),this.imageTarget.addEventListener("error",this.onImageError))}},{key:"onImageLoad",value:function(){this.loaderTarget.classList.add("is-hidden"),this.imageTarget.classList.remove("is-hidden"),this.errorTarget.classList.add("is-hidden")}},{key:"onImageError",value:function(){this.loaderTarget.classList.add("is-hidden"),this.imageTarget.classList.add("is-hidden"),this.errorTarget.classList.remove("is-hidden")}}])&&o(n.prototype,u),c&&o(n,c),e}();u.targets=["loader","image","error"]},function(t,e,n){"use strict";n.r(e),n.d(e,"OptionFollowsTextInput",function(){return u}),n.d(e,"default",function(){return u});var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=i(this,(t=a(e)).call.apply(t,[this].concat(o)))).checkedState=!1,n}var n,u,c;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["b"]),n=e,(u=[{key:"initialize",value:function(){this.onOptionToggle=this.onOptionToggle.bind(this),this.onTextChange=this.onTextChange.bind(this)}},{key:"connect",value:function(){this.optionTarget&&this.optionTarget.addEventListener("change",this.onOptionToggle,!0),this.textTarget&&this.textTarget.addEventListener("keyup",this.onTextChange,!0),this.setValue()}},{key:"disconnect",value:function(){this.optionTarget&&this.optionTarget.removeEventListener("change",this.onOptionToggle,!0),this.textTarget&&this.textTarget.removeEventListener("keyup",this.onTextChange,!0)}},{key:"onOptionToggle",value:function(){this.toggle(this.optionTarget.checked)}},{key:"onTextChange",value:function(){this.setValue(),this.toggle(!0)}},{key:"setValue",value:function(){this.optionTarget&&this.textTarget&&(this.optionTarget.value=this.textTarget.value)}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.checkedState;this.onToggled(t),this.setValue()}},{key:"onToggled",value:function(t){this.optionTarget&&(this.optionTarget.checked=t),t&&this.textTarget&&window.document.activeElement!==this.textTarget&&this.textTarget.select()}}])&&o(n.prototype,u),c&&o(n,c),e}();u.targets=["option","text"]},function(t,e,n){"use strict";n.r(e),n.d(e,"PopupController",function(){return u}),n.d(e,"default",function(){return u});var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,u,c;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["b"]),n=e,(u=[{key:"initialize",value:function(){this.onLinkClick=this.onLinkClick.bind(this)}},{key:"connect",value:function(){this.width=parseInt(this.data.get("width"),10)||560,this.height=parseInt(this.data.get("height"),10)||500,this.element.addEventListener("click",this.onLinkClick,!1)}},{key:"onLinkClick",value:function(t){var e=Math.round(window.innerWidth/2-this.width/2),n=Math.round(window.innerHeight/2-this.height/2),r=["width=".concat(this.width),"height=".concat(this.height),"resizable=yes","top=".concat(n),"left=".concat(e)].join(",");t.preventDefault(),window.open(this.element.href,"",r)}}])&&o(n.prototype,u),c&&o(n,c),e}()},function(t,e,n){"use strict";n.r(e),n.d(e,"RangeSliderController",function(){return c}),n.d(e,"default",function(){return c});var r=n(0),o=n(9);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}var n,c,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["b"]),n=e,(c=[{key:"connect",value:function(){var t=this.element.getAttribute("data-range-slider-on-change-event-name")||"range-slider-change",e=this.element.getAttribute("data-range-slider-custom-values"),n=e?e.split(","):null;this.inputTarget.addEventListener(o.a,function(e){var r=parseInt(e.target.value,10),o=null,i=null;n&&(i=n[r].split(":"),o={value:parseInt(i[0],10),valueOutput:parseInt(i[1],10)});var a=new CustomEvent(t,{detail:{value:r,customValues:o}});window.dispatchEvent(a)})}}])&&i(n.prototype,c),l&&i(n,l),e}();c.targets=["input"]},function(t,e,n){"use strict";n.r(e),n.d(e,"RecurringDonationsController",function(){return l}),n.d(e,"default",function(){return l});var r=n(0),o=n(9);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=new CustomEvent(o.a),l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}var n,o,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["b"]),n=e,(o=[{key:"initialize",value:function(){this.onSliderChange=this.onSliderChange.bind(this),this.setTrackLabel()}},{key:"connect",value:function(){window.addEventListener("range-slider-change",this.onSliderChange,!1)}},{key:"onSliderChange",value:function(t){var e=this,n=this.rangeSliderTargets.filter(function(t){return e.isHidden(t)}),r=t.detail.customValues.valueOutput;this.amountInputTarget.value=r,this.amountTargets.forEach(function(t){t.innerHTML=r}),this.setNumberOfChildren(t.detail.customValues.value),this.setHiddenSliders(n,t.detail.value),this.setTrackLabel()}},{key:"productChange",value:function(t){this.showProduct(t.target.value),this.setTrackLabel()}},{key:"showProduct",value:function(t){var e=this.productTargets.filter(function(e){return e.getAttribute("data-product-id")===t})[0];this.productTargets.forEach(function(t){t.classList.add("is-hidden")}),e.classList.remove("is-hidden"),e.querySelector("input").dispatchEvent(c)}},{key:"setHiddenSliders",value:function(t,e){t.forEach(function(t){t.querySelector("input").value=e})}},{key:"setNumberOfChildren",value:function(t){this.childrenTargets.forEach(function(e){e.innerHTML=t})}},{key:"setTrackLabel",value:function(){var t=this.productInputTargets.find(function(t){return t.checked}).getAttribute("data-product-name"),e=this.amountInputTarget.value;this.element.setAttribute("data-track-label","".concat(t,"+").concat(e))}},{key:"isHidden",value:function(t){return null===t.offsetParent}}])&&i(n.prototype,o),l&&i(n,l),e}();l.targets=["children","amount","amountInput","product","productInput","rangeSlider"]},function(t,e,n){"use strict";n.r(e),n.d(e,"ShowIfUserAgentControllerMatchController",function(){return u}),n.d(e,"default",function(){return u});var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,u,c;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["b"]),n=e,(u=[{key:"connect",value:function(){var t=this.data.get("pattern"),e=new RegExp(t,"i");navigator.userAgent.match(e)&&this.onMatch()}},{key:"onMatch",value:function(){this.element.classList.remove("is-hidden")}}])&&o(n.prototype,u),c&&o(n,c),e}()},function(t,e,n){"use strict";n.r(e),n.d(e,"TabsController",function(){return c}),n.d(e,"default",function(){return c});var r=n(0);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}var n,c,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["b"]),n=e,(c=[{key:"connect",value:function(){this.onHashChange=this.onHashChange.bind(this),this.removePanelIds(),this.setupEventListeners(),this.openTabFromLocationHash()}},{key:"onHashChange",value:function(){this.openTabFromLocationHash()}},{key:"removePanelIds",value:function(){this.panelTargets.forEach(function(t){t.removeAttribute("id")})}},{key:"setupEventListeners",value:function(){window.addEventListener("hashchange",this.onHashChange)}},{key:"openTabFromLocationHash",value:function(){var t,e=window.location.hash.replace(/^#/,"");e?t=this.tabTargets.find(function(t){return t.querySelector("a").href.split("#")[1]===e}):t=o(this.tabTargets,1)[0];t&&!t.classList.contains("is-current")&&this.openTab(t)}},{key:"resetTabs",value:function(){this.tabTargets.forEach(function(t){t.classList.remove("is-current")})}},{key:"setCurrentTab",value:function(t){t.classList.add("is-current")}},{key:"resetPanels",value:function(){this.panelTargets.forEach(function(t){t.classList.add("is-hidden")})}},{key:"setCurrentPanel",value:function(t){t.classList.remove("is-hidden")}},{key:"openTab",value:function(t){var e=this.tabTargets.indexOf(t),n=this.panelTargets[e];this.resetTabs(),this.setCurrentTab(t),this.resetPanels(),this.setCurrentPanel(n)}}])&&i(n.prototype,c),l&&i(n,l),e}();c.targets=["tab","panel"]},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1),i=[!1,0,"0","f","F","false","FALSE","off","OFF"];function a(t){return-1===i.indexOf(t)&&!!t}var s,u,c=n(8),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=(s=["",""],u=["",""],Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(u)}})));var h=function(){function t(){for(var e=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return"function"===typeof t?e.interimTag.bind(e,t):"string"===typeof t?e.transformEndResult(t):(t=t.map(e.transformString.bind(e)),e.transformEndResult(t.reduce(e.processSubstitutions.bind(e,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map(function(t){return"function"===typeof t?t():t}),this.tag}return l(t,[{key:"interimTag",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.tag(f,t.apply(void 0,[e].concat(r)))}},{key:"processSubstitutions",value:function(t,e,n){var r=this.transformSubstitution(t.shift(),e);return"".concat(e,r,n)}},{key:"transformString",value:function(t){return this.transformers.reduce(function(t,e){return e.onString?e.onString(t):t},t)}},{key:"transformSubstitution",value:function(t,e){return this.transformers.reduce(function(t,n){return n.onSubstitution?n.onSubstitution(t,e):t},t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce(function(t,e){return e.onEndResult?e.onEndResult(t):t},t)}}]),t}(),p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(e){if(""===t)return e.trim();if("start"===(t=t.toLowerCase())||"left"===t)return e.replace(/^\s*/,"");if("end"===t||"right"===t)return e.replace(/\s*$/,"");throw new Error("Side not supported: "+t)}}};var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(e){if("initial"===t){var n=e.match(/^[^\S\n]*(?=\S)/gm),r=n&&Math.min.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.map(function(t){return t.length})));if(r){var o=new RegExp("^.{"+r+"}","gm");return e.replace(o,"")}return e}if("all"===t)return e.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+t)}}},y=function(t,e){return{onEndResult:function(n){if(null==t||null==e)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(t,e)}}},g=function(t,e){return{onSubstitution:function(n,r){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(t,e)}}},b={separator:"",conjunction:"",serial:!1},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return{onSubstitution:function(e,n){if(Array.isArray(e)){var r=e.length,o=t.separator,i=t.conjunction,a=t.serial,s=n.match(/(\n?[^\S\n]+)$/);if(e=s?e.join(o+s[1]):e.join(o+" "),i&&r>1){var u=e.lastIndexOf(o);e=e.slice(0,u)+(a?o:"")+" "+i+e.slice(u+1)}}return e}}},m=function(t){return{onSubstitution:function(e,n){if(null==t||"string"!==typeof t)throw new Error("You need to specify a string character to split by.");return"string"===typeof e&&e.includes(t)&&(e=e.split(t)),e}}},w=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!==typeof t},O=function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(w):w(t)?t:""}}},k=(new h(v({separator:","}),d,p),new h(v({separator:",",conjunction:"and"}),d,p),new h(v({separator:",",conjunction:"or"}),d,p),new h(m("\n"),O,v,d,p));new h(m("\n"),v,d,p,g(/&/g,"&amp;"),g(/</g,"&lt;"),g(/>/g,"&gt;"),g(/"/g,"&quot;"),g(/'/g,"&#x27;"),g(/`/g,"&#x60;")),new h(y(/(?:\n(?:\s*))+/g," "),p),new h(y(/(?:\n\s*)/g,""),p),new h(v({separator:","}),y(/(?:\s+)/g," "),p),new h(v({separator:",",conjunction:"or"}),y(/(?:\s+)/g," "),p),new h(v({separator:",",conjunction:"and"}),y(/(?:\s+)/g," "),p),new h(v,d,p),new h(v,y(/(?:\s+)/g," "),p),new h(d,p),new h(d("all"),p);function T(){var t=x(['\n    <div class="Modal-contentInner ','">\n      ',"\n\n      ","\n    </div>\n\n    ","\n    ","\n  "]);return T=function(){return t},t}function E(){var t=x(['\n    <div class="Modal-image">\n      ',"\n    </div>\n  "]);return E=function(){return t},t}function j(){var t=x(['\n    <div class="Modal-footer" data-controller="checkbox-toggle"','>\n      <button class="Modal-footerButton Button" data-action="checkbox-toggle#checkAction" data-dismiss="modal">',"</button>\n      ","\n    </div>\n  "]);return j=function(){return t},t}function _(){var t=x(['\n    <div class="Modal-footer" data-controller="permanently-dismissable"','>\n      <button class="Modal-footerButton Button" data-action="permanently-dismissable#dismiss" data-dismiss="modal">',"</button>\n      ","\n    </div>\n  "]);return _=function(){return t},t}function S(){var t=x(['\n    <span class="Modal-footerAlternateActions">\n      eller\n      <a href="#" data-dismiss="modal">avbryt</a>\n    </span>\n  ']);return S=function(){return t},t}function x(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var P="Ok";function L(){return k(S())}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.closable,r=void 0===n||n,o=e.classes,i=void 0===o?null:o,a=e.dismissable,s=void 0!==a&&a,u=e.checkboxToggle,c=void 0!==u&&u,l=e.dismissableId,f=void 0===l?null:l,h=e.dismissableButtonText,p=void 0===h?P:h,d=e.checkboxToggleId,y=void 0===d?null:d,g=e.checkboxToggleButtonText,b=void 0===g?P:g,v=e.cancelable,m=void 0===v||v,w=(i||[]).join(" ");return k(T(),w,r?'<button class="Modal-close" data-dismiss="modal">St\xe4ng</button>':"",t,s?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=void 0===e?null:e,r=t.buttonText,o=void 0===r?P:r,i=t.cancelable,a=void 0===i||i;return k(_(),n?' data-permanently-dismissable-id="'.concat(n,'"'):"",o,a?L():"")}({id:f,buttonText:p,cancelable:m}):"",c?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=void 0===e?null:e,r=t.buttonText,o=void 0===r?P:r,i=t.cancelable,a=void 0===i||i;return k(j(),n?' data-checkbox-toggle-id="'.concat(n,'"'):"",o,a?L():"")}({id:y,buttonText:b,cancelable:m}):"")}n(41);function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"LoadInModalController",function(){return R}),n.d(e,"default",function(){return R});var R=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,N(e).apply(this,arguments))}var n,i,s;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,r["b"]),n=e,(i=[{key:"initialize",value:function(){this.onLoadedEvent=this.onLoadedEvent.bind(this)}},{key:"openAction",value:function(t){switch(t.preventDefault(),this.setLoadingState(),this.type){case"image":this.fetchImage();break;case"html":default:this.fetchHTML()}}},{key:"fetchImage",value:function(){var t=document.createElement("img");t.addEventListener("load",this.onResponseImage.bind(this,t)),t.addEventListener("error",this.onFetchError.bind(this)),t.setAttribute("src",this.url)}},{key:"fetchHTML",value:function(){Object(c.a)(this.url).then(function(t){if(!t.ok)throw new Error("".concat(t.status," (").concat(t.statusText,")"));return t.text()}).then(this.onResponseHTML.bind(this)).catch(this.onFetchError.bind(this))}},{key:"onResponseImage",value:function(t){this.setModalHTML(this.generateModalHTML(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return k(E(),t)}(t.outerHTML))),this.unsetLoadingState()}},{key:"onResponseHTML",value:function(t){var e=document.createElement("div");e.innerHTML=t;var n=e.querySelector(this.contentSelector);if(!n)throw new Error("Element not found: ".concat(this.contentSelector));this.setModalHTML(this.generateModalHTML(n.outerHTML)),this.useExplicitLoadedEvent?o.a.on("load-in-modal-content-loaded",this.onLoadedEvent):this.unsetLoadingState()}},{key:"generateModalHTML",value:function(t){return A(t,{dismissable:this.dismissable,checkboxToggle:this.checkboxToggle,closable:this.closable,dismissableId:this.dismissableId,dismissableButtonText:this.dismissableButtonText,checkboxToggleId:this.checkboxToggleId,checkboxToggleButtonText:this.checkboxToggleButtonText,cancelable:this.cancelable})}},{key:"setModalHTML",value:function(t){this.modalInnerElement.innerHTML=t,[].forEach.call(this.modalInnerElement.querySelectorAll("script"),function(t){var e=t.getAttribute("src"),n=document.createElement("script");e?n.setAttribute("src",e):n.textContent=t.innerText,t.parentNode.replaceChild(n,t)}),this.modal.show()}},{key:"setLoadingState",value:function(){var t=this._loaderMarkup;t||(t=A(null,{closable:!1}),this._loaderMarkup=t),this.modal.setLoadingState(),this.setModalHTML(t)}},{key:"unsetLoadingState",value:function(){this.modal.unsetLoadingState()}},{key:"onFetchError",value:function(t){var e=this;this.modal.hide(function(){e.unsetLoadingState()}),console&&console.error&&console.error(t)}},{key:"onModalHidden",value:function(){delete this._modal}},{key:"onLoadedEvent",value:function(){this.modal.unsetLoadingState(),o.a.off("load-in-modal-content-loaded",this.onLoadedEvent)}},{key:"type",get:function(){return this.data.get("type")||"html"}},{key:"addSuffix",get:function(){if("html"!==this.type)return!1;var t=this.data.get("add-suffix");return"string"===typeof t&&!1!==a(t)?t:null===t}},{key:"url",get:function(){var t=this.data.get("href")||this.element.getAttribute("href"),e=C(t.split("?"),2),n=e[0],r=e[1],o=this.addSuffix,i="string"===typeof o?o:".minimal";return o&&t.substr(-i.length)!==i?"".concat(n).concat(i).concat(r?"?".concat(r):""):t}},{key:"closable",get:function(){return a(this.data.get("closable")||!0)}},{key:"dismissable",get:function(){return!!(a(this.data.get("dismissable"))||this.dismissableId||this.dismissableButtonText)}},{key:"checkboxToggle",get:function(){return!(!a(this.data.get("checkbox-toggle"))&&!this.checkboxToggleId)}},{key:"cancelable",get:function(){var t=this.data.get("cancelable")||!0;return(this.dismissable||this.checkboxToggle)&&a(t)}},{key:"dismissableId",get:function(){return this.data.get("dismissable-id")}},{key:"dismissableButtonText",get:function(){return this.data.get("dismissable-button-text")}},{key:"checkboxToggleId",get:function(){return this.data.get("checkbox-toggle-id")}},{key:"checkboxToggleButtonText",get:function(){return this.data.get("checkbox-toggle-button-text")}},{key:"contentSelector",get:function(){return this.data.get("content-selector")||"main"}},{key:"useExplicitLoadedEvent",get:function(){return a(this.data.get("explicit-loaded-event")||!1)}},{key:"modal",get:function(){var t=this._modal;return t||(t=new Modal("",{onHidden:this.onModalHidden.bind(this)},{uiVersion:2}),this._modal=t),t}},{key:"modalElement",get:function(){var t=this.modal;return t.element.jquery?t.element.get(0):t.element}},{key:"modalInnerElement",get:function(){var t=this.modal;return t.inner_element.jquery?t.inner_element.get(0):t.inner_element}}])&&I(n.prototype,i),s&&I(n,s),e}()},function(t,e,n){"use strict";n.r(e);var r={};function o(t){return t.keys().map(function(e){return function(t,e){var n=function(t){var e=(t.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}(e);if(n)return function(t,e){var n=t.default;if("function"==typeof n)return{identifier:e,controllerConstructor:n}}(t(e),n)}(t,e)}).filter(function(t){return t})}n.r(r),n.d(r,"poll",function(){return _.b});var i=n(0);function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.a.call.apply(i.a,[this].concat(e))}a.prototype=Object.create(i.a.prototype),a.prototype.constructor=a,a.prototype.handleError=function(t,e,n){e&&-1!==e.indexOf("Error parsing descriptor string")?console.warn("%s\n%s","Non-Stimulus markup inside controller",t&&t.message?t.message:e):i.a.prototype.handleError.call(this,t,e,n)},a.start=function(t,e){var n=new a(t,e);return n.start(),n};n(20);var s={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(s.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!==typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function g(t){var e=new FileReader,n=y(e);return e.readAsArrayBuffer(t),n}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:s.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s.arrayBuffer&&s.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=y(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=l(t),e=f(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[l(t)]},p.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},p.prototype.set=function(t,e){this.map[l(t)]=f(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),h(t)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),h(t)},p.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),h(t)},s.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,o=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function O(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},v.call(w.prototype),v.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var T=[301,302,303,307,308];k.redirect=function(t,e){if(-1===T.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})};var E=self.DOMException;try{new E}catch(S){(E=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function j(t,e){return new Promise(function(n,r){var o=new w(t,e);if(o.signal&&o.signal.aborted)return r(new E("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var t,e,r={status:i.status,statusText:i.statusText,headers:(t=i.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e)};r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;n(new k(o,r))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.onabort=function(){r(new E("Aborted","AbortError"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&s.blob&&(i.responseType="blob"),o.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})}j.polyfill=!0,self.fetch||(self.fetch=j,self.Headers=p,self.Request=w,self.Response=k);var _=n(6);!function(){var t;for(t in window.Unicef=window.Unicef||{},r)Object.prototype.hasOwnProperty.call(r,t)&&(window.Unicef[t]=r[t])}(),Promise.all([new Promise(function(t){return"closest"in Element.prototype?t():n.e(2).then(n.bind(null,303)).then(t)}),new Promise(function(t){return"FormData"in window&&"get"in window.FormData.prototype?t():n.e(3).then(n.t.bind(null,304,7)).then(t)}),new Promise(function(t){return"function"===typeof window.CustomEvent?t():n.e(1).then(n.t.bind(null,305,7)).then(t)}),new Promise(function(t){return"IntersectionObserver"in window?t():n.e(4).then(n.t.bind(null,306,7)).then(t)}),new Promise(function(t){return"classList"in document.createElementNS("http://www.w3.org/2000/svg","g")&&"Map"in window&&"Set"in window&&"startsWith"in String.prototype&&"includes"in Array.prototype&&"from"in Array&&"assign"in Object&&"keys"in Object?t():Promise.all([n.e(0).then(n.t.bind(null,307,7)),n.e(0).then(n.bind(null,308))]).then(t)})]).then(function(){var t=a.start(),e=n(23);t.load(o(e))})},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1),i=n(6),a={iOSSafari:function(){return!!window.navigator.userAgent.match(/(iPhone|iPad).+Version\/[\d.]+.*Safari/i)}};function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u={sendMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"debug",r=[t],o="log";if("Sentry"in window)window.Sentry.withScope(function(r){Object.entries(e).forEach(function(t){var e=s(t,2),n=e[0],o=e[1];r.setTag(n,o)}),t instanceof Error?window.Sentry.captureException(t):window.Sentry.captureMessage(t,n)});else{switch(n){case"fatal":case"error":o="error";break;case"warning":o="warn"}Object.keys(e).length&&r.push(e),console[o].apply(this,r)}}};["fatal","error","warning","info","debug"].forEach(function(t){u[t]=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sendMessage(e,n,t)}});var c=u,l=n(4),f="failed",h="pending",p="ENTER_PENDING_STATE",d="ERROR",y="HANDLE_RESPONSE";function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){b(t,e,n[e])})}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={signatureState:null,autoStartToken:null,statusHintCode:null,errorHintCode:null,statusMessage:null,errorMessage:null,returnUrl:null};function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=g({},t,{signatureState:(arguments.length>2?arguments[2]:void 0)||e.state||t.signatureState,autoStartToken:e.auto_start_token||t.autoStartToken,statusHintCode:e.bank_id_hint_code||t.statusHintCode,errorHintCode:e.failure||t.errorHintCode,returnUrl:e.completion_return_url||t.returnUrl});return n.statusMessage=l.grandIdHints[n.statusHintCode]||t.statusMessage,n.errorMessage=l.grandIdHints[n.errorHintCode]||t.errorMessage,n}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case p:return g({},t,{signatureState:h});case y:return m(t,e.payload.response||{});case d:return m(t,e.payload.response||{},f);default:return t}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}function _(t){var e="function"===typeof Map?new Map:void 0;return(_=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return S(t,arguments,P(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x(r,t)})(t)}function S(t,e,n){return(S=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&x(o,n.prototype),o}).apply(null,arguments)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"BankIdController",function(){return C}),n.d(e,"default",function(){return C});var L=function(t){function e(t,n,r,o){var i;return T(this,e),(i=E(this,P(e).call(this,t,n,r))).data=o,i.name="BankIdError",i}return j(e,_(Error)),e}();function A(t,e){return new L(t,void 0,void 0,e)}var C=function(t){function e(){var t,n;T(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=E(this,(t=P(e)).call.apply(t,[this].concat(o)))).state=w(),n}var n,s,u;return j(e,r["b"]),n=e,(s=[{key:"initialize",value:function(){var t=this;["clickOpenBankIdApp","handleResponse","handleError"].forEach(function(e){t[e]=t[e].bind(t)})}},{key:"connect",value:function(){this.dispatch({type:p}),Promise.resolve().then(this.poll.bind(this,{timeout:3e5})).catch(this.handleError)}},{key:"clickOpenBankIdApp",value:function(t){var e="null";a.iOSSafari()&&(e=window.encodeURIComponent("".concat(window.location.href,"#"))),t.preventDefault(),window.location.replace("bankid:///?autoStartToken=".concat(this.autoStartToken,"&redirect=").concat(e))}},{key:"poll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){O(t,e,n[e])})}return t}({url:this.data.get("pollUrl"),compareFn:function(e,n){return t.handleResponse(n),"completed"===t.state.signatureState}},e))}},{key:"handleResponse",value:function(t){if(!t)throw A("Empty response",t);switch(t.state){case f:throw A(t.failure||"Unknown error",t);case"cancelled":throw A(t.failure||"Cancelled (server responded without hint code)",t);case"awaiting_signature":case"completed":case"bankid_error":case h:this.dispatch({type:y,payload:{response:t}});break;default:throw A("Unknown state",t)}}},{key:"handleError",value:function(t){var e=this.errorTags;if(this.dispatch({type:d,payload:{response:t instanceof Error?t.data:t}}),t instanceof L)l.grandIdHints[t.message]?c.info("BankID failure: ".concat(t.message),e):c.error(t,e);else if(t instanceof Error)throw t}},{key:"dispatch",value:function(t){var e=this.state,n=w(e,t);this.state=n,JSON.stringify(e)!==JSON.stringify(n)&&this.render(e)}},{key:"render",value:function(t){var e=this.state;if(e.statusMessage!==t.statusMessage&&this.updateStatusMessage(e.statusMessage),e.errorMessage!==t.errorMessage&&this.updateErrorMessage(e.errorMessage),e.signatureState!==t.signatureState){switch(e.signatureState){case h:this.showHideTargets([this.waitingTarget,this.preparingTarget],[this.errorTarget,this.signingTarget,this.completedTarget]);break;case"awaiting_signature":this.showHideTargets([this.waitingTarget,this.signingTarget],[this.errorTarget,this.preparingTarget,this.completedTarget]);break;case"completed":this.showHideTargets([this.waitingTarget,this.completedTarget],[this.errorTarget,this.preparingTarget,this.signingTarget]);break;case f:default:this.showHideTargets([this.errorTarget],[this.waitingTarget])}"completed"===e.signatureState&&window.location.replace(e.returnUrl),e.signatureState===f&&o.a.trigger("bankid_error")}}},{key:"updateErrorMessage",value:function(t){t&&(this.errorMessageTarget.innerText=t)}},{key:"updateStatusMessage",value:function(t){t&&(this.statusMessageTarget.innerText=t)}},{key:"showHideTargets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach(function(t){return t.classList.remove("is-hidden")}),e.forEach(function(t){return t.classList.add("is-hidden")})}},{key:"errorTags",get:function(){if(!this._errorTags)try{this._errorTags=JSON.parse(this.data.get("errorTags"))}catch(t){this._errorTags=null}return this._errorTags}}])&&k(n.prototype,s),u&&k(n,u),e}();C.targets=["waiting","error","preparing","completed","signing","statusMessage","errorMessage"]},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(5),i=n.n(o),a=window.Unicef.Track,s=[50,75,90];function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="form",b="[".concat("data-track-as","]"),v=window.document,m=v.documentElement,w=v.body;function O(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).matchForm;return!!t&&(!(!(void 0!==e&&e)&&t.tagName.toLowerCase()===g)&&(t.dataset&&t.dataset.track&&t))}function k(t){if(!t)return!1;var e="^http[s]?://((?!".concat(document.location.host.replace(".","\\."),")).*"),n=t.getAttribute("href");return n&&n.match(e)&&t}var T=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=f(this,(t=h(e)).call.apply(t,[this].concat(o)))).scrollPercentagesTriggered=[],n}var n,o,v;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["b"]),n=e,(o=[{key:"initialize",value:function(){this.handleScroll=!!this.data.get("scroll"),this.ignoreScrollOnSelector=this.data.get("scroll-ignore-on-selector"),this.onResize=i()(this.onResize.bind(this),100),this.onScroll=i()(this.onScroll.bind(this),100)}},{key:"connect",value:function(){this.handleScroll&&(window.addEventListener("resize",this.onResize,!1),window.addEventListener("scroll",this.onScroll,!1),this.onResize())}},{key:"disconnect",value:function(){this.handleScroll&&(window.removeEventListener("resize",this.onResize,!1),window.removeEventListener("scroll",this.onScroll,!1))}},{key:"click",value:function(t){var e=t.target.closest("[data-track], a"),n=O(t.target)||O(e);if(n)t.preventDefault(),this.trackTrackingLink(n);else{var r=k(t.target)||k(e);r&&(t.preventDefault(),this.trackExternalLink(r))}}},{key:"submit",value:function(t){var e=O(t.target.closest(g),{matchForm:!0});e&&(t.preventDefault(),this.trackForm(e))}},{key:"trackExternalLink",value:function(t){a.triggerEvent("external_link",{event_category:"engagement",event_label:t.getAttribute("href"),event_callback:function(){window.location=t.getAttribute("href")}})}},{key:"trackTrackingLink",value:function(t){var e=t.dataset,n=e.trackFollowLink,r=e.trackPath,o=e.trackAction,i=e.trackCategory,s=e.trackLabel,u=t.getAttribute("href"),c=JSON.parse(n||!0);a.triggerEvent(o,{page_path:r||u,event_category:i,event_label:s,event_callback:function(){c&&u&&(c=!1,window.location=u)}})}},{key:"trackForm",value:function(t){var e=t.dataset,n=e.trackPath,r=e.trackAction,o=e.trackCategory,i=t.dataset.trackLabel,s=new FormData(t),l=Array.from(t.querySelectorAll(b));try{i=JSON.parse(i)}catch(g){}"object"===typeof i&&"string"===typeof i.input_name&&(i=s.get(i.input_name));var f=l.reduce(function(t,e){return d({},t,y({},e.getAttribute("data-track-as"),s.get(e.getAttribute("name"))))},{}),h=Object.entries(f).reduce(function(t,e){var r=c(e,2),i=r[0],a=r[1];return[].concat(u(t),[[i,{page_path:n,event_category:o,event_label:a}]])},[r?[r,{page_path:n,event_category:o,event_label:i}]:null]).filter(function(t){return!!t}),p=Promise.resolve();h.forEach(function(t){var e=c(t,2),n=e[0],r=e[1];p=p.then(function(){return function(t,e){return new Promise(function(n){return a.triggerEvent(t,d({},e,{event_callback:n}))})}(n,r)})}),p.then(function(){t.submit()})}},{key:"onResize",value:function(){this.viewportHeight=m.clientHeight,this.contentHeight=w.clientHeight,this.onScroll()}},{key:"onScroll",value:function(){var t=this,e=this.handleScroll,n=this.ignoreScrollOnSelector,r=this.contentHeight,o=this.viewportHeight;if(!(!e||n&&window.document.querySelectorAll(n).length)){var i=m.scrollTop,u=Math.round(i/(r-o)*100);s.filter(function(e){return e<=u&&!t.scrollPercentagesTriggered.includes(e)}).forEach(function(e){t.scrollPercentagesTriggered.push(e),a.triggerEvent("page_scroll",{event_label:"".concat(e,"%"),event_category:"engagement"})})}}}])&&l(n.prototype,o),v&&l(n,v),e}();e.default=T},function(t,e,n){"use strict";n.r(e);var r=n(0),o="0".charCodeAt(0),i=[0,2,4,6,8,1,3,5,7,9];var a=function(t){return 0===function(t){for(var e=[t.length,0,0],n=e[0],r=e[1],a=e[2];n>0;)n-=1,r+=(a^=1)?t.charCodeAt(n)-o:i[t.charCodeAt(n)-o];return r%10}(t)};function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t){var e=function(t){var e=t.length>6?2:0,n=s([t.slice(0,2+e),t.slice(2+e,4+e),t.slice(4+e,6+e)].map(function(t){return parseInt(t,10)}),3),r=n[0],o=n[1],i=n[2];return i>=61&&i<=91&&(i-=60),[r,o,i]}(t),n=s(e,3),r=n[0],o=n[1],i=n[2],a=Math.ceil(Math.log10(r+1)),u=new Date,c=new Date(r,o-1,i);return r===(4===a?c.getFullYear():c.getYear())&&o===c.getMonth()+1&&i===c.getDate()&&c<=u}var c=function(t){var e=12===t.length?t.slice(2,12):t,n=t.slice(0,-4);return 10===e.length&&a(e)&&u(n)},l=n(10);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"CivicNumberInput",function(){return y}),n.d(e,"default",function(){return y});var y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,p(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,r["b"]),n=e,(o=[{key:"receive",value:function(t){var e=t.target.value.replace(/\D/g,""),n=e.length;10===n&&c(e)?this.invalid(l.messages.toShort.replace(/%value/,e)):12!==n?n>12&&this.invalid(l.messages.toLong):c(e)?this.valid():this.invalid(l.messages.invalid)}},{key:"valid",value:function(){this.messageTarget.classList.add("is-hidden")}},{key:"invalid",value:function(t){this.messageTarget.innerHTML=t,this.messageTarget.classList.remove("is-hidden")}}])&&f(n.prototype,o),i&&f(n,i),e}();y.targets=["source","message"]},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1),i=n(3);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={target:null,behavior:null};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case i.j:return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}({},t,{target:e.payload.target===t.target?null:e.payload.target,behavior:e.payload.behavior||null});default:return t}}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"ToggleContentController",function(){return y}),n.d(e,"default",function(){return y});function d(t,e){return t.dataset["toggleContent".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))]}var y=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=f(this,(t=h(e)).call.apply(t,[this].concat(o)))).state=u(),n}var n,a,s;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["b"]),n=e,(a=[{key:"initialize",value:function(){this.onTriggerDelegateAction=this.onTriggerDelegateAction.bind(this)}},{key:"connect",value:function(){var t=this;this.activeClassName=this.data.get("activeClassName")||i.a,this.inactiveClassName=this.data.get("inactiveClassName"),this.mainContentElement=document.querySelector(i.f),this.element.addEventListener("click",this.onTriggerDelegateAction,!0),this.element.addEventListener("change",this.onTriggerDelegateAction,!0),this.triggerTargets.forEach(function(e){e.checked&&t.triggerToggle(e)})}},{key:"disconnect",value:function(){this.element.removeEventListener("click",this.onTriggerDelegateAction,!0),this.element.removeEventListener("change",this.onTriggerDelegateAction,!0)}},{key:"triggerToggle",value:function(t){var e=d(t,"target"),n=d(t,"behavior");this.dispatch({type:i.j,payload:{target:e,behavior:n}})}},{key:"onTriggerDelegateAction",value:function(t){var e=t.target.closest('[data-target~="'.concat(this.identifier,'.trigger"]'));if(e)switch(t.type){case"change":this.triggerToggle(e);break;case"click":default:"checked"in e||(t.preventDefault(),this.triggerToggle(e))}}},{key:"dispatch",value:function(t){var e=this.state,n=u(e,t);this.state=n,JSON.stringify(e)!==JSON.stringify(n)&&this.render(e)}},{key:"render",value:function(t){var e=this.state,n=e.target,r=e.behavior,a=t.target;n!==a&&o.a.trigger(i.c,{target:n||a,active:!!n,behavior:r}),this.updateTriggersVisibility(),this.updateTargetsVisibility(),this.updateParentVisibility(),this.updateMainContentVisibility()}},{key:"updateTriggersVisibility",value:function(){var t=this.state.target,e=this.activeClassName;this.triggerTargets.forEach(function(n){d(n,"target")===t?n.classList.add(e):n.classList.remove(e)})}},{key:"updateTargetsVisibility",value:function(){var t=this,e=this.state,n=e.target,r=e.behavior,o=this.activeClassName,a=this.inactiveClassName,s=r===i.b;this.targetTargets.forEach(function(e){d(e,"target")===n?(a?e.classList.remove(a):e.classList.add(o),s&&t.enableFormElements(e),t.focusOnFocusElement(e)):(a?e.classList.add(a):e.classList.remove(o),s&&t.disableFormElements(e))})}},{key:"updateParentVisibility",value:function(){var t=this.state.target,e=this.element.classList,n=Array.from(e).filter(function(t){return t.match(i.i)});n.length&&e.remove.apply(e,c(n)),t?(e.add(i.g),e.add("".concat(i.h).concat(t))):e.remove(i.g)}},{key:"updateMainContentVisibility",value:function(){var t=this.state,e=t.target,n=t.behavior,r=this.mainContentElement;e&&n===i.e?r.setAttribute("hidden",""):r.removeAttribute("hidden")}},{key:"focusOnFocusElement",value:function(t){var e=t.querySelector(i.d);e&&e.focus()}},{key:"disableFormElements",value:function(t){t.querySelectorAll("input:not([disabled]),select:not([disabled]),textarea:not([disabled])").forEach(function(t){t.setAttribute("disabled",!0),t.classList.add("js-toggle-content-form-elements-disabled")})}},{key:"enableFormElements",value:function(t){t.querySelectorAll(".".concat("js-toggle-content-form-elements-disabled")).forEach(function(t){t.removeAttribute("disabled"),t.classList.remove("js-toggle-content-form-elements-disabled")})}}])&&l(n.prototype,a),s&&l(n,s),e}();y.targets=["trigger","target"]},function(t,e,n){"use strict";n.r(e);var r=n(0),o={set:function(t,e,n){var r="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires=".concat(o.toGMTString())}document.cookie="".concat(t,"=").concat(e).concat(r,"; path=/")},get:function(t){var e="".concat(t,"="),n=document.cookie.split(";").find(function(t){return 0===t.trim().indexOf(e)});return n?n.substr(e.length+1):null},unset:function(t){o.set(t,"",-1)}},i=n(1);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"PermanentlyDismissableController",function(){return l}),n.d(e,"default",function(){return l});var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}var n,l,f;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["b"]),n=e,(l=[{key:"initialize",value:function(){this.onDismissed=this.onDismissed.bind(this)}},{key:"connect",value:function(){o.get(this.key)||this.element.classList.remove("is-hidden"),this.eventName&&i.a.on(this.eventName,this.onDismissed)}},{key:"disconnect",value:function(){this.eventName&&i.a.off(this.eventName,this.onDismissed)}},{key:"dismiss",value:function(){this.key&&o.set(this.key,!0,999),this.eventName?i.a.trigger(this.eventName):this.onDismissed()}},{key:"onDismissed",value:function(){this.element.classList.add("is-hidden")}},{key:"id",get:function(){return this.data.get("id")||void 0}},{key:"eventName",get:function(){return this.id?"".concat("permanently-dismissed:").concat(this.id):void 0}},{key:"key",get:function(){var t=this._key;return!t&&this.id&&(t="".concat(this.id||Date.now(),"_permanently-dismissed"),this._key=t),t}}])&&a(n.prototype,l),f&&a(n,f),e}()},function(t,e,n){"use strict";n.r(e);var r=n(0),o=["1200px","900px","600px","0px"];var i=function(){for(var t=0,e=null;;){if(window.matchMedia("(min-width: ".concat(o[t],")")).matches){e=o[t];break}t+=1}return e};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"FormWithStripeCardInputController",function(){return h}),n.d(e,"default",function(){return h});var l=i(),f={base:{lineHeight:{"0px":"1.45","600px":"1.50","900px":"1.55","1200px":"1.60"}[l],fontSize:{"0px":"16px","600px":"17px","900px":"18px","1200px":"19px"}[l]}};var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["b"]),n=e,(o=[{key:"initialize",value:function(){this.stripe=window.Stripe(window.Unicef.Stripe.publishableKey),this.elements=this.stripe.elements({locale:"sv"})}},{key:"connect",value:function(){this.card=this.elements.create("card",{style:f}),this.stripeSource=null,this.card.mount(this.cardTarget),this.hideInfo(),this.hideError(),this.setupCardChangeEventListener(),this.setupFormSubmitEventListener()}},{key:"setupCardChangeEventListener",value:function(){var t=this;this.card.addEventListener("change",function(e){t.stripeSource=null,t.hideInfo(),t.hideError(),e.error?t.displayError(e.error.message):e.complete&&t.stripe.createSource(t.card).then(function(e){var n;t.stripeSource=e.source,e.error?t.displayError(e.error.message):(n=e.source,["required","recommended"].includes(n.card.three_d_secure)&&t.displayInfo("F\xf6r att verifiera ditt kort g\xf6rs en dragning p\xe5 3 kr som \xe5terbetalas direkt."))})})}},{key:"setupFormSubmitEventListener",value:function(){var t=this;this.element.addEventListener("submit",function(e){e.preventDefault(),t.stripeSource?t.handleSubmit(t.stripeSource):t.stripe.createSource(t.card).then(function(e){e.error?t.displayError(e.error.message):t.handleSubmit(e.source)})})}},{key:"handleSubmit",value:function(t){this.stripeSourceTarget.setAttribute("value",t.id),this.threeDSecureTarget.setAttribute("value",t.card.three_d_secure),this.element.submit()}},{key:"displayInfo",value:function(t){this.infoTarget.textContent=t,this.infoTarget.hidden=!1}},{key:"displayError",value:function(t){this.errorTarget.textContent=t,this.errorTarget.hidden=!1}},{key:"hideInfo",value:function(){this.infoTarget.textContent="",this.infoTarget.hidden=!0}},{key:"hideError",value:function(){this.errorTarget.textContent="",this.errorTarget.hidden=!0}}])&&a(n.prototype,o),i&&a(n,i),e}();h.targets=["card","error","info","stripeSource","threeDSecure"]}]);
//# sourceMappingURL=unicef-1dbb4079a52e9d8c8281.js.map