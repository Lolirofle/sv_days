(function(){var e=this,t=e._,i={},n=Array.prototype,s=Object.prototype,o=Function.prototype,a=n.push,r=n.slice,l=n.concat,c=s.toString,d=s.hasOwnProperty,u=n.forEach,f=n.map,p=n.reduce,h=n.reduceRight,v=n.filter,m=n.every,b=n.some,g=n.indexOf,y=n.lastIndexOf,_=Array.isArray,w=Object.keys,k=o.bind,x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var C=x.each=x.forEach=function(e,t,n){if(null==e)return e;if(u&&e.forEach===u)e.forEach(t,n);else if(e.length===+e.length){for(var s=0,o=e.length;o>s;s++)if(t.call(n,e[s],s,e)===i)return}else for(var a=x.keys(e),s=0,o=a.length;o>s;s++)if(t.call(n,e[a[s]],a[s],e)===i)return;return e};x.map=x.collect=function(e,t,i){var n=[];return null==e?n:f&&e.map===f?e.map(t,i):(C(e,function(e,s,o){n.push(t.call(i,e,s,o))}),n)};var S="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,i,n){var s=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return n&&(t=x.bind(t,n)),s?e.reduce(t,i):e.reduce(t);if(C(e,function(e,o,a){s?i=t.call(n,i,e,o,a):(i=e,s=!0)}),!s)throw new TypeError(S);return i},x.reduceRight=x.foldr=function(e,t,i,n){var s=arguments.length>2;if(null==e&&(e=[]),h&&e.reduceRight===h)return n&&(t=x.bind(t,n)),s?e.reduceRight(t,i):e.reduceRight(t);var o=e.length;if(o!==+o){var a=x.keys(e);o=a.length}if(C(e,function(r,l,c){l=a?a[--o]:--o,s?i=t.call(n,i,e[l],l,c):(i=e[l],s=!0)}),!s)throw new TypeError(S);return i},x.find=x.detect=function(e,t,i){var n;return T(e,function(e,s,o){return t.call(i,e,s,o)?(n=e,!0):void 0}),n},x.filter=x.select=function(e,t,i){var n=[];return null==e?n:v&&e.filter===v?e.filter(t,i):(C(e,function(e,s,o){t.call(i,e,s,o)&&n.push(e)}),n)},x.reject=function(e,t,i){return x.filter(e,function(e,n,s){return!t.call(i,e,n,s)},i)},x.every=x.all=function(e,t,n){t||(t=x.identity);var s=!0;return null==e?s:m&&e.every===m?e.every(t,n):(C(e,function(e,o,a){return(s=s&&t.call(n,e,o,a))?void 0:i}),!!s)};var T=x.some=x.any=function(e,t,n){t||(t=x.identity);var s=!1;return null==e?s:b&&e.some===b?e.some(t,n):(C(e,function(e,o,a){return s||(s=t.call(n,e,o,a))?i:void 0}),!!s)};x.contains=x.include=function(e,t){return null==e?!1:g&&e.indexOf===g?-1!=e.indexOf(t):T(e,function(e){return e===t})},x.invoke=function(e,t){var i=r.call(arguments,2),n=x.isFunction(t);return x.map(e,function(e){return(n?t:e[t]).apply(e,i)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-(1/0),s=-(1/0);return C(e,function(e,o,a){var r=t?t.call(i,e,o,a):e;r>s&&(n=e,s=r)}),n},x.min=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var n=1/0,s=1/0;return C(e,function(e,o,a){var r=t?t.call(i,e,o,a):e;s>r&&(n=e,s=r)}),n},x.shuffle=function(e){var t,i=0,n=[];return C(e,function(e){t=x.random(i++),n[i-1]=n[t],n[t]=e}),n},x.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var E=function(e){return null==e?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,i){return t=E(t),x.pluck(x.map(e,function(e,n,s){return{value:e,index:n,criteria:t.call(i,e,n,s)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var P=function(e){return function(t,i,n){var s={};return i=E(i),C(t,function(o,a){var r=i.call(n,o,a,t);e(s,r,o)}),s}};x.groupBy=P(function(e,t,i){x.has(e,t)?e[t].push(i):e[t]=[i]}),x.indexBy=P(function(e,t,i){e[t]=i}),x.countBy=P(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,i,n){i=E(i);for(var s=i.call(n,t),o=0,a=e.length;a>o;){var r=o+a>>>1;i.call(n,e[r])<s?o=r+1:a=r}return o},x.toArray=function(e){return e?x.isArray(e)?r.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:r.call(e,0,t)},x.initial=function(e,t,i){return r.call(e,0,e.length-(null==t||i?1:t))},x.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:r.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,i){return r.call(e,null==t||i?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var M=function(e,t,i){return t&&x.every(e,x.isArray)?l.apply(i,e):(C(e,function(e){x.isArray(e)||x.isArguments(e)?t?a.apply(i,e):M(e,t,i):i.push(e)}),i)};x.flatten=function(e,t){return M(e,t,[])},x.without=function(e){return x.difference(e,r.call(arguments,1))},x.partition=function(e,t,i){t=E(t);var n=[],s=[];return C(e,function(e){(t.call(i,e)?n:s).push(e)}),[n,s]},x.uniq=x.unique=function(e,t,i,n){x.isFunction(t)&&(n=i,i=t,t=!1);var s=i?x.map(e,i,n):e,o=[],a=[];return C(s,function(i,n){(t?n&&a[a.length-1]===i:x.contains(a,i))||(a.push(i),o.push(e[n]))}),o},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=r.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=l.apply(n,r.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=x.pluck(arguments,""+i);return t},x.object=function(e,t){if(null==e)return{};for(var i={},n=0,s=e.length;s>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},x.indexOf=function(e,t,i){if(null==e)return-1;var n=0,s=e.length;if(i){if("number"!=typeof i)return n=x.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,s+i):i}if(g&&e.indexOf===g)return e.indexOf(t,i);for(;s>n;n++)if(e[n]===t)return n;return-1},x.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(y&&e.lastIndexOf===y)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var s=n?i:e.length;s--;)if(e[s]===t)return s;return-1},x.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),s=0,o=new Array(n);n>s;)o[s++]=e,e+=i;return o};var A=function(){};x.bind=function(e,t){var i,n;if(k&&e.bind===k)return k.apply(e,r.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return i=r.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(r.call(arguments)));A.prototype=e.prototype;var s=new A;A.prototype=null;var o=e.apply(s,i.concat(r.call(arguments)));return Object(o)===o?o:s}},x.partial=function(e){var t=r.call(arguments,1);return function(){for(var i=0,n=t.slice(),s=0,o=n.length;o>s;s++)n[s]===x&&(n[s]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},x.bindAll=function(e){var t=r.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return C(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var i={};return t||(t=x.identity),function(){var n=t.apply(this,arguments);return x.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},x.delay=function(e,t){var i=r.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(r.call(arguments,1)))},x.throttle=function(e,t,i){var n,s,o,a=null,r=0;i||(i={});var l=function(){r=i.leading===!1?0:x.now(),a=null,o=e.apply(n,s),n=s=null};return function(){var c=x.now();r||i.leading!==!1||(r=c);var d=t-(c-r);return n=this,s=arguments,0>=d?(clearTimeout(a),a=null,r=c,o=e.apply(n,s),n=s=null):a||i.trailing===!1||(a=setTimeout(l,d)),o}},x.debounce=function(e,t,i){var n,s,o,a,r,l=function(){var c=x.now()-a;t>c?n=setTimeout(l,t-c):(n=null,i||(r=e.apply(o,s),o=s=null))};return function(){o=this,s=arguments,a=x.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(r=e.apply(o,s),o=s=null),r}},x.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=function(e){if(!x.isObject(e))return[];if(w)return w(e);var t=[];for(var i in e)x.has(e,i)&&t.push(i);return t},x.values=function(e){for(var t=x.keys(e),i=t.length,n=new Array(i),s=0;i>s;s++)n[s]=e[t[s]];return n},x.pairs=function(e){for(var t=x.keys(e),i=t.length,n=new Array(i),s=0;i>s;s++)n[s]=[t[s],e[t[s]]];return n},x.invert=function(e){for(var t={},i=x.keys(e),n=0,s=i.length;s>n;n++)t[e[i[n]]]=i[n];return t},x.functions=x.methods=function(e){var t=[];for(var i in e)x.isFunction(e[i])&&t.push(i);return t.sort()},x.extend=function(e){return C(r.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},x.pick=function(e){var t={},i=l.apply(n,r.call(arguments,1));return C(i,function(i){i in e&&(t[i]=e[i])}),t},x.omit=function(e){var t={},i=l.apply(n,r.call(arguments,1));for(var s in e)x.contains(i,s)||(t[s]=e[s]);return t},x.defaults=function(e){return C(r.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var D=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var s=c.call(e);if(s!=c.call(t))return!1;switch(s){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=i.length;o--;)if(i[o]==e)return n[o]==t;var a=e.constructor,r=t.constructor;if(a!==r&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(r)&&r instanceof r)&&"constructor"in e&&"constructor"in t)return!1;i.push(e),n.push(t);var l=0,d=!0;if("[object Array]"==s){if(l=e.length,d=l==t.length)for(;l--&&(d=D(e[l],t[l],i,n)););}else{for(var u in e)if(x.has(e,u)&&(l++,!(d=x.has(t,u)&&D(e[u],t[u],i,n))))break;if(d){for(u in t)if(x.has(t,u)&&!l--)break;d=!l}}return i.pop(),n.pop(),d};x.isEqual=function(e,t){return D(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=_||function(e){return"[object Array]"==c.call(e)},x.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return d.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},x.times=function(e,t,i){for(var n=Array(Math.max(0,e)),s=0;e>s;s++)n[s]=t.call(i,s);return n},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var L={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};L.unescape=x.invert(L.escape);var $={escape:new RegExp("["+x.keys(L.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(L.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace($[e],function(t){return L[e][t]})}}),x.result=function(e,t){if(null==e)return void 0;var i=e[t];return x.isFunction(i)?i.call(e):i},x.mixin=function(e){C(x.functions(e),function(t){var i=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),U.call(this,i.apply(x,e))}})};var I=0;x.uniqueId=function(e){var t=++I+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,i){var n;i=x.defaults({},i,x.templateSettings);var s=new RegExp([(i.escape||O).source,(i.interpolate||O).source,(i.evaluate||O).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(s,function(t,i,n,s,r){return a+=e.slice(o,r).replace(B,function(e){return"\\"+j[e]}),i&&(a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),s&&(a+="';\n"+s+"\n__p+='"),o=r+t.length,t}),a+="';\n",i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(i.variable||"obj","_",a)}catch(r){throw r.source=a,r}if(t)return n(t,x);var l=function(e){return n.call(this,e,x)};return l.source="function("+(i.variable||"obj")+"){\n"+a+"}",l},x.chain=function(e){return x(e).chain()};var U=function(e){return this._chain?x(e).chain():e};x.mixin(x),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];x.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],U.call(this,i)}}),C(["concat","join","slice"],function(e){var t=n[e];x.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(){var e,t=this,i=t.Backbone,n=Array.prototype.slice,s=Array.prototype.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.2";var o=t._;o||"undefined"==typeof require||(o=require("underscore"));var a=t.jQuery||t.Zepto||t.ender;e.setDomLibrary=function(e){a=e},e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var r=/\s+/,l=e.Events={on:function(e,t,i){var n,s,o,a,l;if(!t)return this;for(e=e.split(r),n=this._callbacks||(this._callbacks={});s=e.shift();)l=n[s],o=l?l.tail:{},o.next=a={},o.context=i,o.callback=t,n[s]={tail:a,next:l?l.next:o};return this},off:function(e,t,i){var n,s,a,l,c,d;if(s=this._callbacks){if(!(e||t||i))return delete this._callbacks,this;for(e=e?e.split(r):o.keys(s);n=e.shift();)if(a=s[n],delete s[n],a&&(t||i))for(l=a.tail;(a=a.next)!==l;)c=a.callback,d=a.context,(t&&c!==t||i&&d!==i)&&this.on(n,c,d);return this}},trigger:function(e){var t,i,s,o,a,l,c;if(!(s=this._callbacks))return this;for(l=s.all,e=e.split(r),c=n.call(arguments,1);t=e.shift();){if(i=s[t])for(o=i.tail;(i=i.next)!==o;)i.callback.apply(i.context||this,c);if(i=l)for(o=i.tail,a=[t].concat(c);(i=i.next)!==o;)i.callback.apply(i.context||this,a)}return this}};l.bind=l.on,l.unbind=l.off;var c=e.Model=function(e,t){var i;e||(e={}),t&&t.parse&&(e=this.parse(e)),(i=T(this,"defaults"))&&(e=o.extend({},i,e)),t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(c.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var i=this.get(e);return this._escapedAttributes[e]=o.escape(null==i?"":""+i)},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,s,a;if(o.isObject(e)||null==e?(n=e,i=t):(n={},n[e]=t),i||(i={}),!n)return this;if(n instanceof c&&(n=n.attributes),i.unset)for(s in n)n[s]=void 0;if(!this._validate(n,i))return!1;this.idAttribute in n&&(this.id=n[this.idAttribute]);var r=i.changes={},l=this.attributes,d=this._escapedAttributes,u=this._previousAttributes||{};for(s in n)a=n[s],(!o.isEqual(l[s],a)||i.unset&&o.has(l,s))&&(delete d[s],(i.silent?this._silent:r)[s]=!0),i.unset?delete l[s]:l[s]=a,o.isEqual(u[s],a)&&o.has(l,s)==o.has(u,s)?(delete this.changed[s],delete this._pending[s]):(this.changed[s]=a,i.silent||(this._pending[s]=!0));return i.silent||this.change(i),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(o.clone(this.attributes),e)},fetch:function(t){t=t?o.clone(t):{};var i=this,n=t.success;return t.success=function(e,s,o){return i.set(i.parse(e,o),t)?void(n&&n(i,e)):!1},t.error=e.wrapError(t.error,i,t),(this.sync||e.sync).call(this,"read",this,t)},save:function(t,i,n){var s,a;if(o.isObject(t)||null==t?(s=t,n=i):(s={},s[t]=i),n=n?o.clone(n):{},n.wait){if(!this._validate(s,n))return!1;a=o.clone(this.attributes)}var r=o.extend({},n,{silent:!0});if(s&&!this.set(s,n.wait?r:n))return!1;var l=this,c=n.success;n.success=function(e,t,i){var a=l.parse(e,i);return n.wait&&(delete n.wait,a=o.extend(s||{},a)),l.set(a,n)?void(c?c(l,e):l.trigger("sync",l,e,n)):!1},n.error=e.wrapError(n.error,l,n);var d=this.isNew()?"create":"update",u=(this.sync||e.sync).call(this,d,this,n);return n.wait&&this.set(a,r),u},destroy:function(t){t=t?o.clone(t):{};var i=this,n=t.success,s=function(){i.trigger("destroy",i,i.collection,t)};if(this.isNew())return s(),!1;t.success=function(e){t.wait&&s(),n?n(i,e):i.trigger("sync",i,e,t)},t.error=e.wrapError(t.error,i,t);var a=(this.sync||e.sync).call(this,"delete",this,t);return t.wait||s(),a},url:function(){var e=T(this,"urlRoot")||T(this.collection,"url")||E();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var i in this._silent)this._pending[i]=!0;var n=o.extend({},e.changes,this._silent);this._silent={};for(var i in n)this.trigger("change:"+i,this,this.get(i),e);if(t)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var i in this.changed)this._pending[i]||this._silent[i]||delete this.changed[i];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?o.has(this.changed,e):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,i=!1,n=this._previousAttributes;for(var s in e)o.isEqual(n[s],t=e[s])||((i||(i={}))[s]=t);return i},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=o.extend({},this.attributes,e);var i=this.validate(e,t);return i?(t&&t.error?t.error(this,i,t):this.trigger("error",this,i,t),!1):!0}});var d=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};o.extend(d.prototype,l,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var i,n,a,r,l,c,d={},u={},f=[];for(t||(t={}),e=o.isArray(e)?e.slice():[e],i=0,a=e.length;a>i;i++){if(!(r=e[i]=this._prepareModel(e[i],t)))throw new Error("Can't add an invalid model to a collection");l=r.cid,c=r.id,d[l]||this._byCid[l]||null!=c&&(u[c]||this._byId[c])?f.push(i):d[l]=u[c]=r}for(i=f.length;i--;)e.splice(f[i],1);for(i=0,a=e.length;a>i;i++)(r=e[i]).on("all",this._onModelEvent,this),this._byCid[r.cid]=r,null!=r.id&&(this._byId[r.id]=r);if(this.length+=a,n=null!=t.at?t.at:this.models.length,s.apply(this.models,[n,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent)return this;for(i=0,a=this.models.length;a>i;i++)d[(r=this.models[i]).cid]&&(t.index=i,r.trigger("add",r,this,t));return this},remove:function(e,t){var i,n,s,a;for(t||(t={}),e=o.isArray(e)?e.slice():[e],i=0,n=e.length;n>i;i++)a=this.getByCid(e[i])||this.get(e[i]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return o.isEmpty(e)?[]:this.filter(function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return o.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var i=this,n=t.success;return t.success=function(e,s,o){i[t.add?"add":"reset"](i.parse(e,o),t),n&&n(i,e)},t.error=e.wrapError(t.error,i,t),(this.sync||e.sync).call(this,"read",this,t)},create:function(e,t){var i=this;if(t=t?o.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||i.add(e,t);var n=t.success;return t.success=function(s,o,a){t.wait&&i.add(s,t),n?n(s,o):s.trigger("sync",e,o,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return o(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof c)e.collection||(e.collection=this);else{var i=e;t.collection=this,e=new this.model(i,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!=e&&"remove"!=e||i==this)&&("destroy"==e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var u=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(u,function(e){d.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}});var f=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,h=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(f.prototype,l,{initialize:function(){},route:function(t,i,n){return e.history||(e.history=new m),o.isRegExp(t)||(t=this._routeToRegExp(t)),n||(n=this[i]),e.history.route(t,o.bind(function(s){var o=this._extractParameters(t,s);n&&n.apply(this,o),this.trigger.apply(this,["route:"+i].concat(o)),e.history.trigger("route",this,i,o)},this)),this},navigate:function(t,i){e.history.navigate(t,i)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var i=0,n=e.length;n>i;i++)this.route(e[i][0],e[i][1],this[e[i][1]])}},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(h,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},b=/^[#\/]/,g=/msie [\w.]+/;m.started=!1,o.extend(m.prototype,l,{interval:50,getHash:function(e){var t=e?e.location:window.location,i=t.href.match(/#(.*)$/);return i?i[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var i=window.location.search;i&&(e+=i)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(b,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started");m.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),i=document.documentMode,n=g.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);n&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var s=window.location,r=s.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&s.hash&&(this.fragment=this.getHash().replace(b,""),window.history.replaceState({},document.title,s.protocol+"//"+s.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!m.started)return!1;t&&t!==!0||(t={trigger:t});var i=(e||"").replace(b,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[t.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,t.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,i){i?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var y=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];o.extend(y.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,i){var n=document.createElement(e);return t&&a(n).attr(t),i&&a(n).html(i),n},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof a?e:a(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=T(this,"events"))){this.undelegateEvents();for(var t in e){var i=e[t];if(o.isFunction(i)||(i=this[e[t]]),!i)throw new Error('Method "'+e[t]+'" does not exist');var n=t.match(_),s=n[1],a=n[2];i=o.bind(i,this),s+=".delegateEvents"+this.cid,""===a?this.$el.bind(s,i):this.$el.delegate(a,s,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));for(var t=0,i=w.length;i>t;t++){var n=w[t];e[n]&&(this[n]=e[n])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=T(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var k=function(e,t){var i=S(this,e,t);return i.extend=this.extend,i};c.extend=d.extend=f.extend=y.extend=k;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(t,i,n){var s=x[t];n||(n={});var r={type:s,dataType:"json"};return n.url||(r.url=T(i,"url")||E()),n.data||!i||"create"!=t&&"update"!=t||(r.contentType="application/json",r.data=JSON.stringify(i.toJSON())),e.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),e.emulateHTTP&&("PUT"===s||"DELETE"===s)&&(e.emulateJSON&&(r.data._method=s),r.type="POST",r.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s)}),"GET"===r.type||e.emulateJSON||(r.processData=!1),a.ajax(o.extend(r,n))},e.wrapError=function(e,t,i){return function(n,s){s=n===t?s:n,e?e(t,s,i):t.trigger("error",t,s,i)}};var C=function(){},S=function(e,t,i){var n;return n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},o.extend(n,e),C.prototype=e.prototype,n.prototype=new C,t&&o.extend(n.prototype,t),i&&o.extend(n,i),n.prototype.constructor=n,n.__super__=e.prototype,n},T=function(e,t){return e&&e[t]?o.isFunction(e[t])?e[t]():e[t]:null},E=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(e){"use strict";var t=e.jQuery,i=e._,n=e.Backbone,s=i.sortedIndex,o=n.Events,a=n.View,r=a.prototype.remove,l="breakpoints",c=function(e,t,i){var n=s(i,e+1),o=s(i,t+1);return n!==o?i.slice(Math.min(n,o),Math.max(n,o)):[]},d=n.Resize={trigger:o.trigger,width:function(){return t(e).width()}};d[l]=[],i.each(["on","off","bind","unbind"],function(t){d[t]=function(n,s,a){o[t].call(this,n,s,a),this[l]=i.compact(i.map(i.keys(this._callbacks||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),n.View=a.extend({constructor:function(e){a.call(this,e),this[l]&&d.on(this[l],this.resize,this)},resize:function(){this.render()},remove:function(){return this[l]&&d.off(this[l],this.resize,this),r.call(this)}}),t(function(){var i=d.width();t(e).resize(function(){var e,t=d.width();t!==i&&(e=c(i,t,d[l]),e.length&&d.trigger(e.join(" "),t,t>i?"up":"down"),i=t)})})}(this),function(e){"use strict";var t=e.Spatula={},i=e.jQuery,n=e._,s=e.Backbone,o=n.isFunction,a=n.map,r=t.whenAll=function(e){return i.when.apply(i,e||[])},l=t.tryCall=function(e,t){var i=e&&e[t];return o(i)?i.apply(e,n.rest(arguments,2)):void 0},c={},d={},u={model:!0,collection:!0},f=[],p=[],h=function(e,t,i){c[e]=t,d[e]=i};t.ContainerView=s.View.extend({mod:0,transition:function(e){if(e===this.current)return e.render();var t=this,n=++t.mod,s=t.current,o=r();return t.current=e,s||t.$el.empty(),t.trigger("begin",e),s&&(s.hide&&(o=i.when(s.hide(),o)),o.done(function(){s.remove()})),o=r(a(this._cb,function(t){return t.call(this,e)}).concat([l(e,"load"),o])),o.fail(function(){var i=Array.prototype.slice.call(arguments);t.mod===n&&(t.current=null,t.$el.empty(),t.trigger.apply(t,["error",e].concat(i)))}),o=o.pipe(function(){return t.mod===n?(e.render(),t.$el.prepend(e.el),l(e,"ready"),t.trigger("ready",e),l(e,"show")):void 0}),o.pipe(function(){return t.mod!==n?i.Deferred().reject():(t.$el.css("minHeight",""),void t.trigger("end",e));
})},loader:function(e){(this._cb||(this._cb=[])).push(e)},render:function(){return l(this.current,"render"),this},ready:function(){return l(this.current,"ready"),this}}),t.RichView=s.View.extend({assets:u,load:function(e,t){var i=this;return i._load||(i._load=r(a(i.assets,function(e,t){return c[t].call(i,e).done(function(){i.trigger("load:"+t)})})).done(function(){i.trigger("load")})),i._load.then(e,t)},render:function(){var e=this,t=e.load();return"resolved"===t.state()?e.safeRender():e._render||(e._render=!0,t.then(function(){e.safeRender()})),e},safeRender:function(){},remove:function(){var e=this;return e.destroy(),e.trigger("destroy"),e.off(),n.each(e.assets,function(e,t){l(d,t,e)}),s.View.prototype.remove.apply(e,arguments),e},destroy:function(){}},{assetLoader:h}),h("scripts",function(e){return e=n.difference(e,f),r(a(e,function(e){return f.push(e),i.ajax(e,{dataType:"script",cache:!0,error:function(){f=n.without(f,e)}})}))}),i(function(){f=n.union(f,i("script[src]").not("[async]").map(function(){return i(this).attr("src")}).get())}),h("styles",function(e){return r(a(e,function(e){i("<link/>",{"class":"css-"+this.cid,rel:"stylesheet",type:"text/css",href:e}).appendTo("head")}))},function(){i("link.css-"+this.cid).remove()}),h("templates",function(e,t){return t||(t=this.templates={}),r(a(e,function(e,n){return i.ajax(e,{cache:!0,success:function(e){t[n]=e}})}))}),h("data",function(e){var t=this;return i.ajax(e,{dataType:"json",success:function(e){t.data=e}})}),n.each(u,function(e,t){h(t,function(e){return e=o(e.fetch)?e:this[t],l(e,"fetch")||r()})}),t.start=function(o){var a,r=s.history,l=/^([^\/]+?:\/\/[^\/]+?)(\/[^?#]*)/.exec(e.location.href);o=n.extend({pushState:!0,hashChange:!1},o),l&&r.start(o)&&(l=l[1]+r.options.root,a=l.length,i("body").on("click.spatula","a[href]",function(e){var i=this.href;e.metaKey||e.ctrlKey||e.isDefaultPrevented()||!i||i.substr(0,a)!==l||(i=i.substr(a),t.test(i)&&n.any(r.handlers,function(t){return t.route.test(i)?(e.preventDefault(),r.navigate(i,!0),!0):void 0}))}))},t.test=function(e){return!n.any(p,function(t){return t.test(e)})},t.exclude=function(e){n.isRegExp(e)||(e=s.Router.prototype._routeToRegExp.call({},e)),p.push(e)}}(this),function(e){"use strict";var t=e.Disney,i=e.Spatula,n=e.jQuery,s=e._,o=e.Backbone,a=o.sync,r=/^\/(?:[^\/]|$)/,l=t.ajaxBase;n(function(){var o=t.redirect,a=t.top=new i.ContainerView({el:"#main"});a.on("ready",function(t){var i=t.title;n.isFunction(i)&&(i=i.call(t)),i&&(e.document.title=i)}),o&&a.loader(o.loader),n("#error_page").length||s.defer(i.start)}),n.ajaxSetup({timeout:2e4}),l&&(o.sync=function(e,t,i){var n=i.url||t&&t.url;return r.exec(n)&&(i=s.extend({url:l+n.substr(1)},i)),a(e,t,i)})}(this),function(e,t){"use strict";t.support.css3=function(){function t(t,i){var n=e.document.body||e.document.documentElement,s=n.style,o=["Webkit","Moz","ms","O"];if(void 0!==s[t])return i?t:!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var a=0;a<o.length;a++)if(void 0!==s[o[a]+t])return i?o[a]+t:!0}return t}(),t.fn.selectTransitionEnd=function(){var t,i=e.document.createElement("fakeelement"),n={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(t in n)if(void 0!==i.style[t])return n[t]}}(this,jQuery),function(e){"use strict";var t,i=e.console,n=e.Grill={},s=e.Spatula,o=e.jQuery,a=e._,r=e.Backbone,l=s.whenAll,c=r.Model,d=r.Collection,u=r.View,f=s.tryCall,p=function(t){var n=e.onerror;i&&i.error&&i.error(t.stack||t.toString()),n&&n(t.toString())},h=function(e,t){try{return f(e,t)}catch(i){p(i)}},v=function(e){return a.map(this.views,function(t){return h(t,e)})},m=o.support.css3("transition")?function(t){var i=o.Deferred(),n=o(e).selectTransitionEnd()+".grill";return o(".overlay",t).on(n,function(e){this===e.target&&(i.resolve(),t.off(n))}),i}:function(){return!0},b=n.Module=c.extend({initialize:function(){this.data=this.data(this.get("data")),this.on("change:data",function(e,t){e.data.reset(t)})},data:function(e){return new d(e)}}),g=n.Burger=d.extend({model:b,fetch:function(e){var t=n.burger,i=e&&e.success;return t?(delete n.burger,this.reset(this.parse(t)),i&&i(this,t),o.when()):d.prototype.fetch.call(this,e)},parse:function(e){for(var t in e)t in g.prototype||(this[t]=e[t]);return this.trigger("parse",e),e.stack}}),y=u.extend({initialize:function(e){this.template=e.template,this.render(),this.model.on("change",this.render,this)},render:function(){var e=this.$el;this.setElement(o(this.template.render(this.model))),e.replaceWith(this.$el)}}),_=n.ListView=u.extend({tagName:"ul",initialize:function(e){var t=this,i=t.collection;t.template=e.template,t.reset(),i.on("add",function(e,i){var n=i.indexOf(e),s=t.spawn(e);t.views.splice(n,0,s),0===n?t.$el.prepend(s.el):t.views[n-1].$el.after(s.el)}),i.on("remove",function(e,i,n){t.views.splice(n.index,1)[0].remove()}),i.on("reset",t.reset,t)},reset:function(){var e=this;return e.views&&a.invoke(e.views,"remove"),e.views=e.collection.map(function(t){var i=e.spawn(t);return e.$el.append(i.el),i}),e},spawn:function(e){return new y({model:e,template:this.template})}}),w={},k=n.ModuleView=s.RichView.extend({assets:{},tagName:"section",className:"module",safeRender:function(){var e=this.template;e&&e.render&&this.$el.html(e.render(this.model.toJSON()))}},{register:function(e,t,i){return w[e]=this.extend(t,i)},create:function(e,t){var i=w[e]||this,n=new i(t),s=n.model&&n.model.get("has_geo_restrictions"),o=n.model&&n.model.get("ref"),r=n.model&&n.model.get("style_options"),l=n.model&&n.model.get("style"),c=a.uniq(a.flatten(a.map([r,l],function(e){return e&&e.additional_style_classes?e.additional_style_classes:[]}))),d=a.union(n.style_classes||[],c);return n.$el.addClass(e).attr("data-module",e),s&&n.$el.attr("data-geo-temp-hidden","true"),o&&n.$el.attr("id","ref-"+o),d&&n.$el.addClass(d.join(" ")),n}}),x=_.prototype,C=n.BurgerView=_.extend({id:"burger",tagName:"article",className:"hidden",subview:k,initialize:function(e){x.initialize.call(this,e),o("<div/>",{"class":"overlay"}).appendTo(this.el)},load:function(){var e=this;return this.collection.fetch().pipe(function(){return l(v.call(e,"load"))})},spawn:function(e){return k.create(e.get("view"),{model:e})},itemOptions:function(){return{}},title:function(){return this.collection.title},url:function(){return this.collection.url},render:function(){v.call(this,"render")},ready:function(){l(v.call(this,"ready"))},show:function(){return this.$el.hasClass("hidden")?(this.$el.removeClass("hidden"),l([m(this.$el)].concat(v.call(this,"show")))):!0},hide:function(){return this.$el.hasClass("hidden")?!0:(this.$el.addClass("hidden"),l([m(this.$el)].concat(v.call(this,"hide"))))},remove:function(){v.call(this,"remove"),x.remove.call(this)}});n.BunView=k.extend({className:"module_container",tagName:"div"}),t={model:g,view:C},n.config=function(e){a.extend(t,e)},n.order=function(e){var i=t.model,n=t.view,s=new i;s.url=e,t.container.transition(new n({collection:s}))}}(this),function(e){"use strict";var t,i=e.Disney,n=e.jQuery,s=e._;i.DL=function(e){t=e},new(e.Backbone.Router.extend({routes:{"*p":"a"},a:function(i){var o=e.window.location.pathname;i&&"?register=1"===i&&"/"===o&&t.login();var a="/_grill/json/";i&&(a+=i),e.Grill.order(a),s.defer(function(){n("html,body").scrollTop(0)})}}))}(this),function(e){"use strict";var t=e.Disney,i=t.Cookie,n=e.Backbone,s=e._,o=/^([0-9a-f]+):([^:]+)/,a="dolMttAbn",r=7,l=function(){var e=o.exec(i.get(a)||"");return e&&{id:e[1],group:e[2]}},c=function(e){i.set(a,e.id+":"+e.group,{domain:i.domain(),path:"/",expires:r})},d=t.abn=s.extend({testcase:function(){return l()},parse:function(e){var n,o,a=e.abn,r=a&&a.cases,c=l(),d=-1;return r&&(o=s.pluck(r,"weight"),n=s.keys(r),!i.enabled()||c&&c.id!==a.id||(c?d=s.indexOf(n,c.group):(d=t.randi(o),d>=0&&(c={id:a.id,group:n[d]}))),e=r[n[0>d?0:d]].data,d>=0&&this.trigger("view",c,e)),e}},n.Events);d.on("view",c),t.randi=function(t){var i,n,s=0,o=t.length;for(i=o-1;i>-1;--i)s+=+t[i]||0;for(n=e.Math.random()*s,i=o-1;n>=0&&i>-2;--i)n-=+t[i]||0;return i+1}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._,s=e.Modernizr;t.vis={deviceExcluded:function(e){var t=e.visibility,i=!1;if(t&&t.invisible_device_types){var o=s.mobile?"mobile":"desktop";i=n.contains(t.invisible_device_types,o)}return i},hasGeoRestrictions:function(e){var t=e.visibility;return t&&(t.allowed_regions||t.disallowed_regions)},geoExcluded:function(e,t){var i=e.get("visibility"),s=!1;return i&&(i.allowed_regions||i.disallowed_regions)&&(i.allowed_regions?s=!n.contains(i.allowed_regions,t):i.disallowed_regions&&(s=n.contains(i.disallowed_regions,t))),s},parse:function(e){var t=this,i=[];n.each(e.stack,function(e){t.hasGeoRestrictions(e)&&(e.has_geo_restrictions=!0),t.deviceExcluded(e)&&(e.device_hidden=!0,i.push(e))});var s=n.difference(e.stack,i);return n.extend(e,{stack:s}),e}},i(function(){t.top&&t.top.on("ready",function(e){n.isUndefined(e.collection)||n.isEmpty(e.collection.where({has_geo_restrictions:!0}))||t.geo(function(i){n.each(e.views,function(e){var n=e.model;n.get("has_geo_restrictions")&&(t.vis.geoExcluded(n,i)?e.remove():e.$el.removeAttr("data-geo-temp-hidden"))})})})})}(this),function(e){"use strict";var t=e.jQuery,i=e._,n=e.Backbone,s=e.Math,o=n.Collection,a=function(e,t){var i,n=new Array(e);if(t!==n[0])for(i=0;e>i;++i)n[i]=t;return n},r=function(e){return{models:e}};n.LazyCollection=o.extend({params:{limit:"limit",offset:"offset"},constructor:function(e,t){t||(t={}),this.count=t.count,this.min=t.min||e&&e.length||1,t.params&&(this.params=i.defaults(t.params,this.params)),o.call(this,e,t)},ensure:function(e){var i,n,o=this,a=o.count,r=o.length,l=o._ensure,c=o.params,d=s.max(e-r,o.min);return a&&(e=s.min(e,a)),r>=e?n=t.when():l?(n=t.Deferred(),l.always(function(){o.ensure(e).then(function(){n.resolveWith(arguments)},function(){n.rejectWith(arguments)})})):(i={},i[c.limit]=d,i[c.offset]=r,o.trigger("loading",o,!0),n=o._ensure=o.fetch({add:!0,data:i}).then(function(){o.length<r+d&&(o.count=o.length)}).always(function(){o._ensure=null,o.trigger("loading",o,!1)})),n},remaining:function(){var e=this.count;return e?e-this.length:null},loading:function(){return!!this._ensure},pages:function(e,t){var n,o,l=[],c=t&&t.whole,d=t&&t.pad,u=t&&t.nest,f=t&&t.fill;for(e=+e||1,o=0;o<this.length;o+=e)l.push(this.models.slice(o,o+e));if(o=l.length-1,c&&o>0&&l[o].length<e&&(--o,l.pop()),d&&(o>=0&&(l[o]=l[o].concat(a(e-l[o].length,f))),n=a(e,f)),u&&(l=i.map(l,r),n=r(n)),d){for(o=s.floor(this.count/e);l.length<o;)l.push(n);o=this.count-o*e,o>0&&!c&&(n=a(o,f),l.push(u?r(n):n))}return l}}),n.LazySliderCollection=n.LazyCollection.extend({constructor:function(e,t){this.loadedPageCounter=[],this.pageOptions={nest:!0},i.each(e,function(e){e.set("hidden",!0)}),n.LazyCollection.call(this,e,t)},startingIndex:0,lastIndex:function(e){return this.pages(e,this.pageOptions).length-1},page:function(e,t,n,s){var o=this.pages(t,this.pageOptions);if(i.each(o[e].models,function(e){e&&e.set("hidden",!1)}),this.nextPeek(e,o)){var a=o[e+1];i(n).times(function(e){var t=a.models[e*s];t&&t.set("hidden",!1)})}return i.contains(this.loadedPageCounter,e)||this.loadedPageCounter.push(e),o},loadedPages:function(){return this.loadedPageCounter.length},peeking:function(e){return this.length>e},nextPeek:function(e,t){return e<t.length-1}}),n.LazyFilterCollection=n.LazyCollection.extend({parse:function(e){return this.count=e.count,e.next?this.nextFilter=e.next:this.nextFilter=null,e.data},next:function(){this.nextFilter&&(this.url=this.baseUrl+this.nextFilter)}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.Math,s=/%%([a-z0-9]+)%%/g,o=function(e,t){return"rng"===t?""+n.floor(1e18*n.random()):""},a=t.ping=function(t){if(t){var i=new e.Image;i.src=t.toString().replace(s,o)}};i("body").on("click","a[data-ping]",function(){a(this.getAttribute("data-ping"))})}(this),function(e){"use strict";var t=e.Grill,i=e.jQuery,n=e.Backbone,s=e.Disney,o=t.Burger,a=o.prototype,r=e.location,l=/[&?]draft_id=([^&]+)/.exec(r.search),c=/^\/_grill\/json(\/.*)/,d=t.Module.extend({data:function(e){var t,o=new n.LazyCollection(e,{model:s.Entity,params:{offset:"o",limit:"l"},count:this.get("count")}),a=this.collection.url;(t=c.exec(a))&&(a=t[1]);var r=a.indexOf("?")>=0?"&":"?";return a="/_grill/more"+a+r+i.param({r:this.get("ref")}),l&&(a+="&draft_id="+l[1]),o.url=a,o},subject:function(){return this.data.first()}}),u=o.extend({model:d,parse:function(e){var t=s.vis.parse(s.abn.parse(e)),i=a.parse.call(this,t);return i}});i(function(){var t=s.top;e.Grill.config({container:t,model:u})})}(this);/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};if(function(e,t){"use strict";function i(e){return String(null===e||void 0===e?"":e)}function n(e){return e=i(e),c.test(e)?e.replace(s,"&amp;").replace(o,"&lt;").replace(a,"&gt;").replace(r,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,i,n,s){this.r=e||this.r,this.c=n,this.options=s,this.text=i||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:n,t:i,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},rp:function(e,t,i,n){var s=i[e];return s?(this.c&&"string"==typeof s&&(s=this.c.compile(s,this.options)),s.ri(t,i,n)):""},rs:function(e,t,i){var n=e[e.length-1];if(!(d(n)||"object"==typeof n&&d(n=n.models)))return void i(e,t,this);for(var s=0;s<n.length;s++)e.push(n[s]),i(e,t,this),e.pop()},s:function(e,t,i,n,s,o,a){var r;return d(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,i,n,s,o,a)),r=""===e||!!e,!n&&r&&t&&t.push("object"==typeof e?e:t[t.length-1]),r)},d:function(e,t,i,n){var s=e.split("."),o=this.f(s[0],t,i,n),a=null;if("."===e&&d(t[t.length-2]))return t[t.length-1];for(var r=1;r<s.length;r++)o&&"object"==typeof o&&(s[r]in o||(o=o.attributes)&&"object"==typeof o&&s[r]in o)?(a=o,o=o[s[r]]):o="";return n&&!o?!1:(n||"function"!=typeof o||(t.push(a),o=this.lv(o,t,i),t.pop()),o)},f:function(e,t,i,n){for(var s=!1,o=null,a=!1,r=t.length-1;r>=0;r--)if(o=t[r],o&&"object"==typeof o&&(e in o||(o=o.attributes)&&"object"==typeof o&&e in o)){s=o[e],a=!0;break}return a?(n||"function"!=typeof s||(s=this.lv(s,t,i)),s):n?!1:""},ho:function(e,t,i,n,s){var o=this.c,a=this.options;return a.delimiters=s,n=e.call(t,n),n=null==n?String(n):n.toString(),this.b(o.compile(n,a).render(t,i)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,i,n,s,o,a){var r=t[t.length-1],l=null;if(!n&&this.c&&e.length>0)return this.ho(e,r,i,this.text.substring(s,o),a);if(l=e.call(r),"function"==typeof l){if(n)return!0;if(this.c)return this.ho(l,r,i,this.text.substring(s,o),a)}return l},lv:function(e,t,n){var s=t[t.length-1],o=e.call(s);return"function"==typeof o&&(o=i(o.call(s)),this.c&&~o.indexOf("{{"))?this.c.compile(o,this.options).render(s,n):i(o)}};var s=/&/g,o=/</g,a=/>/g,r=/\'/g,l=/\"/g,c=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),this.Whiskers||!function(e){"use strict";var t=function(e,t){var i,n=this;for(e=e.split(".");e.length>1;)i=e.shift(),n=n.hasOwnProperty(i)?n[i]:n[i]={};n[e[0]]=t},i=e.Whiskers=function(n,s){t.call(i,n,new e.Hogan.Template(s))}}(this),Whiskers("errors.e404",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="e404 bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('" alt="404 Error"> <div class="message"> <h2>This page is not fully armed and operational.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),Whiskers("errors.e500",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="e500 bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('"> <div class="message"> <h2>It\'s a Trap! Or an internal server error.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),Whiskers("errors.enet",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="enet bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('" alt="General Error"> <div class="message"> <h2>I don\'t know what all this trouble is about, but I\'m sure it must be your fault.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.jQuery,s=e.Whiskers,o=["https://static-mh.content.disney.io/starwars/assets/errors/e404-4ced2cd1702d.jpg","https://static-mh.content.disney.io/starwars/assets/errors/e500-fb23ad349e1c.jpg","https://static-mh.content.disney.io/starwars/assets/errors/enet-4e40f1a86790.jpg"],a=i.View.extend({render:function(){this.el.innerHTML=this.template.render({image:this.image})}}),r=a.extend({image:o[0],template:s.errors.e404,error:"404"}),l=a.extend({image:o[1],template:s.errors.e500,error:"500"}),c=a.extend({image:o[2],template:s.errors.enet,error:"network"});n(function(){t.top.on("error",function(e,i,n,s){"timeout"===n?t.top.transition(new c):"Not Found"===s?t.top.transition(new r):"abort"!==n&&t.top.transition(new l)}),"/"===t.ajaxBase&&e.setTimeout(function(){for(var t=0;t<o.length;++t)(new e.Image).src=o[t];o=null},4e3)})}(this),function(e){"use strict";e.jQuery(function(){var t=e.Backbone.history,i=10;t.on("route",function(){--i<0&&(t._hasPushState=!1)})})}(this),this.Disney=this.Disney||{},this.Disney.Style=this.Disney.Style||{},this.Disney.SocialServices=this.Disney.SocialServices||{},this.Disney.Style.breakpoints={midLow:480,midHigh:768,max:1024,chromeMax:1025,wideMax:1200},Whiskers("partials.style_overrides.module_styles",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("style_options",e,t,1),e,t,0,18,1015,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" <!-- /* "),i.b(i.v(i.f("view",e,t,0))),i.b(" module "),i.b(i.v(i.f("ref",e,t,0))),i.b(" */ --> "),i.s(i.f("background_options",e,t,1),e,t,0,81,991,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ "),i.s(i.f("background_color",e,t,1),e,t,0,149,328,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: none; background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; "),i.s(i.f("gradient_fade",e,t,1),e,t,0,232,309,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: linear-gradient("),i.b(i.v(i.f("background_color",e,t,0))),i.b(", "),i.b(i.v(i.f("gradient_fade",e,t,0))),i.b("); ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("background_image",e,t,1),e,t,0,371,477,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-size: 100% auto; background-position: "),i.b(i.v(i.f("background_alignment",e,t,0))),i.b("; background-repeat: no-repeat; ")}),e.pop()),i.b(" } "),i.s(i.d("background_image.desktop",e,t,1),e,t,0,530,619,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 0px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.b("'); } } ")}),e.pop()),i.b(" "),i.s(i.d("background_image.mobile",e,t,1),e,t,0,677,962,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1px) and (max-width: 420px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.s(i.f("width",e,t,1),e,t,0,791,801,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("&width=420")}),e.pop()),i.b("'); } } @media screen and (min-width: 421px) and (max-width: 679px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.s(i.f("width",e,t,1),e,t,0,934,944,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("&width=680")}),e.pop()),i.b("'); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Whiskers,n=e._;n.extend(t.Style,{getModuleStyles:function(e){var t=e.model,n=i.partials.style_overrides.module_styles,s=n.render(t);return s}})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,n=e.jQuery,s=e._,o=e.Spatula,a=t.ModuleView,r=t.BurgerView,l=function(e){return s.map(this.views,function(t){return o.tryCall(t,e)})};t.ModuleView=a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments)},renderStyles:function(){return i.Style.getModuleStyles(this)},revealModuleImages:function(){this.model.get("styles_rendered")||(this.$el.siblings(".module_styles").append(this.renderStyles()),this.model.set("styles_rendered",!0))}}),t.BurgerView=r.extend({initialize:function(){r.prototype.initialize.apply(this,arguments)},load:function(){var e=this;return r.prototype.load.apply(this,arguments).then(function(){0===n(e.el).children(".module_styles").length&&n("<style/>",{"class":"module_styles",type:"text/css"}).appendTo(e.el),l.call(e,"revealModuleImages")})}}),t.config({view:t.BurgerView,model:t.ModuleView})}(this),function(e){"use strict";var t=e.jQuery,i=e.Grill,n=i.BurgerView;i.BurgerView=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments)},spawn:function(e){var t={model:e};return i.ModuleView.create(e.get("view"),t)},cto:function(){var e=this.collection.cto;return e},url:function(){return this.collection.href}}),t(function(){e.Grill.config({view:i.BurgerView})})}(this),Whiskers("modals.modal",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<style type='text/css'> @media screen and (max-width: 767px){ #modal-container #modal-window .modal img.desktop{ display: none; } } @media screen and (min-width: 768px){ #modal-container #modal-window .modal img.mobile{ display: none; } } </style> <div class='modal-content'> <div class='modal-close top-right'></div> <section> "),n.s(n.f("header",e,t,1),e,t,0,339,540,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text",e,t,1),e,t,0,349,378,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <header>"),i.b(i.t(i.f("text",e,t,0))),i.b("</header> ")}),e.pop()),i.b(" "),i.s(i.f("image",e,t,1),e,t,0,398,529,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,411,453,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <img class='desktop' src='"),i.b(i.v(i.f("desktop",e,t,0))),i.b("'/> ")}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,477,517,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <img class='mobile' src='"),i.b(i.v(i.f("mobile",e,t,0))),i.b("'/> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" </section> "),n.s(n.f("sections",e,t,1),e,t,0,576,974,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" <section> <header>"),i.b(i.t(i.f("header",e,t,0))),i.b("</header> <ul> "),i.s(i.f("content",e,t,1),e,t,0,634,944,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("images.assets.desktop_image",e,t,1),e,t,0,667,758,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> <a href='"),i.b(i.v(i.f("url",e,t,0))),i.b("' target='_blank'><img class='desktop' src='"),i.b(i.v(i.f("cdn_url",e,t,0))),i.b("'/></a> </li> ")}),e.pop()),i.b(" "),i.s(i.d("images.assets.mobile_image",e,t,1),e,t,0,822,912,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> <a href='"),i.b(i.v(i.f("url",e,t,0))),i.b("' target='_blank'><img class='mobile' src='"),i.b(i.v(i.f("cdn_url",e,t,0))),i.b("'/></a> </li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </ul> </section> ")}),e.pop()),n.b(' <div class="bedazzlement"></div> </div>'),n.fl()}),function(e){"use strict";var t=e.Backbone,i=e.Grill||{},n=e.Whiskers,s=e._,o=t.View.extend({},{getInstance:function(){if(void 0===this._instance){var e=this;this._instance=new e}return this._instance}}),a=o.extend({el:"#modal-window",views:[],initialize:function(){this._bindEvents()},add:function(e){this.contains(e)||(this.el.appendChild(e.el),this.views.push(e))},contains:function(e){return this.views.indexOf(e)>=0},scrollStart:function(){if("object"==typeof this._bodyStyle&&this._bodyStyle.hasOwnProperty("cssText")){var t=-parseInt(e.document.body.style.top,10)||0;e.document.body.style.cssText=this._bodyStyle.cssText,e.scrollBy(0,t)}},scrollStop:function(){this._bodyStyle=s.extend({},e.document.body.style),e.document.body.style.top=-e.pageYOffset+"px",e.document.body.style.overflow="hidden",e.document.body.style.position="fixed"},show:function(t,i){var n=i&&i.render,s=t.options&&t.options.name;(n||!this.contains(t))&&(t.el.innerHTML=t.render(),t.close||(t.close=new r({closeElement:t.el.querySelector(t.options.closeElement||".modal-close")})),this.add(t)),e.document.body.className+=" modal-show",t.close.show(),t.el.className+=" show",t.el.scrollTop=0,t.visible=!0,t.ready(),t._trackEvent("show"),this.scrollStop(),this.el.className+=" show",s&&(this.el.className=this.el.className+" "+s)},hide:function(){e.document.body.className=e.document.body.className.replace(" modal-show",""),s.each(this.views,function(e){e.visible&&(e.el.className=e.el.className.replace(" show",""),e.visible=!1,e.close.hide(),e._trackEvent("hide"))}),this.el.className=this.el.className.replace(" show",""),this.scrollStart()},_bindEvents:function(){var e=this;this.el.addEventListener("click",function(t){this===t.target&&e.hide()})}}),r=o.extend({el:"#modal-close",initialize:function(e){var t=e&&e.closeElement;s.extend(e,{windowView:a.getInstance()}),t&&(this.el=t),this.options=e,this.el.addEventListener("click",this._closeWindow.bind(this))},show:function(){this.el.className=this.el.className.replace(" hidden","")},hide:function(){this.el.className.indexOf(" hidden")<0&&(this.el.className+=" hidden")},_closeWindow:function(){this.options.windowView.hide()}});i.ModalView=t.View.extend({className:"modal",options:{template:n.modals.modal,events:{},keyEvents:[{name:"keyup",keyCode:27,callback:function(){this.hide()}}]},constructor:function(e){t.View.apply(this,arguments);var i=this;s.extend(e,{windowView:a.getInstance()}),s.extend(i.options,e),i.el.id=s.uniqueId(i.options.name),i.el.className+=" "+i.options.name,i._bindEvents()},ready:function(){},render:function(){return this.options.template.render(this.model)},show:function(e){var t=e&&e.event;t&&(t.preventDefault(),t.stopPropagation()),this.options.windowView.show(this,e)},hide:function(e){this.options.windowView.hide(e)},_bindEvents:function(){var t=this;t.options.events.onclick&&t.el.addEventListener("click",function(e){this===e.target&&t.hide()}),t.options.events.onkeyup&&s.each(t.options.keyEvents,function(i){var n=t._handleKeyEvent.bind(t,i);e.document.addEventListener(i.name,n)})},_handleKeyEvent:function(e,t){e.keyCode===t.keyCode&&e.callback.apply(this)},_trackEvent:function(t){var i=this.options.tracking||{};if(i.eventCategory&&t){var n={engagementMeta:i.engagementMeta,engagementType:i.eventCategory+"_"+t,eventCategory:i.eventCategory,action:t};e.cto.trackEvent(n)}}})}(this),/*!
 * The Final Countdown for jQuery v2.1.0 (http://hilios.github.io/jQuery.countdown/)
 * Copyright (c) 2015 Edson Hilios
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e){if(e instanceof Date)return e;if(String(e).match(a))return String(e).match(/^[0-9]*$/)&&(e=Number(e)),String(e).match(/\-/)&&(e=String(e).replace(/\-/g,"/")),new Date(e);throw new Error("Couldn't cast `"+e+"` to a date object.")}function i(e){var t=e.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(t)}function n(e){return function(t){var n=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(n)for(var o=0,a=n.length;a>o;++o){var r=n[o].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=i(r[0]),d=r[1]||"",u=r[3]||"",f=null;r=r[2],l.hasOwnProperty(r)&&(f=l[r],f=Number(e[f])),null!==f&&("!"===d&&(f=s(u,f)),""===d&&10>f&&(f="0"+f.toString()),t=t.replace(c,f.toString()))}return t=t.replace(/%%/,"%")}}function s(e,t){var i="s",n="";return e&&(e=e.replace(/(:|;|\s)/gi,"").split(/\,/),1===e.length?i=e[0]:(n=e[0],i=e[1])),1===Math.abs(t)?n:i}var o=[],a=[],r={precision:100,elapse:!1};a.push(/^[0-9]*$/.source),a.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a=new RegExp(a.join("|"));var l={Y:"years",m:"months",n:"daysToMonth",w:"weeks",d:"daysToWeek",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},c=function(t,i,n){this.el=t,this.$el=e(t),this.interval=null,this.offset={},this.options=e.extend({},r),this.instanceNumber=o.length,o.push(this),this.$el.data("countdown-instance",this.instanceNumber),n&&("function"==typeof n?(this.$el.on("update.countdown",n),this.$el.on("stoped.countdown",n),this.$el.on("finish.countdown",n)):this.options=e.extend({},r,n)),this.setFinalDate(i),this.start()};e.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var e=this;this.update(),this.interval=setInterval(function(){e.update.call(e)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),o[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(e){this.finalDate=t(e)},update:function(){if(0===this.$el.closest("html").length)return void this.remove();var t,i=void 0!==e._data(this.el,"events"),n=new Date;t=this.finalDate.getTime()-n.getTime(),t=Math.ceil(t/1e3),t=!this.options.elapse&&0>t?0:Math.abs(t),this.totalSecsLeft!==t&&i&&(this.totalSecsLeft=t,this.elapsed=n>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-n.getFullYear())},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))},dispatchEvent:function(t){var i=e.Event(t+".countdown");i.finalDate=this.finalDate,i.elapsed=this.elapsed,i.offset=e.extend({},this.offset),i.strftime=n(this.offset),this.$el.trigger(i)}}),e.fn.countdown=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){var i=e(this).data("countdown-instance");if(void 0!==i){var n=o[i],s=t[0];c.prototype.hasOwnProperty(s)?n[s].apply(n,t.slice(1)):null===String(s).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(n.setFinalDate.call(n,s),n.start()):e.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,s))}else new c(this,t[0],t[1])})}}),
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return $i.apply(null,arguments)}function t(e){$i=e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var i in t)o(t,i)&&(e[i]=t[i]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function r(e,t,i,n){return Pe(e,t,i,n,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=l()),e._pf}function d(e){if(null==e._isValid){var t=c(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function u(e){var t=r(NaN);return null!=e?a(c(t),e):c(t).userInvalidated=!0,t}function f(e,t){var i,n,s;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=c(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Oi.length>0)for(i in Oi)n=Oi[i],s=t[n],"undefined"!=typeof s&&(e[n]=s);return e}function p(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),ji===!1&&(ji=!0,e.updateOffset(this),ji=!1)}function h(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function v(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function b(e,t,i){var n,s=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(n=0;s>n;n++)(i&&e[n]!==t[n]||!i&&m(e[n])!==m(t[n]))&&a++;return a+o}function g(){}function y(e){return e?e.toLowerCase().replace("_","-"):e}function _(e){for(var t,i,n,s,o=0;o<e.length;){for(s=y(e[o]).split("-"),t=s.length,i=y(e[o+1]),i=i?i.split("-"):null;t>0;){if(n=w(s.slice(0,t).join("-")))return n;if(i&&i.length>=t&&b(s,i,!0)>=t-1)break;t--}o++}return null}function w(e){var t=null;if(!Bi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ii._abbr,require("./locale/"+e),k(t)}catch(i){}return Bi[e]}function k(e,t){var i;return e&&(i="undefined"==typeof t?C(e):x(e,t),i&&(Ii=i)),Ii._abbr}function x(e,t){return null!==t?(t.abbr=e,Bi[e]=Bi[e]||new g,Bi[e].set(t),k(e),Bi[e]):(delete Bi[e],null)}function C(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ii;if(!i(e)){if(t=w(e))return t;e=[e]}return _(e)}function S(e,t){var i=e.toLowerCase();Ui[i]=Ui[i+"s"]=Ui[t]=e}function T(e){return"string"==typeof e?Ui[e]||Ui[e.toLowerCase()]:void 0}function E(e){var t,i,n={};for(i in e)o(e,i)&&(t=T(i),t&&(n[t]=e[i]));return n}function P(t,i){return function(n){return null!=n?(A(this,t,n),e.updateOffset(this,i),this):M(this,t)}}function M(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function A(e,t,i){return e._d["set"+(e._isUTC?"UTC":"")+t](i)}function D(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function L(e,t,i){var n=""+Math.abs(e),s=t-n.length,o=e>=0;return(o?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}function $(e,t,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),e&&(Fi[e]=s),t&&(Fi[t[0]]=function(){return L(s.apply(this,arguments),t[1],t[2])}),i&&(Fi[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function O(e){var t,i,n=e.match(Ri);for(t=0,i=n.length;i>t;t++)Fi[n[t]]?n[t]=Fi[n[t]]:n[t]=I(n[t]);return function(s){var o="";for(t=0;i>t;t++)o+=n[t]instanceof Function?n[t].call(s,e):n[t];return o}}function j(e,t){return e.isValid()?(t=B(t,e.localeData()),Vi[t]=Vi[t]||O(t),Vi[t](e)):e.localeData().invalidDate()}function B(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Ni.lastIndex=0;n>=0&&Ni.test(e);)e=e.replace(Ni,i),Ni.lastIndex=0,n-=1;return e}function U(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function R(e,t,i){sn[e]=U(t)?t:function(e){return e&&i?i:t}}function N(e,t){return o(sn,e)?sn[e](t._strict,t._locale):new RegExp(V(e))}function V(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=m(e)}),i=0;i<e.length;i++)on[e[i]]=n}function z(e,t){F(e,function(e,i,n,s){n._w=n._w||{},t(e,n._w,n,s)})}function W(e,t,i){null!=t&&o(on,e)&&on[e](t,i._a,i,e)}function H(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Y(e){return this._months[e.month()]}function G(e){return this._monthsShort[e.month()]}function q(e,t,i){var n,s,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(s=r([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function K(e,t){var i;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(i=Math.min(e.date(),H(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e)}function J(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):M(this,"Month")}function Q(){return H(this.year(),this.month())}function Z(e){var t,i=e._a;return i&&-2===c(e).overflow&&(t=i[rn]<0||i[rn]>11?rn:i[ln]<1||i[ln]>H(i[an],i[rn])?ln:i[cn]<0||i[cn]>24||24===i[cn]&&(0!==i[dn]||0!==i[un]||0!==i[fn])?cn:i[dn]<0||i[dn]>59?dn:i[un]<0||i[un]>59?un:i[fn]<0||i[fn]>999?fn:-1,c(e)._overflowDayOfYear&&(an>t||t>ln)&&(t=ln),c(e).overflow=t),e}function X(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ee(e,t){var i=!0;return a(function(){return i&&(X(e+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function te(e,t){vn[e]||(X(t),vn[e]=!0)}function ie(e){var t,i,n=e._i,s=mn.exec(n);if(s){for(c(e).iso=!0,t=0,i=bn.length;i>t;t++)if(bn[t][1].exec(n)){e._f=bn[t][0];break}for(t=0,i=gn.length;i>t;t++)if(gn[t][1].exec(n)){e._f+=(s[6]||" ")+gn[t][0];break}n.match(en)&&(e._f+="Z"),we(e)}else e._isValid=!1}function ne(t){var i=yn.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(ie(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function se(e,t,i,n,s,o,a){var r=new Date(e,t,i,n,s,o,a);return 1970>e&&r.setFullYear(e),r}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e){return re(e)?366:365}function re(e){return e%4===0&&e%100!==0||e%400===0}function le(){return re(this.year())}function ce(e,t,i){var n,s=i-t,o=i-e.day();return o>s&&(o-=7),s-7>o&&(o+=7),n=Me(e).add(o,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function de(e){return ce(e,this._week.dow,this._week.doy).week}function ue(){return this._week.dow}function fe(){return this._week.doy}function pe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function he(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ve(e,t,i,n,s){var o,a=6+s-n,r=oe(e,0,1+a),l=r.getUTCDay();return s>l&&(l+=7),i=null!=i?1*i:s,o=1+a+7*(t-1)-l+i,{year:o>0?e:e-1,dayOfYear:o>0?o:ae(e-1)+o}}function me(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function be(e,t,i){return null!=e?e:null!=t?t:i}function ge(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ye(e){var t,i,n,s,o=[];if(!e._d){for(n=ge(e),e._w&&null==e._a[ln]&&null==e._a[rn]&&_e(e),e._dayOfYear&&(s=be(e._a[an],n[an]),e._dayOfYear>ae(s)&&(c(e)._overflowDayOfYear=!0),i=oe(s,0,e._dayOfYear),e._a[rn]=i.getUTCMonth(),e._a[ln]=i.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[cn]&&0===e._a[dn]&&0===e._a[un]&&0===e._a[fn]&&(e._nextDay=!0,e._a[cn]=0),e._d=(e._useUTC?oe:se).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[cn]=24)}}function _e(e){var t,i,n,s,o,a,r;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,i=be(t.GG,e._a[an],ce(Me(),1,4).year),n=be(t.W,1),s=be(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,i=be(t.gg,e._a[an],ce(Me(),o,a).year),n=be(t.w,1),null!=t.d?(s=t.d,o>s&&++n):s=null!=t.e?t.e+o:o),r=ve(i,n,s,a,o),e._a[an]=r.year,e._dayOfYear=r.dayOfYear}function we(t){if(t._f===e.ISO_8601)return void ie(t);t._a=[],c(t).empty=!0;var i,n,s,o,a,r=""+t._i,l=r.length,d=0;for(s=B(t._f,t._locale).match(Ri)||[],i=0;i<s.length;i++)o=s[i],n=(r.match(N(o,t))||[])[0],n&&(a=r.substr(0,r.indexOf(n)),a.length>0&&c(t).unusedInput.push(a),r=r.slice(r.indexOf(n)+n.length),d+=n.length),Fi[o]?(n?c(t).empty=!1:c(t).unusedTokens.push(o),W(o,n,t)):t._strict&&!n&&c(t).unusedTokens.push(o);c(t).charsLeftOver=l-d,r.length>0&&c(t).unusedInput.push(r),c(t).bigHour===!0&&t._a[cn]<=12&&t._a[cn]>0&&(c(t).bigHour=void 0),t._a[cn]=ke(t._locale,t._a[cn],t._meridiem),ye(t),Z(t)}function ke(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function xe(e){var t,i,n,s,o;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)o=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],we(t),d(t)&&(o+=c(t).charsLeftOver,o+=10*c(t).unusedTokens.length,c(t).score=o,(null==n||n>o)&&(n=o,i=t));a(e,i||t)}function Ce(e){if(!e._d){var t=E(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ye(e)}}function Se(e){var t=new p(Z(Te(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Te(e){var t=e._i,s=e._f;return e._locale=e._locale||C(e._l),null===t||void 0===s&&""===t?u({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),h(t)?new p(Z(t)):(i(s)?xe(e):s?we(e):n(t)?e._d=t:Ee(e),e))}function Ee(t){var o=t._i;void 0===o?t._d=new Date:n(o)?t._d=new Date(+o):"string"==typeof o?ne(t):i(o)?(t._a=s(o.slice(0),function(e){return parseInt(e,10)}),ye(t)):"object"==typeof o?Ce(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Pe(e,t,i,n,s){var o={};return"boolean"==typeof i&&(n=i,i=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=i,o._i=e,o._f=t,o._strict=n,Se(o)}function Me(e,t,i,n){return Pe(e,t,i,n,!1)}function Ae(e,t){var n,s;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Me();for(n=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](n))&&(n=t[s]);return n}function De(){var e=[].slice.call(arguments,0);return Ae("isBefore",e)}function Le(){var e=[].slice.call(arguments,0);return Ae("isAfter",e)}function $e(e){var t=E(e),i=t.year||0,n=t.quarter||0,s=t.month||0,o=t.week||0,a=t.day||0,r=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*r,this._days=+a+7*o,this._months=+s+3*n+12*i,this._data={},this._locale=C(),this._bubble()}function Ie(e){return e instanceof $e}function Oe(e,t){$(e,0,0,function(){var e=this.utcOffset(),i="+";return 0>e&&(e=-e,i="-"),i+L(~~(e/60),2)+t+L(~~e%60,2)})}function je(e){var t=(e||"").match(en)||[],i=t[t.length-1]||[],n=(i+"").match(Cn)||["-",0,0],s=+(60*n[1])+m(n[2]);return"+"===n[0]?s:-s}function Be(t,i){var s,o;return i._isUTC?(s=i.clone(),o=(h(t)||n(t)?+t:+Me(t))-+s,s._d.setTime(+s._d+o),e.updateOffset(s,!1),s):Me(t).local()}function Ue(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Re(t,i){var n,s=this._offset||0;return null!=t?("string"==typeof t&&(t=je(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(n=Ue(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==t&&(!i||this._changeInProgress?tt(this,Je(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:Ue(this)}function Ne(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ve(e){return this.utcOffset(0,e)}function Fe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ue(this),"m")),this}function ze(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(je(this._i)),this}function We(e){return e=e?Me(e).utcOffset():0,(this.utcOffset()-e)%60===0}function He(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ye(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(f(e,this),e=Te(e),e._a){var t=e._isUTC?r(e._a):Me(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!this._isUTC}function qe(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Je(e,t){var i,n,s,a=e,r=null;return Ie(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(r=Sn.exec(e))?(i="-"===r[1]?-1:1,a={y:0,d:m(r[ln])*i,h:m(r[cn])*i,m:m(r[dn])*i,s:m(r[un])*i,ms:m(r[fn])*i}):(r=Tn.exec(e))?(i="-"===r[1]?-1:1,a={y:Qe(r[2],i),M:Qe(r[3],i),d:Qe(r[4],i),h:Qe(r[5],i),m:Qe(r[6],i),s:Qe(r[7],i),w:Qe(r[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=Xe(Me(a.from),Me(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),n=new $e(a),Ie(e)&&o(e,"_locale")&&(n._locale=e._locale),n}function Qe(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Ze(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Xe(e,t){var i;return t=Be(t,e),e.isBefore(t)?i=Ze(e,t):(i=Ze(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function et(e,t){return function(i,n){var s,o;return null===n||isNaN(+n)||(te(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=i,i=n,n=o),i="string"==typeof i?+i:i,s=Je(i,n),tt(this,s,e),this}}function tt(t,i,n,s){var o=i._milliseconds,a=i._days,r=i._months;s=null==s?!0:s,o&&t._d.setTime(+t._d+o*n),a&&A(t,"Date",M(t,"Date")+a*n),r&&K(t,M(t,"Month")+r*n),s&&e.updateOffset(t,a||r)}function it(e,t){var i=e||Me(),n=Be(i,this).startOf("day"),s=this.diff(n,"days",!0),o=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,Me(i)))}function nt(){return new p(this)}function st(e,t){var i;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:Me(e),+this>+e):(i=h(e)?+e:+Me(e),i<+this.clone().startOf(t))}function ot(e,t){var i;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:Me(e),+e>+this):(i=h(e)?+e:+Me(e),+this.clone().endOf(t)<i)}function at(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)}function rt(e,t){var i;return t=T(t||"millisecond"),"millisecond"===t?(e=h(e)?e:Me(e),+this===+e):(i=+Me(e),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function lt(e,t,i){var n,s,o=Be(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(s=ct(this,o),"quarter"===t?s/=3:"year"===t&&(s/=12)):(n=this-o,s="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-a)/864e5:"week"===t?(n-a)/6048e5:n),i?s:v(s)}function ct(e,t){var i,n,s=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(s,"months");return 0>t-o?(i=e.clone().add(s-1,"months"),n=(t-o)/(o-i)):(i=e.clone().add(s+1,"months"),n=(t-o)/(i-o)),-(s+n)}function dt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ut(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ft(t){var i=j(this,t||e.defaultFormat);return this.localeData().postformat(i)}function pt(e,t){return this.isValid()?Je({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ht(e){return this.from(Me(),e)}function vt(e,t){return this.isValid()?Je({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.to(Me(),e)}function bt(e){var t;return void 0===e?this._locale._abbr:(t=C(e),null!=t&&(this._locale=t),this)}function gt(){return this._locale}function yt(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _t(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wt(){return+this._d-6e4*(this._offset||0)}function kt(){return Math.floor(+this/1e3)}function xt(){return this._offset?new Date(+this):this._d}function Ct(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function St(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tt(){return d(this)}function Et(){return a({},c(this))}function Pt(){return c(this).overflow}function Mt(e,t){$(0,[e,e.length],0,t)}function At(e,t,i){return ce(Me([e,11,31+t-i]),t,i).week}function Dt(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Lt(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")}function $t(){return At(this.year(),1,4)}function It(){var e=this.localeData()._week;return At(this.year(),e.dow,e.doy)}function Ot(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function jt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Bt(e){return this._weekdays[e.day()]}function Ut(e){return this._weekdaysShort[e.day()]}function Rt(e){return this._weekdaysMin[e.day()]}function Nt(e){var t,i,n;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(i=Me([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Vt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=jt(e,this.localeData()),this.add(e-t,"d")):t}function Ft(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function zt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Wt(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ht(e,t){return t._meridiemParse}function Yt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Gt(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function qt(e,t){t[fn]=m(1e3*("0."+e))}function Kt(){return this._isUTC?"UTC":""}function Jt(){return this._isUTC?"Coordinated Universal Time":""}function Qt(e){return Me(1e3*e)}function Zt(){return Me.apply(null,arguments).parseZone()}function Xt(e,t,i){var n=this._calendar[e];return"function"==typeof n?n.call(t,i):n}function ei(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function ti(){return this._invalidDate}function ii(e){return this._ordinal.replace("%d",e)}function ni(e){return e}function si(e,t,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(e,t,i,n):s.replace(/%d/i,e)}function oi(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function ai(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ri(e,t,i,n){var s=C(),o=r().set(n,t);return s[i](o,e)}function li(e,t,i,n,s){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ri(e,t,i,s);var o,a=[];for(o=0;n>o;o++)a[o]=ri(e,o,i,s);return a}function ci(e,t){return li(e,t,"months",12,"month")}function di(e,t){return li(e,t,"monthsShort",12,"month")}function ui(e,t){return li(e,t,"weekdays",7,"day")}function fi(e,t){return li(e,t,"weekdaysShort",7,"day")}function pi(e,t){return li(e,t,"weekdaysMin",7,"day")}function hi(){var e=this._data;return this._milliseconds=Kn(this._milliseconds),this._days=Kn(this._days),this._months=Kn(this._months),e.milliseconds=Kn(e.milliseconds),e.seconds=Kn(e.seconds),e.minutes=Kn(e.minutes),e.hours=Kn(e.hours),e.months=Kn(e.months),e.years=Kn(e.years),this}function vi(e,t,i,n){var s=Je(t,i);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function mi(e,t){return vi(this,e,t,1)}function bi(e,t){return vi(this,e,t,-1)}function gi(e){return 0>e?Math.floor(e):Math.ceil(e)}function yi(){var e,t,i,n,s,o=this._milliseconds,a=this._days,r=this._months,l=this._data;return o>=0&&a>=0&&r>=0||0>=o&&0>=a&&0>=r||(o+=864e5*gi(wi(r)+a),a=0,r=0),l.milliseconds=o%1e3,e=v(o/1e3),l.seconds=e%60,t=v(e/60),l.minutes=t%60,i=v(t/60),l.hours=i%24,a+=v(i/24),s=v(_i(a)),r+=s,a-=gi(wi(s)),n=v(r/12),r%=12,l.days=a,l.months=r,l.years=n,this}function _i(e){return 4800*e/146097}function wi(e){return 146097*e/4800}function ki(e){var t,i,n=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+n/864e5,i=this._months+_i(t),"month"===e?i:i/12;switch(t=this._days+Math.round(wi(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function xi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function Ci(e){return function(){return this.as(e)}}function Si(e){return e=T(e),this[e+"s"]()}function Ti(e){return function(){return this._data[e]}}function Ei(){return v(this.days()/7)}function Pi(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function Mi(e,t,i){var n=Je(e).abs(),s=us(n.as("s")),o=us(n.as("m")),a=us(n.as("h")),r=us(n.as("d")),l=us(n.as("M")),c=us(n.as("y")),d=s<fs.s&&["s",s]||1===o&&["m"]||o<fs.m&&["mm",o]||1===a&&["h"]||a<fs.h&&["hh",a]||1===r&&["d"]||r<fs.d&&["dd",r]||1===l&&["M"]||l<fs.M&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=i,Pi.apply(null,d)}function Ai(e,t){return void 0===fs[e]?!1:void 0===t?fs[e]:(fs[e]=t,!0)}function Di(e){var t=this.localeData(),i=Mi(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function Li(){var e,t,i,n=ps(this._milliseconds)/1e3,s=ps(this._days),o=ps(this._months);e=v(n/60),t=v(e/60),n%=60,e%=60,i=v(o/12),o%=12;var a=i,r=o,l=s,c=t,d=e,u=n,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(a?a+"Y":"")+(r?r+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var $i,Ii,Oi=e.momentProperties=[],ji=!1,Bi={},Ui={},Ri=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ni=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vi={},Fi={},zi=/\d/,Wi=/\d\d/,Hi=/\d{3}/,Yi=/\d{4}/,Gi=/[+-]?\d{6}/,qi=/\d\d?/,Ki=/\d{1,3}/,Ji=/\d{1,4}/,Qi=/[+-]?\d{1,6}/,Zi=/\d+/,Xi=/[+-]?\d+/,en=/Z|[+-]\d\d:?\d\d/gi,tn=/[+-]?\d+(\.\d{1,3})?/,nn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,sn={},on={},an=0,rn=1,ln=2,cn=3,dn=4,un=5,fn=6;$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),$("MMMM",0,0,function(e){return this.localeData().months(this,e)}),S("month","M"),R("M",qi),R("MM",qi,Wi),R("MMM",nn),R("MMMM",nn),F(["M","MM"],function(e,t){t[rn]=m(e)-1}),F(["MMM","MMMM"],function(e,t,i,n){var s=i._locale.monthsParse(e,n,i._strict);null!=s?t[rn]=s:c(i).invalidMonth=e});var pn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vn={};e.suppressDeprecationWarnings=!1;var mn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yn=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ee("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),S("year","y"),R("Y",Xi),R("YY",qi,Wi),R("YYYY",Ji,Yi),R("YYYYY",Qi,Gi),R("YYYYYY",Qi,Gi),F(["YYYYY","YYYYYY"],an),F("YYYY",function(t,i){i[an]=2===t.length?e.parseTwoDigitYear(t):m(t)}),F("YY",function(t,i){i[an]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var _n=P("FullYear",!1);$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),R("w",qi),R("ww",qi,Wi),R("W",qi),R("WW",qi,Wi),z(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=m(e)});var wn={dow:0,doy:6};$("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),R("DDD",Ki),R("DDDD",Hi),F(["DDD","DDDD"],function(e,t,i){i._dayOfYear=m(e)}),e.ISO_8601=function(){};var kn=ee("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Me.apply(null,arguments);return this>e?this:e}),xn=ee("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Me.apply(null,arguments);return e>this?this:e});Oe("Z",":"),Oe("ZZ",""),R("Z",en),R("ZZ",en),F(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=je(e)});var Cn=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Sn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Je.fn=$e.prototype;var En=et(1,"add"),Pn=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Mn=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mt("gggg","weekYear"),Mt("ggggg","weekYear"),Mt("GGGG","isoWeekYear"),Mt("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),R("G",Xi),R("g",Xi),R("GG",qi,Wi),R("gg",qi,Wi),R("GGGG",Ji,Yi),R("gggg",Ji,Yi),R("GGGGG",Qi,Gi),R("ggggg",Qi,Gi),z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=m(e)}),z(["gg","GG"],function(t,i,n,s){i[s]=e.parseTwoDigitYear(t)}),$("Q",0,0,"quarter"),S("quarter","Q"),R("Q",zi),F("Q",function(e,t){t[rn]=3*(m(e)-1)}),$("D",["DD",2],"Do","date"),S("date","D"),R("D",qi),R("DD",qi,Wi),R("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),F(["D","DD"],ln),F("Do",function(e,t){t[ln]=m(e.match(qi)[0],10)});var An=P("Date",!0);$("d",0,"do","day"),$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),R("d",qi),R("e",qi),R("E",qi),R("dd",nn),R("ddd",nn),R("dddd",nn),z(["dd","ddd","dddd"],function(e,t,i){var n=i._locale.weekdaysParse(e);null!=n?t.d=n:c(i).invalidWeekday=e}),z(["d","e","E"],function(e,t,i,n){t[n]=m(e)});var Dn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ln="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$n="Su_Mo_Tu_We_Th_Fr_Sa".split("_");$("H",["HH",2],0,"hour"),$("h",["hh",2],0,function(){return this.hours()%12||12}),Wt("a",!0),Wt("A",!1),S("hour","h"),R("a",Ht),R("A",Ht),R("H",qi),R("h",qi),R("HH",qi,Wi),R("hh",qi,Wi),F(["H","HH"],cn),F(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),F(["h","hh"],function(e,t,i){t[cn]=m(e),c(i).bigHour=!0});var In=/[ap]\.?m?\.?/i,On=P("Hours",!0);$("m",["mm",2],0,"minute"),S("minute","m"),R("m",qi),R("mm",qi,Wi),F(["m","mm"],dn);var jn=P("Minutes",!1);$("s",["ss",2],0,"second"),S("second","s"),R("s",qi),R("ss",qi,Wi),F(["s","ss"],un);var Bn=P("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),R("S",Ki,zi),R("SS",Ki,Wi),R("SSS",Ki,Hi);var Un;for(Un="SSSS";Un.length<=9;Un+="S")R(Un,Zi);for(Un="S";Un.length<=9;Un+="S")F(Un,qt);var Rn=P("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var Nn=p.prototype;Nn.add=En,Nn.calendar=it,Nn.clone=nt,Nn.diff=lt,Nn.endOf=_t,Nn.format=ft,Nn.from=pt,Nn.fromNow=ht,Nn.to=vt,Nn.toNow=mt,Nn.get=D,Nn.invalidAt=Pt,Nn.isAfter=st,Nn.isBefore=ot,Nn.isBetween=at,Nn.isSame=rt,Nn.isValid=Tt,Nn.lang=Mn,Nn.locale=bt,Nn.localeData=gt,Nn.max=xn,Nn.min=kn,Nn.parsingFlags=Et,Nn.set=D,Nn.startOf=yt,Nn.subtract=Pn,Nn.toArray=Ct,Nn.toObject=St,Nn.toDate=xt,Nn.toISOString=ut,Nn.toJSON=ut,Nn.toString=dt,Nn.unix=kt,Nn.valueOf=wt,Nn.year=_n,Nn.isLeapYear=le,Nn.weekYear=Dt,Nn.isoWeekYear=Lt,Nn.quarter=Nn.quarters=Ot,Nn.month=J,Nn.daysInMonth=Q,Nn.week=Nn.weeks=pe,Nn.isoWeek=Nn.isoWeeks=he,Nn.weeksInYear=It,Nn.isoWeeksInYear=$t,Nn.date=An,Nn.day=Nn.days=Vt,Nn.weekday=Ft,Nn.isoWeekday=zt,Nn.dayOfYear=me,Nn.hour=Nn.hours=On,Nn.minute=Nn.minutes=jn,Nn.second=Nn.seconds=Bn,Nn.millisecond=Nn.milliseconds=Rn,Nn.utcOffset=Re,Nn.utc=Ve,Nn.local=Fe,Nn.parseZone=ze,Nn.hasAlignedHourOffset=We,Nn.isDST=He,Nn.isDSTShifted=Ye,Nn.isLocal=Ge,Nn.isUtcOffset=qe,Nn.isUtc=Ke,Nn.isUTC=Ke,Nn.zoneAbbr=Kt,Nn.zoneName=Jt,Nn.dates=ee("dates accessor is deprecated. Use date instead.",An),Nn.months=ee("months accessor is deprecated. Use month instead",J),Nn.years=ee("years accessor is deprecated. Use year instead",_n),Nn.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ne);var Vn=Nn,Fn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},zn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",
LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wn="Invalid date",Hn="%d",Yn=/\d{1,2}/,Gn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},qn=g.prototype;qn._calendar=Fn,qn.calendar=Xt,qn._longDateFormat=zn,qn.longDateFormat=ei,qn._invalidDate=Wn,qn.invalidDate=ti,qn._ordinal=Hn,qn.ordinal=ii,qn._ordinalParse=Yn,qn.preparse=ni,qn.postformat=ni,qn._relativeTime=Gn,qn.relativeTime=si,qn.pastFuture=oi,qn.set=ai,qn.months=Y,qn._months=pn,qn.monthsShort=G,qn._monthsShort=hn,qn.monthsParse=q,qn.week=de,qn._week=wn,qn.firstDayOfYear=fe,qn.firstDayOfWeek=ue,qn.weekdays=Bt,qn._weekdays=Dn,qn.weekdaysMin=Rt,qn._weekdaysMin=$n,qn.weekdaysShort=Ut,qn._weekdaysShort=Ln,qn.weekdaysParse=Nt,qn.isPM=Yt,qn._meridiemParse=In,qn.meridiem=Gt,k("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",k),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",C);var Kn=Math.abs,Jn=Ci("ms"),Qn=Ci("s"),Zn=Ci("m"),Xn=Ci("h"),es=Ci("d"),ts=Ci("w"),is=Ci("M"),ns=Ci("y"),ss=Ti("milliseconds"),os=Ti("seconds"),as=Ti("minutes"),rs=Ti("hours"),ls=Ti("days"),cs=Ti("months"),ds=Ti("years"),us=Math.round,fs={s:45,m:45,h:22,d:26,M:11},ps=Math.abs,hs=$e.prototype;hs.abs=hi,hs.add=mi,hs.subtract=bi,hs.as=ki,hs.asMilliseconds=Jn,hs.asSeconds=Qn,hs.asMinutes=Zn,hs.asHours=Xn,hs.asDays=es,hs.asWeeks=ts,hs.asMonths=is,hs.asYears=ns,hs.valueOf=xi,hs._bubble=yi,hs.get=Si,hs.milliseconds=ss,hs.seconds=os,hs.minutes=as,hs.hours=rs,hs.days=ls,hs.weeks=Ei,hs.months=cs,hs.years=ds,hs.humanize=Di,hs.toISOString=Li,hs.toString=Li,hs.toJSON=Li,hs.locale=bt,hs.localeData=gt,hs.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Li),hs.lang=Mn,$("X",0,0,"unix"),$("x",0,0,"valueOf"),R("x",Xi),R("X",tn),F("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),F("x",function(e,t,i){i._d=new Date(m(e))}),e.version="2.10.6",t(Me),e.fn=Vn,e.min=De,e.max=Le,e.utc=r,e.unix=Qt,e.months=ci,e.isDate=n,e.locale=k,e.invalid=u,e.duration=Je,e.isMoment=h,e.weekdays=ui,e.parseZone=Zt,e.localeData=C,e.isDuration=Ie,e.monthsShort=di,e.weekdaysMin=pi,e.defineLocale=x,e.weekdaysShort=fi,e.normalizeUnits=T,e.relativeTimeThreshold=Ai;var vs=e;return vs}),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e.moment,s=e.jQuery;t.Countdown=function(e){this.el=e,this.render=function(){var e=s(this.el).find("li"),i=s.Deferred();return t.geo(function(a){if(e=e.filter(function(e,i){var n={get:function(){return s(i).data()}};return!t.vis.geoExcluded(n,a)}).slice(0,1),e.length){var r=e.find(".clock:first").html();e.each(function(e,t){var i=s(t),a=n.utc(i.data("datetime")),l=i.data("locked"),c=i.data("preStateModal"),d=i.data("postStateModal"),u=s(".clock",t),f=s(".cta",t),p=s(".title",t);i.removeClass("hidden"),l&&(a=a.local()),c&&o(c,f.filter(":not(.finished)").children("a")),d&&o(d,f.filter(".finished").children("a")),u.countdown(a.format("YYYY-MM-DD HH:mm"),function(e){e.elapsed||s(this).html(e.strftime(r)),f.filter(":not(.finished)").length||p.filter(":not(.finished)").addClass("center"),f.filter(".finished").length||p.filter(".finished").addClass("center"),p.add(f).filter(":not(.finished)").toggleClass("hidden",e.elapsed),p.add(f).filter(".finished").toggleClass("hidden",!e.elapsed),s(this).toggleClass("hidden",e.elapsed)})}),i.resolve()}else i.reject()}),i.promise()}};var o=function(e,t){var n=t.data("cto")||"",s=t.data("modalCto")||"",o=new i.ModalView({model:e,name:"countdown",tracking:{engagementMeta:n,eventCategory:"SW"+s+"Modal"}});t.on("click",function(e){o.show({event:e})})}}(this),function(e){"use strict";function t(){var t=e.window.location.pathname.split("/")[1],i=n('nav a[href^="/'+t+'"]'),s=n("#nav-outer-container").data("section"),o=i.data("section");n("nav a").removeClass("active"),i.addClass("active"),s&&n("#nav-outer-container").removeClass(s+"-content has-border"),t&&o&&n("#nav-outer-container").data("section",o).addClass(o+"-content has-border")}var i=e.Disney,n=e.jQuery;n(function(){"undefined"!=typeof i.top?i.top.on("ready",t):t()})}(this),function(e){"use strict";var t=e.NAV=e.NAV||{};t.queue=t.queue||[],t.opts=t.opts||{};var i=e.NAV,n=e.document,s=n.documentElement,o=String.prototype.trim,a=Array.prototype.splice,r=Array.prototype.slice,l=o||function(){return this.toString().replace(/^\s+|\s+$/g,"")},c={};e.NAV.load=function(t,i){var n=e.document,s=n.getElementsByTagName("script")[0],o=n.createElement("script");o.type="text/javascript",o.async="async",o.onload=o.onreadystatechange=function(e,t){var n=this,s=n.readyState,o=n.parentNode;!o||!t&&s&&"complete"!==s&&"loaded"!==s||(o.removeChild(this),!t&&i&&i())},o.src=t,s.parentNode.insertBefore(o,s),o=n=s=null};var d=function(e){var t=e.apply?e:i[e[0]];t&&t.apply&&t.apply(i,e.slice?e.slice(1):[])};e.setTimeout(function(){for(var e=i.queue||[],t=0;t<e.length;++t)d(e[t]);i.queue={push:d}},1),i.on=function(e,t,i){var n=c[e]||(c[e]=[]);return t&&n.push({f:t,c:i}),this},i.off=function(e,t,i){var n,s,o,a=0;if(e)if(t){if(n=c[e])for(s=c[e]=[];a<n.length;++a)o=n[a],o.f===t&&(i?o.c===i:o.c===this)&&s.push(o)}else delete c[e];else c={};return this},i.trigger=function(e){var t,i=c[e],n=0,s=r.call(arguments,1);if(i)for(i=i.slice();n<i.length;++n)t=i[n],t.f.apply(t.c||this,s);"all"!==e&&this.trigger.apply(this,["all",e].concat(s))};var u=function(t){var i=this.length||0,n=0,s=0;if(t)if(t.nodeType||t===e)n=1,this[i]=t;else for(n=t.length||0;n>s;++s)this[i+s]=t[s];this.length=i+n},f=i.dom=function(e){return new u(e)},p=function(e){var t=this,i=e.target||e.srcElement||s,n=e.fromElement;3===i.nodeType&&(i=i.parentNode),t.type=e.type,t.target=i,t.original=e,t.altKey=!!e.altKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t.ctrlKey=!!e.ctrlKey,t.charCode=e.charCode,t.keyCode=e.keyCode,t.relatedTarget=e.relatedTarget||(n===i?e.toElement:n),t.defaultPrevented=!!(e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())};p.prototype={preventDefault:function(){var e=this.original;this.defaultPrevented=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.original;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},u.prototype={splice:a,add:u,ea:function(e){for(var t=0,i=this.length;i>t;++t)e.call(this[t],t);return this},eaN:function(e){for(var t,i=0,n=this.length;n>i;++i)t=this[i],1===t.nodeType&&e.call(t,i);return this},before:function(e){return this.ea(function(){e.parentNode.insertBefore(this,e)})},after:function(e){var t=e.nextSibling;return t?this.before(t):this.ea(function(){e.parentNode.appendChild(this)})},rm:function(){return this.ea(function(){var e=this.parentNode;e&&e.removeChild(this)}),this},on:function(t,i){var n=r.call(arguments,2);return this.eaN(function(){var s,o=this,a=function(o){o=o||e.event||{type:t},s&&s.call(this,o),i.apply(this,[new p(o)].concat(n))};o.addEventListener?o.addEventListener(t,a,!1):(s=o["on"+t],o["on"+t]=a),o=null})},listener:function(e,t,i){var n=c[e]||(c[e]=[]);return t&&n.push({f:t,c:i}),this},trigger:function(e){var t,i=c[e],n=0,s=r.call(arguments,1);if(i)for(i=i.slice();n<i.length;++n)t=i[n],t.f.apply(t.c||this,s);"all"!==e&&this.trigger.apply(this,["all",e].concat(s))},hasC:function(e){for(var t,i=0,n=this.length;n>i;++i)if(t=this[i],1===t.nodeType&&(" "+t.className+" ").indexOf(" "+e+" ")>-1)return!0;return!1},addC:function(e){var t=e;return e=" "+e+" ",this.eaN(function(){var i=" "+(this.className||"")+" ";i.indexOf(e)<0&&(this.className=l.call(i+t))})},rmC:function(e){return e=" "+e+" ",this.eaN(function(){for(var t=" "+(this.className||"")+" ";t.indexOf(e)>-1;)t=t.replace(e," ");this.className=l.call(t)})},byTag:function(e){var t=f();return this.eaN(function(){t.add(this.getElementsByTagName(e))}),t}},f.byId=function(e){return f(n.getElementById(e))},f.byTag=function(e){return f(s).byTag(e)},f.byName=function(e){return f(n.getElementsByName(e))},f.byClass=function(e){return f(n.getElementsByClassName?n.getElementsByClassName(e):n.querySelectorAll(e))},f.parse=function(e){var t=n.createElement("div");return t.innerHTML=e,f(t.childNodes)},f.contains=s.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:s.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},f.create=function(e){return f(n.createElement(e))},i.go=function(e){return e}}(this),function(e){"use strict";function t(e){return r.Deferred(function(t){var i=e.displayName,n=e.profile,s=e.tokens,o={};i&&i.displayName&&(o.username=i.displayName),n&&n.swid&&(o.swid=n.swid),s&&s.access&&(o.token=s.access),t.resolve(o)}).promise()}function i(e){var t="url("+e+")";p().css({"background-image":t,"background-size":"100%","background-color":"transparent"})}function n(e){var t=new RegExp(d+"$");return e.match(t)?void p().removeAttr("style"):void i(e)}function s(){p().removeAttr("style")}var o,a=e.Disney.SocialServices,r=e.jQuery,l=e.NREUM,c="SMALL",d="default-SMALL-LOW.png",u=function(){return e.__disneySocial},f=function(){return e.__disneySocial.avatar},p=function(){return r("div.nav-login").find("span.user-avatar")};a.auth=function(i){var n,s=r.Deferred();if(!u()){var a="Unable to connect with SocialHub: Social Services are Unavailable";return l&&l.noticeError(a),s.reject(a),s.promise()}return t(i).then(function(e){n=e,o===e.token?s.resolve(e.swid):(o=e.token,u().authDisneyID(e.username,e.swid,e.token))}),u().onAuthDisneyID(function(){s.resolve(n.swid)}),e.setTimeout(function(){if("pending"===s.state()&&(s.reject("Unable to connect with Social Hub: Social Services never called back"),l)){var e=new Error("AVATAR SERVICE ERROR: __disneySocial.avatar.authDisneyID() did not respond");l.noticeError(e)}},5e3),s.promise()},a.unauth=function(){o=void 0,u()&&u().unauthDisneyID()},a.pickAvatar=function(e){e.refresh().then(a.auth).then(function(){f().pickAvatar(n,c)},function(e){l&&l.noticeError(e)})},a.displayAvatar=function(e){f().subscribeToAvatar(e,c,n,!0)},a.defaultAvatar=function(){s()}}(this),!jQuery.support.cors&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i"),xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(e,t,i){if(e.crossDomain&&e.async&&getOrPostRegEx.test(e.type)&&httpRegEx.test(t.url)&&sameSchemeRegEx.test(t.url)){var n=null,s=(t.dataType||"").toLowerCase();return{send:function(i,o){n=new XDomainRequest,/^\d+$/.test(t.timeout)&&(n.timeout=t.timeout),n.ontimeout=function(){o(500,"timeout")},n.onload=function(){var e="Content-Length: "+n.responseText.length+"\r\nContent-Type: "+n.contentType,t={code:200,message:"success"},i={text:n.responseText};try{if("json"===s)try{i.json=JSON.parse(n.responseText)}catch(a){t.code=500,t.message="parseerror"}else if("xml"===s||"text"!==s&&xmlRegEx.test(n.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(n.responseText)}catch(a){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+n.responseText;i.xml=r}}catch(l){throw l}finally{o(t.code,t.message,i,e)}},n.onerror=function(){o(500,"error",{text:n.responseText})},n.open(e.type,e.url),n.send()},abort:function(){n&&n.abort()}}}})}!function(e){"use strict";var t,i=e.jQuery,n=e.navigator,s="https:"===e.location.protocol,o=Array.prototype.slice,a=[],r=function(e){null===a?e(t):a.push(e)},l=e.cto={trackPagination:function(e){for(e+="";e.length<2;)e="0"+e;r(function(t){var i=t.pageName;i&&(t.pageName=i.replace(/\|page_\d+$/,"")+"|page_"+e,t.track())})}};i.each(["resetObj","track","trackEvent","trackLink","trackVideo","trackGame"],function(e,t){l[t]=function(){var e=o.call(arguments),i=e[0];i&&i.ctoSrcPath&&c(i.ctoSrcPath),r(function(i){i[t].apply(i,e)})}});var c=function(o){function r(){t=new e.CTO;var i=0,n=function(){i<a.length?(a[i](t),++i,e.setTimeout(n,200)):a=null};n()}n&&"preview"===n.loadPurpose||e.cto.account||(i(e).one("CTOReady",r),i.ajax((s?"https://global":"http://aglobal")+".go.com"+o,{dataType:"script",cache:!0}))}}(this),function(e){"use strict";var t=e.jQuery;e.Tracker={page:function(i){var n={pageName:""};t.extend(n,i),e.cto.track({pageName:n.pageName})},event:function(i){var n={eventCategory:null,action:null,label:null,value:null};t.extend(n,i),n.engagementType=n.eventCategory+":"+n.action,e.cto.trackEvent(n)},link:function(i){var n={linkPosition:null,linkName:null,isChrome:!1,href:null};t.extend(n,i),e.cto.trackLink(n.linkPosition,n.linkName,void 0,n.href),n.isChrome&&(n.linkPosition="Chrome: "+n.linkPosition)},video:function(i){var n={analyticsData:null,info:null};t.extend(n,i),e.cto.trackVideo(n.analyticsData)}},t(function(){t("#nav-outer-container").on("click","li a, #nav-sw-logo, #nav-sw-logo-bar, .sponsor a",function(){var i=t(this),n=i.attr("href"),s=i.data("cto")||"",o="";switch(s){case"ac":return;case"social":o="/"+i.attr("class"),s+="/link";break;case"section":o="/"+i.data("section"),s+="/link";break;case"swlogo":o="/starwars-logo",s="logo";break;case"sponsorship":o="/link";var a=i.attr("title");a&&(o+="/"+a);break;default:var r=i.text();r&&(o="/"+r),"object"==typeof s&&"slug"in s&&(s=s.slug)}e.Tracker.link({linkPosition:"top-nav/"+s+o,linkName:"top-nav/"+s,href:n})}),t("footer").on("click","#legal li a, .social-links li a",function(){var i=t(this),n=i.attr("href"),s=i.data("cto")||"",o="";"social"===s?(o="/"+i.attr("class"),s+="/"):o="/"+i.context.innerText.replace(/(\s|\/)/g,"-"),e.Tracker.link({linkPosition:"footer/"+s+"link"+o,linkName:"footer",href:n})})})}(this),function(e,t){"use strict";var i,n,s,o=e._,a=e.NAV,r=a.dom,l=e.document,c=r(l.documentElement),d=e.encodeURIComponent,u="https:"===e.location.protocol,f="sw_nav",p="";a.searchAttemptUsedPlacements={};var h=a.closeSearch=function(){var o=r.byId("nav-ac").rm();e.clearTimeout(s),i=p=n=t,o.length&&(c.rmC("nav-open-search"),c.hasC("nav-open-menu")||(c.rmC("nav-open"),a.trigger("close")),a.trigger("close:search"))},v=function(e,n){var o=i&&i.value;if(s=t,o!==t&&o!==p)if(p=o,""===o)h();else{var r=a.a+d(o)+"?"+(u?"s":"")+"&p="+e+(n?"&f[search_section]="+d(n):"");a.load(r),a.trigger("change:search",e)}},m=function(e){var t=r.byId("nav-ac").byTag("li"),i=t.length-1;i>=0&&(n=e,0>n&&(n=i),n>i&&(n=0),t.rmC("nav-active"),r(t[n]).addC("nav-active"))},b=function(e){m(n!==t?n+e:e>0?0:-1)},g=function(e){a.trigger("click"),a.trigger("click:search",e,this)},y={13:function(t){var i=r(r.byId("nav-ac").byTag("li")[n]).byTag("a")[0];return i?(g.call(i),e.location.href=i.href):a.trigger("submit:search",t),h(),!!i},27:function(){return i?(h(),!0):void 0},38:function(){return b(-1),!0},40:function(){return b(1),!0}},_=function(t,n,o){var a=y[t.keyCode];i=this,a?a.call(this,n)&&t.preventDefault():s||(s=e.setTimeout(function(){v(n,o)},100))};a.ac=function(e,t,i){return i=o.isUndefined(i)?"":i,r(e).byTag("form").ea(function(){var e=r(this);e.hasC("nav-search")&&e.byTag("input").ea(function(){"q"===this.name&&(t=t||f,this.setAttribute("autocomplete","off"),r(this).on("keydown",_,t,i))})}),e},a._aSac=function(e,s){var o=r.byId("nav-ac").rm();o.rm(),o=o.length,i&&(a.go(r.parse(s)).after(i).byTag("li").ea(function(i){r(this).on("mouseover",function(e){var t=e.target;(t===this||r.contains(this,t))&&m(i)}).on("mouseout",function(e){var i=e.relatedTarget;(!i||i!==this&&!r.contains(this,i))&&m(t)}).byTag("a").on("click",g,e)}),o?m(n):(c.hasC("nav-open-menu")||a.trigger("open"),a.trigger("open:search"),c.addC("nav-open-search"),c.addC("nav-open")),a.trigger("accept:search"))},c.on("click",function(t){var n=t.target;i&&n!==i&&e.setTimeout(h,0)});var w=e.cto,k=function(e){w&&w.trackLink(e)},x=function(e){var t=e.getAttribute("data-linkname"),i=e.getAttribute("data-linkposition"),n=e.getAttribute("data-linkinput");return t&&i?n?[t,i,n]:[t,i]:!1};a.on("change:search",function(e){w&&!a.searchAttemptUsedPlacements[e]&&(a.searchAttemptUsedPlacements[e]=!0,w.trackEvent({searchAttempt:"y",engagementType:e}))}),a.on("click:search",function(e,t){var i;e&&(i=x(e.target)),i||(i=x(t)),i[0]&&k({linkName:i[0],linkPosition:i[1],linkUrl:t.href,searchPhraseInput:i[2]})})}(this),function(e){"use strict";function t(e,t){M.each(e,function(e){e.setAttribute("tabindex",t)})}function i(e){var i=$.querySelectorAll(".goc-logo-image"),n=M.first(L.byId("goc-instant-search-input"));t(i,e),n&&n.setAttribute("tabindex",e)}function n(){function t(){U.search_open=!1,U.search.rmC("visible"),U.search_input[0].value="",D.searchAttemptUsedPlacements={}}function n(){O.event({eventCategory:"starwars",action:"account",abTest:"choose-avatar"}),T&&P.pickAvatar(S)}function o(){var e=L.byClass("logged-in");e.hasC("active")?e.rmC("active"):e.addC("active")}function a(){var e={el:[U.d_chrome,U.chrome_cntrl,U.outer_container],klass:["show","hide","chrome_push"]};if(U.chrome_rst_top&&(U.chrome_open=!0,U.chrome_rst_top=!1),_(C)>0)g(),U.chrome_rst_top=d("open");else{var t="hide";U.chrome_open?i("-1"):(t="show",i("0")),O.event({eventCategory:"starwars",action:"disney-chrome-"+t,abTest:"navigation"}),U.chrome_open=m(U.chrome_open,e)}}var r=L.byId("nav-login");r.add([U.chrome_togg[0],U.search[0],U.social[0]]),U.els=r,U.diff=U.full-U.cmprsd,s(),R.tog.on("click",function(){R.open=m(R.open,{el:[U.outer_container,R.bod],klass:["pushed","pushed"]}),O.event({eventCategory:"starwars",action:"nav-drawer-"+(R.open?"open":"closed"),abTest:"navigation"})}),R.overlay.on("click",function(){U.outer_container.hasC("pushed")&&(R.open=u())}),U.section_link.listener("close:drawer",function(){e.setTimeout(function(){R.open=u()},300)}),U.section_link.on("click",function(){L.byClass("active")[0]!==this&&U.section_link.trigger("close:drawer")}),U.mobile_logo.on("click",function(){U.section_link.trigger("close:drawer"),L.byClass("active")[0]!==this&&e.setTimeout(function(){R.open=u()},300)}),U.search_togg.on("click",function(){U.search_open=m(U.search_open,{el:[U.search,U.login],klass:["visible","visible"]});var e=U.search_open?"open":"closed";O.event({eventCategory:"starwars",action:"search-icon-"+e,abTest:"navigation"}),"open"===e?U.search_input[0].focus():(D.closeSearch(),U.search_input[0].blur())}),U.search_close.on("click",function(e){e.preventDefault(),D.closeSearch(),t()}),U.search_close.on("blur",function(){e.setTimeout(function(){e.document.activeElement!==U.search_input[0]&&t()},200)}),U.search_input.on("keydown",function(e){27===e.keyCode&&(D.closeSearch(),U.search_input[0].blur())}),U.search_input.on("focus",function(){U.search.addC("visible")}),U.search_input.on("blur",function(){e.setTimeout(function(){e.document.activeElement!==U.search_close[0]&&t()},200)}),U.search_form.on("submit",function(){e.cto.trackLink({linkName:"navigation/search/link/search_enter",linkPosition:"navigation/search",searchPhraseInput:U.search_input[0].value})}),U.did_log_in.on("click",function(){p("log-in")}),U.did_log_in.on("keydown",function(e){13===e.keyCode&&p("log-in")}),U.did_sign_up.on("click",function(){p("sign-up")}),U.did_sign_up.on("keydown",function(e){13===e.keyCode&&p("sign-up")}),U.choose_avatar.on("click",n),U.choose_avatar.on("keydown",function(e){13===e.keycode&&n()}),U.userName.on("click",function(){o()}),U.userName.on("keydown",function(e){13===e.keyCode&&o()}),U.chrome_togg.on("click",a),U.chrome_togg.on("keydown",function(e){13===e.keyCode&&a()})}function s(){C=L(e)[0],U.init_win_width=C.innerWidth,h(),o(),a(),k(C,"resize",M.throttle(function(){r(),f()},300)),"undefined"!=typeof E.top&&E.top.on("ready",function(){U.isSlim=U.outer_container.hasC("slim-nav"),U.isSlim&&c()})}function o(){D.a="/_sac/",D.ac(U.search[0],"navigation/search"),U.desktop=U.init_win_width>j.max,U.isTablet=U.isMob&&U.init_win_width>=j.max,U.isSlim=U.outer_container.hasC("slim-nav"),(U.isTablet||U.isSlim)&&(R.bod.addC("compressed"),U.outer_container.rmC("full-nav"),U.outer_container.addC("compressed")),U.outer_container.hasC("countdown")&&R.bod.addC("countdown"),U.init_win_width>j.max&&!U.mobile&&k(C,"scroll",N)}function a(){if(E&&E.Countdown){var e=new E.Countdown(U.countdown);e.render().done(function(){U.countdown.addC("show")}).fail(function(){R.bod.rmC("countdown"),U.countdown.addC("hidden"),U.outer_container.rmC("countdown")})}}function r(){U.desktop=U.init_win_width>j.max,C.innerWidth>j.max?k(C,"scroll",N):x(C,"scroll",N)}function l(e){var t=M.isNumber(e);if(t&&e>=U.diff)U.outer_container.rmC("full-nav"),U.outer_container.addC("compressed");else if(t)return U.outer_container.rmC("compressed"),void U.outer_container.addC("full-nav");c()}function c(){U.els.eaN(function(){this.removeAttribute("style")}),U.bar[0].removeAttribute("style"),U.wrapper[0].removeAttribute("style")}function d(e){var t=[U.d_chrome,U.chrome_cntrl,U.outer_container],i=["show","hide","chrome_push"],n=0;if("open"===e){for(;n<t.length;n++)t[n].addC(i[n]);return!0}for(;n<t.length;n++)t[n].rmC(i[n]);return U.chrome_open=!1,!1}function u(){return R.open&&(U.outer_container.rmC("pushed"),R.bod.rmC("pushed")),!1}function f(){var e=C.innerWidth,t=e>j.max;D.closeSearch(),U.desktop=t,M.each(j,function(t){(e+1>t||t>e-1)&&(U.crssd_ovr=!0)}),l(!1),U.isMob||(t||U.willReset?U.willReset=!1:(U.bar[0].setAttribute("style",""),g(),U.willReset=!0),M.defer(function(){U.search_open=m(!0,{el:[U.search,U.login],klass:["visible","visible"]})})),t||U.isMob||(R.open=u(),U.isCompressed&&(U.outer_container.rmC("compressed"),U.isCompressed=!1)),e>=900&&(e<=j.max||U.desktop&&U.isMob)&&(U.outer_container.rmC("pushed"),R.bod.rmC("pushed")),!t||U.isCompressed||U.isMob||U.isSlim||(U.outer_container.addC("full-nav"),U.isCompressed=!0,U.outer_container.rmC("pushed"),R.bod.rmC("pushed")),U.desktop&&(U.isMob||U.isSlim)&&(U.outer_container.rmC("full-nav"),U.outer_container.addC("compressed"),U.outer_container.hasC("gapless")&&R.bod.addC("gapless"))}function p(e){S.current?S.current&&"log-in"===e?(O.event({eventCategory:"starwars",action:"account",abTest:"navigation"}),S.update()):(v(S),P.unauth()):(O.event({eventCategory:"starwars",action:e,abTest:"navigation"}),("sign-up"===e?S.signup:S.login).call(S).then(function(){O.event({eventCategory:"starwars",action:"log-in-success",abTest:"navigation"})},function(){O.event({eventCategory:"starwars",action:e+"-aborted",abTest:"navigation"})}))}function h(){if(S){var e=L.byClass("nav-login");S.refresh().then(function(t){t&&e.addC("show")}).fail(function(){e.addC("show")})}else U.login[0].setAttribute("display","none")}function v(e){e.logout().then(function(){O.event({eventCategory:"starwars",action:"sign out",abTest:"navigation"}),E.updateSWid(null),P.unauth(),T=!1})}function m(e,t){var i=t||{};if(M.isEmpty(i))return!1;var n=M.values(i.el),s=M.values(i.klass);if(e)for(var o=0;o<n.length;o++)n[o].rmC(s[o]);else for(var a=0;a<n.length;a++)n[a].addC(s[a]);return e?!1:!0}function b(e,t,i,n){return e/=n/2,1>e?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)}function g(){var t=_(C),i=0-t,n=0,s=20,o=function(){n+=s;var a=b(n,t,i,120);$.body.scrollTop=$.documentElement.scrollTop=a,120>n&&e.setTimeout(o,s)};o()}function y(e,t){var i=A.round(100*(1-e/t*1.15))/100;return i>0?i:0}function _(){return void 0!==C.pageYOffset?C.pageYOffset:($.documentElement||$.body.parentNode||$.body).scrollTop}function w(t,i){var n=!1,s=!0,o=t.document,a=o.documentElement,r=o.addEventListener?"addEventListener":"attachEvent",l=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",d=function(e){("readystatechange"!==e.type||"complete"===o.readyState)&&(("load"===e.type?t:o)[l](c+e.type,d,!1),!n&&(n=!0)&&i.call(t,e.type||e))},u=function(){try{a.doScroll("left")}catch(t){return void e.setTimeout(u,50)}d("poll")};if("complete"===o.readyState)i.call(t,"lazy");else{if(o.createEventObject&&a.doScroll){try{s=!t.frameElement}catch(f){}s&&u()}o[r](c+"DOMContentLoaded",d,!1),o[r](c+"readystatechange",d,!1),t[r](c+"load",d,!1)}}function k(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}function x(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}var C,S,T,E=e.Disney,P=E.SocialServices,M=e._,A=e.Math,D=e.NAV,L=D.dom,$=e.document,I=e.Modernizr,O=e.Tracker,j=E.Style.breakpoints,B=E.Cookie,U={depth:0,init_win_width:0,diff:0,cmprsd:70,full:300,search_open:!1,chrome_open:!1,chrome_rst_top:!1,desktop:!1,isCompressed:!1,els:{},bar:L.byId("navbar"),countdown:L.byId("countdown"),outer_container:L.byId("nav-outer-container"),d_chrome:L.byId("chrome-container"),chrome_cntrl:L.byId("chrome-controls"),logo:L.byId("nav-sw-logo"),wrapper:L.byId("nav-wrapper"),did_log_in:L.byClass("disid-login"),did_sign_up:L.byClass("disid-signup"),choose_avatar:L.byClass("choose-avatar"),userName:L.byClass("disid-user"),login:L.byId("nav-login"),social:L.byId("social-links"),search:L.byId("nav-search-container"),search_form:L.byId("topnav-search"),search_input:L.byId("nav-search-input"),search_togg:L.byId("nav-search-icon"),search_close:L.byId("nav-search-close-icon"),chrome_togg:L.byId("chrome-controls-container"),section_link:L.byClass("section-link"),mobile_logo:L.byId("nav-sw-logo-bar"),goc_search:L.byId("goc-instant-search-input"),o_pre:I.prefixed("opacity"),isMob:I.mobile},R={open:!1,tog:L.byId("nav-drawer-toggle"),bod:L.byId("body-wrapper"),overlay:L.byId("page-overlay")};e.GOC&&e.GOC.queue.push(function(){this.on("accept:base",function(){i("-1")})}),i("-1"),E.NAV=function(e){function t(){(S.watched()||S.current)&&(E.updateSWid(S.current),T||P.auth(S.current).then(function(e){P.displayAvatar(e),T=!0},function(){P.defaultAvatar(),T=!1}))}function i(){S.current?U.userName[0].focus():U.did_log_in.length>0&&U.did_log_in[0].focus()}S=e,S.on("login",t),S.on("close",i)},E.updateSWid=function(t){var i=L.byClass("nav-login"),n=L.byClass("disid-user"),s="innerText"in U.login?"innerText":"textContent";if(t){var o="",a=e.unescape(t.profile.swid);B.set("SWID",a,{domain:B.domain(),expires:7300,raw:!0}),t.displayName&&t.displayName.displayName?o=t.displayName.displayName:t.profile&&t.profile.username&&(o=t.profile.username),i.addC("logged-in");for(var r=0;r<n.length;r++)n[r][s]=o}else i.rmC("logged-in")},w(e,n);var N=M.throttle(function(){var t=_(this);if(U.isSlim=U.outer_container.hasC("slim-nav"),U.modalOpen=$.body.className.indexOf("modal-show")>=0,e.GOC&&e.GOC.queue.push(["closeSearch"]),0!==t&&U.chrome_open&&!U.chrome_rst_top&&d("close"),0===t&&U.chrome_rst_top&&(U.chrome_open=!0,U.chrome_rst_top=!1),!(U.isCompressed&&t>=U.diff||!U.desktop||U.isMob||U.isSlim||U.modalOpen)){var i="height:"+(U.full-(t<U.diff?t:U.diff))+"px;",n=y(t,U.diff)+"",s=U.o_pre+":"+n;U.depth=t,U.isCompressed=t>=U.diff,U.bar[0].setAttribute("style",i),U.wrapper[0].setAttribute("style",s),l(t)}},5)}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e._,s="change:watched",o=function(e,t){t?this.retain():this.release()},a=function(e){e!==s&&this.trigger.apply(this,arguments)},r=function(e){this.current=n.extend(this.current||{},n.reduce(e,function(e,t,i){return t&&(e[i]=t),e},{}))},l=function(){this.current=void 0},c={},d=["login","logout","signup","refresh","update"],u=t.GuestContext=function(e){this._h=e||{},this.on("login",r),this.on("signup",r),this.on("refresh",r),this.on("update",r),this.on("logout",l)};u.actions=d,n.extend(u.prototype,i.Events,{_r:0,retain:function(){return 0===this._r++&&this.trigger(s,this,!0),this},release:function(){this._r>0&&0===--this._r&&this.trigger(s,this,!1)},watched:function(){return this._r>0},spawn:function(){var e=new u(c);return e._p=this,e.current=this.current,e.on(s,o,this),this.on("all",a,e),e},disown:function(e){e.off(s,o,this),this.off("all",a,e),e._r>0&&this.release()}});var f=function(){throw"Not implemented"};n.each(d,function(e){u.prototype[e]=function(){return(this._h[e]||f).apply(this,arguments)},c[e]=function(){return this._p[e].apply(this._p,arguments)}})}(this),function(e,t){"use strict";function i(){}var n,s,o=e.Disney,a=e._,r=e.JSON,l=a.rest,c={query:i,provide:i,pub:i,sub:i};r&&e.postMessage&&(e.addEventListener?(n=function(t){e.addEventListener("message",t,!1)},s=function(t){e.removeEventListener("message",t,!1)}):e.attachEvent&&(n=function(t){e.attachEvent("onmessage",t)},s=function(t){e.detachEvent("onmessage",t)})),o.xdc=function(e,i,o,d){function u(t){var n=v+r.stringify([t].concat(l(arguments)));e.postMessage(n,i)}function f(e){var n,s,o=h.length;e.origin===i&&"string"==typeof e.data&&e.data.substr(0,o)===h&&(n=r.parse(e.data.substr(o)),"string"==typeof n[0]&&(s=a.has(p,n[0])&&p[n[0]])&&s.apply(t,l(n)))}var p,h="xdc "+o+" ",v="xdc "+(d||o)+" ",m={},b={},g={};return n?(n(f),p={call:function(e,i,n){function s(){if(r++)throw"reply already sent";u("reply",i,a.toArray(arguments))}var o=a.has(b,e)&&b[e],r=0,l=!1;if(o)try{o.apply(t,n.concat([s])),l=!0}finally{l||u("error",i,"unexpected remote exception")}else u("error",i,"undefined remote procedure: "+e)},reply:function(e,i){var n=a.has(m,e)&&m[e];n&&(delete m[e],n.apply(t,i))},notify:function(e,i){var n,s,o=a.has(g,e)&&g[e];if("number"==typeof i.length){if(o)for(n=0,s=o.length;s>n;++n)o[n].apply(t,i);"all"!==e&&p.notify("all",[e].concat(i))}},error:function(e,t){var i=a.has(m,e)&&m[e];if(i)throw delete m[e],""+t}},{query:function(e){var t=l(arguments),i=t[t.length-1],n=a.uniqueId();i&&(m[n]=i,u("call",e,n,a.initial(t)))},provide:function(e,t){b[e]=t},pub:function(e){u("notify",e,l(arguments))},sub:function(e,t){var i=g[e];i||(i=g[e]=[]),i.push(t)},close:function(){s(f)}}):c}}(this),function(e){"use strict";var t,i=[],n="unknown",s=e.Disney.age=function(e){i?i.push(e):e(n)},o=function(){if(i){for(var s=0;s<i.length;++s)i[s](n);e.clearTimeout(t),i=t=null}};s.known=function(e){n="string"==typeof e&&e||"unknown",o()},t=e.setTimeout(o,5e3)}(this),function(e){"use strict";function t(e){e?n.age.known((e.profile.ageBand||"unknown").toLowerCase()):i()}function i(){n.age.known(null)}var n=e.Disney;n.ageGuest=function(e){e&&e.profile&&e.profile.ageBand?t(e):i(),e.refresh().fail(i),e.on("login",t),e.on("update",t),e.on("logout",i)}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._,s=e.document,o=/^([^\/:]+:\/\/[^\/]+)\//;t.initGuestConsumer=function(a,r){var l=o.exec(a)||o.exec(e.location.href),c=i.Deferred(),d={};return n.each(t.GuestContext.actions,function(e){d[e]=function(){return c.then(function(t){return i.Deferred(function(i){t.query(e,function(e,t){t?i.reject(t):i.resolve(e)})})})}}),d=new t.GuestContext(d),t.ageGuest(d),c.then(function(e){e.sub("all",function(){d.trigger.apply(d,n.toArray(arguments))})}),l?!function(){var e,n=s.createElement("div"),o=s.createElement("iframe");o.setAttribute("allowtransparency","true"),o.setAttribute("frameBorder","0"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("scrolling","no"),o.setAttribute("style","overflow:hidden;display:block;"),o.src=a,n.setAttribute("style","display:none;min-height:2000px;position:absolute;top:0;bottom:0;width:100%;z-index:10000;"),n.appendChild(o),r=r||s.body,r.appendChild(n),r.style.position="relative",e=t.xdc(o.contentWindow,l[1],"guest"),e.provide("ready",function(t){t(),c.resolve(e)}),d.on("open",function(){n.style.display="block",o.focus&&o.focus(),i("html,body").scrollTop(0)}),d.on("close",function(){n.style.display="none"})}():c.reject(),d}}(this),function(e){"use strict";var t=e.Disney,i=e._,n=e.jQuery;t.initEmptyGuestConsumer=function(){var e={};return i.each(t.GuestContext.actions,function(t){e[t]=function(){return n.Deferred()}}),new t.GuestContext(e)}}(this),function(e){"use strict";var t=e.Disney;t.language=t.language||function(e){var t=e&&e[0],i=t&&t.replace(/-.*$/,"");return i||"en"}(t.locales)}(this),function(e){"use strict";var t=e.console,i=e.Disney,n=i.Ads=i.Ads||{},s=e._;n.MessageBus=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n)try{n.callback(e)}catch(s){d(s)}}}function o(e,t){var i={name:e,body:t},s=(r[e]||[]).slice(0);n(i,s),s=(r["*"]||[]).slice(0),n(i,s)}function a(e,t,i){s.each(c,function(n){if(n!==i)try{n.bus[n.functionName](e,t)}catch(s){}})}var r={},l=this,c={},d=function(i){var n=e.onerror;t&&t.error&&t.error("MessageBus:: "+i.stack||"MessageBus:: "+i.toString()),n&&n("MessageBus:: "+i.toString())};"undefined"==typeof i.Ads.MessageBus.Connections&&(i.Ads.MessageBus.Connections={}),this.addConnection=function(e,t,n){if(!n){var s=e+"_"+Math.round(1e6*Math.random()),r="Disney.Ads.MessageBus.Connections."+s,d=s+"_primarySendMessage",u=s+"_secondarySendMessage",f=function(e,t){
o(e,t),a(e,t,h)},p={id:e,bus:l,"function":f,functionName:d,uniqueId:s,globalId:r};i.Ads.MessageBus.Connections[s]={},i.Ads.MessageBus.Connections[s][d]=f,l[d]=f;var h={id:e,bus:{sendMessage:t.sendMessage,addMessageListener:t.addMessageListener,removeMessageListener:t.removeMessageListener,addConnection:t.addConnection,removeConnection:t.removeConnection},functionName:u,uniqueId:s,globalId:r};n={primary:p,secondary:h},i.Ads.MessageBus.Connections[s].connection=n,c[e]=h;try{t.addConnection(e,l,n)}catch(v){}h.bus=t}},this.removeConnection=function(e){var t=c[e];if(t){var n=i.Ads.MessageBus.Connections[t.uniqueId].connection;l[n.primary.functionName]=null,i.Ads.MessageBus.Connections[t.uniqueId]=null,c[e]=null,t&&t.bus&&t.bus.removeConnection&&t.bus.removeConnection(e)}},this.sendMessage=function(e,t){o(e,t),a(e,t)},this.addMessageListener=function(e,t){var i={name:e,callback:t};r[e]||(r[e]=[]),r[e].push(i)},this.removeMessageListener=function(e,t){for(var i=r[e]||[],n=0;n<i.length;n++){var s=i[n];s&&s.name===e&&s.callback===t&&(i[n]=null)}},this.destroy=function(){s.each(c,function(e){l.removeConnection(e)}),c=null,s.each(r,function(e){l.removeMessageListener(e.name,e.callback)}),r=null,l=null}}}(this),function(e){"use strict";var t="https://pubads.g.doubleclick.net/gampad/ads?sz=768x432&iu&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid=604",i=e.Disney,n=i.Ads=i.Ads||{},s=e.jQuery,o=e._,a=o.extend,r=function(){},l=function(e){var t=this,i=function(){t.apply(this,arguments)};return r.prototype=this.prototype,i.prototype=new r,a(i.prototype,e),i.sub=this.sub,i},c=n.AbstractAdPlayer=function(e,i){this.config={adTagUrl:t+n.isMobile?"&m_ast=vast":""},e||this.init(e,i)};c.sub=l,c.prototype={id:null,config:null,messageBus:null,analytics:null,init:function(e,t){this.id=e,s.extend(this.config,t)},destroy:function(){this.messageBus&&(this.messageBus.destroy(),this.messageBus=null),this.analytics&&(this.analytics.destroy(),this.analytics=null)}}}(this),function(e){"use strict";function t(){Ee.ajax(ke,{dataType:"script",cache:!0,success:i,error:n})}function i(){re=e.google.ima,re.settings.setLocale(Te.language),s()}function n(){ye.messageBus.sendMessage("adOpportunityEnd")}function s(){o(),a(),Me.mobile||se()}function o(){var e=Ee("#"+ye.id);e.html('<div class="adPlayer"><div class="overlay adStartButton"><img width="100%" src="https://lumiere-a.akamaihd.net/v1/game_container/img/playButton.png" /></div><div class="overlay adControls" style="display:none;z-index:6"><div class="adCountdown"><h3>'+ye.config.translations.advertisement+'</h3></div><div class="adSkipButton"><h3>'+ye.config.translations.skip_ad+'</h3></div></div><div class="overlay playControls" style="z-index:3;"><div class="playButton"></div></div><div class="overlay adClickTarget" style="z-index:4;"></div><video style="display:none" class="playerElement" poster="'+ye.config.poster+'" autoplay="true" width="100%" oncontextmenu="return false;"></video><div class="adsContainer"></div></div>')}function a(){r(),c(),w(),y(),u(),p(),C(),T(),g()}function r(){ue=Ee("#"+ye.id+" .adControls")[0],he=Ee("#"+ye.id+" .adStartButton")[0]}function l(){ue=null}function c(){ge=Ee("#"+ye.id+" .playControls"),ge.bind("click",D)}function d(){ge&&(ge.unbind("click",D),ge=null)}function u(){ce=Ee("#"+ye.id+" .adClickTarget")[0]}function f(){ce&&(ce=null)}function p(){Ee("#"+ye.id+" .adSkipButton").on("click",v)}function h(){Ee("#"+ye.id+" .adSkipButton").off("click",v)}function v(){me&&me.skip()}function m(){ve=new re.AdsLoader(pe),ve.addEventListener(re.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,ie,!1),ve.addEventListener(re.AdErrorEvent.Type.AD_ERROR,ne,!1)}function b(){ve&&(ve.removeEventListener(re.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,ie,!1),ve.removeEventListener(re.AdErrorEvent.Type.AD_ERROR,ne,!1),ve=null)}function g(){Me.mobile&&Ee(".adPlayer").addClass("hide-controls")}function y(){Me.mobile&&(Ee(he).addClass("fulloverlay"),Ee(he).on("click",x))}function _(){Ee(he).off("click",x)}function w(){we=Ee("#"+ye.id+" .playerElement")[0],Me.mobile&&(we.style.display="inline"),we&&we instanceof Pe&&Ee(we).on("click",x)}function k(){we&&we instanceof Pe&&(Ee(we).off("click",x),we.hasOwnProperty("pause")&&we.pause(),we=null)}function x(){se()}function C(){fe=Ee("#"+ye.id+" .adsContainer")[0],pe=new re.AdDisplayContainer(fe,we,ce)}function S(){fe=null,pe=null}function T(){Te.Utilities.onFullScreenChange(P)}function E(){Te.Utilities.offFullScreenChange(P)}function P(){var e=M(),t=e.width,i=e.height,n=e.viewMode;A(t,i),me.resize(t,i,n)}function M(){var e=Ce,t=Se,i=re.ViewMode.NORMAL;return Te.Utilities.isFullScreen()&&(e=De.innerWidth,t=De.innerHeight,i=re.ViewMode.FULLSCREEN),{width:e,height:t,viewMode:i}}function A(e,t){Ee("#"+ye.id).parent().width(e).height(t)}function D(){return de?void(de=!1):Ie&&(Ie=!1,Me.kindle)?void se():($(),j(),void(me.isCustomPlaybackUsed()?we.play():me.resume()))}function L(){b(),ee(),l(),d(),f(),h(),S(),E(),k(),_()}function $(){me.isCustomClickTrackingUsed()&&Ee(ce).addClass("fulloverlay")}function I(){Ee(ce).removeClass("fulloverlay")}function O(){Ee(ge[0]).addClass("fulloverlay")}function j(){Ee(ge[0]).removeClass("fulloverlay")}function B(){ue.style.display="inline"}function U(){ue.style.display="none"}function R(){$()}function N(){be&&ye.messageBus.sendMessage("adEnd"),ye.messageBus.sendMessage("adOpportunityEnd"),I(),j(),U()}function V(){de=!0,le=!0,Me.mobile&&(I(),O()),Ae(Y,0)}function F(){ye.messageBus.sendMessage("paused")}function z(t){var i=t.getAd().getAdPodInfo().getIsBumper(),n=Math.round(t.getAd().getDuration());Oe=!1,H(),!i&&n>xe&&(B(),W(),be=!0,ye.messageBus.sendMessage("adStart"),_e=e.setInterval(W,1e3),ye.messageBus.sendMessage("played"))}function W(){var e=Math.round(me.getRemainingTime());Ee("#"+ye.id+" .adCountdown h3").html(ye.config.translations.advertisement+": "+e)}function H(){Ee("#"+ye.id+" .adSkipButton").toggle(Oe)}function Y(){de=!1}function G(){R()}function q(){_e&&e.clearInterval(_e),Ae(N,0)}function K(){if(Me.mobile&&!me.isCustomPlaybackUsed()){we&&(we.style.visibility="hidden");var e=fe&&fe.firstChild;e&&(e.style.top=0,e.style.width="100%",e.style.height="100%")}}function J(){ye.messageBus.sendMessage("adProgress")}function Q(){}function Z(){me&&(Oe=me.getAdSkippableState(),H())}function X(e){var t={currentTime:0};try{me=e.getAdsManager(t)}catch(i){}me&&(me.addEventListener(re.AdEvent.Type.CLICK,Q),me.addEventListener(re.AdEvent.Type.LOADED,K),me.addEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Q),me.addEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,Q),me.addEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),me.addEventListener(re.AdEvent.Type.FIRST_QUARTILE,J),me.addEventListener(re.AdEvent.Type.MIDPOINT,J),me.addEventListener(re.AdEvent.Type.THIRD_QUARTILE,J),me.addEventListener(re.AdEvent.Type.COMPLETE,J),me.addEventListener(re.AdEvent.Type.ALL_ADS_COMPLETED,Q),me.addEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),me.addEventListener(re.AdEvent.Type.STARTED,z),me.addEventListener(re.AdEvent.Type.PAUSED,F),me.addEventListener(re.AdEvent.Type.CLICK,V),me.addEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,G),me.addEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,q),me.addEventListener(re.AdEvent.Type.SKIPPABLE_STATE_CHANGED,Z),me.addEventListener(re.AdEvent.Type.SKIPPED,Q))}function ee(){if(me){me.removeEventListener(re.AdEvent.Type.CLICK,Q),me.removeEventListener(re.AdEvent.Type.LOADED,K),me.removeEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Q),me.removeEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,Q),me.removeEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),me.removeEventListener(re.AdEvent.Type.FIRST_QUARTILE,J),me.removeEventListener(re.AdEvent.Type.MIDPOINT,J),me.removeEventListener(re.AdEvent.Type.THIRD_QUARTILE,J),me.removeEventListener(re.AdEvent.Type.COMPLETE,J),me.removeEventListener(re.AdEvent.Type.ALL_ADS_COMPLETED,Q),me.removeEventListener(re.AdErrorEvent.Type.AD_ERROR,Q),me.removeEventListener(re.AdEvent.Type.STARTED,z),me.removeEventListener(re.AdEvent.Type.PAUSED,F),me.removeEventListener(re.AdEvent.Type.CLICK,V),me.removeEventListener(re.AdEvent.Type.CONTENT_PAUSE_REQUESTED,G),me.removeEventListener(re.AdEvent.Type.CONTENT_RESUME_REQUESTED,q),me.removeEventListener(re.AdEvent.Type.SKIPPABLE_STATE_CHANGED,Z),me.removeEventListener(re.AdEvent.Type.SKIPPED,Q);try{me.destroy()}catch(e){}me=null}}function te(){var e=M(),t=e.width,i=e.height,n=e.viewMode;A(t,i),me.init(t,i,n)}function ie(e){if(X(e),me)try{te(),me.start()}catch(t){}}function ne(){N()}function se(){Ee(he).removeClass("fulloverlay"),oe()}function oe(){ve||(m(),ye.messageBus.sendMessage("adOpportunityStart"),ve.requestAds(ae()),pe.initialize(),Me.kindle||(we.play(),we.pause()))}function ae(){var e=new re.AdsRequest;return e.adTagUrl=ye.config.adTagUrl,e.adType="video",e.linearAdSlotWidth=Ce,e.linearAdSlotHeight=Se,e.nonLinearAdSlotWidth=Ce,e.nonLinearAdSlotHeight=Se,e}var re,le,ce,de,ue,fe,pe,he,ve,me,be,ge,ye,_e,we,ke="https://imasdk.googleapis.com/js/sdkloader/ima3.js",xe=6,Ce=750,Se=500,Te=e.Disney,Ee=e.jQuery,Pe=e.HTMLVideoElement,Me=e.Modernizr,Ae=e.setTimeout,De=e.window,Le=Te.Ads=Te.Ads||{},$e=Le.AbstractAdPlayer,Ie=!0,Oe=!1;Le.HTMLAdPlayer=$e.sub({init:function(e,i){e&&(ye=this,$e.prototype.init.call(this,e,i),ye.messageBus.sendMessage("adOpportunityStart"),t())},destroy:function(){L(),ee(),b();var e=Ee("#"+ye.id);e.empty(),ye=null,$e.prototype.destroy.call(this)}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads=t.Ads||{},n=i.HTMLAdPlayer;t.Ads.AdPlayer=function(e,i){var s;return s=new n,s.messageBus=new t.Ads.MessageBus,s.analytics=new t.Ads.Analytics(s),i&&!i.poster&&(i.poster=""),s.init(e,i),s}}(this),function(e){"use strict";function t(e){return l.Deferred(function(t){s.age(function(i){"unknown"!==i&&e.setTargeting("age",i),t.resolve()})}).promise()}function i(){return e.ActiveXObject&&"undefined"!=typeof u.documentElement.style.opacity}var n,s=e.Disney,o=s.Ads=s.Ads||{},a=e.Modernizr,r=e.Backbone,l=e.jQuery,c=e._,d=e.location.host,u=e.document,f=c.each,p=c.extend;e.googletag=p({cmd:[]},e.googletag);var h=function(t){e.googletag.cmd.push(function(){t(e.googletag)})},v=function(){return"production"!==s.env&&(d=d.match(/\.local\.diznee\.net/)?d.split(".").slice(0,-3).join("."):d.replace(/-.+\.fe\.mh\.disney\.io/,"").replace(/_/g,".")),d.replace("www.","")},m=function(){var e=/^(?:[a-z0-9-]+\.)*?([a-z0-9-]+(?:\.com?)?(?:\.[a-z]{2})?)$/;return v().match(e)[1]},b=function(){},g=function(e){var t=this,i=function(){t.apply(this,arguments)};return b.prototype=this.prototype,i.prototype=new b,p(i.prototype,e),i.sub=this.sub,i},y=function(e,t,i,n){var s=this;this.id||(this.id=c.uniqueId("gpt-")),c.isArray(i[0])||(i=[i]),s._w=i[0][0],s._h=i[0][1],s.name||(s.name=e),s._d=i,s.events=c.extend({},r.Events),h(function(e){s.define(e,t,n)})};y.sub=g,y.prototype={define:function(e,t,i){var n=this._s=e.defineSlot(t,this._d,this.id);f(i,function(e,t){n.setTargeting(t,e)}),n.addService(e.pubads())},tag:function(){return'<aside class="gpt '+this.name+'" id="'+this.id+'" style="'+this.style()+'"></aside>'},style:function(){return"width:"+this._w+"px;height:"+this._h+"px"},ready:function(){var e=this;e._$=l("#"+this.id),h(function(){n(),t(e._s).then(function(){$(e.id)})})},restore:function(){this._$&&!this._$.closest("html").length&&l("#"+this.id).remove()},remove:function(){this._$.remove()},refresh:function(){var e=this._s;e&&h(function(t){t.pubads().refresh([e])})},sizes:function(){return c.map(this._d,function(e){return e[0]+"x"+e[1]})}};var _,w,k=y.sub({tag:function(){return'<div class="gpt '+this.name+'" id="'+this.id+'"></div>'}}),x=[300,60];a.mobile?(w="gpt_mobile.js",_={"native":[k,[2,2]]},r.Resize.width()>=728&&l("html").addClass("tablet-ads")):(w="gpt.js",_={"native":[k,[2,2]]});var C,S,T,E=o.DoubleClickAdContext=function(e){var t=this;t.adData=e,t.slots=T={},t.adCounts={},t.translations={advertisement:"Advertisement",skip_ad:"Skip Ad"},t.unit=C=a.mobile&&t.adData.config.mobile||t.adData.config.web,t._t=S=t.adData.config.targeting,t.adSystem="dfp",t.companion="gpt-companion:300:60",t.ageReady=l.Deferred(function(e){s.age(e.resolve)}).promise(),t.status=function(){return t.ageReady},t.useAdPattern=function(){return!0},t.iterateRegistryName=function(e){var i=t.adCounts[e]||0,n=e;return i>0&&(n=e+"-"+i),t.adCounts[e]=i+1,n},this.bindGptEventListeners()},P=function(e){var t=e.externals||[],i=t.length>0?t[0]:{};return i},M=function(e,t){return(c.find(t,function(t){return t.kaltura_act_id===e.account&&(!t.kaltura_group||t.kaltura_group===e.group)})||{cms_id:2044}).cms_id};E.prototype={noAds:function(){return!this.unit},tag:function(e,t,i){var n,s=_[e];return s?(n=s[0],s=new n(e,i||this.unit,s[1],p({},this._t,t)),this.slots[this.iterateRegistryName(e)]=s,s.tag()):""},showCDSAds:function(){return!1},cds:function(){return!!this.adData.cds},refresh:function(){var t=this;h(function(i){s.age(function(){e.setTimeout(function(){i.pubads().refresh(c.pluck(t.slots,"_s"))},0)})})},ready:function(){f(this.slots,function(e){e.ready()}),this.refresh()},helpers:function(e,t,i){var n=this,s={};return f(_,function(e,o){s[o+"Ad"]=function(){return n.tagWithTargeting(o,t,i)}},this),s},tagWithTargeting:function(e,t,i){return this.tag(e,p({},t,this.adTargeting),i)},setTranslation:function(e,t){this.translations[e]=t},setTargeting:function(e,t){this._t[e]=t},sizes:function(){return c.union.apply(c,c.invoke(this.slots,"sizes"))},getVideoAdTagUrl:function(e){var t=this.video?this.video:{},i=this.adData.cmsIdKalturaMap||[{}],n=M(P(t),i),o=encodeURIComponent(s.Ads.getAdUnit()),r=encodeURIComponent(s.Ads.getCompanionSizesString()),l=encodeURIComponent(s.Ads.getTargetingString()),c=encodeURIComponent(s.Ads.getAdRule()),d=encodeURIComponent(s.Ads.getDescriptionUrl()),u="https://pubads.g.doubleclick.net/gampad/ads?sz=768x432&adRule="+c+"&iu="+o+"&ciu_szs="+r+"&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid="+n+"&cust_params="+l+"&description_url="+d;return e&&e.length>0&&(u+="&vid="+e),a.mobile&&(u+="&m_ast=vast"),u},gptSlotLookupAndTrigger:function(e,t){var i=c.find(this.slots,function(e){return e._s===t.slot});i&&i.events.trigger(e,t)},bindGptEventListeners:function(){var e=this;h(function(t){["slotRenderEnded"].forEach(function(i){t.pubads().addEventListener(i,function(t){e.gptSlotLookupAndTrigger.call(e,i,t)})})})},findSlotById:function(e){return c.find(this.slots,function(t){return t.id===e})}},f(["restore","remove"],function(e){E.prototype[e]=function(){f(this.slots,function(t){t[e]()})}});var A=function(e){return e.replace(/[^\w\|]/gi,"")},D=function(){return e.location.hostname},L=function(){var e=s.abn&&s.abn.testcase();return e?A(e.id+"|"+e.group):""};n=c.once(function(){var t=e.googletag,i=t.pubads(),n=L();i.setTargeting("tstHostname",D()),n&&i.setTargeting("abTest",encodeURIComponent(n)),i.enableAsyncRendering(),i.collapseEmptyDivs(),i.disableInitialLoad(),t.enableServices()});var $=function(t){e.googletag.display(t);var i=new e.MutationObserver(function(e){e.forEach(function(e){for(var t=e.target.querySelectorAll("iframe"),i=0;i<t.length;i++)t[i].setAttribute("tabindex","-1")})}),n={childList:!0,subtree:!0},s=u.getElementById(t);s&&i.observe(s,n)};l(function(){var e={dataType:"script",cache:!0};l.ajax("//www.googletagservices.com/tag/js/"+w,e)}),e.sendJSEvent=function(e){try{"pauseVideo"===e?s.Ads.getPlayer().messageBus.sendMessage("pause"):"playVideo"===e&&s.Ads.getPlayer().messageBus.sendMessage("resume")}catch(t){}};var I,O=function(e){if(u.createEvent){var t=u.createEvent("Event");t.initEvent(e,!0,!0),u.dispatchEvent(t)}},j=function(){u.attachEvent&&!i()?u.documentElement.fakePlayEvent++:O("DisneyMediaPlayerPlay")},B=function(){u.attachEvent&&!i()?u.documentElement.fakePauseEvent++:O("DisneyMediaPlayerStop")};l("document").ready(function(){u.attachEvent&&!i()&&(u.documentElement.fakePlayEvent=0,u.documentElement.fakePauseEvent=0)}),c.extend(o,{isMobile:a.mobile,setPlayer:function(e){I&&I.messageBus&&(I.messageBus.removeMessageListener("played",j),I.messageBus.removeMessageListener("paused",B)),I=e,I&&I.messageBus&&(I.messageBus.addMessageListener("played",j),I.messageBus.addMessageListener("paused",B))},getPlayer:function(){return I},getAdUnit:function(){return C},getTargeting:function(){return S},getTargetingString:function(){var e="",t=L();return S&&!S.tstHostname&&(S.tstHostname=D()),t&&(S.abTest=t),c.each(S,function(t,i){i&&t&&(e+=i+"="+t+"&")}),e.slice(0,e.length-1)},getCompanionSizes:function(){return[x]},getCompanionSizesString:function(){var e=s.Ads.getCompanionSizes(),t="";return c.each(e,function(e){e&&(t+=e[0]+"x"+e[1]+",")}),t.slice(0,t.length-1)},getAdRule:function(){var e=s.Ads.getAdContext(),t=e.adData||{},i=0===t.dfpAdRule?0:1;return i},getDescriptionUrl:function(){return"https://"+m()}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads=t.Ads||{},n=function(){return{}},s=e.jQuery,o=i.NoAdContext=function(e){var t=s.Deferred().resolve().promise();this.cds=function(){return e.cds},this.noAds=function(){return!0},this.status=function(){return t}};o.prototype={adSystem:"noads",showCDSAds:function(){return!1},helpers:n,ready:n,refresh:n,restore:n,remove:n,setTargeting:n,setTranslation:n,tag:function(){return""},sizes:function(){return[]}}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){"undefined"!=typeof t.top&&t.top.on("ready",function(e){var t=e.ads;t&&t.helpers&&t.ready(e)})})}(this),function(e){"use strict";var t,i=e.Disney,n=i.Ads,s=e._;i.Ads.AdContext=function(e){var i=e.adData;switch(i.adSystem){case"dfp":t=new n.DoubleClickAdContext(i);break;default:t=new n.NoAdContext(i)}return t},s.extend(n,{getAdSlots:function(){return i.top?i.top.current.ads.slots:t},getAdContext:function(){return i.top?i.top.current.ads:t}})}(this),function(e){"use strict";function t(){var t=i.DidOpts,n=o.size(t),s=0,a="?";for(var r in t)t.hasOwnProperty(r)&&(a+=r+"="+t[r],n!==s+1&&(a+="&"),s++);if(i.didBase)return i.initGuestConsumer(i.didBase+e.location.host+encodeURI(a));var l=i.initEmptyGuestConsumer();i.ageGuest(l)}var i=e.Disney,n=e.Grill,s=e.jQuery,o=e._,a=t();if(i.NAV(a),i.DL&&i.DL(a),n){var r=n.BurgerView.extend({getAdContext:function(e){return new i.Ads.AdContext({adData:e})},initialize:function(){this.guest=a.spawn(),n.BurgerView.prototype.initialize.apply(this,arguments)},spawn:function(e){var t=this.collection,i=this.ads;i||(this.ads=i=this.getAdContext(t.adData));var s={ads:i,cds:i.cds(),noAds:i.noAds(),model:e,guest:this.guest};return n.ModuleView.create(e.get("view"),s)},cto:function(){var t=this.collection.cto,n=this.ads;n&&n.unit&&(t=s.extend({adPageName:n.unit,adSizeList:n.sizes().join(",")},t));var o=e.activeAbTest||i.abn.testcase();return o&&(t=s.extend({abTest:o.id+"|"+o.group},t)),i.ctoOptions&&(t=s.extend({},t,i.ctoOptions)),t},remove:function(){return a.disown(this.guest),n.BurgerView.prototype.remove.call(this)}});s(function(){e.Grill.config({container:i.top,view:r})})}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){i("footer #utility");t.top.on("ready",function(e){})})}(this),Whiskers("page_elements.page_styles",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<style type="text/css"> /* header background images and color settings */ '),n.s(n.f("header_theming",e,t,1),e,t,0,93,1441,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1025px){ "),i.s(i.f("image",e,t,1),e,t,0,143,234,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),i.b(i.v(i.f("image",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,266,969,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar{ background-color: rgb("),i.b(i.v(i.f("rgb",e,t,0))),i.b("); } #nav-outer-container.full-nav #nav-header-bg .nav-header-fade { background-color: rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 1); background-image: -webkit-linear-gradient(left, rgb("),i.b(i.v(i.f("rgb",e,t,0))),i.b(") 0%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.9) 15%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.8) 27%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.5) 50%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.15) 75%, transparent 100%); background-image: linear-gradient(to right,"),i.b(i.v(i.f("rgb",e,t,0))),i.b(" 0%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.9) 15%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.8) 27%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.5) 50%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.15) 75%, transparent 100%); background-color: transparent; "),i.s(i.f("hex",e,t,1),e,t,0,831,958,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00"),i.b(i.v(i.f("hex",e,t,0))),i.b("', endColorstr='#FF"),i.b(i.v(i.f("hex",e,t,0))),i.b("', GradientType=0)\";")}),e.pop()),i.b(" } ")}),e.pop()),i.b(" } @media screen and (min-width: 1025px) and (-webkit-min-device-pixel-ratio: 1.3), not all, not all, only screen and (min-resolution: 125dpi), only screen and (min-resolution: 1.3dppx){ "),i.s(i.f("image_retina",e,t,1),e,t,0,1194,1292,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),i.b(i.v(i.f("image_retina",e,t,0))),i.b("); } ")}),e.pop()),i.b(" } "),i.s(i.f("hidden",e,t,1),e,t,0,1323,1429,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container{ display: none; } #body-wrapper, #body-wrapper:not(.compressed){ margin-top: 0px; } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("footer_theming",e,t,1),e,t,0,1480,1663,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("footer_transparency",e,t,1),e,t,0,1505,1638,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" footer{ background: none; min-height: 210px; } footer #utility{ padding-top: 0; } footer #utility .social-links p{ margin-top: 0; } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" /* page background images and color settings */ "),n.s(n.f("background_theming",e,t,1),e,t,0,1754,3142,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,1776,1839,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("vertical_repeating_left",e,t,1),e,t,0,1889,1966,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .starfield.star-left{ background-image: url("),i.b(i.v(i.f("vertical_repeating_left",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("vertical_repeating_right",e,t,1),e,t,0,2024,2103,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .starfield.star-right{ background-image: url("),i.b(i.v(i.f("vertical_repeating_right",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("centered_background_image",e,t,1),e,t,0,2163,2580,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-position: top center; background-repeat: no-repeat; } "),i.s(i.f("mobile",e,t,1),e,t,0,2260,2347,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); background-size: 768px auto; } ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2371,2567,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 768px){ #background-styles{ background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); background-size: 1600px auto; } .starfield.star-right, .starfield.star-left{ visibility: hidden; } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("content_background_image",e,t,1),e,t,0,2640,3112,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #burger-container{ background-repeat: no-repeat; background-position: top center; } "),i.s(i.f("mobile",e,t,1),e,t,0,2736,2821,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #burger-container{ background-size: 100% auto; background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2845,3099,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 768px){ #burger-container{ background-size: 133% auto; background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } } @media screen and (min-width: 1200px){ #burger-container{ background-size: 1600px auto; background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("section_styles",e,t,1),e,t,0,3185,3625,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" .section-color, .module .rich-text-enabled a{ color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; } .section-border{ border-color: "),i.b(i.v(i.f("color",e,t,0))),i.b(" !important; } html.no-touch .module.rich_text, html.no-touch .module .rich-text-enabled a:hover, html.no-touch .module.stats a:hover{ color: rgb("),i.b(i.v(i.f("rgb_lighten",e,t,0))),i.b("); } html.no-touch .module a.underline:hover:after, html.no-touch .module .module_header ul li.underline:not(.active) > span:hover:after{ border-bottom-color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" </style>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._;i(function(){t.top.on("ready",function(t){var s=i("#body-wrapper"),o=i("#nav-outer-container"),a=i("#nav-inner-container"),r=i("#background-styles"),l=o.is(":visible");if(o.removeClass("nav-text-color-dark nav-text-color-light"),t.collection&&t.collection.style){var c=t.collection.style,d=e.Whiskers.page_elements.page_styles.render(c),u=c.section_class||"";i("#style-pack-theming").html(d),s.attr("data-section",u)}if(c&&c.background_theming&&s.addClass("body-text-color-"+c.background_theming.text_color),c&&c.header_theming){var f=c.header_theming,p="slim"===f.style;f.text_color&&o.addClass("nav-text-color-"+f.text_color),p&&(s.addClass("compressed"),o.removeClass("full-nav").addClass("compressed slim-nav"))}else o.removeClass("nav-text-color-dark nav-text-color-light");c&&c.background_theming&&c.background_theming.content_background_image&&l&&(s.addClass("gapless"),o.addClass("gapless"));var h=function(){var e=0;if(l){var t=a.height(),n=i("#navbar").height();e=t>0?t:n}r.css("background-position","top "+e+"px center")};h(),i(e.window).on("scroll",n.debounce(h))})})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.Math,s=/%%([a-z0-9]+)%%/g,o=function(e,t){return"rng"===t?""+n.floor(1e18*n.random()):""},a=function(t){if(t){var n=t.toString().replace(s,o),a=e.document.createElement("iframe");a.src=n,a.frameborder="0",a.height="1",a.width="1",a.style.display="none",i(e.document.body).prepend(a)}};i(function(){t.top.on("ready",function(e){var t=e.collection;t&&t.floodlight&&a(t.floodlight)})})}(this),function(e){"use strict";var t=e.Spatula;t.exclude("*p")}(this),Whiskers("search.results",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="search-bound'),n.s(n.f("meta",e,t,1),e,t,0,60,111,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("total",e,t,1),e,t,1,0,0,"")||i.b(" no_results display-view module")}),e.pop()),n.b('"> '),n.s(n.f("meta",e,t,1),e,t,0,132,810,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <section class="search_top"> '),i.b(' <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),i.b(i.v(i.f("placeholder",e,t,0))),i.b('" spellcheck="false" autocorrect="off" autocapitalize="off" value="'),i.s(i.f("keywords",e,t,1),e,t,0,533,545,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("keywords",e,t,0)))}),e.pop()),i.b('"> <span class="search-button"> <input class="large button" type="submit" value="'),i.b(i.v(i.d("translations.search",e,t,0))),i.b('"> </span> </div> '),i.s(i.f("active_section",e,t,1),e,t,0,699,771,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<input type="hidden" value="'),i.b(i.v(i.f("active_filter",e,t,0))),i.b('" name="f[search_section]">')}),e.pop()),i.b(" </form> </section> ")}),e.pop()),n.b(' <div class="refine-container"> '),n.b(' <section class="facet_groups"> <p class="refine-title">'),n.s(n.f("meta",e,t,1),e,t,0,946,979,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.sw_refine_search",e,t,0)))}),e.pop()),n.b("</p> "),n.s(n.f("primary",e,t,1),e,t,0,1005,1421,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("facets",e,t,1),e,t,0,1017,1409,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("search_section",e,t,1),e,t,0,1037,1389,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <section class="filter-container'),i.s(i.f("active",e,t,1),e,t,0,1081,1088,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('"> <a class="'),i.b(i.t(i.f("searchIcons",e,t,0))),i.b('-filter" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('"> <span class="facet-icon '),i.b(i.t(i.f("searchIcons",e,t,0))),i.b("-icon"),i.s(i.f("active",e,t,1),e,t,0,1211,1219,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" present")}),e.pop()),i.b('"></span> <span class="facet-name '),i.b(i.t(i.f("searchIcons",e,t,0))),i.b('-content">'),i.b(i.v(i.f("label",e,t,0))),i.b("</span> "),i.s(i.f("count",e,t,1),e,t,0,1318,1362,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="num-result"> ['),i.b(i.v(i.f("count",e,t,0))),i.b("]</span>")}),e.pop()),i.b(" </a> </section> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' </section> </div> <div class="search-view-container"> '),n.s(n.f("meta",e,t,1),e,t,0,1497,2846,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("total",e,t,1),e,t,0,1508,2565,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("suggestion",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="totals"> <h2 class="'),i.s(i.f("active_section",e,t,1),e,t,0,1620,1630,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("in-section")}),e.pop()),i.b('"><strong>'),i.b(i.v(i.f("total",e,t,0))),i.b("</strong> "),i.b(i.v(i.d("translations.results_for",e,t,0))),i.b(' <span class="search-term"><strong>&ldquo;'),i.b(i.v(i.f("keywords",e,t,0))),i.b("&rdquo;</strong></span></h2> "),i.s(i.f("active_section",e,t,1),e,t,0,1808,2056,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="type-container '),i.b(i.v(i.f("active_class",e,t,0))),i.b('-content"> <div class="section-type"> <span class="in">'),i.b(i.v(i.d("translations.in",e,t,0))),i.b('</span> <span class="section-icon '),i.b(i.v(i.f("active_class",e,t,0))),i.b('-icon"></span> <span class="type-label">'),i.b(i.v(i.f("active_section",e,t,0))),i.b("</span> </div> </div> ")}),e.pop()),i.b(" </div> ")),i.b(" "),i.s(i.f("suggestion",e,t,1),e,t,0,2114,2549,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="suggestion"> <h2><strong>'),i.b(i.v(i.f("total",e,t,0))),i.b("</strong> "),i.b(i.v(i.d("translations.results_for",e,t,0))),i.b(" <strong>&ldquo;"),i.b(i.v(i.f("actual",e,t,0))),i.b("&rdquo;</strong></h2> "),i.s(i.f("corrected",e,t,1),e,t,0,2261,2379,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <h3>"),i.b(i.v(i.d("translations.search_instead_for",e,t,0))),i.b(' &ldquo;<a href="'),i.b(i.v(i.f("literal_url",e,t,0))),i.b('" class="route">'),i.b(i.v(i.f("keywords",e,t,0))),i.b("</a>&rdquo;?</h3> ")}),e.pop()),i.b(" "),i.s(i.f("corrected",e,t,1),e,t,1,0,0,"")||(i.b(" <h3> "),i.b(i.v(i.d("translations.did_you_mean",e,t,0))),i.b(' &ldquo;<a href="'),i.b(i.v(i.f("suggestion_url",e,t,0))),i.b('" class="route">'),i.b(i.v(i.f("suggestion",e,t,0))),i.b("</a>&rdquo;? </h3> ")),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("total",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="suggestionNoResults"> <h2>'),i.b(i.v(i.d("translations.no_results",e,t,0))),i.b(' <span class="search-term"><strong>&ldquo;'),i.b(i.v(i.f("keywords",e,t,0))),i.b("&ldquo;</strong></span></h2> </div> <p>"),i.b(i.t(i.d("translations.sw_please_try_another_search",e,t,0))),i.b("</p> ")),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("primary",e,t,1),e,t,0,2868,3278,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("total",e,t,1),e,t,0,2879,2924,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.b(i.rp("everything",e,t,"")),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("total",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("hasLatest",e,t,1),e,t,0,2978,3252,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <section class="search_results_none"> <div class="module_header"> <h2 class="module_title">'),i.s(i.f("meta",e,t,1),e,t,0,3079,3109,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.latest_videos",e,t,0)))}),e.pop()),i.b('</h2> </div> <div class="blocks-bound"> <span class="blocks-container"> '),i.s(i.f("latest",e,t,1),e,t,0,3201,3214,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("entity",e,t,"")),i.b(" ")}),e.pop()),i.b(" </span> </div> </section> ")}),e.pop()),i.b(" ")),i.b(" ")}),e.pop()),
n.b(" </div> </div>"),n.fl()}),Whiskers("search.no_results",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="building-block-config '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-content without-description with-image third image-top ratio-2x1 short mob-width-full mob-image-top"> <div class="building-block"> <div class="building-block-aspect"> <div class="building-block-padding"> <a class="building-block-wrapper" href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,353,374,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),n.b('> <div class="image-wrapper"> <div class="aspect"> <img src="'),n.b(n.v(n.f("noResult_image_src",e,t,0))),n.b('" class="thumb" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),n.s(n.f("duration",e,t,1),e,t,0,589,614,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<time>"),i.b(i.v(i.f("duration",e,t,0))),i.b("</time>")}),e.pop()),n.b(' <div class="content-bumper"> <div class="content-info"> <h3 class="title">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h3> </div> </div> <div class="metadata"> <div class="anchored-text"> <h4 class="category-info"> <span class="content-icon '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-icon"></span> <span class="category-name">'),n.b(n.v(n.f("section_label",e,t,0))),n.b('</span> </h4> </div> </div> <div class="decal"></div> </div> </a> </div> </div> </div> </div> '),n.fl()}),Whiskers("search.everything",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="search-view"> <section class="search_results '),n.s(n.f("more_url",e,t,1),e,t,0,70,78,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("has-more")}),e.pop()),n.b('"> <ul> '),n.s(n.f("results",e,t,1),e,t,0,111,962,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<li class="'),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("section_class",e,t,0))),i.b('-content result"> <div class="title-wrap"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="route result-title"> <h3 class="title bolder-list result_ul" aria-hidden="true">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h3> </a> "),i.s(i.f("section_label",e,t,1),e,t,0,335,574,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("meta",e,t,1),e,t,0,344,565,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("show_in",e,t,1),e,t,0,356,553,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="type-container"> <div class="section-type"> '),i.s(i.f("type",e,t,1),e,t,0,422,479,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="section-icon '),i.b(i.v(i.f("section_class",e,t,0))),i.b('-icon"></span>')}),e.pop()),i.b(' <span class="type-label">'),i.b(i.v(i.f("section_label",e,t,0))),i.b("</span> </div> </div> ")}),e.pop())}),e.pop())}),e.pop()),i.b(' </div> <div class="search-desc'),i.s(i.f("image_url",e,t,1),e,t,1,0,0,"")||i.b(" no-image"),i.b('"> '),i.s(i.f("result_image_src",e,t,1),e,t,0,684,799,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="route result-image"> <img src="'),i.b(i.v(i.f("result_image_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" align="left"> </a> ')}),e.pop()),i.b(" "),i.s(i.f("description",e,t,1),e,t,0,837,874,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.d("sitelinks.length",e,t,1),e,t,0,912,928,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("sitelinks",e,t,"")),i.b(" ")}),e.pop()),i.b(" </div> </li>")}),e.pop()),n.b(" </ul> "),n.s(n.f("more_url",e,t,1),e,t,0,994,1212,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),i.s(i.f("meta",e,t,1),e,t,0,1125,1151,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.show_more",e,t,0)))}),e.pop()),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),n.b(" </section> </div>"),n.fl()}),Whiskers("search.sitelinks",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <ul class="search_sitelinks"> '),n.s(n.f("sitelinks",e,t,1),e,t,0,74,336,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class ="'),i.s(i.f("image_url",e,t,1),e,t,0,101,113,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has_image_sl")}),e.pop()),i.b(" "),i.s(i.f("description",e,t,1),e,t,0,144,155,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has_desc_sl")}),e.pop()),i.b('"> <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" data-linkname="OrganicResults/link/'),i.b(i.v(i.f("slug",e,t,0))),i.b("-"),i.b(i.v(i.f("id",e,t,0))),i.b("/"),i.b(i.v(i.f("text",e,t,0))),i.b('" data-linkposition="sitesearch:results:OrganicResults'),i.b(i.v(i.f("index",e,t,0))),i.b('/">'),i.b(i.v(i.f("text",e,t,0))),i.b("</a> </li> ")}),e.pop()),n.b(" </ul> "),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=e.Backbone,s=e.jQuery,o=e.Math,a=o.min(e.devicePixelRatio,2);t.LumiereHelpers={sizes:[160,320,480,600,768,960,1200,1536,1920],imgSrc:function(e,t){var r=o.min(n.Resize.width(),i.wideMax),l=t*r*a*.94,c=this.nativeSize(e),d=c&&c.width,u=d,f=e;return s(this.sizes).each(function(e,t){return u=t,t>l?!1:void 0}),d>u&&(f+="&width="+u),f},nativeSize:function(e){var t=e&&e.split("?")[1],i=t&&decodeURIComponent(t).split("region=")[1];if(i){var n=i.split("&")[0].split(","),s=n[2],o=n[3];return{width:s,height:o}}}}}(this),function(e){"use strict";function t(e,t){t=n.isUndefined(t)?"":t,e.target.placeholder=t}var i=e.jQuery,n=e._,s=e.NAV,o=e.Disney,a=e.Spatula,r=e.Tracker,l=e.Whiskers,c=e.Backbone,d=o.Style.breakpoints,u=function(e){var t="OrganicResults";return' data-linkposition="sitesearch:results:'+t+this.index+'/" data-linkname="'+t+"/"+e+"/"+this.slug+"-"+this.id+'"'};o.SearchView=a.RichView.extend({title:"Search",initialize:function(t){var i=o.search;if(this.options=t,i){delete o.search;var s=i.meta.translations,a={sw_placeholder:"Search Star Wars",sw_refine_search:"Refine Your Search",sw_please_try_another_search:"Please try another search or browse the recommendations below."};n.defaults(s,a),this.placeholder=s.sw_placeholder,i.meta.translations=s,this.data=i}e.Spatula.exclude(/.*/)},safeRender:function(){var e=l.search,t=c.Resize.width()>=d.midLow,i=n.extend({searchIcons:function(){return this.name.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")},ctoLinkAttr:function(){return u.call(this,"link")},ctoImgAttr:function(){return u.call(this,"thumb")},result_image_src:function(){var e=this.image_url;if(e){var t=.125;return o.LumiereHelpers.imgSrc(e,t)}},noResult_image_src:function(){var e=this.base_images&&this.base_images.desktop.ratio_16x9;if(e){var i=t?.33:1;return o.LumiereHelpers.imgSrc(e,i)}},placeholder:this.placeholder,hasLatest:this.data.latest?!0:!1},this.data);this.el.innerHTML=l.search.results.render(i,{entity:e.no_results,everything:e.everything,sitelinks:e.sitelinks}),s&&s.ac(this.el,"srp/search_module")},cto:function(){return this.data.cto},events:{"click .show_more_container":function(t){var n=this,s=n.data.primary,o=i(t.currentTarget),a=o.attr("href"),l=i.trim(i(t.target).attr("alt")||o.text()),c="search",d=i(t.target).is("img")?"thumb":"link",u=[c,d].join("/"),f=[u,l].join("/");r.link({linkName:f,linkPosition:u,href:a}),t.preventDefault(),this.$(".show_more").addClass("loading"),i.getJSON("/search/more.json"+s.more_url,function(t){s.results=s.results.concat(t.results),s.more_url=t.more_url,n.safeRender(),e.cto.track(),n.$(".show_more").removeClass("loading")})},"click input[name=q]":function(e){t(e)},"onfocus input[name=q]":function(e){t(e)},"blur input[name=q]":function(e){t(e,this.placeholder),s.searchAttemptUsedPlacements={}},"click a":function(e){var t=i(e.currentTarget),n=t.attr("href"),s=t.data("cto")||"";"ac"!==s&&("img"===e.target.nodeName.toLowerCase()&&(t=i(e.target)),r.link({linkName:t.data("linkname"),linkPosition:t.data("linkposition"),href:n}))},"submit form.nav-search":function(){r.link({linkName:"srp/searchbox/search_enter",linkPosition:"srp/searchbox"})}}})}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone.Router.extend({routes:{"search?*params":"search"},search:function(e){var i=new t.SearchView({params:e?"?"+e:""});t.top.transition(i)}});new i}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=t.Spinner={};i(function(){var s,o=t.top,a=i("#spinner"),r=function(){a.fadeIn("fast")},l=function(){e.clearTimeout(s),a.hide()};o.on("begin",function(){l(),s=e.setTimeout(r,1e3)}).on("ready",l).on("error",l),n=t.Spinner={show:function(){r()},hide:function(){l()}}})}(this),function(e){"use strict";e.Disney.FormElements=e.Disney.FormElements||{};var t=e.Disney.FormElements,i=e.Whiskers,n=e.jQuery;n(function(){t.characterCountdown={renderTemplate:function(e){var t={rows:e.rows,maxLength:e.maxLength||140,tag:e.tag,label:e.label,required:e.required};return i.modules.shared_components.character_countdown.render(t)},onReady:function(e){e.each(function(){var e=n(this),t=e.next(".count-remaining"),i=e.attr("maxlength");t.html(i),e.on("keyup",function(){var e=n(this).val(),s=i-e.length;t.html(s)})})}}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=t.Cookie,s=365;i(function(){var e=i("#cookie-warning");e.length&&"true"!==n.get("cookies-accepted")&&(e.removeClass("hidden"),e.children("#cookie-accept").on("click",function(t){n.set("cookies-accepted","true",{domain:n.domain(),expires:s}),e.addClass("hidden"),t.preventDefault()}))})}(this),function(e){"use strict";var t=e.jQuery,i=e.document,n="ada-keyboard-focus",s=t("html");t(i).on("mousedown.keyboardFocus",function(){s.removeClass(n)}).on("keydown.keyboardFocus",function(e){9===e.keyCode&&s.addClass(n)})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=i.isFunction,s=function(t){var i=e.onerror,n=e.console;n&&n.error&&n.error(t.stack||t.toString()),i&&i(t.toString())};i(function(){t.top.on("ready",function(t){var i=e.cto,o={};if(n(t.cto)&&(o=t.cto()),o&&o.account)try{i.resetObj(),i.track(o)}catch(a){s(a)}})})}(this),function(e){"use strict";var t=e.Tracker,i=e.jQuery,n="#burger > [data-module]",s=".slides li",o=function(e){return null!=e&&(e=i.trim(e).replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g," ")),e},a=function(e,t,n){var s=e.closest(t);return s.length?i(t,n).index(s):-1},r=function(e,t,r,l){var c=[],d=i(n).index(t),u=a(e,".entity,.item,.col,.building-block",t),f=a(e,s,t),p=a(e,".button",e.closest(s+","+n)),h=a(e,".all",t),v=o(i.trim(t.data("slug")))||o(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text()))||"no title";return c.push(v,"mod"+(d+1)),u>=0?c.push("item"+(u+1)):f>=0&&c.push("slide"+(f+1)),l&&c.push(l),p>=0?r="button"+(p+1):a(e,".gallery-item",t)>=0&&(r=null),r&&c.push(r),h>=0&&c.push("viewall"),c.join("/")},l=function(e,t,i){var n=a(e,".suggested",t),s=a(e,".card .next",t);return n>=0?"card/suggested/p"+n+"/"+i:s>=0?"card/next/p"+s+"/"+i:a(e,"#next_container",t)>=0?("link"===i&&(i="details"),"upnext/"+i):r(e,t,i)},c=function(e,t,s){var l=o(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text())),c=i(n).index(t),d=a(e,".modal-window .arrow-next",t),u=a(e,".modal-window .arrow-prev",t),f=a(e,".modal-window .modal-close",t);if(d>=0||u>=0||f>=0){var p=e.data("viewtype"),h=parseInt(e.data("currentitem"),10)+1,v="ad"===p?"ad":"item"+h,m=l+"/mod"+(c+1)+"/"+v+"/modal";return m}return r(e,t,s)};i("body").on("click","#burger a[href], #burger .button, #burger .launches-modal",function(e){var s,a=i(this),d=i(e.target),u=d.is("img"),f=a.closest(n),p=u?"thumb":"link",h=o(a.closest("[data-title]").data("title")||u&&d.attr("alt")||a.text()),v=o(f.data("module")),m=o(a.closest("[data-convert]").data("convert"));"search"!==v&&f.length&&(s=("watch"===v?l:"image_gallery"===v?c:r)(a,f,p,m),t.link({linkName:v+"/"+s,linkPosition:v+"/"+s+"/"+h,href:a.attr("href")}))})}(this),Whiskers("modules.auto_modal",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="auto_modal-bound"> <div class="modal-window"> <div class="modal-content '),n.s(n.f("noBranding",e,t,1),e,t,0,99,105,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("center")}),e.pop()),n.b('"> '),n.s(n.f("branding",e,t,1),e,t,0,136,240,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("top",e,t,1),e,t,0,145,231,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="top-branding"> <img class="branding top-branding" src="'),i.b(i.v(i.f("top",e,t,0))),i.b('"/> </div> ')}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="'),n.b(n.v(n.f("playerType",e,t,0))),n.b(' video-player module"> <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-16x9"></div> '),n.b(n.rp("player",e,t,"")),n.b(" </div> </div> </div> </div> </div> </div> </div> "),n.s(n.f("branding",e,t,1),e,t,0,590,676,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("bottom",e,t,1),e,t,0,602,664,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bottom-branding"> <img src="'),i.b(i.v(i.f("bottom",e,t,0))),i.b('"/> </div> ')}),e.pop()),i.b(" ")}),e.pop()),n.b(' </div> <div class="modal-footer"> '),n.s(n.f("socialShare",e,t,1),e,t,0,740,757,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("social_share",e,t,""))}),e.pop()),n.b(' </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div>'),n.fl()}),Whiskers("modules.shared_components.nowlive_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<div class='nowlive-inline-player reserved-ratio'> <iframe width='100%' height='100%' scrolling='no' frameborder='0' src='//iframe.nowlive.com/event/"),n.b(n.v(n.f("nowlive_id",e,t,0))),n.s(n.f("nowlive_query",e,t,1),e,t,0,181,199,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("?"),i.b(i.v(i.f("nowlive_query",e,t,0)))}),e.pop()),n.b("'> </iframe> </div>"),n.fl()}),Whiskers("modules.shared_components.youtube_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="youtube-inline-player reserved-ratio"> <iframe width="100%" height="100%" src="//www.youtube.com/embed/'),n.b(n.v(n.f("youtube_id",e,t,0))),n.b("?rel=0&autohide=1&showinfo=0&color=white&wmode=opaque"),n.s(n.f("youtube_query",e,t,1),e,t,0,200,218,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("&"),i.b(i.v(i.f("youtube_query",e,t,0)))}),e.pop()),n.b('" frameborder="0" allowfullscreen> </iframe> </div>'),n.fl()}),Whiskers("modules.shared_components.social_share",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("socialShare",e,t,1),e,t,0,16,612,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="social-share-links"> '),i.s(i.f("facebook",e,t,1),e,t,0,63,323,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <span class="social-share service facebook" data-social-type="facebook" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-share-url="'),i.b(i.v(i.f("source",e,t,0))),i.b('" data-href=""> <span class="social-icon fb-f-icon">Facebook</span> </span> ')}),e.pop()),i.b(" "),i.s(i.f("twitter",e,t,1),e,t,0,349,592,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="social-share service twitter" data-social-type="twitter" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-href="https://twitter.com/intent/tweet?url='),i.b(i.v(i.f("sourceEncoded",e,t,0))),i.b("&text="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('"> <span class="social-icon twitter-icon">Tweet</span> </span> ')}),e.pop()),i.b(" </div> ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.jQuery;t.Social=t.Social||{init:function(e){var n=t.Social[e].callback,s=t.Social[e].url;s&&i.getScript(s,n)},shareFacebook:function(t){e.FB.ui({method:"share",href:t})},shareSocial:function(t,i){e.open(t,i,"height=440,width=550,resizable=1")},bindShareClick:function(){i(".social-share.service").on("click",function(e){e.preventDefault();var n=i(this),s=n.data("social-type"),o=n.data("share-url"),a=n.data("href");"facebook"===s&&t.Social.shareFacebook(o),"twitter"===s&&t.Social.shareSocial(a,s)})}},t.Social.facebook={url:"//connect.facebook.net/en_US/sdk.js",callback:function(){e.FB.init({appId:i("meta[property='fb:app_id']").attr("content"),status:!0,cookie:!0,xfbml:!0,version:"v2.0"})}},i(function(){i("<div/>",{id:"fb-root"}).appendTo("body"),t.top.on("ready",function(){t.Social.bindShareClick()})})}(this),function(e){"use strict";var t=e.Whiskers,i=e.Grill,n=e.Disney,s=e._,o=e.jQuery;i.ModuleView.register("auto_modal",{template:t.modules.auto_modal,initialize:function(){s.extend(this,{partials:{player:t.modules.shared_components[this._playerType()],social_share:t.modules.shared_components.social_share},socialShare:this.model.collection&&this.model.collection.social_share_networks,title:this.model.get("title")||o("title").get(0).textContent,source:e.location.href})},render:function(){var e=this.model.get("schema_json")||{},t=e.branding,i=s.extend(e,{noBranding:t&&!t.top&&!t.bottom,playerType:this._playerType(),socialShare:this.socialShare,title:this.title,source:this.source,sourceEncoded:encodeURIComponent(this.source),titleEncoded:encodeURIComponent(this.title)});if(this.modalShouldAppear()&&this._playerType()){if(this.$el.html(this.template.render(i,this.partials)),this.socialShare){var o=this.socialShare;o.facebook&&n.Social.init("facebook")}this.bindModalEvents(),this.showModal()}},showModal:function(){var e=this.$el.find(".modal-window");e.addClass("first-shown"),e.addClass("modal-show"),e.css("visibility","visible"),o("body").addClass("no-scroll")},bindModalEvents:function(){var t=this,i=t.$el;i.on("click",".modal-window .modal-close, .modal-overlay",function(){i.find(".modal-window").delay(100).remove(),o("body").removeClass("no-scroll")}),o(e.window).resize(s.debounce(function(){t.fixVideoSize()},100)),t.fixVideoSize()},ready:function(){var t=this,i=27;o(e.document).keyup(function(e){switch(e.keyCode){case i:t.$el.find(".modal-window .modal-close").trigger("click")}})},modalShouldAppear:function(){var e=this.model.get("schema_json")||{},t=(new Date).getTime();if(e.start_time&&e.end_time){var i=Date.parse(e.start_time),n=Date.parse(e.end_time);return t>=i&&n>t}return!1},fixVideoSize:function(){var t=o(e.window).height(),i=t>800?1.25:1.1,n=s.min([1280,t*i]);this.$el.find(".video-player.module .bound").css("max-width",n+"px")},_playerType:function(){var e=this.model.get("schema_json")||{};return e.youtube_id?"youtube_player":e.nowlive_id?"nowlive_player":void 0}})}(this),Whiskers("modules.catalog",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("data",e,t,1),e,t,0,9,1455,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="poster-container"> <div class="poster-box '),i.s(i.f("isMobile",e,t,1),e,t,0,120,128,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("isMobile")}),e.pop()),i.b('"> <div class="aspect"><img src="'),i.b(i.v(i.f("poster_image_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"></div> </div> </div> <div class="description-container '),i.b(i.v(i.f("section_class",e,t,0))),i.b('-content"> '),i.s(i.f("logo_src",e,t,1),e,t,0,321,361,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("logo_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' <h1 class="'),i.s(i.f("logo_src",e,t,1),e,t,0,399,407,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has-logo")}),e.pop()),i.b('"> '),i.s(i.d("header_data.title",e,t,1),e,t,0,445,468,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.d("header_data.title",e,t,0)))}),e.pop()),i.b(" "),i.s(i.d("header_data.title",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("title",e,t,0))),i.b(' </h1> <div class="desc"> '),i.s(i.d("header_data.desc",e,t,1),e,t,0,591,640,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="quote">'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</span>")}),e.pop()),i.b(" "),i.b(i.v(i.f("desc",e,t,0))),i.b(" "),i.s(i.f("price",e,t,1),e,t,0,681,718,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="price">$'),i.b(i.v(i.f("price",e,t,0))),i.b("</span>")}),e.pop()),i.b(' </div> <p class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,764,798,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<span>"),i.b(i.v(i.f("rated",e,t,0))),i.b(": "),i.b(i.v(i.f("rating",e,t,0))),i.b("</span>")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,822,1001,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <span>"),i.s(i.f("reRelease",e,t,1),e,t,0,843,861,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reReleasedText",e,t,0)))}),e.pop()),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b("Released:"),i.b(" "),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("release",e,t,0))),i.s(i.f("reRelease",e,t,1),e,t,0,966,979,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reRelease",e,t,0)))}),e.pop()),i.b("</span> ")}),e.pop()),i.b(" "),i.s(i.f("platform_data",e,t,1),e,t,0,1032,1082,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <span>"),i.b(i.v(i.f("available_on",e,t,0))),i.b(": "),i.b(i.v(i.f("platform_data",e,t,0))),i.b("</span> ")}),e.pop()),i.b(' </p> <div class="cta"> '),i.s(i.f("retailerData",e,t,1),e,t,0,1141,1176,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="retail-button"></div> ')}),e.pop()),i.b(" "),i.s(i.f("hasButton",e,t,1),e,t,0,1208,1419,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="links-container"> '),i.s(i.f("buttons",e,t,1),e,t,0,1251,1399,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large links '),i.b(i.v(i.f("type",e,t,0))),i.b(' underline" '),i.s(i.f("convert",e,t,1),e,t,0,1329,1356,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(' target="_blank">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),n.fl()}),Whiskers("modules.shared_components.product_button",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="purchase_product"> <a class="button large'),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b(" clear"),n.b('"> <div class="bedazzlement"></div> '),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b('<div class="arrow-left"></div>'),n.b(" "),n.s(n.f("purchase_cta",e,t,1),e,t,0,211,227,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("purchase_cta",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("purchase_cta",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.f("retail_links",e,t,1),e,t,0,280,293,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("Pre-order Now")}),e.pop()),n.b(" "),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b("Coming Soon"),n.b(" ")),n.b(" "),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b('<div class="arrow-right"></div>'),n.b(' </a> <div class="buy '),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b("no_flyout"),n.b('" data-convert="buy"> <ul> '),n.s(n.f("retail_links",e,t,1),e,t,0,549,641,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),n.b(" </ul> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.Whiskers;t.ProductButtonView=i.View.extend({_flyoutVisible:!1,flyoutVisible:function(e){return"undefined"==typeof e?this._flyoutVisible:(this._flyoutVisible=e,void this.renderFlyout())},initialize:function(){this.render()},render:function(){var e=this;this.$el.html(n.modules.shared_components.product_button.render(e.model)),this.$el.click(function(){e.flyoutVisible(!e.flyoutVisible()),e.trigger("change",e)})},renderFlyout:function(){var e=this.$(".buy");this.flyoutVisible()?e.addClass("active"):e.removeClass("active")}})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,n=i.Style.breakpoints,s=n.midHigh.toString(),o=e.Whiskers,a=e.Backbone,r=e._;t.ModuleView.register("catalog",{breakpoints:s,template:o.modules.catalog,render:function(){var e,t=this,s=t.model.data.first(),o=t.model.get("data")[0],l=o.buttons,c=a.Resize.width()>=n.midLow,d=t.model.get("translations"),u=new Date,f=u.getUTCDate(),p=u.getUTCMonth()+1,h=u.getUTCFullYear(),v=!1;10>f&&(f="0"+f),10>p&&(p="0"+p),u=h+"-"+p+"-"+f;var m=(o.re_release_date<=u?d.re_released:d.re_releasing)+":";"Game"===o.type&&(e=o.platforms,e&&e.length>0&&(e=e.join(", "))),(e||o.rating||o.release)&&(v=!0);var b=r.extend({platform_data:e,meta:v,reReleasedText:m,hasButton:!!l,poster_image_src:function(){var e=this.get("poster_image");if(e){var t=c?.38:1;return i.LumiereHelpers.imgSrc(e,t)}},logo_src:function(){var e=this.get("logo_image");if(e){var t=c?.33:1;return i.LumiereHelpers.imgSrc(e,t)}}},d,t.model);t.$el.html(t.template.render(b,{}));var g=s.get("retailerData");g&&g.retail_links.length&&new i.ProductButtonView({el:t.$(".retail-button"),model:g})},ready:function(){var e=this.model.get("style"),t=e&&e.background_color;t&&this.$el.css({"background-color":t})}})}(this),Whiskers("modules.disclaimer",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> <div class="rules-container inner-container"> <div class="links"> '),n.s(n.f("data",e,t,1),e,t,0,95,166,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small" target="_blank">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),n.b(" </div> "),n.s(n.d("header_data.desc",e,t,1),e,t,0,204,275,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="description rich-text-enabled">'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</div>")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e._,n=e.Whiskers;t.ModuleView.register("disclaimer",{template:n.modules.disclaimer,render:function(){var e=i.extend({},this.model);this.$el.html(this.template.render(e))}})}(this),Whiskers("modules.disid_module",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound oneid-disabled"> <div class="did-container nav-login"> <div class="did-pre-state"> '),n.s(n.d("header_data.desc",e,t,1),e,t,0,122,228,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="description rich-text-enabled"> <div>'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</div> </div><!-- description --> ")}),e.pop()),n.b(' <div class="did-nav"> <div class="nav-items"> <span class="login">'),n.b(n.v(n.d("config_translations.nav_login",e,t,0))),n.b('</span> <span class="separator"> // </span> <span class="signup">'),n.b(n.v(n.d("config_translations.nav_signup",e,t,0))),n.b('</span> </div><!-- nav-items --> </div><!-- did-nav --> </div><!-- did-prestate --> <div class="did-post-state"> <div class="did-nav"> <div class="user-info"> <p class="display-name"></p> '),n.s(n.f("avatar_enabled",e,t,1),e,t,0,655,690,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="user-avatar"></span> ')}),e.pop()),n.b(' </div><!-- user-info --> <div class="nav-items"> <span class="account">'),n.b(n.v(n.d("config_translations.nav_account",e,t,0))),n.b('</span> <span class="separator"> // </span> '),n.s(n.f("avatar_enabled",e,t,1),e,t,0,879,979,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="avatar">'),i.b(i.v(i.d("config_translations.nav_avatar",e,t,0))),i.b('</span> <span class="separator"> // </span> ')}),e.pop()),n.b(' <span class="logout">'),n.b(n.v(n.d("config_translations.nav_logout",e,t,0))),n.b("</span> </div><!-- nav-items --> </div><!-- did-nav --> </div><!-- did-nav-poststate --> </div><!-- did-container --> </div><!-- bound -->"),n.fl()}),function(e){"use strict";var t,i=e.Disney,n=i.SocialServices,s=e.Grill,o=e.Tracker,a=e.Whiskers,r=e._;s.ModuleView.register("disid_module",{template:a.modules.disid_module,className:"module full-width-mob hidden",events:{"click .login":function(){this.options.guest.login()},"click .logout":function(){this.options.guest.logout()},"click .signup":function(){this.options.guest.signup()},"click .account":function(){this.options.guest.update()},"click .avatar":function(){this.avatar()}},initialize:function(){this.options.guest.retain()},ready:function(){this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this),this.options.guest.on("close",this.closedUI,this),this.options.guest.on("init",this.oneidEnabled,this)},render:function(){var e=this.model.collection.config_translations||{},t={nav_signup:"sign up",nav_login:"log in",nav_logout:"log out",nav_avatar:"avatar",nav_account:"account"};r.defaults(e,t);var i=r.extend({avatar_enabled:this.model.collection.config.avatar_enabled,config_translations:e},this.model);this.$el.html(this.template.render(i))},oneidEnabled:function(){this.$el.removeClass("hidden")},login:function(){this.$el.find(".did-container").addClass("loggedin"),this.$el.find(".display-name").text(this.options.guest.current.displayName.displayName),t||n.auth(this.options.guest.current).then(function(e){n.displayAvatar(e),t=!0},function(){n.defaultAvatar(),t=!1}),this.track("logged in","DisID Module")},logout:function(){this.$el.find(".did-container").removeClass("loggedin"),this.$el.find(".display-name").text(""),n.unauth(),t=!1,this.track("logged out","DisID Module")},closedUI:function(){this.track("closed ui","DisID Module")},avatar:function(){t&&n.pickAvatar(this.options.guest),this.track("account","choose-avatar")},track:function(e,t){o.event({eventCategory:"starwars",action:e,abTest:t})},destroy:function(){this.options.guest&&this.options.guest.release()}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads||{},n=e.Backbone,s=e.document,o=e.window,a=e._,r=null,l=i.ShareThroughAds=function(){return r?r:(this.init(),r=this,this)};l.prototype={init:function(){var e=s.createElement("script");e.src="//native.sharethrough.com/assets/sfp.js",e.dataset.strDisableTracking="true",e.type="text/javascript",e.charset="utf-8",o.top.document.getElementsByTagName("body")[0].appendChild(e)},newModel:function(){return new n.Model({is_ad:!0})},insertModel:function(e,t){return e.length?(t=t>e.length?e.length:t,void e.add(this.newModel(),{at:t})):e},shouldRenderSlot:function(e,t){var i=t.get("config_options");return a.isObject(i)?i.native_ads&&e.get("is_ad"):!1},getPlacementKey:function(e){var t=e.get("config_options");return a.isObject(t)?t.native_ad_placement_key:""}}}(this),Whiskers("modules.display",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(" "),n.s(n.f("module_style_options",e,t,1),e,t,0,102,179,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,115,166,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <style type=text/css> "),i.b(i.rp("module_styles",e,t,"")),i.b(" </style> ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="bound '),n.s(n.f("style",e,t,1),e,t,0,233,272,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("layout",e,t,1),e,t,0,244,261,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("layout-"),i.b(i.v(i.f("layout",e,t,0)))}),e.pop())}),e.pop()),n.s(n.f("hasMore",e,t,1),e,t,0,294,302,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" peeking")}),e.pop()),n.b('"> '),n.s(n.f("header_data",e,t,1),e,t,0,333,351,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(" "),n.s(n.f("hasFilters",e,t,1),e,t,0,383,402,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("filters_header",e,t,""))}),e.pop()),n.b(' <div class="blocks-bound"> <div class="blocks-container ref-'),n.b(n.v(n.f("ref",e,t,0))),n.b('"> '),n.b(n.t(n.f("blockList",e,t,0))),n.b(" </div> </div> "),n.s(n.f("hasMore",e,t,1),e,t,0,530,793,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="peek"> <div class="show_more_container"> <a class="show_more button large section-color underline" role="button"> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="loading-label">'),i.b(i.v(i.d("translations.loading",e,t,0))),i.b("...</span> </a> </div> </div> ")}),e.pop()),n.b(' </div> <div class="module-spinner"> <span class="loader"></span> </div>'),n.fl()}),Whiskers("entities.block",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="building-block-config '),n.b(n.v(n.f("block_name",e,t,0))),n.b(" "),n.b(n.v(n.f("section_class",e,t,0))),n.b("-content "),n.s(n.f("block_style_override",e,t,1),e,t,0,100,122,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("block-override-content")}),e.pop()),n.b(" "),n.s(n.f("social_override",e,t,1),e,t,0,168,183,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("social-override")}),e.pop()),n.b(" "),n.s(n.f("block_styles",e,t,1),e,t,0,221,597,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("width",e,t,0))),i.b(" image-"),i.b(i.v(i.f("image_placement",e,t,0))),i.b(" "),i.s(i.f("content_height",e,t,1),e,t,0,277,310,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("content-height-"),i.b(i.v(i.f("content_height",e,t,0)))}),e.pop()),i.b(" ratio-"),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b(" "),i.b(i.v(i.f("height",e,t,0))),i.b(" "),i.s(i.f("mobile_overrides",e,t,1),e,t,0,385,575,"{{ }}")&&(i.rs(e,t,function(e,t,i){
i.b(" "),i.s(i.f("width",e,t,1),e,t,0,396,415,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-width-"),i.b(i.v(i.f("width",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("image_placement",e,t,1),e,t,0,446,475,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-image-"),i.b(i.v(i.f("image_placement",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("fixed_height",e,t,1),e,t,0,513,557,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-fixed-height mob-height-"),i.b(i.v(i.f("fixed_height",e,t,0)))}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("dynamic_desc",e,t,1),e,t,1,0,0,"")||n.b("no-desc"),n.b(" "),n.s(n.f("author_data",e,t,1),e,t,0,673,683,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" editorial")}),e.pop()),n.b(" "),n.s(n.f("suppressLinks",e,t,1),e,t,0,718,732,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("suppress-links")}),e.pop()),n.b(" "),n.s(n.f("suppressTruncation",e,t,1),e,t,0,774,793,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("suppress-truncation")}),e.pop()),n.b(" "),n.s(n.f("showMore",e,t,1),e,t,0,830,839,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("show-more")}),e.pop()),n.b(" "),n.s(n.f("lastRow",e,t,1),e,t,0,865,873,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),n.b(" "),n.s(n.f("revealed",e,t,1),e,t,0,899,907,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("revealed")}),e.pop()),n.b(" "),n.s(n.f("youtube_id",e,t,1),e,t,0,936,950,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("youtube-inline")}),e.pop()),n.b('"> <div class="building-block '),n.s(n.f("oldBatch",e,t,1),e,t,0,1008,1017,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("old-batch")}),e.pop()),n.b(" "),n.s(n.f("block_style_override",e,t,1),e,t,0,1056,1189,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("block-style-override "),i.s(i.f("background_image",e,t,1),e,t,1,0,0,"")||i.b("no-"),i.b("bg "),i.s(i.f("logo_image",e,t,1),e,t,1,0,0,"")||i.b("no-"),i.b("logo "),i.s(i.f("text",e,t,1),e,t,1,0,0,"")||i.b("no-"),i.b("text ")}),e.pop()),n.b(" "),n.s(n.f("social_override",e,t,1),e,t,0,1235,1250,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("social-override")}),e.pop()),n.b(" "),n.s(n.f("description",e,t,1),e,t,1,0,0,"")||n.b("no-desc"),n.b(" "),n.s(n.f("social_override",e,t,1),e,t,1,0,0,"")||n.s(n.f("block_style_override",e,t,1),e,t,1,0,0,"")||n.s(n.f("short_title",e,t,1),e,t,0,1372,1392,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("short-title-override")}),e.pop()),n.b('"> <div class="building-block-aspect"> <div class="building-block-padding"> <div class="building-block-wrapper"> <div class="image-wrapper"> <div class="aspect"> '),n.s(n.f("kaltura_block",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||(n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" data-slug="'),n.b(n.v(n.f("slug",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,1708,1724,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),n.b(">")),n.b(" "),n.s(n.f("thumb_sized",e,t,1),e,t,0,1777,1849,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("thumb_sized",e,t,0))),i.b('" class="thumb reserved-ratio" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),n.b(" "),n.s(n.f("thumb_sized",e,t,1),e,t,1,0,0,"")||(n.b('<img src="'),n.b(n.v(n.f("thumb_base",e,t,0))),n.b('" class="thumb reserved-ratio" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('">')),n.b(" "),n.b(" "),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.b("</a>"),n.b(" ")),n.b(" "),n.s(n.f("kaltura_block",e,t,1),e,t,0,2103,2122,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("kaltura_player",e,t,""))}),e.pop()),n.b(" "),n.s(n.f("youtube_id",e,t,1),e,t,0,2156,2175,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("youtube_player",e,t,""))}),e.pop()),n.b(' </div> </div> <div class="content-wrapper '),n.s(n.f("block_styles",e,t,1),e,t,0,2250,2555,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text_style_overrides",e,t,1),e,t,0,2276,2529,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("tablet",e,t,1),e,t,0,2288,2386,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("tab-overrides "),i.s(i.f("line_clamp_n_lines",e,t,1),e,t,0,2325,2362,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("tab-trim-"),i.b(i.v(i.f("line_clamp_n_lines",e,t,0))),i.b("-lines")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2410,2516,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("desktop-overrides "),i.s(i.f("line_clamp_n_lines",e,t,1),e,t,0,2451,2492,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("desktop-trim-"),i.b(i.v(i.f("line_clamp_n_lines",e,t,0))),i.b("-lines")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b('" > <div class="bedazzlement"></div> '),n.b(" "),n.s(n.f("kaltura_block",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.f("duration",e,t,1),e,t,0,2664,2689,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<time>"),i.b(i.v(i.f("duration",e,t,0))),i.b("</time>")}),e.pop()),n.b(" "),n.b(" ")),n.b(' <div class="content-bumper"> <div class="content-info"> '),n.s(n.f("block_style_override",e,t,1),e,t,0,2826,2941,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("logo_image",e,t,1),e,t,0,2841,2926,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="logo-image-wrapper"><img src="'),i.b(i.v(i.f("logo_image",e,t,0))),i.b('" class="logo-image"></div> ')}),e.pop())}),e.pop()),n.b(' <h3 class="title"> '),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.s(n.f("href",e,t,1),e,t,0,3013,3103,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" data-slug="'),i.b(i.v(i.f("slug",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,3069,3085,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),n.b(" "),n.s(n.f("block_style_override",e,t,1),e,t,1,0,0,"")||(n.b(' <span class="long-title">'),n.b(n.v(n.f("title",e,t,0))),n.b("</span> "),n.s(n.f("short_title",e,t,1),e,t,0,3215,3263,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<span class="short-title">'),i.b(i.v(i.f("short_title",e,t,0))),i.b("</span>")}),e.pop()),n.b(" ")),n.b(" "),n.s(n.f("block_style_override",e,t,1),e,t,0,3331,3347,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("text.title",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.s(n.f("href",e,t,1),e,t,0,3400,3404,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),n.b(" </h3> "),n.s(n.f("dynamic_desc",e,t,1),e,t,0,3455,3796,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="desc-sizer"> '),i.s(i.f("suppressLinks",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,3508,3598,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" data-slug="'),i.b(i.v(i.f("slug",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,3564,3580,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),i.b(' <p class="desc'),i.s(i.f("author_data",e,t,1),e,t,0,3656,3689,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("photo",e,t,1),e,t,0,3666,3679,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" author-image")}),e.pop())}),e.pop()),i.b('">'),i.b(i.t(i.f("dynamic_desc",e,t,0))),i.b("</p> "),i.s(i.f("suppressLinks",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,3757,3761,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" </div> ")}),e.pop()),n.b(' </div> </div> <div class="metadata '),n.s(n.f("author_data",e,t,1),e,t,0,3865,3911,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("author-data "),i.s(i.f("photo",e,t,1),e,t,0,3887,3900,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" author-image")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("block_styles",e,t,1),e,t,0,3945,4322,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("editorial_config",e,t,1),e,t,0,3967,4300,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,3979,4062,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("name",e,t,1),e,t,0,3988,3996,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-name")}),e.pop()),i.s(i.f("photo",e,t,1),e,t,0,4015,4025,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" mob-photo")}),e.pop()),i.s(i.f("date",e,t,1),e,t,0,4044,4053,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" mob-date")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("tablet",e,t,1),e,t,0,4085,4168,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("name",e,t,1),e,t,0,4094,4102,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("tab-name")}),e.pop()),i.s(i.f("photo",e,t,1),e,t,0,4121,4131,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" tab-photo")}),e.pop()),i.s(i.f("date",e,t,1),e,t,0,4150,4159,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" tab-date")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,4192,4287,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("name",e,t,1),e,t,0,4201,4213,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("desktop-name")}),e.pop()),i.s(i.f("photo",e,t,1),e,t,0,4232,4246,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" desktop-photo")}),e.pop()),i.s(i.f("date",e,t,1),e,t,0,4265,4278,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" desktop-date")}),e.pop())}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' "> <div class="anchored-text"> '),n.s(n.f("author_data",e,t,1),e,t,0,4387,4504,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="author-data"> '),i.s(i.f("name",e,t,1),e,t,0,4423,4487,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<h4 class="author-name">'),i.b(i.v(i.d("translations.by_author",e,t,0))),i.b(" "),i.b(i.v(i.f("name",e,t,0))),i.b("</h4>")}),e.pop()),i.b(" </div> ")}),e.pop()),n.b(' <h4 class="category-info"> <span class="content-icon '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-icon"></span> '),n.s(n.f("social_override",e,t,1),e,t,1,0,0,"")||(n.b(' <span class="category-name">'),n.b(n.v(n.f("section_label",e,t,0))),n.b("</span> "),n.s(n.f("extra_info",e,t,1),e,t,0,4695,4744,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<span class="extra-info">// '),i.b(i.v(i.f("extra_info",e,t,0))),i.b("</span>")}),e.pop()),n.b(" ")),n.b(" </h4> </div> "),n.s(n.f("author_data",e,t,1),e,t,0,4810,4922,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("photo",e,t,1),e,t,0,4820,4912,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="triangle-crop"><img class="author-photo" src="'),i.b(i.v(i.f("photo",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("name",e,t,0))),i.b('"></div> ')}),e.pop())}),e.pop()),n.b(' </div> <div class="decal"></div> '),n.b(" </div> </div> </div> </div> </div> </div>"),n.fl()}),Whiskers("entities.ad_block",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("is_ad",e,t,1),e,t,1,0,0,"")||n.b(n.rp("block",e,t,"")),n.b(" "),n.s(n.f("is_ad",e,t,1),e,t,0,41,57,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(i.t(i.f("adMarkup",e,t,0))),i.b(" ")}),e.pop()),n.fl()}),Whiskers("modules.shared_components.module_header",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="module_header'),n.s(n.f("seeAll",e,t,1),e,t,0,36,48,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" has-see-all")}),e.pop()),n.b('"> <h2 class="module_title">'),n.b(n.t(n.d("header_data.title",e,t,0))),n.b(" //</h2> "),n.s(n.d("header_data.desc",e,t,1),e,t,0,140,189,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="module_desc">'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</p>")}),e.pop()),n.b(" "),n.s(n.f("seeAll",e,t,1),e,t,0,222,287,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<a class="see-all" href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a>")}),e.pop()),n.b(" </div>"),n.fl()}),Whiskers("modules.shared_components.filters_header",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="module_header filters_header has-list has-dropdown"> <div class="category-container"> <span class="browse">browse</span> <span class="module_title">'),n.b(n.v(n.f("firstTitle",e,t,0))),n.b('</span> <span class="drop-expand"></span> </div> <ul class="drop-container filters-container cols-'),n.b(n.v(n.f("numFilters",e,t,0))),n.s(n.f("maxFilterClass",e,t,1),e,t,0,305,316,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" filter-max")}),e.pop()),n.b('"> '),n.s(n.f("filters",e,t,1),e,t,0,350,463,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<li class="filter-name" '),i.s(i.f("next",e,t,1),e,t,0,383,403,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-next="'),i.b(i.v(i.f("next",e,t,0))),i.b('"')}),e.pop()),i.b(' data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"><span>'),i.b(i.v(i.f("title",e,t,0))),i.b("</span></li>")}),e.pop()),n.b(" </ul> </div>"),n.fl()}),Whiskers("modules.shared_components.kaltura_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="kaltura-inline-player"> <meta itemprop="duration" content="'),n.b(n.v(n.f("duration_iso",e,t,0))),n.b('"> <meta itemprop="thumbnail" content="'),n.b(n.v(n.f("thumb_base",e,t,0))),n.b('"> <meta itemprop="name" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="embedId" content="'),n.b(n.v(n.f("id",e,t,0))),n.b('"> <meta itemprop="title" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="description" content="'),n.b(n.v(n.f("description",e,t,0))),n.b('"> <meta itemprop="URL" content="'),n.b(n.v(n.f("href",e,t,0))),n.b('"> '),n.s(n.f("embedURL",e,t,1),e,t,0,383,434,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <meta itemprop="embedURL" content="'),i.b(i.v(i.f("embedURL",e,t,0))),i.b('"> ')}),e.pop()),n.b(" "),n.s(n.f("expired",e,t,1),e,t,1,0,0,"")||(n.b(' <div id="'),n.b(n.v(n.f("kaltura_id",e,t,0))),n.b('" class="player"> <noscript> <div class="player_error">'),n.b(n.v(n.d("translations.no_javascript",e,t,0))),n.b("</div> </noscript> </div> ")),n.b(" "),n.s(n.f("expired",e,t,1),e,t,0,620,685,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),n.b(" </div>"),n.fl()}),Whiskers("partials.style_overrides.modules.display",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(" "),n.s(n.f("bg_color",e,t,1),e,t,0,43,361,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bedazzlement, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.editorial:not(.sixth) .building-block .content-wrapper, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.editorial:not(.quarter) .building-block .content-wrapper, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.editorial .building-block .content-wrapper{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),n.b(" "),n.s(n.f("bg_color_rgb",e,t,1),e,t,0,392,772,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(' .building-block .content-wrapper .content-info:after{ content: ""; background-image: -webkit-linear-gradient(bottom, rgb('),i.b(i.v(i.f("bg_color_rgb",e,t,0))),i.b(") 4%, rgba("),i.b(i.v(i.f("bg_color_rgb",e,t,0))),i.b(", 0.9) 30%, rgba("),i.b(i.v(i.f("bg_color_rgb",e,t,0))),i.b(", 0)); background-image: linear-gradient(to top, rgb("),i.b(i.v(i.f("bg_color_rgb",e,t,0))),i.b(") 4%, rgba("),i.b(i.v(i.f("bg_color_rgb",e,t,0))),i.b(", 0.9) 30%, rgba("),i.b(i.v(i.f("bg_color_rgb",e,t,0))),i.b(", 0)); background-color: transparent; } ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("bg_color",e,t,1),e,t,0,824,2951,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_3 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_3 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_4 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_4 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_5 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_5 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_6 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_6 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_5B .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_5B .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_3A .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_3A .content-wrapper:after{ border-top: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" ; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_2 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_2 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_3 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_3 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_4 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_4 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_3 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_3 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_4 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_4 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_5 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_5 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_6 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_6 .content-wrapper:after{ border-left: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } @media screen and (min-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top:not(.sixth):not(.quarter) .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top:not(.sixth):not(.quarter) .content-wrapper:after{ border-top: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } } @media screen and (max-width: 767px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-image-top:not(.mob-width-half):not(.block-override-content) .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-image-top:not(.mob-width-half):not(.block-override-content) .content-wrapper:after{ border-top: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-tall .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-tall .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-medium .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-medium .content-wrapper:after{ border-left: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; border-top: 6px solid transparent; right: -2px; } } ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("title_color",e,t,1),e,t,0,3016,3089,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" .ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config .title a{ color: "),i.b(i.v(i.f("title_color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("title_hover_color",e,t,1),e,t,0,3128,3213,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" .ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config .title a:hover{ color: "),i.b(i.v(i.f("title_hover_color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("desc_color",e,t,1),e,t,0,3251,3297,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .desc{ color: "),i.b(i.v(i.f("desc_color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("decal_opacity",e,t,1),e,t,0,3350,3413,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .decal{ opacity: "),i.b(i.v(i.f("decal_opacity",e,t,0))),i.b(" !important; } ")}),e.pop()),n.b(" "),n.s(n.f("toggle_decal",e,t,1),e,t,0,3449,4603,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(" @media screen and (min-width: 1024px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.third .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.sixth .decal{ background-position: -100% 100%; } } "),i.b(" @media screen and (min-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.quarter .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.half .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.two-thirds .decal{ background-position: -100% 100%; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.three-quarters .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.third .decal{ background-position: -200% 100%; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.two-thirds .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.half .decal{ background-position: -300% 100%; } } "),i.b(" @media screen and (max-width: 767px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config.mob-image-top:not(.block-override-content):not(.editorial).mob-width-full .building-block .content-wrapper .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config.mob-fixed-height.mob-height-medium .content-wrapper .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-short .content-wrapper .decal{ background-position: -100% 100%; } .ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config.mob-fixed-height.mob-height-tall .content-wrapper .decal{ background-position: -200% 100%; } } ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.Backbone,s=e.Disney,o=e.cto,a=s.Style.breakpoints,r=e.jQuery,l=e._,c=s.Ads||{},d=c.ShareThroughAds,u=t.ModuleView.extend({assets:{scripts:["https://static-mh.content.disney.io/starwars/assets/videoplayer-e3b6071053c8.js"]},className:"module display-view",template:i.modules.display,events:{'click .building-block-wrapper a[data-slug="download-sound-asset-pack"]':function(){var t={engagementType:"SWFFA_SoundAsset_Downloaded",label:e.location.href};o.trackEvent(t)}},initialize:function(){function t(e,t,i){if(t=o(e,t),null===t)return null;var n=e[t];return s.LumiereHelpers.imgSrc(n,i)}function i(e,t,i){if(t=o(e,t),null===t)return null;var n=e[t]["ratio_"+d.get("default_thumb_ratio")];return"undefined"==typeof n?null:s.LumiereHelpers.imgSrc(n,i)}function o(e,t){return"undefined"!=typeof e[t]?t:(t="mobile"===t?"desktop":"mobile","undefined"!=typeof e[t]?t:null)}var r=this.model.get("randomize_module_data"),c=this,d=c.model,u="lazy_display"===c.model.get("view")&&r?l.shuffle(d.get("data")):d.get("data"),f=/[&?]draft_id=([^&]+)/.exec(e.location.search),p=d.get("filters"),h=p&&l.reject(p,function(e){return 0===e.count}),v=d.get("show_more_options"),m=d.get("building_blocks")&&d.get("building_blocks").length,b=v&&v.num_rows||1,g=b*m,y=v&&m,_=d.get("default_block_styles"),w=d.get("translations")||{},k={by_author:"By:"};if(l.extend(c,{draftId:f,showMoreEnabled:!!v,blocksPerRow:m,rowsPerBatch:b,visPerBatch:g,peeksPerBatch:y}),c.blockModel=n.Model.extend({translations:l.defaults(w,k),block_styles:function(){return this.get("block_styles")||d.get("default_block_styles")},thumb_sized:function(){var e=n.Resize.width(),s=e>=a.midHigh,o=this.get("block_images"),r=this.get("base_images"),l=this.get("rel_image_width")||_.rel_image_width,c=s?l:1,d=this.get("rel_width")||_.rel_width,u=s?d:1,f=u*c,p=768>f*e?"mobile":"desktop";return o?t(o,p,f):r?i(r,p,f):this.get("default_thumb")}}),h&&h.length>0){var x=h[0];l.extend(c,{filters:h,filterRoot:"/_grill/filter"+e.location.pathname,activeFilter:x.title}),u=x.data,c.filterCollectionViews={},this.filterCollectionViews[x.title]=c.blockListView=c.setNewBlockListView(x)}else c.blockListView=c.setNewBlockListView(d.attributes);c.blockListView.loadFirstBlocks(u)},render:function(){var e=this.model,t=this.blockListView,n=this.filters&&this.filters.length,o=e.get("style_options")||[],a=l.extend({translations:e.get("translations"),blockList:s.placeHtml(t),showMore:!!this.showMoreEnabled,hasMore:this.showMoreEnabled&&t.collection.hasMore(),hasFilters:!!this.filters,numFilters:n,filters:this.filters,firstTitle:this.activeFilter,maxFilterClass:n>5,style_options:o},e);this.$el.html(this.template.render(a,{block:i.entities.block,module_header:i.modules.shared_components.module_header,filters_header:i.modules.shared_components.filters_header,module_styles:i.partials.style_overrides.modules.display})),s.placeSwap(this,t),this.showMoreEnabled&&(this.updateLoadingButton(!1),this.updatePeek(t)),this.$('.filter-name[data-title="'+this.activeFilter+'"]').addClass("active")},ready:function(){var e=this,t=this.model.get("data"),i=this.$(".building-block-padding").outerHeight(),n=this.$(".blocks-container").position().top,s=this.$(".bound").css("padding-top");i>0&&this.$(".module-spinner").css("top",i/2+n+s),this.$(".youtube-inline-player").length>0&&r(".youtube-inline-player iframe").on("load",function(){r(this).addClass("loaded")}),l.each(t,function(t){t&&t.kaltura_block&&e.insertKalturaPlayer(t)})},insertKalturaPlayer:function(e){var t,i=this.options,n=this.model.get("translations"),o=this.model.get("config_options"),a=o&&o.kaltura,r=a&&a.enable_autoplay;e.ads=e.ads||{},e.ads.context=i.ads,t={video:e,autoPlay:r,autoPlay_mute:r,translations:n,hideLargePlayBtn:!1,ads:{enabled:!i.cds&&!i.noAds}},new s.StarWarsVideoPlayer(e.kaltura_id,t)},blocksToModels:function(e){var t=this,i=[];return r.each(e,function(e,n){i.push(new t.blockModel(n))}),i},setNewBlockListView:function(e){var s=this,o=s.model.data,a={},r=new n.LazyCollection([],{count:e.count,model:s.blockModel});if(l.extend(r,{title:e.title,page:1,visBlocks:[],nextVisBlocks:[],peekBlocks:[],reserveBlocks:[],blockSequence:e.building_blocks&&e.building_blocks.join("-"),hasMore:function(){var e=n.Resize.width()>=768,t=e?this.page*s.visPerBatch:this.length;return t<this.count}}),s.filterRoot)r.url=this.getCollectionUrl(e.next);else if(o.remaining()>0){var c=o.url.replace("/_grill/more","/_grill/moar"),d=o.length,u=o.remaining(),f="&limit="+u+"&offset="+d;r.url=this.getCollectionUrl(f,c)}else r.url=null;if(s.shareThroughAds){var p=s.model.get("config_options"),h=p&&p.native_ad_placement_key;a.adMarkup=s.options.ads.tagWithTargeting("native",{strnativekey:h})}var v=new t.ListView({collection:r,className:function(){return"blocks-list-view active "+r.blockSequence},template:{render:function(e){return l.extend(e,a,{suppressLinks:s.suppressLinks,suppressTruncation:s.suppressTruncation}),i.entities.ad_block.render(e,{youtube_player:i.modules.shared_components.youtube_player,kaltura_player:i.modules.shared_components.kaltura_player,block:i.entities.block})}}});return l.extend(v,{render:function(){s.$(".blocks-container").append(this.el),s.showMoreEnabled&&s.updatePeek(this)},loadFirstBlocks:function(e){var t=this.collection,i=s.blocksToModels(e),n=i.splice(0,s.visPerBatch),o=i.splice(0,s.peeksPerBatch),a=n.concat(o),r=i;l.each(o,function(e){e.set({revealed:!0,oldBatch:!0})}),l.extend(t,{visBlocks:n,nextVisBlocks:[],peekBlocks:o,reserveBlocks:r}),t.add(a)}}),v},getCollectionUrl:function(e,t){if(!e)return null;if(!this.filterRoot&&!t)return null;var i=this.draftId?"&draft_id="+this.draftId[1]:"";return(this.filterRoot||t)+e+i}});u.register("display"),u.register("featured_single",{suppressLinks:!0,suppressTruncation:!0});var f=u.extend({events:function(){return this.lazyEvents},lazyEvents:{"click .show_more_container":function(){this.loadingMoreBlocks||this.loadMoreBlocks(this.blockListView.collection)}},updateLoadingButton:function(e){this.$el.toggleClass("loading-more",e)},loadMoreBlocks:function(e){var t,i=this.visPerBatch;e.page++,this.updateLoadingButton(!0),this.$(".blocks-bound").removeClass("first-batch");var n=e.page*i,s=e.visBlocks.length,o=n-s,a=e.peekBlocks.length,l=o-a,c=[];e.nextVisBlocks=e.peekBlocks,e.peekBlocks=[],l>0&&(c=e.reserveBlocks.splice(0,l),r.merge(e.nextVisBlocks,c)),r.merge(e.visBlocks,e.nextVisBlocks),this.showMoreEnabled&&(e.peekBlocks=e.reserveBlocks.splice(0,this.peeksPerBatch)),t=c.concat(e.peekBlocks),e.add(t),this.updateLoadingButton(!1),this.updatePeek(this.blockListView),e.reserveBlocks.length<this.visPerBatch&&e.url&&!this.loadingMoreBlocks&&this.fetchBackupBlocks(e)},fetchBackupBlocks:function(e){var t=this;t.updateLoadingButton(!0),this.loadingMoreBlocks=!0,r.getJSON(e.url).done(function(i){r.each(i.data,function(i,n){e.reserveBlocks.push(new t.blockModel(n))}),e.url=t.getCollectionUrl(i.next)}).always(function(){t.loadingMoreBlocks=!1,t.updateLoadingButton(!1)})},updatePeek:function(t){var i=t.collection,n={vis:i.visBlocks.length,peek:i.peekBlocks.length,nextVis:i.nextVisBlocks.length,newRows:Math.ceil(i.nextVisBlocks.length/this.blocksPerRow)},s=l.pluck(t.views,"$el"),o=r(s).map(function(){return this.toArray()}),a=o.slice(0,n.vis),c=a.slice(-1*n.nextVis),d=c.find(".building-block"),u=o.slice(n.vis,n.vis+n.peek),f=o.find(".building-block-padding"),p=f.outerHeight(),h=120,v=h*n.newRows,m=1;if(l.each(i.visBlocks,function(e){e.set("lastRow",!1)}),l.each(i.peekBlocks,function(e){e.set("lastRow",!0)}),p>0){var b={},g=function(e){b["$row"+e].css("height",p)};if(this.rowsPerBatch>1&&n.newRows>1){for(var y=0;y<this.rowsPerBatch;y++){var _="row-"+(y+1)+"-of-batch",w=c.slice(y*this.blocksPerRow,(y+1)*this.blocksPerRow);w.addClass(_),b["$row"+(y+1)]=w.find(".building-block")}g(m);var k=e.setInterval(function(){g(++m),m===n.newRows&&e.clearInterval(k)},h)}else d.css("height",p);e.setTimeout(function(){u.addClass("revealed"),l.each(i.peekBlocks,function(e){e.set("revealed",!0)}),d.css("height","auto")},v)}else u.addClass("revealed");this.updateLoadingButton(!1),this.$el.toggleClass("has-more",i.hasMore())}});f.register("line_up"),f.register("lazy_display");var p=f.extend({filterContent:!0,events:function(){return l.extend(this.lazyEvents,this.filterEvents)},filterEvents:{"click .has-dropdown .category-container":function(){this.$(".has-dropdown").toggleClass("active")},"click .filter-name":function(e){var t=this,i=r(e.currentTarget),n=i.attr("data-title"),s=i.index(),o=t.$(".filter-name.active"),a=t.filterCollectionViews[n];if(t.activeFilter!==n)if(o.add(".drop-container").removeClass("active"),t.$(".category-container .module_title").html(n),t.$(".blocks-bound").addClass("first-batch"),i.addClass("active"),t.activeFilter=n,a)t.replaceView(a);else{var l=t.setNewBlockListView(t.filters[s]);t.updateSpinner(!0),r.getJSON(l.collection.url,function(e){l.loadFirstBlocks(e.data),l.collection.url=t.getCollectionUrl(e.next),t.replaceView(l),t.filterCollectionViews[n]=l,t.updateSpinner(!1)})}}},replaceView:function(e){this.blockListView.$el.removeClass("active"),this.blockListView=e,this.blockListView.$el.index()<0?this.blockListView.render():this.blockListView.$el.addClass("active"),this.$el.toggleClass("has-more",this.blockListView.collection.hasMore())},updateSpinner:function(e){this.$el.toggleClass("replacing-data",e)}});p.register("display_filters");var h=u.extend({initialize:function(){var e=this,t=e.model,i=t.get("config_options"),o=t.get("data"),r=i&&i.native_ads&&i.native_ad_placement_key,c=r&&d&&!e.options.cds,u=t.get("native_ad_blocks"),f=u&&u.building_blocks&&u.building_blocks.length,p=u&&u.default_block_styles,h=t.get("default_block_styles"),v=t.get("building_blocks")&&t.get("building_blocks").length,m=c&&f||v,b=1,g=b*m,y=c&&p||h;if(c){var _;e.shareThroughAds=new d,e.shareThroughAds.insertModel(e.model.data,2),_=e.model.data.models[2].attributes,o.push(_)}l.extend(e,{blocksPerRow:m,rowsPerBatch:b,visPerBatch:g}),this.blockModel=n.Model.extend({native_ad:function(){return this.get("native_ad_layout")},block_styles:function(){var e=this.native_ad()&&this.native_ad().block_styles;return e||this.get("block_styles")||y},thumb_sized:function(){var e=n.Resize.width(),t=e>=a.midHigh,i=this.native_ad()&&this.native_ad().block_images,o=i||this.get("block_images"),r=this.get("rel_image_width")||y.rel_image_width,l=t?r:1,c=this.get("rel_width")||y.rel_width,d=t?c:1,u=d*l,f=768>u*e?"mobile":"desktop";if(o){var p=o[f];if(p)return s.LumiereHelpers.imgSrc(p,u)}}}),e.blockListView=e.setNewBlockListView(t.attributes),e.blockListView.loadFirstBlocks(o)},render:function(){return u.prototype.render.call(this,l.defer(this.adListeners,this))},adListeners:function(e){var t=e.$(".gpt");if(t.length){var i=e.options.ads.findSlotById(t.attr("id"));i&&i.events.on("slotRenderEnded",function(t){t.isEmpty&&e.removeEmptyAdSlot()})}},removeEmptyAdSlot:function(){var e,t=this.blockListView.views,i=l.find(t,function(e){return e.model.get("is_ad")===!0}),n=this,s=n.model;i&&(s.data.models.pop(),s.attributes.data.pop(),e=s.data.models.length,l.extend(n,{blocksPerRow:e,visPerBatch:e}),n.blockListView.$el.removeClass("active"),n.processFallbackBlocks(),n.blockListView=n.setNewBlockListView(s.attributes),n.blockListView.loadFirstBlocks(s.get("data")),n.blockListView.render())},processFallbackBlocks:function(){this.blockModel=n.Model.extend({block_styles:function(){return this.get("block_styles")||this.model.get("default_block_styles")},thumb_sized:function(){var e=n.Resize.width(),t=e>=a.midHigh,i=this.get("block_images"),o=t?this.block_styles().rel_image_width:1,r=t?this.block_styles().rel_width:1,l=r*o,c=768>l*e?"mobile":"desktop";if(i){var d=i[c];if(d)return s.LumiereHelpers.imgSrc(d,l)}}})}});h.register("ad_display")}(this),Whiskers("modules.error",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="error_page e'),n.b(n.v(n.f("error_code",e,t,0))),n.b(' bound"> <div class="inner"> <img src="'),
n.b(n.v(n.f("image",e,t,0))),n.b('"> <div class="message"> <h2>'),n.b(n.v(n.f("desc",e,t,0))),n.b("</h2> <h1>"),n.b(n.v(n.f("title",e,t,0))),n.b("</h1> </div> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e._;t.ModuleView.register("error",{template:i.modules.error,initialize:function(){var e=this.model.get("style"),t=e&&e.images&&e.images.foreground_image||{},i=t.url;this.image=i},render:function(){var e=n.extend({image:this.image},this.model);this.$el.html(this.template.render(e))}})}(this),Whiskers("modules.fb_comments",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="module_content'),n.s(n.f("header_data",e,t,1),e,t,1,0,0,"")||n.b(" no-header"),n.b('"> <div class="facebook-comments"> '),n.s(n.d("translations.legal",e,t,1),e,t,0,197,385,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <p class="legal-blurb"> '),i.b(i.v(i.d("translations.legal",e,t,0))),i.b(" "),i.s(i.d("translations.facebook_faq",e,t,1),e,t,0,275,349,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.d("translations.facebook_faq",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.learn_more",e,t,0))),i.b("</a>. ")}),e.pop()),i.b(" </p> ")}),e.pop()),n.b(' <div class="fb-comments" data-href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" data-width="100%" data-numposts="5" data-colorscheme="dark"></div> </div> </div> </div>'),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.Disney,s=e._;t.ModuleView.register("fb_comments",{template:i.modules.fb_comments,render:function(){var t=this.model,o=t.get("translations")||{},a=e.location,r=a.protocol+"//"+n.portal+a.pathname;s.defaults(o,{learn_more:"Learn More"});var l=s.extend({href:r},t,o);this.$el.html(this.template.render(l,{module_header:i.modules.shared_components.module_header})),n.Social.init("facebook")}})}(this),Whiskers("partials.flex_inline_videoplayer",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="flex-inline-videoplayer video-container"> <div id="'),n.b(n.v(n.f("playerId",e,t,0))),n.b('" class="video-player"></div> <div class="video-controls-container"> <button type="button" class="button transparent video-playback-control">'),n.b(n.v(n.d("translations.play",e,t,0))),n.b("</button> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.Grill,s=e.Whiskers,o=e.Modernizr,a=e._;n.FlexInlineVideoPlayer=i.View.extend({template:s.partials.flex_inline_videoplayer,initialize:function(e){this.options=e||{},this.render()},render:function(){this.$el.html(this.template.render(this.model)),this.initVideo()},initVideo:function(){this.$videoParent=this.model.get("$videoParent"),this.status={};var e=this.model.get("data");if(!a.isEmpty(e&&e.video_options)){var i,n=e.video,s=e.video_options,r=!s.show_controls,l=o.touch?!1:s.autoplay,c={autoPlay:l,autoPlay_mute:s.start_muted,loop:s.loop_video,video:n,skinUrl:{kalturaCssOverrides:"https://static-mh.content.disney.io/starwars/assets/video/flex_inline_videoplayer-21670c39742d.css"},hideControlBarContainer:r,hideTopBarContainer:!0,hideLargePlayBtn:!0};c.video.ads={context:{noAds:function(){return!0}},enabled:!1,targeting:this.getAdPosition()},void 0===c.video.hideLogo&&(c.video.hideLogo=!0),i=new t.StarWarsVideoPlayer(this.model.get("playerId"),c),i.messageBus.addMessageListener("played",this.onPlayVideo.bind(this)),i.messageBus.addMessageListener("paused",this.onPauseVideo.bind(this)),i.messageBus.addMessageListener("enteredFullscreen",this.onEnteredFullscreen.bind(this)),i.messageBus.addMessageListener("exitedFullscreen",this.onExitedFullscreen.bind(this)),i.messageBus.addMessageListener("playComplete",this.onPlayComplete.bind(this)),i.messageBus.addMessageListener("playing",this.onPlaying.bind(this)),this.$(".video-container").addClass("media-not-ready"),i.messageBus.addMessageListener("mediaReady",this.onMediaReady.bind(this)),l&&(this.status.active=!0,this.$videoParent.addClass("video-active video-autoplay")),s.hide_text_on_play&&this.$videoParent.addClass("hide-text-on-play"),i.controls.hide(),this.player=i}},onMediaReady:function(){this.status.mediaReady=!0,this.$(".video-container").removeClass("media-not-ready"),a.isFunction(this.onMediaReadyCallback)&&this.onMediaReadyCallback()},startVideo:function(){this.$videoParent.addClass("video-active video-playing"),this.status.ended=!1,this.status.active=!0,this.status.mediaReady?(this.player.controls.show(),this.player.controls.play()):this.onMediaReadyCallback=this.startVideo},clearOnMediaReadyCallback:function(){this.onMediaReadyCallback=void 0},getAspectPadding:function(){var e;return"resize"===this.model.get("data").video_options.display_type?(e=this.model.get("data").video.externals[0].data,e.height/e.width*100+"%"):void 0},onPlayVideo:function(){this.$el.trigger("video:playing"),this.$videoParent.addClass("video-playing").removeClass("video-ended"),this.player.controls.show(),this.status.ended=!1},onPauseVideo:function(){this.$el.trigger("video:paused"),this.$videoParent.removeClass("video-playing")},onEnteredFullscreen:function(){this.$el.trigger("video:enteredFullscreen")},onExitedFullscreen:function(){this.$el.trigger("video:exitedFullscreen")},onPlayComplete:function(){var e=this.model.get("data").video_options;this.$el.trigger("video:playComplete",e),e.loop_video||(e.hide_on_complete?(this.$videoParent.removeClass("video-active video-playing video-autoplay"),this.player.controls.hide(),this.status.active=!1,this.status.ended=!0):(this.status.ended=!0,this.$videoParent.addClass("video-ended").removeClass("video-autoplay video-playing")))},getAdPosition:function(){return this.options.cds?void 0:this.adPosition?this.adPosition:(this.adPosition=this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model),this.adPosition)},onPlaying:function(){this.$el.trigger("video:playing")}})}(this),Whiskers("modules.flex_content_hero",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> <div class="carousel"> <ul class="slides"> '),n.s(n.f("data",e,t,1),e,t,0,72,3311,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("slide_config",e,t,1),e,t,0,89,3294,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="slide" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.d("styles.background_color",e,t,1),e,t,0,158,213,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="background-color: '),i.b(i.v(i.d("styles.background_color",e,t,0))),i.b(';"')}),e.pop()),i.b(' data-link_cta_index="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-cto-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> '),i.s(i.f("sized_image",e,t,1),e,t,0,318,1570,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="image-wrapper background-image"> '),i.b(" "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,495,561,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="aspect" style="padding-bottom: '),i.b(i.v(i.f("aspect_ratio_pct",e,t,0))),i.b(';">')}),e.pop()),i.b(" "),i.s(i.f("video",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,602,682,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" '),i.s(i.f("new_tab",e,t,1),e,t,0,654,669,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('target="_blank"')}),e.pop()),i.b(">")}),e.pop()),i.b(' <img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"'),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,1,0,0,"")||i.b(' class="relative"'),i.b("> "),i.s(i.f("video",e,t,1),e,t,1,0,0,"")||i.b("</a>"),i.b(" "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,846,852,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</div>")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("video",e,t,1),e,t,0,984,1042,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div id="player-'),i.b(i.v(i.f("ref",e,t,0))),i.b("-"),i.b(i.v(i.f("slideIndex",e,t,0))),i.b('-container"></div> ')}),e.pop()),i.b(" "),i.s(i.f("logo",e,t,1),e,t,0,1062,1553,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="content-logo '),i.s(i.f("position",e,t,1),e,t,0,1101,1146,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" content-"),i.b(i.v(i.f("horizontal",e,t,0))),i.b(" content-"),i.b(i.v(i.f("vertical",e,t,0))),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("text_settings",e,t,1),e,t,0,1178,1217,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" text-"),i.b(i.v(i.f("alignment",e,t,0))),i.b(" text-"),i.b(i.v(i.f("lightness",e,t,0))),i.b(" ")}),e.pop()),i.b('"> '),i.s(i.f("logo_label",e,t,1),e,t,0,1253,1392,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="content-logo-label" '),i.s(i.d("text_settings.color",e,t,1),e,t,0,1308,1347,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.d("text_settings.color",e,t,0))),i.b(';"')}),e.pop()),i.b(" >"),i.b(i.v(i.f("logo_label",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("logo_image",e,t,1),e,t,0,1423,1530,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("image_alt_text",e,t,0))),i.b('" '),i.s(i.f("half_width",e,t,1),e,t,0,1483,1513,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="width:'),i.b(i.v(i.f("half_width",e,t,0))),i.b('px"')}),e.pop()),i.b("> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(' <div class="content-overlay '),i.s(i.f("text_settings",e,t,1),e,t,0,1633,1725,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("position",e,t,1),e,t,0,1647,1692,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" content-"),i.b(i.v(i.f("horizontal",e,t,0))),i.b(" content-"),i.b(i.v(i.f("vertical",e,t,0))),i.b(" ")}),e.pop()),i.b(" text-"),i.b(i.v(i.f("alignment",e,t,0))),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("styles",e,t,1),e,t,0,1755,1780,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" text-"),i.b(i.v(i.f("text_lightness",e,t,0))),i.b(" ")}),e.pop()),i.b('"> <div class="content-body"> <div class="content-details" style="'),i.s(i.d("text_settings.width",e,t,1),e,t,0,1881,1916,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("max-width: "),i.b(i.v(i.d("text_settings.width",e,t,0))),i.b(";")}),e.pop()),i.b('"> '),i.s(i.f("href",e,t,1),e,t,0,1952,2032,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" '),i.s(i.f("new_tab",e,t,1),e,t,0,2004,2019,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('target="_blank"')}),e.pop()),i.b(">")}),e.pop()),i.b(" "),i.s(i.f("rich_title",e,t,1),e,t,0,2057,2494,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="content-title" '),i.s(i.d("styles.title_color",e,t,1),e,t,0,2108,2145,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="color:'),i.b(i.v(i.d("styles.title_color",e,t,0))),i.b('"')}),e.pop()),i.b("> "),i.s(i.f("logo_title",e,t,1),e,t,1,0,0,"")||i.b(i.t(i.f("rich_title",e,t,0))),i.b(" "),i.s(i.f("logo_title",e,t,1),e,t,0,2232,2471,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("logo_title_tag",e,t,1),e,t,0,2252,2272,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<"),i.b(i.v(i.f("logo_title_tag",e,t,0))),i.b(">")}),e.pop()),i.b(' <img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" class="logo-title" '),i.s(i.f("half_width",e,t,1),e,t,0,2364,2394,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="width:'),i.b(i.v(i.f("half_width",e,t,0))),i.b('px"')}),e.pop()),i.b("> "),i.s(i.f("logo_title_tag",e,t,1),e,t,0,2430,2451,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</"),i.b(i.v(i.f("logo_title_tag",e,t,0))),i.b(">")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" "),i.s(i.f("rich_desc",e,t,1),e,t,0,2524,2663,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="content-description" '),i.s(i.d("styles.desc_color",e,t,1),e,t,0,2580,2616,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="color:'),i.b(i.v(i.d("styles.desc_color",e,t,0))),i.b('"')}),e.pop()),i.b("> "),i.b(i.t(i.f("rich_desc",e,t,0))),i.b(" </div> ")}),e.pop()),i.b(" "),i.s(i.f("href",e,t,1),e,t,0,2687,2691,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" "),i.s(i.d("small_print_options.above",e,t,1),e,t,0,2731,2827,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="small-print '),i.b(i.v(i.d("small_print_options.position",e,t,0))),i.b('">'),i.b(i.t(i.d("small_print_options.text",e,t,0))),i.b("</div> ")}),e.pop()),i.b(" "),i.s(i.d("cta_links.length",e,t,1),e,t,0,2879,3088,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="cta-links-container" data-cta-type="'),i.b(i.v(i.f("cta_type",e,t,0))),i.b('"> '),i.s(i.f("cta_links",e,t,1),e,t,0,2955,3068,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("cta_is_link",e,t,1),e,t,0,2972,2994,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("partials/cta_link",e,t,""))}),e.pop()),i.b(" "),i.s(i.f("cta_is_link",e,t,1),e,t,1,0,0,"")||i.b(i.rp("partials/cta_button",e,t,"")),i.b(" ")}),e.pop()),i.b(" </p> ")}),e.pop()),i.b(" "),i.s(i.d("small_print_options.below",e,t,1),e,t,0,3140,3236,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="small-print '),i.b(i.v(i.d("small_print_options.position",e,t,0))),i.b('">'),i.b(i.t(i.d("small_print_options.text",e,t,0))),i.b("</div> ")}),e.pop()),i.b(" </div> </div> </div> </li> ")}),e.pop())}),e.pop()),n.b(" </ul> </div> </div>"),n.fl()}),Whiskers("partials.cta_link",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<span class="cta-item" '),n.s(n.d("link_style_overrides.hover_color",e,t,1),e,t,0,60,169,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' style="color:'),i.b(i.v(i.d("link_style_overrides.hover_color",e,t,0))),i.b(";border-bottom-color:"),i.b(i.v(i.d("link_style_overrides.hover_color",e,t,0))),i.b('" ')}),e.pop()),n.b("> <span "),n.s(n.d("link_style_overrides.text_color",e,t,1),e,t,0,250,357,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' style="color:'),i.b(i.v(i.d("link_style_overrides.text_color",e,t,0))),i.b(";border-bottom-color:"),i.b(i.v(i.d("link_style_overrides.text_color",e,t,0))),i.b('" ')}),e.pop()),n.b('> <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="cta-link" '),n.s(n.f("new_tab",e,t,1),e,t,0,443,459,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),n.b(">"),n.b(n.v(n.f("title",e,t,0))),n.b("</a> </span> </span>"),n.fl()}),Whiskers("partials.cta_button",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<span class="cta-item"> <span> <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="button large blue cta-link ada-el-focus'),n.s(n.d("button_style_overrides.secondary",e,t,1),e,t,0,133,143,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" secondary")}),e.pop()),n.b('" style="'),n.s(n.d("button_style_overrides.background_color",e,t,1),e,t,0,233,294,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("background-color:"),i.b(i.v(i.d("button_style_overrides.background_color",e,t,0))),i.b(";")}),e.pop()),n.b(" "),n.s(n.d("button_style_overrides.text_color",e,t,1),e,t,0,377,421,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("color:"),i.b(i.v(i.d("button_style_overrides.text_color",e,t,0))),i.b(";")}),e.pop()),n.b(" "),n.s(n.d("button_style_overrides.text_transform",e,t,1),e,t,0,502,559,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("text-transform:"),i.b(i.v(i.d("button_style_overrides.text_transform",e,t,0))),i.b(";")}),e.pop()),n.s(n.d("button_style_overrides.border_color",e,t,1),e,t,0,641,695,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("border-color: "),i.b(i.v(i.d("button_style_overrides.border_color",e,t,0))),i.b(";")}),e.pop()),n.b('" '),n.s(n.f("new_tab",e,t,1),e,t,0,749,765,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),n.b(' role="button">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a> </span> </span>"),n.fl()}),function(e){"use strict";function t(){return c.Resize.width()>=o.midHigh?"desktop":"mobile"}function i(e,t){return e&&(e[t]||d.first(d.values(e)))}function n(e,t,n){var o,a="desktop"===t?"content":"mobile",r=e&&e.get(a+"_config"),l=e.get("image_assets")||{},c=i(l.logo_title,t),u=e.get("logo_config");return l.background&&!d.contains(n.hideBackgroundImageOn,t)&&(o=i(l.background,t)),o&&(d.extend(o,{src:s.LumiereHelpers.imgSrc(o.src,n.getImageHelperOptions()),alt_text:l.background.alt_text}),r.sized_image=o),c&&(r.logo_title=d.extend(c,{alt_text:l.logo_title.alt_text,logo_title_tag:l.logo_title_tag,src:s.LumiereHelpers.imgSrc(c.src,{exact_size:!0})})),d.isEmpty(u)||(r.logo=d.extend({logo_image:i(u.image_assets,t),logo_label:u.logo_label,image_alt_text:u.image_alt_text},u[a+"_config"])),r}var s=e.Disney,o=s.Style.breakpoints,a=o.midHigh.toString(),r=e.Grill,l=e.Whiskers,c=e.Backbone,d=e._,u=e.$,f=r.ModuleView.extend({breakpoints:a,style_classes:["flex-content-hero-view","full-height","full-width","skip-bottom-border","skip-top-border","skip-styles"],template:l.modules.flex_content_hero,included_components:{"partials/cta_link":l.partials.cta_link,"partials/cta_button":l.partials.cta_button,"partials/cto_link_attributes":l.partials.cto_link_attributes},events:{"click .slide .video-controls-container":function(e){e.stopPropagation();var t=this.videoPlayers[this.getPlayerId()];t&&(t.startVideo(),this.changeAspectPadding(!0))},"click .carousel .next, .carousel .prev, .carousel .dots .dot":function(){this.$slidesContainer.swipeasaurus("stop")}},initialize:function(e){u("#body-wrapper").addClass("gapless"),this.options=e||{};var t=this.model.get("data").some(function(e){return e.video});t&&(this.assets={scripts:["https://static-mh.content.disney.io/starwars/assets/videoplayer-e3b6071053c8.js"]})},render:function(){var e=this.getActiveSlideIndex(),i=t(),s=0,o=this,a=d.extend({slide_config:function(){return this.slideIndex=s++,n(this,i,o)}},this.model);this.currentDeviceSize=i,this.$el.removeClass("video-playing"),this.$el.html(this.template.render(a,this.included_components)),this.initCarousel(),this.initVideoPlayer(),e>0&&this.$slidesContainer.swipeasaurus("slide",e,!0)},getActiveSlideIndex:function(){var e=this.$slidesContainer&&this.$slidesContainer.data("swipeasaurus");return e?e.index:0},getImageHelperOptions:function(){var e=this.model.get("style_options"),t=e&&e.additional_style_classes||[],i=["span-full-screen","content-span-full-screen"].every(function(e){return t.indexOf(e)>-1});return i?{targetMaxWidth:this.$el.width()}:{rel_width:1}},changeAspectPadding:function(e){if("mobile"!==this.currentDeviceSize){var t=this.getActiveSlideIndex(),i=this.model.get("data")[t],n=this.videoPlayers[this.getPlayerId(t)],s=e&&n&&n.getAspectPadding();!s&&i.image_assets&&i.image_assets.background&&(s=i.image_assets.background[this.currentDeviceSize].aspect_ratio_pct),this.$slideAspectWrappers.css({paddingBottom:s})}},getPlayerId:function(e){return"player-"+this.model.get("ref")+"-"+(void 0!==e?e:this.getActiveSlideIndex())},hasVideoPlayerEl:function(){return this.$("#"+this.getPlayerId()).children().length>0},initVideoPlayer:function(){var e=this.getActiveSlideIndex(),t=this.model.get("data")[e];if(this.hasVideoPlayerEl()||!t||!t.video)return void this.changeAspectPadding();var i,n=this.$slides.eq(e),s=this.getPlayerId(e),o=new r.FlexInlineVideoPlayer({el:this.$("#"+s+"-container"),model:new c.Model({data:t,playerId:s,$videoParent:n,translations:this.model.get("translations")})}),a=function(){l.$slidesContainer.swipeasaurus("disableHandlers"),l.$slidesContainer.swipeasaurus("pause")};if(o.player){var l=this;this.videoPlayers[s]=o,o.$el.on("video:playing",function(){l.$el.addClass("video-playing"),a()}),o.$el.on("video:paused",function(){l.$el.removeClass("video-playing"),l.$el.hasClass("video-fullscreen")||(l.$slidesContainer.swipeasaurus("attachHandlers"),l.$slidesContainer.swipeasaurus("resume"))}),o.$el.on("video:enteredFullscreen",function(){l.$el.addClass("video-fullscreen"),a()}),o.$el.on("video:exitedFullscreen",function(){l.$el.removeClass("video-fullscreen"),a()}),o.$el.on("video:playComplete",function(e,t){var i=l.videoPlayers[l.getPlayerId()];i&&t&&t.hide_on_complete&&l.changeAspectPadding(),l.$slidesContainer.swipeasaurus("attachHandlers"),l.$slidesContainer.swipeasaurus("resume")}),o.player.config&&(i=o.player.config.autoPlay)}this.changeAspectPadding(i)},videoPlayers:{},onCarouselSlideEvent:function(e,t,i){var n,s=this.videoPlayers[this.getPlayerId(i)],o=this.videoPlayers[this.getPlayerId(t)];s&&s.player&&!s.status.ended&&(this.$slides.eq(i).removeClass("video-playing"),s.status.mediaReady?s.player.controls.pause():s.clearOnMediaReadyCallback()),o&&this.hasVideoPlayerEl()?(!o.status.ended&&o.player.config.autoPlay?(n=!0,this.$slides.eq(t).addClass("video-playing"),o.player.controls.play()):o.status.active&&(n=!0,o.player.controls.show()),this.changeAspectPadding(n)):this.initVideoPlayer()},initCarousel:function(){this.$slidesContainer=this.$(".slides"),this.$slides=this.$slidesContainer.find(".slide"),this.$slideAspectWrappers=this.$slides.find(".image-wrapper .aspect");var e=1e3*this.model.get("slide_timeout")||4e3;this.$slides.length>1&&(this.$slidesContainer.swipeasaurus({arrows:!0,loop:!0,dots:!0,delay:e}).on("slide",this.onCarouselSlideEvent.bind(this)),this.$slidesContainer.on("touchEndSwipe",function(){u(this).swipeasaurus("stop")}))}});f.register("flex_content_hero",{})}(this),Whiskers("modules.flex_hero",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("style_options",e,t,1),e,t,0,18,526,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("fullscreen",e,t,1),e,t,0,34,510,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> #ref-'),i.b(i.v(i.f("ref",e,t,0))),i.b("{ z-index: 0; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(", #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ overflow: visible; } "),i.s(i.f("content_overlap",e,t,1),e,t,0,163,376,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1025px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .hero-content-wrapper{ margin-bottom: -"),i.b(i.v(i.f("content_overlap",e,t,0))),i.b(";} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ padding-bottom: "),i.b(i.v(i.f("content_overlap",e,t,0))),i.b("; margin-bottom: -"),i.b(i.v(i.f("content_overlap",e,t,0))),i.b("; } } ")}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,410,487,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("first_module",e,t,1),e,t,0,427,470,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#nav-local{ height: 0; overflow: visible; }")}),e.pop())}),e.pop()),i.b(" </style> ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="bound"> <div class="carousel"> '),n.s(n.d("data.length",e,t,1),e,t,0,604,2771,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <ul class="slides"> '),i.s(i.f("data",e,t,1),e,t,0,634,2755,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> "),i.s(i.f("hero_content",e,t,1),e,t,0,657,2731,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="hero-content-wrapper" '),i.s(i.d("background_options.background_color",e,t,1),e,t,0,732,800,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="background-color: '),i.b(i.v(i.d("background_options.background_color",e,t,0))),i.b(';" ')}),e.pop()),i.b("> "),i.s(i.f("background_options",e,t,1),e,t,0,865,1413,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image",e,t,1),e,t,0,876,1307,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,1008,1091,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="aspect background-image" style="padding-bottom: '),i.b(i.v(i.f("aspect_ratio_pct",e,t,0))),i.b(';">')}),e.pop()),i.b(' <img class="background-image'),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,1,0,0,"")||i.b(" relative"),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||i.b(" no-src"),i.b('" src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> '),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,1279,1285,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</div>")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("video_options",e,t,1),e,t,0,1377,1394,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("inline_video",e,t,""))}),e.pop()),i.b(" ")}),e.pop()),i.b(' <div class="foreground-content-wrapper'),i.s(i.d("foreground_options.full_width_content",e,t,1),e,t,0,1517,1528,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" full-width")}),e.pop()),i.b('"> '),i.s(i.f("foreground_options",e,t,1),e,t,0,1596,2693,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("main_image",e,t,1),e,t,0,1612,2677,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("modal_options",e,t,1),e,t,0,1631,1717,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<button class="open-flex-hero-modal '),i.b(i.v(i.f("horizontal_alignment",e,t,0))),i.b(" "),i.b(i.v(i.f("vertical_alignment",e,t,0))),i.b('" >')}),e.pop()),i.b(" "),i.s(i.f("modal_options",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,1763,1872,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="foreground-link '),i.b(i.v(i.f("horizontal_alignment",e,t,0))),i.b(" "),i.b(i.v(i.f("vertical_alignment",e,t,0))),i.b('" href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' <div class="image-wrapper foreground-image bound-padding '),i.s(i.f("modal_options",e,t,1),e,t,0,1975,1986,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("modal-image")}),e.pop()),i.b(" "),i.b(i.v(i.f("horizontal_alignment",e,t,0))),i.b(" "),i.b(i.v(i.f("vertical_alignment",e,t,0))),i.b('" style="width: '),i.b(i.v(i.f("half_width",e,t,0))),i.b('px;"> '),i.b(" "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,2219,2318,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="aspect'),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||i.b(" no-src"),i.b('" style="padding-bottom: '),i.b(i.v(i.f("aspect_ratio_pct",e,t,0))),i.b(';">')}),e.pop()),i.b(' <img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" '),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,1,0,0,"")||i.b('class="relative"'),i.b("> "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,2456,2462,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</div>")}),e.pop()),i.b(" "),i.s(i.f("caption",e,t,1),e,t,0,2496,2552,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="caption '),i.b(i.v(i.f("caption_text_size",e,t,0))),i.b('">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")}),e.pop()),i.b(" </div> "),i.s(i.f("modal_options",e,t,1),e,t,0,2590,2599,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</button>")}),e.pop()),i.b(" "),i.s(i.f("modal_options",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,2645,2649,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" </ul> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),Whiskers("partials.inline_video",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="video-wrapper"> <video '),n.s(n.d("mute_button_options.start_muted",e,t,1),e,t,0,71,76,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("muted")}),e.pop()),n.b(" "),n.s(n.f("loop_video",e,t,1),e,t,0,128,132,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("loop")}),e.pop()),n.b(" "),n.s(n.f("fallback_image",e,t,1),e,t,0,167,198,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('poster="'),i.b(i.v(i.d("fallback_image.src",e,t,0))),i.b('"')}),e.pop()),n.s(n.f("disable_tracking",e,t,1),e,t,0,238,267,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' data-disable-tracking="true"')}),e.pop()),n.b('> <source src="'),n.b(n.v(n.f("mp4_url",e,t,0))),n.b('" type="video/mp4"> </video> '),n.s(n.f("mute_button_options",e,t,1),e,t,0,367,623,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("show_mute_button",e,t,1),e,t,0,389,601,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="mute-button '),i.s(i.f("start_muted",e,t,1),e,t,0,430,438,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mute-on ")}),e.pop()),i.b(" "),i.s(i.f("start_muted",e,t,1),e,t,1,0,0,"")||i.b("mute-off "),i.b(" "),i.b(i.v(i.f("horizontal_alignment",e,t,0))),i.b(" "),i.b(i.v(i.f("vertical_alignment",e,t,0))),i.b('" '),i.s(i.f("alt_text",e,t,1),e,t,0,559,579,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('title="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"')}),e.pop()),i.b("> </div> ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" </div>"),n.fl()}),Whiskers("modals.flex_hero",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="modal-info"> <h3 class="modal-title">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h3> <div class="modal-content"> <div class="content-container"> <ul class="row-'),n.b(n.v(n.f("items_per_row",e,t,0))),n.b('"> '),n.s(n.f("items",e,t,1),e,t,0,169,350,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" data-link-count="'),i.b(i.v(i.f("link_count",e,t,0))),i.b('"> '),i.b(" "),i.s(i.f("default_thumb",e,t,1),e,t,0,289,320,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.f("default_thumb",e,t,0))),i.b('"> ')}),e.pop()),i.b(" </a> </li> ")}),e.pop()),n.b(" </ul> </div> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Tracker,n=e.jQuery;t.VideoTrackingHelper=function(e){function t(){var e={eventCategory:"loop_start",engagementMeta:c+"|"+d};o(e)}function s(){var e={eventCategory:"loop_end",engagementMeta:c+"|"+d};o(e)}function o(e){var t={eventCategory:null,action:null,label:null,value:null};n.extend(t,e),t.engagementType=t.eventCategory,i.event(t)}function a(e){var i=n(e);i.data("disable-tracking")||(i.on("play",function(){t()}),i.on("timeupdate",function(){var e=this.currentTime;e<r.lastTime&&(s(),t()),r.lastTime=e}))}var r=this,l=e.videoElement,c=e.id,d=e.slug;r.lastTime=0,a(l)}}(this),function(e){"use strict";var t,i,n=e.Disney,s=e.Grill,o=e.Whiskers,a=e.Modernizr,r=e._,l=e.$,c=e.window,d=e.Backbone,u=e.Tracker,f=e.devicePixelRatio>1.5,p=n.Style.breakpoints,h=p.midHigh.toString()+" "+p.chromeMax.toString(),v=s.ModuleView.extend({style_classes:["skip-styles","skip-top-border","full-height","full-width","flex_hero"],template:o.modules.flex_hero,breakpoints:h,events:{"click .open-flex-hero-modal":function(e){if(e.target.id||(e.target.id="social-button-"+Math.random().toString(10).substring(10)),void 0===this.modal){var t=this.model.get("data")[0].modal_options;this.modal=new s.FlexHeroModalView({template:o.modals.flex_hero,name:"flex-hero",title:t.title,items:t.items,linkEl:[e.target]})}this.trackForegroundLink(),this.modal.show()},"click a.foreground-link":function(e){this.trackForegroundLink(e.currentTarget.href)},"click .mute-button":function(e){var t=this.el.querySelector("video"),i=l(e.currentTarget);t&&(t.muted=!t.muted,i.toggleClass("mute-on",t.muted),i.toggleClass("mute-off",!t.muted))}},initialize:function(){var e=this.model,t=e.data.models,i=e.get("style_options"),n=e.get("config_options"),s=e.get("ref"),o=this;this.first_in_stack="1-0"===s||n&&n.top_of_page,this.videotrackinghelper=null,r.each(t,function(e){if("FlexHero"===e.get("type")){var t=e.get("hero_content_config"),i=["mobile","desktop"];t&&(r.each(i,function(e){if(t[e]){var i=t[e].foreground_options&&t[e].foreground_options.main_image;if(i){var n=i.half_width&&!f?i.src+"&width="+i.half_width:i.src;t[e].foreground_options.main_image.flex_src=n}}}),t.nonlooping_video_image&&(o.nonLoopingHasImage=!0))}else"List"!==e.get("type")||o.model.get("list_object")||o.model.set("list_object",e)}),i&&i.fullscreen&&this.style_classes.push("transparent"),this.first_in_stack&&this.style_classes.push("top-module")},render:function(){var e=d.Resize.width(),t=d.Resize.width()>=p.midHigh,i=e>=p.chromeMax,n=t&&!i,s=a.video&&!a.mobile,l=r.extend({hero_content:function(){if("FlexHero"!==this.get("type"))return null;var e=this.get("hero_content_config"),i=t?e.desktop:e.mobile,o=n&&i.background_options&&i.background_options.tablet_override_image?i.background_options.tablet_override_image:i.background_options.main_image,a=e.nonlooping_video_image,r=s&&t&&e.video_options;if(r)i.background_options.video_options=r,a&&(i.background_options.image=a);else{if(!o)return!1;i.background_options.image=o}return i}},this.model);this.$el.html(this.template.render(l,{inline_video:o.partials.inline_video}))},ready:function(){l("#body-wrapper").addClass("gapless");var e=this.el.querySelector("video");!this.videotrackinghelper&&e&&(this.videotrackinghelper=new n.VideoTrackingHelper(this.getVideoObject(e))),e&&(e.play(),this.nonLoopingHasImage&&!e.loop&&e.addEventListener("ended",function(){l(this).parent().addClass("video-end")},!1))},getVideoObject:function(e){var t,i;r.each(this.model.data.models,function(e){"FlexHero"===e.get("type")&&(t=e.get("id"),i=e.get("slug"))});var n={videoElement:e,id:t,slug:i};return n},resize:function(){this.render(),this.ready()},trackForegroundLink:function(e){var n,s,o=this.model.get("ref"),a="item1";if(i=Number(o.split("-")[1])+1,r.each(this.model.data.models,function(e){if("FlexHero"===e.get("type")){var i=e.get("hero_content_config");n=t=e.get("title"),s=i.desktop.foreground_options.alt_text}}),u){var l={linkName:"FlexHero/"+n+"/mod"+i+"/"+a+"/link/"+s,linkPosition:"FlexHero/"+n+"/mod"+i+"/"+a+"/link"};e&&(l.href=e),u.link(l)}}});v.register("fullscreen_hero",{}),v.register("flex_hero",{}),
s.FlexHeroModalView=s.ModalView.extend({events:{"click .modal-info":function(e){var t=l(e.target),i=t.hasClass("modal-title"),n=t.is("a")||t.parent().is("a");i||n||this.closeModal(),n&&this.trackModalLink(t.parent())},scroll:r.debounce(function(e){var t=e.target,i=t.scrollTop,n=t.scrollHeight,s=i+t.offsetHeight;0===i?t.scrollTop=1:s===n&&(t.scrollTop=i-1)},100)},initialize:function(){var e=this;l(c).on("orientationchange",function(){if(e.$el.hasClass("show")){var t=l("#modal-window,#modal-overlay");t.width(c.innerWidth),t.height(c.innerHeight),t.offset({top:0,left:0}),t.offset({top:0,left:0})}})},closeModal:function(){t=void 0,i=void 0,this.hide()},render:function(){var e,t=this.options.items,i=t.length;e=i%4===0?4:i%3===0?3:i%3>i%4?3:4;var n={items:t,title:this.options.title,items_per_row:e,link_count:function(){return r.indexOf(t,this)+1}};return this.options.template.render(n)},show:function(e){s.ModalView.prototype.show.apply(this,e),this.el.scrollTop=0,this.el.querySelectorAll(".modal-info")[0].scrollTop=0},trackModalLink:function(e){var n="item"+e.data("link-count"),s=e.data("title");u&&u.link({linkName:"FlexHero/"+t+"/mod"+i+"/"+n+"/link/"+s,linkPosition:"FlexHero/"+t+"/mod"+i+"/"+n+"/link",href:e.attr("href")})}})}(this),Whiskers("modules.header",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(" </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e._;t.ModuleView.register("header",{className:"module full-height",template:i.modules.header,render:function(){var e=n.extend({},this.model);this.$el.html(this.template.render(e,{module_header:i.modules.shared_components.module_header}))}})}(this),Whiskers("modules.image_gallery.image_gallery",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<style type="text/css">'),n.b(n.rp("moduleStyles",e,t,"")),n.b("</style> "),n.s(n.f("data",e,t,1),e,t,0,58,2844,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="gallery-bound"> <div id="print-image"> <div class="print-frame"> <div class="img-wrapper"> <img> <div class="info"> <p class="print-notice"> &copy; 2014 Star Wars </p> <span class="caption"></span> </div> </div> </div> </div> <div class="gallery_header"> <div class="gallery_banner_container section-border"> <div class="banner_img open-gallery"> <div class="scaler"></div> <img src="'),i.b(i.v(i.f("banner",e,t,0))),i.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),i.b(' <div class="content_description"> <h1><span class="open-gallery">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b("</span></h1> "),i.s(i.f("description",e,t,1),e,t,0,679,721,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p>")}),e.pop()),i.b(" "),i.s(i.f("parent_page",e,t,1),e,t,0,754,856,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("parent_page",e,t,0))),i.b('" class="parent_page_link underline section-color">'),i.b(i.v(i.f("parent_page_title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(' </div> <div class="gallery_external_links"> <div class="gallery-meta"> <div class="image-total"> <span class="total-icon"></span> <p>'),i.b(i.v(i.f("numImages",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.images",e,t,0))),i.b("</p> </div> "),i.s(i.f("socialShare",e,t,1),e,t,0,1071,1087,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("socialShare",e,t,""))}),e.pop()),i.b(" </div> </div> </div> </div> "),i.s(i.f("showThumbs",e,t,1),e,t,0,1147,1958,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div id="gallery_thumb_grid"> <ul class ="img-cols"> '),i.s(i.f("thumbViewList",e,t,1),e,t,0,1219,1238,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("thumbViewList",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("thumbViewList",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(" "),i.s(i.f("noscript_images",e,t,1),e,t,0,1358,1398,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("modules/image_gallery/gallery_thumb",e,t,""))}),e.pop()),i.b(" ")),i.b(" </ul> </div> "),i.s(i.f("show_pagination",e,t,1),e,t,0,1471,1712,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="static_pagination"> '),i.s(i.f("prev_page",e,t,1),e,t,0,1518,1592,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("prev_page",e,t,0))),i.b('" class="prev_page"> &laquo; Previous Page</a>')}),e.pop()),i.b(" "),i.s(i.f("next_page",e,t,1),e,t,0,1621,1690,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("next_page",e,t,0))),i.b('" class="next_page">Next Page &raquo;</a>')}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" "),i.s(i.f("hasMore",e,t,1),e,t,0,1745,1945,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more button large section-color" role="button"> <span class="label"> '),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b(' </span> <span class="spinner"></span> </div> </div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(' <div class="modal-window"> <div class="modal-header"></div> <div class="modal-content"> '),i.b(i.t(i.f("imageViewList",e,t,0))),i.b(' <div class="arrows"> <div class="arrow-sizer prev"><span class="arrow-prev clicon" data-title="prev"></span></div> <div class="arrow-sizer next"><span class="arrow-next clicon" data-title="next"></span></div> </div> </div> <div class="modal-footer"> '),i.s(i.f("socialShare",e,t,1),e,t,0,2412,2428,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("socialShare",e,t,""))}),e.pop()),i.b(' <span class="print"></span> <span class="image-count"><span class="current-count">1</span> '),i.b(i.v(i.d("translations.of",e,t,0))),i.b(" "),i.b(i.v(i.f("numImages",e,t,0))),i.b('</span> </div> <div class="loading-status"><span>'),i.b(i.v(i.d("translations.loading",e,t,0))),i.b('...</span></div> <div class="modal-info"> <h2 class="modal-title">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b('</h2> </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div> ')}),e.pop()),n.fl()}),Whiskers("modules.image_gallery.gallery_thumb",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<li class="gallery-item item thumb launches-modal '),n.s(n.f("active",e,t,1),e,t,0,61,67,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),n.b('" data-title="thumb" itemscope itemtype="http://schema.org/ImageObject"> <div class="center-crop"> <div class="img-aspect"> <a itemprop="contentURL" href="'),n.b(n.v(n.f("image_fog",e,t,0))),n.b('"> <img class="thumbnail-image" title="'),n.b(n.v(n.f("seo_title",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("seoCaption",e,t,0))),n.b('" src="'),n.b(n.v(n.f("thumbnail_image_fog",e,t,0))),n.b('" itemprop="thumbnailUrl"> <div class="active-indicator"></div> </a> </div> <div class="zoom-overlay" '),n.s(n.f("touchDevice",e,t,1),e,t,0,467,484,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' ontouchstart=" "')}),e.pop()),n.b('> <div class="zoom-icon"></div> </div> </div> <meta itemprop="caption" content="'),n.b(n.v(n.f("caption",e,t,0))),n.b('"> <meta itemprop="name" content="'),n.b(n.v(n.f("seoTitle",e,t,0))),n.b('"> </li>'),n.fl()}),Whiskers("modules.image_gallery.image_gallery_slide",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<li class="content-container item-'),n.b(n.v(n.f("slide",e,t,0))),n.b(" "),n.b(n.v(n.f("type",e,t,0))),n.b("-"),n.b(n.v(n.f("index",e,t,0))),n.b(" "),n.b(n.v(n.f("type",e,t,0))),n.b('"> <div class="image-info"> '),n.s(n.f("caption",e,t,1),e,t,0,111,149,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")}),e.pop()),n.b(' </div> <div class="gallery-image-sizer"> <img class="gallery-image"> </div> </li>'),n.fl()}),Whiskers("partials.style_overrides.modules.image_gallery",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("module_style_options",e,t,1),e,t,0,25,1521,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,38,950,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("bg_color",e,t,1),e,t,0,52,419,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper .bedazzlement{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper:before, .module.image_gallery .content-wrapper:after{ border-left-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } @media screen and (max-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } } ")}),e.pop()),i.b(" "),i.s(i.f("desc_color",e,t,1),e,t,0,448,543,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content_description .description{ color: "),i.b(i.v(i.f("desc_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("title_color",e,t,1),e,t,0,575,651,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .open-gallery{ color: "),i.b(i.v(i.f("title_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("toggle_decal",e,t,1),e,t,0,685,792,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper .bedazzlement:after{ background-position: 300% 100%; } ")}),e.pop()),i.b(" "),i.s(i.f("decal_opacity",e,t,1),e,t,0,828,931,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper .bedazzlement:after{ opacity: "),i.b(i.v(i.f("decal_opacity",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("image_gallery",e,t,1),e,t,0,981,1502,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,994,1489,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("module_link_color",e,t,1),e,t,0,1017,1124,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content_description .parent_page_link{ color: "),i.b(i.v(i.f("module_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("module_link_hover_color",e,t,1),e,t,0,1175,1294,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content_description .parent_page_link:hover{ color: "),i.b(i.v(i.f("module_link_hover_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("image_count_color",e,t,1),e,t,0,1345,1466,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .gallery_external_links .gallery-meta .image-total p{ color: "),i.b(i.v(i.f("image_count_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.placeSwap=function(e,t){return t?(t.render(),void e.$("#"+t.cid).replaceWith(t.el)):function(t){t&&i(e,t)}};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e,t,i){"use strict";var n="swipeasaurus",s="."+n,o=e._,a={effect:"slide",loop:!0,index:0,speed:300,delay:0},r=Math.abs,l=Math.min,c=e.setTimeout,d=e.clearTimeout,u=["Webkit","Moz","ms","O"],f=e.document.documentElement,p=function(e){var t,n=0;if(f.style[e]!==i)return e;for(t=e.charAt(0).toUpperCase()+e.substr(1);n<u.length;n++)if(f.style[u[n]+t]!==i)return u[n]+t},h=!!p("perspective"),v=!!p("transition"),m=!!p("transform"),b=(p("transform")||"transform").replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),g=function(){return(new Date).getTime()},y=function(e,i){return t("<span/>",{"class":e,"aria-label":i,role:"button",onclick:""})},_={slide:{c:{overflow:"hidden"},s:{opacity:1,transitionProperty:b+", visibility"},a:v&&m?function(e,t,i){i=i?i+"ms":"0ms";var n=r(t)<2;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(n?"0ms":i),visibility:n?"visible":"hidden",transform:h?"translate3d("+100*t+"%,0,0)":"translateX("+100*t+"%)"})}:function(e,t,i){var n=this,s=function(){e.css("left",100*(t*(1-n._r-n._l)+n._l)+"%")},o=e.width();i&&o?e.stop().css("left",e.position().left).animate({left:t*o+"px"},i,s):s()}},fade:{c:{overflow:""},s:{transform:"translate3d(0,0,0)",transitionProperty:"opacity, visibility"},a:v?function(e,t,i){i=i?i+"ms":"0";var n=r(t),s=1>n,o=.5>n;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(s?"0ms":i),visibility:s?"visible":"hidden",opacity:1-l(1,n),zIndex:o?1:0})}:function(e,t,i){var n=r(t),s=1>n;s&&e.css({visibility:"visible"}),e.stop().animate({opacity:1-l(1,n)},i,function(){s||e.css({visibility:"hidden"})})}}},w={scroll:function(){t(this.$el).scrollLeft(0)}},k=function(e,t){var i=e[t]||e.peek;return i>0&&.5>i?i:0},x=function(e,i){var n,s=this,a=s.$slides=e.children(),r=s.length=a.length,l=s._w=!!i.loop,c=s._l=k(i,"left"),d=s._r=k(i,"right"),u=1-c-d;s._s=+i.speed,s.index=i.index,s.$el=e,s.options=i,s.attachHandlers(),a.on("focusin",function(){s.slide(t(this).index())}),i.dots&&r>1&&(n=a.map(function(e){return y("dot",e)[0]}),n.on("click",function(e){var i=t(e.currentTarget).index();s.slide(i)}),e.on("slide",function(e,t){n.removeClass("active").eq(t).addClass("active")}),e.after(t("<div/>",{"class":"dots","aria-hidden":"true"}).append(n))),t.each({prev:["Previous",0],next:["Next",r-1]},function(n,o){var a;i[n]?a=t(i[n]):i.arrows&&(a=e.siblings("."+n),!a.length&&r>1&&e.after(a=y(n,o[0]))),a&&(a.on("click",t.proxy(s[n],s)),l||e.on("slide",function(e,t){a.toggleClass("disabled",t===o[1])}))}),e.css({zIndex:1,position:"relative"});var f=function(){var e,n,r=o.chain(a).map(function(e){return t(e).height()}).every(function(e,t,i){return i[0]===e}).value();r||(e=o.max(a,function(e){return t(e).height()}),n=t(e).index()),a.each(function(e){var o=s.index,a=e===o,l=r||"activeSlide"===i.sliderHeight?a:e===n;t(this).css({display:"block",position:l?"relative":"absolute",width:100*u+"%",left:100*c+"%",top:0})})};f(),e.on("slide",f),s.effect(i.effect),s.start(i.delay)};x.prototype={_c:0,effect:function(e){var i=_[e]||a.effect;this._a=function(e,n){for(var s=0,o=this.length,a=this.$slides;o>s;++s)i.a.call(this,t(a[s]),s-e,n)},this.$el.css(i.c),this.$slides.css(i.s),this.slide(this.index,!0)},slide:function(e,t){var i=this,n=t?0:i._s;0>e&&(e=0),e>=i.length&&(e=i.length-1),i._c++&&i.index===e||(i.$el.trigger("slide",i.index=e),d(i._t),i._t=c(function(){i.$el.trigger("slideEnd",e)},n)),i._a(i.index,n),i.resume()},prev:function(){var e=this.index;0===e?this._w&&this.slide(this.length-1):this.slide(e-1)},next:function(){var e=this.index;e===this.length-1?this._w&&this.slide(0):this.slide(e+1)},resume:function(){var e=this;e.pause(),e._d>0&&(e._i=c(function(){t(e.$el).data(n)===e&&e.next()},e._d+e._s))},pause:function(){d(this._i)},start:function(e){this._d=e||this._d,this.resume()},stop:function(){this._d=0,this.pause()},disableHandlers:function(){var e=this;t.each(w,function(t){var i=e.$el;"mouse"===t.substr(0,5)&&e.options.arrows&&(i=e.$el.parent()),i.off(t+s)})},attachHandlers:function(){var e=this;t.each(w,function(t,i){var n=e.$el;"mouse"===t.substr(0,5)&&e.options.arrows&&(n=e.$el.parent()),n.on(t+s,function(t){i.call(e,t)})})}},t.extend(w,e.Modernizr.touch?{touchstart:function(e){var t=e.originalEvent.touches;return t.length>1?w.touchcancel.call(this,e):void(this.touch={x:t[0].pageX,y:t[0].pageY,delta:0,dist:0,test:!0,time:g(),width:this.$el.width()})},touchmove:function(e){var t,i,n=this.touch,s=e.originalEvent.touches,o=this.index,a=this.length;if(n){if(t=s[0].pageX-n.x,n.dist+=r(t-n.delta),n.delta=t,n.test&&(i=s[0].pageY-n.y,n.test=!1,r(t)<r(i)))return w.touchcancel.call(this,e);e.preventDefault(),this.pause(),(0===o&&t>0||o===a-1&&0>t)&&(t/=r(t)/n.width+1),this._a(o-t/n.width)}},touchcancel:function(){this.touch=null,this.slide(this.index)},touchend:function(e){var t=this.touch,i=0;t&&((2*r(t.delta)>t.width||g()-t.time<250&&t.dist>20)&&(i=t.delta<0?1:-1,this.$el.trigger("touchEndSwipe",i)),t.dist>20&&(e.preventDefault(),this.bust=g()),this.touch=null,this.slide(this.index+i))},click:function(e){this.bust&&g()-this.bust<250&&e.preventDefault()}}:{mouseenter:function(){this.pause()},mouseleave:function(){this.resume()}}),t.fn[n]=function(e){var i=arguments;return this.each(function(){var s,o=t(this);"string"==typeof e?(s=o.data(n),s[e].apply(s,Array.prototype.slice.call(i,1))):(e=t.extend({},a,e),o.data(n,new x(o,e)))})}}(this,jQuery),function(e){"use strict";var t=e.Disney,i=e.Math,n=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],s=t&&t.item,o=t.height/t.width||0,a=t.limitMax,r=e[1],l=e[2]&&e[2].height()||0,c=e[3],d=c&&c.height()||0,u=e[4]||.5,f=r.height(),p=f-l-d,h=r.width(),v=a?t.width:i.min(p/o,h),m=a?t.height:v*o,b=i.max(i.abs(p-m)*u,0),g=b+m;c.css({top:g}),s&&n(s).css({height:m,width:v,top:b})}}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,n=i.Style.breakpoints,s=e.Modernizr,o=e.Whiskers,a=e.Backbone,r=e.Tracker,l=e._,c=e.jQuery;t.ModuleView.register("image_gallery",{eventCategory:"SWImageGalleryModal",page:1,currentImage:0,currentSlide:0,resizeParams:{},adjacents:[],template:o.modules.image_gallery.image_gallery,events:{"click .modal-close":function(){this.closeModal()},"click .modal-overlay":function(){this.closeModal()},"click .banner_img, .open-gallery":function(e){e.preventDefault(),this.showImageAtIndex(0)},"click .gallery-item":function(e){e.preventDefault();var t=c(e.target).closest(".gallery-item").index(),i=t;this.showImageAtIndex(i)},"click .show_more_container":function(){this.loadMoreThumbs(),r&&this.cleanPageName&&r.page({pageName:this.cleanPageName+"_"+this.page})},"click .print":function(){e.print()}},initialize:function(){var e=this,i=this.model,n=l.first(i.get("data")),r=n.images;l.extend(this,{touchDevice:s.touch,allThumbs:r,numImages:r.length,modalImages:[],visibleThumbs:[],socialShare:i.collection&&i.collection.social_share_networks}),c.each(this.allThumbs,function(t,i){i.index=t,i.slide=e.modalImages.length,i.type="image",e.modalImages.push(i)}),this.numSlides=e.modalImages.length,this.modalCollection=new a.LazyCollection(this.modalImages),this.imageViewList=new t.ListView({className:"modal-slides",collection:this.modalCollection,template:{render:function(e){return l.extend(e,{imgSrc:function(){return a.Resize.width()<=568?this.get("mobile_image"):this.get("image")}}),o.modules.image_gallery.image_gallery_slide.render(e,{})}}}),this.shouldShowThumbnails()&&(this.updateVisibleThumbs(),this.thumbCollection=new a.LazyCollection(this.visibleThumbs),this.thumbViewList=new t.ListView({collection:this.thumbCollection,template:{render:function(e){return o.modules.image_gallery.gallery_thumb.render(e,{})}}})),c.each(this.imageViewList.views,function(e,t){t.printSrc=t.model.get("image")||null});var d=this.model.collection;d&&d.cto&&(this.cleanPageName=d.cto.pageName,d.cto.pageName+="_1",d.cto.breadcrumbs="image-gallery")},render:function(){var e=this.thumbViewList,t=this.imageViewList,n=this.deepLinkUrlForImageId(l.first(this.modalImages).id),s=encodeURIComponent(n),a=this.model.get("translations")||{},r={images:"Images"};l.defaults(a,r);var c=l.extend({numImages:this.numImages,hasMore:this.hasMore(),showThumbs:this.shouldShowThumbnails(),thumbViewList:i.placeHtml(e),imageViewList:i.placeHtml(t),translations:a,socialShare:this.socialShare,source:n,sourceEncoded:s},this.model);this.$el.html(this.template.render(c,{moduleStyles:o.partials.style_overrides.modules.image_gallery,socialShare:o.modules.shared_components.social_share})),i.placeSwap(this,e),i.placeSwap(this,t)},ready:function(){var t=this,n=this.slides=this.$(".modal-slides"),s=l.first(t.model.get("data")),o=s.images;n.swipeasaurus({arrows:!0,next:".arrow-next",prev:".arrow-prev",loop:!1,speed:500}),this.$(".content-container").css("visibility","hidden"),n.on("slide",function(e,i){t.onSlide(i)}),this.updateButton(!1),c("body").addClass(this.hoverClass),c("html").addClass("single-page-print");var a=27,r=37,d=39;c(e.document).keyup(function(e){switch(e.keyCode){case a:c(".modal-window .modal-close").trigger("click");break;case r:n.swipeasaurus("prev");break;case d:n.swipeasaurus("next")}}),this.socialShare&&this.socialShare.facebook&&i.Social.init("facebook");var u=e.location.search.substring(1);if(u.indexOf("dlid")>-1){var f=u.split("dlid=")[1].split("&")[0],p=-1;c.each(o,function(e,t){return t.id===f?(p=e,!1):void 0}),p>=0&&this.showImageAtIndex(p)}},showImageAtIndex:function(t){var i=this.model.get("cto"),n=this.viewForIndex(t),s=this.$(".modal-slides"),o=this.$(".modal-window");if(o.addClass("first-shown"),s.swipeasaurus("effect","fade"),this.onSlide(t),s.swipeasaurus("slide",t),s.swipeasaurus("effect","slide"),!o.hasClass("modal-show")){o.addClass("modal-show");var a={engagementMeta:i&&i.slug,engagementType:this.eventCategory+"_show",eventCategory:this.eventCategory,action:"show"};e.cto.trackEvent(a)}n.$el.css("visibility","visible")},dimensions:function(){var e=a.Resize.width(),t=e>=n.max?"desktop":e>=n.midHigh?"tablet":"mobile",i={desktop:4,tablet:3,mobile:2},s={desktop:3,tablet:3,mobile:3},o={cols:i[t],rows:s[t]};return o},numPerBatch:function(){return this.dimensions().rows*this.dimensions().cols},bindResize:function(t){var n=this,s=n.fetchAdjacents(),o=function(){i.Style.fitToScreen(n.fetchResizeParams(t)),s.length>0&&c(s).each(function(e,t){i.Style.fitToScreen(n.fetchResizeParams(t))})};c(e).on("resize."+this.cid+"slide"+t,l.debounce(o,100))},unbindResize:function(t){c(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var i=t.$el,n=this.$(".modal-window"),s=this.$(".modal-header"),o=i.find(".image-info"),a=.46,r="item"+t.model.get("slide");return this.resizeParams[r]=[e,n,s,o,a],this.resizeParams[r]},fetchResizeParams:function(e){return this.resizeParams["item"+e]},fetchAdjacents:function(){return this.adjacents},itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var i=e.$el.find("img")[0];t=i&&!!i.src}return t},preloadItem:function(t){var i=this,n=t.model,s=a.Resize.width()<=568?n.get("mobile_image"):n.get("image"),o=new e.Image;o.className="gallery-image",o.src=s,o.complete?i.insertNewItem(t,o):c(o).on("load",function(){i.insertNewItem(t,o)})},insertNewItem:function(e,t){var i,n=e.$el.find("img")[0]||null;n&&t&&c(n).replaceWith(t),i=t,this.sizeItem(i,e),this.$(".modal-window").removeClass("loading")},onSlide:function(t){var n=this,s=this.$(".modal-window"),o=this.viewForIndex(t),a=o.model,d=t<this.numSlides-1?t+1:null,u=t>0?t-1:null,f={next:d,prev:u};n.itemLoaded(o)||(this.preloadItem(o),s.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=f,l.extend(this,{currentImage:a.get("index"),currentSlide:t,currentView:o}),this.$(".current").removeClass("current"),o.$el.addClass("current"),this.currentImage>=this.visibleThumbs.length&&this.loadMoreThumbs(),c.each(f,function(e,t){if(t){var s=n.viewForIndex(t);n.itemLoaded(s)?i.Style.fitToScreen(n.fetchResizeParams(t)):n.preloadItem(s)}}),this.setNewText(o),this.insertPrintData(o),this.updateFacebookUrl(o),this.updateTwitterUrl(o),o.$el.css("visibility","visible"),o.$el.css("opacity",1),s.hasClass("first-shown")&&e.setTimeout(function(){n.$(".modal-window").removeClass("first-shown")},800),i.Style.fitToScreen(n.fetchResizeParams(t)),r&&this.cleanPageName&&r.page({pageName:this.cleanPageName})},setNewText:function(e){var t=parseInt(e.model.get("index"),10),i=this.fetchAdjacents().next,n=this.fetchAdjacents().prev,s=i?this.viewForIndex(i).model:e.model,o=n?this.viewForIndex(n).model:e.model;this.$(".modal-window .current-count").html(t+1),this.$(".modal-window .arrow-prev").data({currentitem:i?s.get("index"):this.numSlides,viewtype:s.get("type")}),this.$(".modal-window .arrow-next").data({currentitem:n?o.get("index"):0,viewtype:o.get("type")})},updateFacebookUrl:function(e){var t=this.$(".modal-window"),i=e.model.get("id"),n=this.deepLinkUrlForImageId(i);t.find(".social-share.facebook").data("share-url",n)},updateTwitterUrl:function(e){var t=this.$(".modal-window"),i=e.model.get("id"),n=this.deepLinkUrlForImageId(i),s=encodeURIComponent(n),o=t.find(".social-share.twitter");if(o.length){var a=o.data("href").replace(/url=[^&]*/,"url="+s);o.data("href",a)}},deepLinkUrlForImageId:function(e){var t=l.first(this.model.get("data")).href,i=t.indexOf("?")>=0?"&":"?",n="dlid="+e;return t+i+n},galleryStyle:function(){var e=this.model.get("schema_json")||{},t=e.gallery_style||"thumbnail_grid";return t},sizeItem:function(t,n){var s,o,a,r=new e.Image;r.src=t.src,s=r.height,o=r.width,a=!1;var l={height:s,width:o,limitMax:a,item:t};n.aspectRatio=s/o,i.Style.fitToScreen(this.setResizeParams(l,n))},closeModal:function(){var t=this.model.get("cto"),i={engagementMeta:t&&t.slug,engagementType:this.eventCategory+"_hide",eventCategory:this.eventCategory,action:"hide"};this.$(".modal-window .modal-close").data("currentitem",this.currentImage),this.$(".modal-window").removeClass("modal-show loading"),this.$(".gallery-item.active").removeClass("active"),this.$(".content-container").css("visibility","hidden"),this.updateThumbnailActiveState(),this.unbindResize(this.currentSlide),e.cto.trackEvent(i)},updateThumbnailActiveState:function(){var t=this;this.shouldShowThumbnails()&&(this.thumbViewList.collection.at(t.currentImage).set("active",!0),e.setTimeout(function(){t.thumbViewList.collection.at(t.currentImage).set("active",!1)},1200))},shouldShowThumbnails:function(){return"thumbnail_grid"===this.galleryStyle()},updateButton:function(e){this.$el.toggleClass("loading",e).toggleClass("has-more",this.hasMore())},hasMore:function(){return this.page*this.numPerBatch()<this.numImages},loadMoreThumbs:function(){this.shouldShowThumbnails()&&(this.page++,this.updateButton(!0),this.updateVisibleThumbs(),this.thumbViewList.collection.add(this.visibleThumbs),this.updateButton(!1))},updateVisibleThumbs:function(){this.visibleThumbs=this.allThumbs.slice(0,this.page*this.numPerBatch())},viewForIndex:function(e){return this.imageViewList.views[e]},remove:function(){this.unbindResize(this.currentSlide),c("body").removeClass(this.hoverClass),c("html").removeClass("single-page-print"),t.ModuleView.prototype.remove.call(this)},insertPrintData:function(e){var t=c("#print-image img")[0],i=e.printSrc,n=e.model.get("caption");t&&(t.src=i),c("#print-image .caption").html(n)}})}(this),Whiskers("modules.rich_image",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("image",e,t,1),e,t,0,10,329,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound"> '),i.s(i.f("header_data",e,t,1),e,t,0,47,65,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),i.b(" "),i.s(i.f("data",e,t,1),e,t,0,91,178,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,144,160,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),i.b(' <img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" class="'),i.b(i.v(i.d("schema_json.height_class",e,t,0))),i.b(" "),i.b(i.v(i.d("schema_json.mobile_height_class",e,t,0))),i.b('"> '),i.s(i.f("data",e,t,1),e,t,0,308,312,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" </div> ")}),e.pop()),n.fl()}),Whiskers("modules.flex_image",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound image-'),n.b(n.v(n.d("schema_json.image_alignment",e,t,0))),n.b('"> '),n.s(n.f("header_data",e,t,1),e,t,0,74,92,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,118,205,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,171,187,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("image_data",e,t,1),e,t,0,264,487,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("wide",e,t,1),e,t,0,274,367,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("desktop",e,t,1),e,t,0,286,355,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width='),i.b(i.v(i.f("width",e,t,0))),i.b(" height="),i.b(i.v(i.f("height",e,t,0))),i.b(">")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||i.s(i.f("mobile",e,t,1),e,t,0,397,466,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width='),i.b(i.v(i.f("width",e,t,0))),i.b(" height="),i.b(i.v(i.f("height",e,t,0))),i.b(">")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("image_data",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.d("schema_json.image_assets",e,t,1),e,t,0,583,654,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <img src="'),i.s(i.f("wide",e,t,1),e,t,0,603,614,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("desktop",e,t,0)))}),e.pop()),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("mobile",e,t,0))),i.b('"> ')}),e.pop()),n.b(" ")),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,709,713,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),n.b(" </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=i.midHigh.toString(),s=e.Grill,o=e.Math,a=e.Whiskers,r=e.Backbone,l=e._,c=e.devicePixelRatio>1.5,d=s.ModuleView.extend({breakpoints:n,className:"module image_module",included_components:{module_header:a.modules.shared_components.module_header},load:function(){var e=this.model.get("cto"),t=e&&e.slug;this.$el.attr("data-slug",t)}});d.register("rich_image",{className:"module image_module full-height",template:a.modules.rich_image,render:function(){var e=r.Resize.width()>=i.midHigh,t=this,n=l.first(this.model.get("data")),s=t.model.get("style").images.foreground_image,o=null;if(s){var a=c&&s.retina_url?s.retina_url:s.url,d=c&&s.mobile_retina_url?s.mobile_retina_url:s.mobile_url?s.mobile_url:null;o=e?a:d}var u=l.extend({image:o?o:null,data:n?n:null},this.model);this.$el.html(this.template.render(u,this.included_components))}}),d.register("flex_image",{template:a.modules.flex_image,initialize:function(){var e=this.model.get("schema_json"),i=e&&e.image_assets;if(i){var n=["desktop","mobile"],s={};l.each(n,function(e){var n=i[e];if(n){var a=t.LumiereHelpers.nativeSize(n),r=o.ceil(a.height/2),l=o.ceil(a.width/2);s[e]={src:c?n:n+"&width="+l,height:r,width:l}}}),this.model.set("image_data",s)}},render:function(){var e=l.extend({wide:r.Resize.width()>=i.midHigh},this.model);this.$el.html(this.template.render(e,this.included_components))}})}(this),function(e){"use strict";var t=e.Disney;t.Utilities={stripQuery:function(e){return e.split("?")[0]},alog:function(t,i){e.console.log("**************************"),e.console.log(i),e.console.log(t),e.console.log("**************************")}}}(this),Whiskers("modules.links_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound" id="film-selector"> <div class="module_header has-list has-dropdown"> '),n.s(n.f("hasTitle",e,t,1),e,t,0,102,307,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <label class="module_title selector_title" for="mobile-film-selector"> '),i.s(i.f("isPPN",e,t,1),e,t,0,184,199,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("linkHeading",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("isPPN",e,t,1),e,t,1,0,0,"")||i.s(i.d("header_data.title",e,t,1),e,t,0,242,265,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.d("header_data.title",e,t,0)))}),e.pop()),i.b(" </label> ")}),e.pop()),n.b(' <div class="category-container"> <label class="module_title selected_movie noselect" for="mobile-film-selector"> '),n.s(n.f("currTitle",e,t,1),e,t,0,448,461,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("currTitle",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("currTitle",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.see_all",e,t,0))),n.b(' </label> <div class="truncate-name noselect"></div> <span class="drop-expand"></span> </div> '),n.s(n.f("data",e,t,1),e,t,0,631,1262,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <ul class="drop-container"> '),i.s(i.f("seeAll",e,t,1),e,t,0,671,759,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="has-link noselect"> <a href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a> </li> ")}),e.pop()),i.b(" "),i.s(i.f("pn_links",e,t,1),e,t,0,784,958,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="'),i.s(i.f("href",e,t,1),e,t,0,805,813,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has-link")}),e.pop()),i.s(i.f("active",e,t,1),e,t,0,833,841,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active ")}),e.pop()),i.b('noselect"> <span> <a href="'),i.b(i.v(i.f("href",e,t,0))),
i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,897,918,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),i.b("> "),i.b(i.v(i.f("title",e,t,0))),i.b(" </a> </span> </li> ")}),e.pop()),i.b(' </ul> <select id="mobile-film-selector" name="select" onchange="location = this.value;"> '),i.s(i.f("seeAll",e,t,1),e,t,0,1072,1134,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</option> ")}),e.pop()),i.b(" "),i.s(i.f("pn_links",e,t,1),e,t,0,1159,1238,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.s(i.f("active",e,t,1),e,t,0,1196,1206,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" selected ")}),e.pop()),i.b(" >"),i.b(i.v(i.f("title",e,t,0))),i.b("</option> ")}),e.pop()),i.b(" </select> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),Whiskers("modules.links_dropdown",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound'),n.s(n.f("section_class",e,t,1),e,t,0,35,61,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("section_class",e,t,0))),i.b("-content")}),e.pop()),n.b('"> <div class="module_header has-list has-dropdown'),n.s(n.f("maxLinks",e,t,1),e,t,0,142,152,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" max-links")}),e.pop()),n.b('"> '),n.s(n.d("header_data.title",e,t,1),e,t,0,190,295,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="module_title"> '),i.s(i.d("header_data.title",e,t,1),e,t,0,241,264,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.d("header_data.title",e,t,0)))}),e.pop()),i.b(" </span> ")}),e.pop()),n.b(' <div class="category-container"> <span class="module_title"> '),n.s(n.f("currTitle",e,t,1),e,t,0,393,406,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("currTitle",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("currTitle",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.default_text",e,t,0))),n.b(' </span> <span class="drop-expand"></span> </div> '),n.s(n.f("data",e,t,1),e,t,0,537,766,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <ul class="drop-container"> '),i.s(i.f("pn_links",e,t,1),e,t,0,579,746,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="'),i.s(i.f("href",e,t,1),e,t,0,599,617,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("underline has-link")}),e.pop()),i.s(i.f("active",e,t,1),e,t,0,637,644,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('"><span><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,690,711,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a></span></li>")}),e.pop()),i.b(" </ul> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Utilities,n=e.Grill,s=e.Whiskers,o=e._,a=n.ModuleView.extend({render:function(){var t,n,s=i.stripQuery(e.location.href),a=this.model.get("data"),r=o.first(a),l=r.pn_links||a,c=!!r.pn_links;"propertynav"===this.model.get("type")&&(t=r.title),o.each(l,function(e){i.stripQuery(e.href)===s&&(n=e.title,e.active=!0)});var d=o.extend({linkHeading:t,pn_links:l,isPPN:c,hasTitle:c||!!this.model.get("title"),section_class:l[0].section_class,currTitle:n,maxLinks:r.pn_links?r.pn_links.length>10:0},this.model.get("translations"),this.model);this.$el.html(this.template.render(d,{}))}});a.register("links_list",{template:s.modules.links_list,events:{"click .has-dropdown .category-container":function(i){if(t.Capabilities.isMobileBrowser()&&!e.navigator.userAgent.match(/ipad/i)){i.stopImmediatePropagation(),n.focus();var n=e.document.querySelector("#mobile-film-selector"),s=new e.MouseEvent("mousedown");n.dispatchEvent(s)}else this.$(".has-dropdown").toggleClass("active")}}}),a.register("links_dropdown",{className:"module flush-footer",template:s.modules.links_dropdown,events:{"click .has-dropdown .category-container":function(){this.$(".has-dropdown").toggleClass("active")}}})}(this),Whiskers("modules.play",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("data",e,t,1),e,t,0,9,943,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="game_wrapper"> <div class="bun_game '),i.b(i.v(i.f("createClass",e,t,0))),i.b('"> <div id="game_container_outer" class="inverted"> <noscript> <div class="player_error">'),i.b(i.v(i.f("no_javascript",e,t,0))),i.b('</div> </noscript> <div itemscope itemtype="http://schema.org/WebApplication"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("desc",e,t,0))),i.b('"> <meta itemprop="url" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <meta itemprop="image" content="'),i.b(i.v(i.f("square",e,t,0))),i.b('"> <meta itemprop="applicationCategory" content="'),i.b(i.v(i.f("type",e,t,0))),i.b('"> <meta itemprop="applicationSubCategory" content="'),i.b(i.v(i.f("genres",e,t,0))),i.b(" "),i.b(i.v(i.f("type",e,t,0))),i.b('"> <div id="game_container" class="inverted"> <div id=\'StarWarsGame-'),i.b(i.v(i.f("id",e,t,0))),i.b("' contentid='"),i.b(i.v(i.f("id",e,t,0))),i.b('\'></div> </div> <div class="game_container_error"> <div class="orphan"><p class="message"></p></div> </div> </div> </div> </div> </div> <div class="content-metadata-container"> <div class="bedazzlement"></div> '),i.b(' <div id="meta"></div> </div> </div> ')}),e.pop()),n.fl()}),Whiskers("modules.shared_components.content_metadata",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div id="toolbar"> <div id="metadata"> <div class="module_body"> <div class="contentarea col-container"> <div class="content"> <div class="item"> <div class="productlink"> <h1>'),n.b(n.v(n.f("title",e,t,0))),n.b("</h1> "),n.s(n.f("contentMetadataTitleLink",e,t,1),e,t,0,220,253,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),n.b(' </div> <p itemprop="description">'),n.b(n.v(n.f("description",e,t,0))),n.b(n.v(n.f("rating",e,t,0))),n.b('</p> </div> </div> </div> </div> </div> </div> <div class="social-share-container"> '),n.b(n.rp("socialShare",e,t,"")),n.b(" "),n.s(n.f("shareUtility",e,t,1),e,t,0,459,476,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("shareUtility",e,t,""))}),e.pop()),n.b(" </div>"),n.fl()}),Whiskers("modules.shared_components.share_utility",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="social-share social-dropdown-btn '),n.b(n.v(n.f("share_type",e,t,0))),n.b('"> <div class="label" role="button"> <span class="social-icon '),n.b(n.v(n.f("share_type",e,t,0))),n.b('-icon"></span> <span>'),n.b(n.v(n.f("share_text",e,t,0))),n.b('</span> </div> <!-- dropdown area --> <div class="dropdown-panel"> <span class="dropdown-label">'),n.b(n.v(n.f("output_label",e,t,0))),n.b(':</span> <textarea rows="1" class="text-output">'),n.b(n.v(n.f("textarea_value",e,t,0))),n.b("</textarea> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.jQuery,s=e._,o=e.Whiskers;t.ContentMetadataView=i.View.extend({initialize:function(e){if(this.options=e||{},this.socialShare=e&&e.model.collection&&e.model.collection.social_share_networks,this.render(),this.socialShare){var i=this.socialShare;i.facebook&&t.Social.init("facebook")}},render:function(){var t=s.first(this.model.get("data")),i=this.options.shareUtility;if(i){var n=e.location,a="https://"+n.host+"/embed/"+t.id,r='<iframe width="560" height="315" src="'+a+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+n.href+'">'+t.title+" on Disney Video</a>";s.each(i,function(e){switch(e.share_type){case"embed":e.textarea_value=r;break;case"share":e.textarea_value=n.href}})}var l=s.extend({socialShare:this.socialShare,content_id:t.id,shareUtility:i,source:t.href,sourceEncoded:encodeURIComponent(t.href),titleEncoded:encodeURIComponent(t.title)},t);this.$el.html(o.modules.shared_components.content_metadata.render(l,{socialShare:o.modules.shared_components.social_share,shareUtility:o.modules.shared_components.share_utility}))},remove:function(){n("body").off("click.watch"),n("#sharing").appendTo("body").remove()}})}(this),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=[i.midHigh,i.max],s=e.Grill,o=e.Backbone,a=e.Modernizr,r=e._,l=e.Whiskers,c=!1,d=!1,u=null,f=null,p=function(t){var i=e.onerror,n=e.console;n&&n.error&&n.error(t.stack||t.toString()),i&&i(t.toString())};s.ModuleView.register("play",{breakpoints:n.join(" "),template:l.modules.play,tabletSize:768,isMobile:a.mobile,assets:{scripts:["https://lumiere-a.akamaihd.net/v1/game_container/js/disneygames.js"]},render:function(){var t=r.first(this.model.get("data"));this.gameType=t.game_type,this.gameData={wmode:"transparent"},e.disneyGames.processConfig(t.game_data,this.gameData);var i=r.extend({},this.model.get("translations"),this.model);this.$el.html(this.template.render(i))},hideAllMessages:function(){this.$(".game_container_error").hide()},resize:function(){d?(this.$(".game_container_error").show(),this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(u)):this.isMobile||(this.$(".game_container_error").hide(),this.handleGameContainerShowHide(o.Resize.width()>=this.tabletSize))},handleGameContainerShowHide:function(t){var i=e.disneyGames;t?(c===!1?this.loadGameContainer():i.showGame(),this.$("#game_container").show(),this.$(".bun_game").removeClass("error_holder"),this.$(".game_container_error").hide()):(this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(this.model.get("translations").too_small),this.$(".game_container_error").show(),c===!0&&i.hideGame(),this.$("#game_container").hide())},loadGameContainer:function(){var t=e.disneyGames,i=this.model.get("data")[0].id;c=!0,e.disneyGamesCommunication.addMessageListener(r.bind(this.handleMessage,this));var n={elementId:"StarWarsGame-"+i,contentId:this.getContentId(),gameData:this.gameData,iframePath:"/games/syndication/iframeGame.html"};t.addGame(n)},getContentId:function(){var e;return e=this.model.get("data")[0].go_pub_id?this.model.get("data")[0].go_pub_id:this.model.get("data")[0].id},handleMessage:function(t){var i=e.disneyGames,n=this.model.get("translations"),s={unsupportedDevice:"ios",flashFailed:"no_flash",gameNotFound:"game_not_found",installUnity:"install_unity",notAuthorizedToHostGame:"not_authorized_to_host_game",unsupportedBrowser:"unsupported_browser"};switch(t){case"startGame":o.Resize.width()<=this.tabletSize&&!this.isMobile&&f.resize();break;case"unsupportedDevice":case"flashFailed":case"gameNotFound":case"installUnity":case"notAuthorizedToHostGame":case"unsupportedBrowser":u=n[s[t]],d=!0,f.resize(),this.$("#game_container").hide(),c===!0&&i.hideGame();break;case"HTML5Works":this.$(".bun_game").css("padding","0")}},ready:function(){var e=this,i=e.model.get("translations");f=e,d=!1,u=null,new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:[{share_type:"share",share_text:i.share,output_label:i.quick_link}]}),c===!1&&this.loadGameContainer(),this.hideAllMessages(),this.resize()},remove:function(){try{e.disneyGamesCommunication.clearMessageListeners()}catch(t){p(t)}try{e.disneyGames.removeGame()}catch(t){p(t)}s.BunView.prototype.remove.call(this),c=!1}})}(this),function(e){"use strict";function t(){return n()||i("ctoVisitor","visitorId")||i("ctoLocalVisitor","localVisitorId")}function i(e,t){var i=o.get(e),n=JSON.parse(a(i||"{}"));return n[t]}function n(){var t=e.location.search,i=new RegExp(r+"=([^&]*)"),n=i.exec(t);return n?n[1]:null}var s=e.Disney,o=s.Cookie,a=e.decodeURIComponent,r="visitor_id";s.visitorId=t}(this),Whiskers("modules.poll",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="matches '),n.s(n.f("activePolls",e,t,1),e,t,0,107,113,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),n.b('"> '),n.s(n.f("activePolls",e,t,1),e,t,0,148,756,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("polls",e,t,1),e,t,0,159,745,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,166,738,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,173,731,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("active",e,t,1),e,t,0,185,719,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="match" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-round="'),i.b(i.v(i.f("round",e,t,0))),i.b('" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="share-icon"></div> <div class="aspect"> <img src="'),i.b(i.v(i.d("image_poll.image_poll",e,t,0))),i.b('"> <div class="overlay"></div> </div><!-- .aspect --> '),i.s(i.f("voting_choices",e,t,1),e,t,0,429,677,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="option"> <span class="option-data" style="hidden" data-identifier="'),i.b(i.v(i.f("identifier",e,t,0))),i.b('" data-text="'),i.b(i.v(i.f("text",e,t,0))),i.b('" data-logo="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"> </span> <span class="score">'),i.b(i.v(i.f("percentage",e,t,0))),i.b('%</span> <span class="name">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span> </div><!-- .option --> ")}),e.pop()),i.b(" </div><!-- .match --> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("activePolls",e,t,1),e,t,1,0,0,"")||n.b(" <p>Sorry, there are no current match ups. </p> "),n.b(' </div><!-- .matchs --> <div class="sw-bracket"> <div class="bracket-header"> <div class="next"> <div class="arrow-right"></div> </div><!-- .next --> <div class="prev"> <div class="arrow-left"></div> </div><!-- .prev --> <div class="navigation"> <ul class="bracket-top-slider cs-hidden"> '),n.s(n.f("bracketRoundTitles",e,t,1),e,t,0,1164,1265,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class="round"> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</div> </li> ")}),e.pop()),n.b(' </ul> </div> <div class="content"> <ul class="bracket-content-slider cs-hidden"> '),n.s(n.f("polls",e,t,1),e,t,0,1380,2310,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class="round"> '),i.s(i.d(".",e,t,1),e,t,0,1406,2297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="match-container"> <div class="separator"> <div class="line"></div> </div> '),i.s(i.d(".",e,t,1),e,t,0,1499,2283,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="match '),i.s(i.f("state",e,t,1),e,t,0,1528,1537,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("state",e,t,0)))}),e.pop()),i.b('" data-status="'),i.s(i.f("state",e,t,1),e,t,0,1572,1581,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("state",e,t,0)))}),e.pop()),i.b('" data-pollid="'),i.b(i.v(i.f("id",e,t,0))),i.b('" > <div class="inner"> <div class="aspect"> <img class="active" src="'),i.b(i.v(i.d("image_poll.image_poll",e,t,0))),i.b('"> '),i.s(i.f("voting_choices",e,t,1),e,t,0,1729,1970,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("winner",e,t,1),e,t,0,1741,1862,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img class="option winner" src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"/> <span class="score">WINNER</span> <span class="name winner">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span> ")}),e.pop()),i.b(" "),i.s(i.f("winner",e,t,1),e,t,1,0,0,"")||(i.b(' <img class="option" src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"/> <span class="name">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span> ")),i.b(" ")}),e.pop()),i.b(' <div class="overlay"></div> </div> '),i.s(i.f("inactive",e,t,1),e,t,0,2038,2255,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="caption"> <span>VOTING STARTS</span> <span> '),i.s(i.f("voting_start_time_local",e,t,1),e,t,0,2123,2150,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("voting_start_time_local",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("voting_start_time_local",e,t,1),e,t,1,0,0,"")||i.b("SOON"),i.b(" </span> </div> ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </li> ")}),e.pop()),n.b(' </ul> </div> <!-- . content --> </div><!-- .bracket-header --> </div><!-- .sw-bracket --> <div id="sw-poll-modal"> <div class="close"></div> <div class="modal-content"> '),n.s(n.f("polls",e,t,1),e,t,0,2500,3371,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,2507,3364,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,2514,3357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("active",e,t,1),e,t,0,2526,3345,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="options-section" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-poll-name="'),i.b(i.v(i.f("title",e,t,0))),i.b('" style="display: none;"> <h1 class="modal-title"> VOTE NOW </h1> <div class="options"> '),i.s(i.f("voting_choices",e,t,1),e,t,0,2705,3026,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="option" data-id="'),i.b(i.v(i.f("identifier",e,t,0))),i.b('" data-percentage="'),i.b(i.v(i.f("percentage",e,t,0))),i.b('" data-name="'),i.b(i.v(i.f("text",e,t,0))),i.b('" data-imgurl="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"> <div class="aspect"> <img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("text",e,t,0))),i.b('" /> <span class="title">'),i.b(i.v(i.f("text",e,t,0))),i.b('</span> <span class="icon"></span> <div class="overlay"></div> </div><!-- .aspect ---> </div><!-- .option --> ')}),e.pop()),i.b(" </div><!-- .options --> "),i.s(i.f("commentary",e,t,1),e,t,0,3085,3297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="commentary"> <div class="thumb" style="background-image: url('),i.b(i.v(i.d("image.image",e,t,0))),i.b(');"></div> <h2 class="title"> '),i.b(i.v(i.f("title",e,t,0))),i.b(' </h2> <div class="description"> '),i.b(i.t(i.f("description",e,t,0))),i.b(" </div> </div><!-- .comentary --> ")}),e.pop()),i.b(" </div><!-- .options-section --> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="options-section recap" style="display: none;"> <h1 class="modal-title"> RECAP </h1> <div class="options"> <div class="option option1"> <div class="aspect"> <img src=""> <span class="winner" style="display: none;">Winner</span> <span class="score"></span> <span class="title"></span> </div><!-- .aspect ---> </div><!-- .option --> <div class="option option2"> <div class="aspect"> <img src=""> <span class="winner" style="display: none;">Winner</span> <span class="score"></span> <span class="title"></span> </div><!-- .aspect ---> </div><!-- .option --> </div><!-- .options --> <div class="commentary"> <div class="thumb" style=""></div> <h2 class="title"></h2> <div class="description"></div> </div><!-- .comentary --> </div> <div class="bs-social social" style="display: none;"> <div class="desc"> Share on</div> '),n.s(n.f("socialShare",e,t,1),e,t,0,4225,4241,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("socialShare",e,t,""))}),e.pop()),n.b(' <div class="continue-btn"> <button class="modal-continue-btn btn" type="button" name="button">continue</button> </div> </div><!-- .bs-social --> </div><!-- .modal-content --> </div><!-- .sw-poll-modal --> </div><!-- .bounds -->'),n.fl()}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var s,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" data-role="none" role="button" aria-required="false" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=e(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,s=e(t).data("slick")||{},o.options=e.extend({},o.defaults,n,s),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,"undefined"!=typeof document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.changeSlide=e.proxy(o.changeSlide,o),o.clickHandler=e.proxy(o.clickHandler,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}var i=0;return t}(),t.prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var s=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?e(t).appendTo(s.$slideTrack):n?e(t).insertBefore(s.$slides.eq(i)):e(t).insertAfter(s.$slides.eq(i)):n===!0?e(t).prependTo(s.$slideTrack):e(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),s.$slidesCache=s.$slides,s.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(t=-t),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,i):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),e({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(e){e=Math.ceil(e),s.options.vertical===!1?(n[s.animType]="translate("+e+"px, 0px)",s.$slideTrack.css(n)):(n[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(s.applyTransition(),t=Math.ceil(t),s.options.vertical===!1?n[s.animType]="translate3d("+t+"px, 0px, 0px)":n[s.animType]="translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(n),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this,n=i.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(e.options.infinite===!1&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1===0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)i.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,s,o,a,r=this;if(n=document.createDocumentFragment(),o=r.$slider.children(),r.options.rows>1){for(a=r.options.slidesPerRow*r.options.rows,s=Math.ceil(o.length/a),e=0;s>e;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var c=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var d=e*a+(t*r.options.slidesPerRow+i);o.get(d)&&c.appendChild(o.get(d))}l.appendChild(c)}n.appendChild(l)}r.$slider.empty().append(n),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,s,o,a=this,r=!1,l=a.$slider.width(),c=window.innerWidth||e(window).width();if("window"===a.respondTo?o=c:"slider"===a.respondTo?o=l:"min"===a.respondTo&&(o=Math.min(c,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){s=null;for(n in a.breakpoints)a.breakpoints.hasOwnProperty(n)&&(a.originalSettings.mobileFirst===!1?o<a.breakpoints[n]&&(s=a.breakpoints[n]):o>a.breakpoints[n]&&(s=a.breakpoints[n]));null!==s?null!==a.activeBreakpoint?(s!==a.activeBreakpoint||i)&&(a.activeBreakpoint=s,"unslick"===a.breakpointSettings[s]?a.unslick(s):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[s]),t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=s):(a.activeBreakpoint=s,"unslick"===a.breakpointSettings[s]?a.unslick(s):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[s]),t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=s):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t),r=s),t||r===!1||a.$slider.trigger("breakpoint",[a,r])}},t.prototype.changeSlide=function(t,i){var n,s,o,a=this,r=e(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),o=a.slideCount%a.options.slidesToScroll!==0,n=o?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":s=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-s,!1,i);break;case"next":s=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+s,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var s in t){if(e<t[s]){e=i;break}i=t[s]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),
i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var n=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=n.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},t.prototype.getLeft=function(e){var t,i,n,s=this,o=0;return s.slideOffset=0,i=s.$slides.first().outerHeight(!0),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,o=i*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!==0&&e+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(e>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(e-s.slideCount))*s.slideWidth*-1,o=(s.options.slidesToShow-(e-s.slideCount))*i*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,o=s.slideCount%s.options.slidesToScroll*i*-1))):e+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(e+s.options.slidesToShow-s.slideCount)*s.slideWidth,o=(e+s.options.slidesToShow-s.slideCount)*i),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,o=0),s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),t=s.options.vertical===!1?e*s.slideWidth*-1+s.slideOffset:e*i*-1+o,s.options.variableWidth===!0&&(n=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow),t=s.options.rtl===!0?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,s.options.centerMode===!0&&(n=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow+1),t=s.options.rtl===!0?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(s.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,s=[];for(t.options.infinite===!1?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)s.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return s},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,s=this;return n=s.options.centerMode===!0?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(t,o){return o.offsetLeft-n+e(o).outerWidth()/2>-1*s.swipeLeft?(i=o,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),a.$slider.trigger("lazyLoaded",[a,t])})},n.src=i})}var i,n,s,o,a=this;a.options.centerMode===!0?a.options.infinite===!0?(s=a.currentSlide+(a.options.slidesToShow/2+1),o=s+a.options.slidesToShow+2):(s=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),o=2+(a.options.slidesToShow/2+1)+a.currentSlide):(s=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,o=Math.ceil(s+a.options.slidesToShow),a.options.fade===!0&&(s>0&&s--,o<=a.slideCount&&o++)),i=a.$slider.find(".slick-slide").slice(s,o),t(i),a.slideCount<=a.options.slidesToShow?(n=a.$slider.find(".slick-slide"),t(n)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(n=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),t(n)):0===a.currentSlide&&(n=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]",n.$slider).length,t>0&&(i=e("img[data-lazy]",n.$slider).first(),i.attr("src",null),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad(),n.options.adaptiveHeight===!0&&n.setPosition()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},t.prototype.refresh=function(t){var i,n,s=this;n=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>n&&(s.currentSlide=n),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),i=s.currentSlide,s.destroy(!0),e.extend(s,s.initials,{currentSlide:i}),s.init(),t||s.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,s=this,o=s.options.responsive||null;if("array"===e.type(o)&&o.length){s.respondTo=s.options.respondTo||"window";for(t in o)if(n=s.breakpoints.length-1,i=o[t].breakpoint,o.hasOwnProperty(t)){for(;n>=0;)s.breakpoints[n]&&s.breakpoints[n]===i&&s.breakpoints.splice(n,1),n--;s.breakpoints.push(i),s.breakpointSettings[i]=o[t].settings}s.breakpoints.sort(function(e,t){return s.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,s={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",s[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(s):(s={},n.cssTransitions===!1?(s[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(s)):(s[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(s)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,s){t=i.slideWidth*n*-1,i.options.rtl===!0?e(s).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(s).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,n,s,o,a=this,r=!1;if("object"===e.type(arguments[0])?(n=arguments[0],r=arguments[1],o="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],s=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?o="responsive":"undefined"!=typeof arguments[1]&&(o="single")),"single"===o)a.options[n]=s;else if("multiple"===o)e.each(n,function(e,t){a.options[e]=t});else if("responsive"===o)for(i in s)if("array"!==e.type(a.options.responsive))a.options.responsive=[s[i]];else{for(t=a.options.responsive.length-1;t>=0;)a.options.responsive[t].breakpoint===s[i].breakpoint&&a.options.responsive.splice(t,1),t--;a.options.responsive.push(s[i])}r&&(a.unload(),a.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,s,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),o.options.centerMode===!0?(t=Math.floor(o.options.slidesToShow/2),o.options.infinite===!0&&(e>=t&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=o.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):e>=0&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(s=o.slideCount%o.options.slidesToShow,n=o.options.infinite===!0?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-s),n+s).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(i=null,s.slideCount>s.options.slidesToShow)){for(n=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-n;t-=1)i=t-1,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),s=parseInt(n.attr("data-slick-index"));return s||(s=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(s),void i.asNavFor(s)):void i.slideHandler(s)},t.prototype.slideHandler=function(e,t,i){var n,s,o,a,r,l=null,c=this;if(t=t||!1,(c.animating!==!0||c.options.waitForAnimate!==!0)&&!(c.options.fade===!0&&c.currentSlide===e||c.slideCount<=c.options.slidesToShow)){if(n=e,l=c.getLeft(n),a=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?a:c.swipeLeft,c.options.infinite===!1&&c.options.centerMode===!1&&(0>e||e>c.getDotCount()*c.options.slidesToScroll))return void(c.options.fade===!1&&(n=c.currentSlide,i!==!0?c.animateSlide(a,function(){c.postSlide(n)}):c.postSlide(n)));if(c.options.infinite===!1&&c.options.centerMode===!0&&(0>e||e>c.slideCount-c.options.slidesToScroll))return void(c.options.fade===!1&&(n=c.currentSlide,i!==!0?c.animateSlide(a,function(){c.postSlide(n)}):c.postSlide(n)));c.options.autoplay&&clearInterval(c.autoPlayTimer),s=0>n?c.slideCount%c.options.slidesToScroll!==0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!==0?0:n-c.slideCount:n,c.animating=!0;var d=jQuery.Event("beforeChange");return c.$slider.trigger(d,[c,c.currentSlide,s]),d.isDefaultPrevented()?(c.animating=!1,void(i!==!0?c.animateSlide(a,function(){c.postSlide(c.currentSlide)}):c.postSlide(c.currentSlide))):(t===!1&&c.asNavFor(e),o=c.currentSlide,c.currentSlide=s,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(r=c.getNavTarget(),r=r.slick("getSlick"),r.slideCount<=r.options.slidesToShow&&r.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),c.options.fade===!0?(i!==!0?(c.fadeSlideOut(o),c.fadeSlide(s,function(){c.postSlide(s)})):c.postSlide(s),void c.animateHeight()):void(i!==!0?c.animateSlide(l,function(){c.postSlide(s)}):c.postSlide(s)))}},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?s.options.rtl===!1?"left":"right":360>=n&&n>=315?s.options.rtl===!1?"left":"right":n>=135&&225>=n?s.options.rtl===!1?"right":"left":s.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},t.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=i.touchObject.swipeLength>10?!1:!0,void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,s,o,a=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!a.dragging||o&&1!==o.length?!1:(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),a.options.verticalSwiping===!0&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),i=a.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&e.preventDefault(),s=(a.options.rtl===!1?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),a.options.verticalSwiping===!0&&(s=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,a.options.infinite===!1&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.options.vertical===!1?a.swipeLeft=t+n*s:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*s,a.options.verticalSwiping===!0&&(a.swipeLeft=t+n*s),a.options.fade===!0||a.options.touchMove===!1?!1:a.animating===!0?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,n=this,s=arguments[0],o=Array.prototype.slice.call(arguments,1),a=n.length;for(e=0;a>e;e++)if("object"==typeof s||"undefined"==typeof s?n[e].slick=new t(n[e],s):i=n[e].slick[s].apply(n[e].slick,o),"undefined"!=typeof i)return i;return n}}),function(e){"use strict";var t=e.Grill,i=e.Disney,n=e.Whiskers,s=e.moment,o=e.jQuery,a=e._,r=e.window,l=t.ModuleView.extend({className:"module starwars-poll",template:n.modules.poll,events:{"click .matches .match, .share-icon":"_initCurrentView","click .sw-bracket .match":"_initBracketView","click #sw-poll-modal .close":"_closeModal","click #sw-poll-modal .options-section:not(.recap) .option":"_submitPollVote"},initialize:function(){this._bindEvents()},render:function(){var e=this,t=e._setState(e.model.get("data")),n=e._getActiveAndCompletedPolls(t),r=e._getPollIds(n),l=e._getPollsCount(r);o.when.apply(null,l).then(function(){var e=1===r.length?[arguments]:arguments,i=a.reduce(e,function(e,t,i){var n=a.reduce(t[0].results||[],function(e,t){return e[t.objectSubId]=t,e},{});return e[r[i]]=n,e},{});a.each(t,function(e){var t=i[e.poll_id]||{};if(a.each(e.voting_choices,function(e){var i=t[e.identifier||""]||{};e.count=i.count||0,e.percentage=Math.round(i.percentage)||0}),e.complete){var n=a.max(e.voting_choices,function(e){return e.count}).identifier;e.voting_choices[n-1].winner=!0}})}).always(function(){var n,o=a.map(a.groupBy(t,function(e){return e.round}),function(e){return e}),r=a.each(o,function(e,t,i){var o=a.groupBy(e,function(e,t){return e.active&&!n&&(n=e.round),e.inactive&&(e.voting_start_time_local=s.utc(e.voting_start_time).local().format("M.D.YY")),Math.floor(t/2)});i[t]=a.map(o,function(e){return e})});e.safeRender(r,n>0),e._initBracketSlider(n),i.Social.bindShareClick()})},safeRender:function(t,s){var o=this.model.collection&&this.model.collection.social_share_networks||{},r=e.location.href,l=this.model.collection.title||"This Is Madness: The Star Wars Character Tournament | www.StarWars.com",c=[{title:"Round 1",description:"Rule Of Thirty-Two"},{title:"Round 2",description:"Sixteen Strikes Back"},{title:"Round 3",description:"Duel Of The Eights"},{title:"Round 4",description:"Fate Of Four"},{title:"Round 5",description:"Championship"}],d=a.extend({activePolls:s,bracketRoundTitles:c,polls:t,socialShare:o,title:l,source:r,titleEncoded:encodeURIComponent(l),sourceEncoded:encodeURIComponent(r)},this.model);this.$el.html(this.template.render(d,{module_header:n.modules.shared_components.module_header,socialShare:n.modules.shared_components.social_share})),o.facebook&&i.Social.init("facebook")},_initBracketSlider:function(e){function t(e,t,i){var n=i-t||0,s=e.$slides,o=s.find(".match"),a=o.height(),r=o.find(".inner").height(),l=a/2,c=!0;s.filter(".slick-current").nextAll().andSelf().each(function(t,i){var o=s.index(i),d=s.eq(o+n),u=d.find(".match-container"),f=u.find(".separator"),p=f.find(".line"),h=u.find(".match"),v=Math.max(2*t-1,0),m=v*l;1===e.getOption("slidesToShow")&&(c=!1,s.find(".match").css("margin-bottom","5%")),c&&h.css({"margin-bottom":m}),h.css({"margin-top":m}),f.css({"margin-top":(v+1)*(r/2)+v*((a-r)/2),"margin-bottom":(v+1)*(r/2)+v*((a-r)/2)}),p.css({height:(v+1)*a})})}var i=this,n=this.$el.find(".bracket-top-slider"),s=this.$el.find(".bracket-content-slider");s.on("init",function(e){o(e.currentTarget).removeClass("cs-hidden")}),s.on("beforeChange",function(e,i,n,s){return s<=i.slideCount-i.getOption("slidesToShow")?void t(i,n,s):!1}),s.on("setPosition",function(e,n){var s=n.$slides.eq(n.currentSlide).height();i.$el.find(".bracket-content-slider").height(s),t(n)}),s.slick({accessibility:!0,arrows:!1,asNavFor:n,draggable:!0,infinite:!1,initialSlide:Math.min((e||1)-1,2),slidesToScroll:1,slidesToShow:3,swipeToSlide:!0,speed:750,swipe:!0,responsive:[{breakpoint:900,settings:{initialSlide:Math.min((e||1)-1,3),slidesToScroll:1,slidesToShow:2}},{breakpoint:480,settings:{initialSlide:Math.min((e||1)-1,4),slidesToScroll:1,slidesToShow:1}}]}),n.on("beforeChange",function(e,t,i,n){return n>t.slideCount-t.getOption("slidesToShow")?!1:void 0}),n.on("init",function(e){o(e.currentTarget).removeClass("cs-hidden")}),n.slick({accessibility:!0,asNavFor:s,draggable:!0,infinite:!1,initialSlide:Math.min((e||1)-1,2),nextArrow:this.$el.find(".next"),prevArrow:this.$el.find(".prev"),slidesToScroll:1,slidesToShow:3,swipeToSlide:!0,speed:750,swipe:!0,responsive:[{breakpoint:900,settings:{initialSlide:Math.min((e||1)-1,3),slidesToScroll:1,slidesToShow:2}},{breakpoint:480,settings:{initialSlide:Math.min((e||1)-1,4),slidesToScroll:1,slidesToShow:1}}]})},_getPollsCount:function(e){var t=this,i="GAE "+t.model.get("interaction_client_id");return a.map(e,function(e){var n=t.model.get("interaction_base_uri")+"interaction/poll/"+e;o.ajaxSettings.traditional=!0;var s=o.ajax({url:n,headers:{Authorization:i,"content-type":"application/json"},type:"GET",data:{},dataType:"json"});return s})},_submitPollVote:function(t){if(!o(t.currentTarget).closest(".options-section").hasClass("voted")){var n=this,s=o(t.currentTarget).closest(".options-section").data("id"),a=o(t.currentTarget).data("id"),l=o(t.currentTarget).data("name"),c=i.visitorId(),d=r.location.pathname,u="GAE "+this.model.get("interaction_client_id"),f=this.model.get("interaction_base_uri")+"interaction/poll";o.ajax({url:f,headers:{Authorization:u,"content-type":"application/json"
},type:"POST",data:JSON.stringify({objectId:s,objectSubId:a,userId:c,quantity:1,metadata:{subIdDisplayName:l,pageUrl:d}}),dataType:"json"}).always(function(){var i,a,r=o(t.currentTarget),l=r.closest(".options-section"),c=r.closest(".modal-content");o(t.currentTarget).find(".overlay").addClass("voted"),o(t.currentTarget).find(".icon").fadeOut(),o(".match").filter(function(){return o(this).data("id")===s}).find(".overlay").addClass("voted"),o(t.currentTarget).closest(".options-section").addClass("voted"),e.setTimeout(function(){l.addClass("voted").removeClass("display").fadeOut(function(){i=o(".options-section").eq(0).hasClass("voted"),a=o(".options-section").eq(1).hasClass("voted")})},1e3),e.setTimeout(function(){c.find(".bs-social").show().fadeIn(),c.find(".modal-continue-btn").show(),i&&a&&c.find(".modal-continue-btn").text("Close")},2e3),o(".modal-continue-btn").on("click",function(){i&&a&&n._closeModal(),c.find(".bs-social").hide().fadeOut(),o(".options-section").not(".voted, .recap").show().fadeIn()})})}},_getActiveAndCompletedPolls:function(e){return a.filter(e,function(e){return e.active||e.complete})},_getPollIds:function(e){return a.map(e,function(e){return e.poll_id})},_setState:function(e){return a.each(e,function(e){var t="inactive",i=s(e.current_date_time).isAfter(e.voting_start_time),n=s(e.current_date_time).isBefore(e.voting_end_time);i&&n?t="active":i&&(t="complete"),e.state=t,e[t]=!0}),e},_initModal:function(){o(e.document.body).addClass("no-scroll"),this.$el.addClass("modal-active")},_closeModal:function(){o(e.document.body).removeClass("no-scroll"),this.$el.removeClass("modal-active")},_initCurrentView:function(e){e.stopPropagation();var t=this,i=o(e.currentTarget),n=e.currentTarget.className,s=i.data("id"),a=this.$el.find("#sw-poll-modal .options-section"),r=this.$el.find(".bs-social"),l=this.$el.find(".modal-continue-btn");a.hide(),r.hide(),"match"===n?s&&a.each(function(e,i){o(i).data("id")===s&&(t._initModal(),o(i).show())}):(t._initModal(),l.hide(),r.show())},_initBracketView:function(e){e.stopPropagation();var t=this,i=t.model.get("data"),n=o(e.currentTarget),s=n.data("pollid"),r=n.data("status"),l=this.$el.find("#sw-poll-modal .options-section"),c=this.$el.find(".bs-social"),d=this.$el.find(".recap");if(l.hide(),c.hide(),s)switch(r){case"active":l.each(function(e,i){o(i).data("id")===s&&(t._initModal(),o(i).show())});break;case"complete":var u=a.filter(i,function(e){return e.id===s}),f=u[0];d.find(".option1 img").attr("src",f.voting_choices[0].logo),d.find(".option1 .title").text(f.voting_choices[0].text),d.find(".option1 .score").text(f.voting_choices[0].percentage+"%"),d.find(".option1 .winner").hide(),d.find(".option2 img").attr("src",f.voting_choices[1].logo),d.find(".option2 .title").text(f.voting_choices[1].text),d.find(".option2 .score").text(f.voting_choices[1].percentage+"%"),d.find(".option2 .winner").hide(),f.voting_choices[0].winner?d.find(".option1 .winner").show():d.find(".option2 .winner").show();var p=u[0].commentary;d.find(".commentary .thumb").css("background-image","url("+p.image.image+")"),d.find(".commentary .title").text(p.title),d.find(".commentary .description").html(p.description),t._initModal(),d.show()}},_bindEvents:function(){e.document.addEventListener("keyup",function(e){switch(e.keyCode){case 27:this._closeModal()}}.bind(this))}});l.register("poll")}(this),Whiskers("modules.poll_grid",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound'),n.s(n.f("show_awards",e,t,1),e,t,0,33,41,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" winners")}),e.pop()),n.b('"> '),n.b(n.rp("modules/poll_grid/poll_grid_svg",e,t,"")),n.b(' <button class="view-gallery"> <div> <span class="gallery-text">'),n.b(n.v(n.d("translations.view_gallery",e,t,0))),n.b('</span> <span class="icon-landscape"></span> </div> </button> <ul class="wrapper" data-content-count="'),n.b(n.v(n.d("voting_choices.length",e,t,0))),n.b('"> '),n.s(n.f("voting_choices",e,t,1),e,t,0,338,3701,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-link_cta_index="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('"'),i.s(i.f("video",e,t,1),e,t,0,424,450,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-video="'),i.b(i.v(i.d("video.id",e,t,0))),i.b('"')}),e.pop()),i.b('> <div class="item-container"> <div class="item entity-box"> <div class="share-card"> <div class="share-genre">'),i.s(i.d("image_assets.image",e,t,1),e,t,0,594,622,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.share_image",e,t,0)))}),e.pop()),i.s(i.f("image_assets",e,t,1),e,t,1,0,0,"")||i.s(i.d("video.base_images",e,t,1),e,t,0,684,712,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.share_video",e,t,0)))}),e.pop()),i.b('</div> <button class="close ada-el-focus" aria-label="'),i.b(i.v(i.d("translations.close",e,t,0))),i.b('" type="button"></button> <ul class="social-icons"> <li> <a class="icon-fb social-share service ada-el-focus" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-social-type="facebook" data-share-url="'),i.b(i.v(i.f("shareUrl",e,t,0))),i.b('" data-href="" > <svg viewbox="0 0 22 22"><use xlink:href="#poll-grid-facebook"/></svg> </a> </li> <li> <a class="icon-tw social-share service ada-el-focus" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-social-type="twitter" data-href="https://twitter.com/intent/tweet?url='),i.b(i.v(i.f("shareUrlEncoded",e,t,0))),i.b("&text="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('" > <svg viewBox="0 0 23 19"><use xlink:href="#poll-grid-twitter"/></svg> </a> </li> </ul> <hr class="bar"/> <div class="copy-link">'),i.b(i.v(i.d("translations.copy_link",e,t,0))),i.b('</div> <div class="link-container ada-el-focus" aria-label="'),i.b(i.v(i.d("translations.copy_link",e,t,0))),i.b('" tabindex="-1"> <input type="text" class="link ada-el-focus" tabindex="0" value="'),i.b(i.v(i.f("shareUrl",e,t,0))),i.b('"/> </div> <i class="decal"> <svg><use xlink:href="#poll-grid-design"/></svg> </i> </div> <div class="aspect-container'),i.s(i.f("video",e,t,1),e,t,0,1776,1782,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" video")}),e.pop()),i.s(i.f("video",e,t,1),e,t,1,0,0,"")||i.b(" image ada-el-focus"),i.b('" '),i.s(i.f("video",e,t,1),e,t,1,0,0,"")||i.b('tabindex="0"'),i.b('> <div class="aspect placeholder" '),i.s(i.d("image_assets.image",e,t,1),e,t,0,1922,1994,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="padding-bottom:'),i.b(i.v(i.d("image_assets.image.desktop.aspect_ratio_pct",e,t,0))),i.b(';"')}),e.pop()),i.s(i.f("video",e,t,1),e,t,0,2027,2059,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="padding-bottom: 56.25%;"')}),e.pop()),i.b("> "),i.s(i.d("image_assets.image",e,t,1),e,t,0,2094,2264,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="background-image"> <img src="'),i.b(i.v(i.d("image_assets.image.desktop.src",e,t,0))),i.b('" alt="'),i.b(i.v(i.d("image_assets.image.alt_text",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("image_assets.image.desktop.src",e,t,0))),i.b('"> </div> ')}),e.pop()),i.b(" "),i.s(i.f("image_assets",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="background-image"> '),i.s(i.d("video.base_images",e,t,1),e,t,0,2359,2563,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <button class="large-play-btn" aria-label="'),i.b(i.v(i.d("translations.play",e,t,0))),i.b('"></button> <img src="'),i.b(i.v(i.d("video.base_images.desktop.ratio_16x9",e,t,0))),i.b('" alt="'),i.b(i.v(i.d("video.title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("video.base_images.desktop.ratio_16x9",e,t,0))),i.b('"> ')}),e.pop()),i.b(" </div> ")),i.b(" "),i.s(i.f("video_options",e,t,1),e,t,0,2629,2677,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div id="player-'),i.b(i.v(i.f("ref",e,t,0))),i.b("-"),i.b(i.v(i.f("id",e,t,0))),i.b('-container"></div>')}),e.pop()),i.b(' </div> </div> <div class="card-separator"></div> <div class="details-container ada-el-focus" tabindex="0"> <div class="details"> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="author">'),i.b(i.v(i.f("author_name",e,t,0))),i.b("</div> "),i.s(i.f("description",e,t,1),e,t,0,2918,2957,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</div>")}),e.pop()),i.b(' </div> <div class="vote"> '),i.s(i.f("show_awards",e,t,1),e,t,1,0,0,"")||(i.b(' <button class="vote-text ada-el-focus"> <div class="vote-default">'),i.b(i.v(i.d("translations.vote",e,t,0))),i.b('</div> <div class="vote-success vote-non-default">'),i.b(i.v(i.d("translations.voted",e,t,0))),i.b('</div> <div class="vote-error vote-tomorrow vote-non-default">'),i.b(i.v(i.d("translations.vote_tomorrow",e,t,0))),i.b('</div> <div class="vote-error vote-failure vote-non-default">'),i.b(i.v(i.d("translations.error",e,t,0))),i.b("</div> </button> ")),i.b(" "),i.s(i.f("show_awards",e,t,1),e,t,0,3401,3522,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="winner-text"> <span class="winner-label">'),i.b(i.v(i.f("award_label",e,t,0))),i.b('</span> <span class="award">'),i.b(i.v(i.f("award",e,t,0))),i.b("</span> </div> ")}),e.pop()),i.b(' <div class="share-text"> <button class="icon-social" aria-label="'),i.b(i.v(i.d("translations.share",e,t,0))),i.b('"></button>'),i.b(i.v(i.d("translations.share",e,t,0))),i.b(" </div> </div> </div> </div> </div> </li> ")}),e.pop()),n.b(" </ul> </div>"),n.fl()}),Whiskers("modules.inline_video_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div id="grid-video'),n.s(n.f("module_id",e,t,1),e,t,0,33,47,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("-"),i.b(i.v(i.f("module_id",e,t,0)))}),e.pop()),n.b('"> <div class="aspect"> <div id="inline-video-player'),n.s(n.f("module_id",e,t,1),e,t,0,127,141,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("-"),i.b(i.v(i.f("module_id",e,t,0)))}),e.pop()),n.b('" class="player"></div> </div> </div>'),n.fl()}),Whiskers("modals.poll_grid_gallery",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="pg-nav"> <!-- Navigation --> <div> <div class="controls"> <button class="previous ada-el-focus" aria-label="'),n.b(n.v(n.d("translations.previous",e,t,0))),n.b('"> <svg><use xlink:href="#poll-grid-arrow-left"/></svg> </button> <span class="page-num"></span> <button class="next ada-el-focus" aria-label="'),n.b(n.v(n.d("translations.next",e,t,0))),n.b('"> <svg><use xlink:href="#poll-grid-arrow-right"/></svg> </button> </div> </div> <div><div class="logo"></div></div> <div> <div class="modal-close ada-el-focus" aria-label="'),n.b(n.v(n.d("translations.close",e,t,0))),n.b('" tabindex="0"> <svg><use xlink:href="#poll-grid-x"/></svg> </div> </div> </div> '),n.b(n.t(n.f("poll_grid_items",e,t,0))),n.b(' <div class="pg-vote mobile"> <!-- vote button --> <div class="vote'),n.s(n.f("show_awards",e,t,1),e,t,0,689,696,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" winner")}),e.pop()),n.b('"> '),n.s(n.f("show_awards",e,t,1),e,t,1,0,0,"")||(n.b(' <button data-id="" class="vote-text ada-el-focus"> <div class="vote-default">'),n.b(n.v(n.d("translations.vote",e,t,0))),n.b('</div> <div class="vote-success vote-non-default">'),n.b(n.v(n.d("translations.voted",e,t,0))),n.b('</div> <div class="vote-error vote-tomorrow vote-non-default">'),n.b(n.v(n.d("translations.vote_tomorrow",e,t,0))),n.b('</div> <div class="vote-error vote-failure vote-non-default">'),n.b(n.v(n.d("translations.error",e,t,0))),n.b("</div> </button> ")),n.b(" "),n.s(n.f("show_awards",e,t,1),e,t,0,1127,1248,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="winner-text"> <span class="winner-label">'),i.b(i.v(i.f("award_label",e,t,0))),i.b('</span> <span class="award">'),i.b(i.v(i.f("award",e,t,0))),i.b("</span> </div> ")}),e.pop()),n.b(' <!-- share button --> <div class="share-text"> <button class="icon-social ada-el-focus" aria-label="'),n.b(n.v(n.d("translations.share",e,t,0))),n.b('"></button>'),n.b(n.v(n.d("translations.share",e,t,0))),n.b(' </div> </div> </div> <div class="pg-share-modal-mask"></div> <div class="pg-share-modal"> <div class="close-container"> <div class="modal-close ada-el-focus" aria-label="'),n.b(n.v(n.d("translations.close",e,t,0))),n.b('" tabindex="0"> <svg><use xlink:href="#poll-grid-x"/></svg> </div> </div> <div class="share-info"> <h3 class="share-title">'),n.s(n.f("isVideo",e,t,1),e,t,0,1748,1776,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.share_video",e,t,0)))}),e.pop()),n.s(n.f("isVideo",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.share_image",e,t,0))),n.b('</h3> <ul class="social-icons"> <li> <a class="icon-fb social-share service ada-el-focus" data-social-type="facebook" href="javascript:void(0)"> <svg viewbox="0 0 22 22"><use xlink:href="#poll-grid-facebook"/></svg> </a> </li> <li> <a class="icon-tw social-share service ada-el-focus" data-social-type="twitter" href="javascript:void(0)"> <svg viewBox="0 0 23 19"><use xlink:href="#poll-grid-twitter"/></svg> </a> </li> </ul> <hr> <label for="share-link">Copy Text</label> <input id="share-link" type="text" readonly="1" value="'),n.b(n.v(n.f("shareUrl",e,t,0))),n.b('"/> <i class="decal"> <svg><use xlink:href="#poll-grid-design"/></svg> </i> </div>'),n.fl()}),Whiskers("modules.poll_grid.poll_grid_gallery_item",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="swipe-container"> <div class ="pg-wrapper"> <div class="pg-asset'),n.s(n.d("image_assets.image",e,t,1),e,t,0,99,105,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" image")}),e.pop()),n.b('"> '),n.s(n.d("image_assets.image",e,t,1),e,t,0,154,259,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <img class="image-asset" src="'),i.b(i.v(i.d("desktop.base_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("desktop.base_src",e,t,0))),i.b('"> ')}),e.pop()),n.b(" "),n.s(n.f("image_assets",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="video-asset"> '),n.s(n.d("video.base_images",e,t,1),e,t,0,349,530,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <button class="large-play-btn ada-el-focus" aria-label="'),i.b(i.v(i.d("translations.play",e,t,0))),i.b('"></button> <img src="'),i.b(i.v(i.d("desktop.ratio_16x9",e,t,0))),i.b('" alt="'),i.b(i.v(i.d("video.title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("desktop.ratio_16x9",e,t,0))),i.b('"> ')}),e.pop()),n.b(" </div> ")),n.b(" "),n.s(n.f("video_options",e,t,1),e,t,0,596,644,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div id="player-'),i.b(i.v(i.f("ref",e,t,0))),i.b("-"),i.b(i.v(i.f("id",e,t,0))),i.b('-container"></div>')}),e.pop()),n.b(' </div> <div class="pg-info"> <div class="pg-details"> <span class="heading"> <p class="category">'),n.b(n.v(n.f("category",e,t,0))),n.b('</p> <h3 class="title">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h3> <p class="author">'),n.b(n.v(n.f("author_name",e,t,0))),n.b('</p> </span> <p class="desc">'),n.b(n.v(n.f("description",e,t,0))),n.b('</p> <div class="pg-vote"> <!-- vote button --> <div class="vote'),n.s(n.f("show_awards",e,t,1),e,t,0,967,974,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" winner")}),e.pop()),n.b('"> '),n.s(n.f("show_awards",e,t,1),e,t,1,0,0,"")||(n.b(' <button data-id="'),n.b(n.v(n.f("id",e,t,0))),n.b('" class="vote-text ada-el-focus"> <div class="vote-default">'),n.b(n.v(n.d("translations.vote",e,t,0))),n.b('</div> <div class="vote-success vote-non-default">'),n.b(n.v(n.d("translations.voted",e,t,0))),n.b('</div> <div class="vote-error vote-tomorrow vote-non-default">'),n.b(n.v(n.d("translations.vote_tomorrow",e,t,0))),n.b('</div> <div class="vote-error vote-failure vote-non-default">'),n.b(n.v(n.d("translations.error",e,t,0))),n.b("</div> </button> ")),n.b(" "),n.s(n.f("show_awards",e,t,1),e,t,0,1411,1532,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="winner-text"> <span class="winner-label">'),i.b(i.v(i.f("award_label",e,t,0))),i.b('</span> <span class="award">'),i.b(i.v(i.f("award",e,t,0))),i.b("</span> </div> ")}),e.pop()),n.b(' <!-- share button --> <div class="share-text"> <button class="icon-social ada-el-focus" aria-label="'),n.b(n.v(n.d("translations.share",e,t,0))),n.b('"></button>'),n.b(n.v(n.d("translations.share",e,t,0))),n.b(" </div> </div> </div> </div> </div> </div> </div>"),n.fl()}),Whiskers("modules.poll_grid.poll_grid_svg",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none;"> <defs> <path id="poll-grid-check" d="M5.73102868,13.2682717 C6.70659256,14.2441675 8.29197179,14.2441675 9.26753568,13.2667226 C10.2449752,12.2910481 10.243334,10.7090347 9.26753568,9.73158991 C8.29033061,8.7561367 6.70987492,8.7561367 5.73266986,9.73158991 C4.75687152,10.7090347 4.75523034,12.2928185 5.73102868,13.2682717 Z M17,7.10542736e-14 L10,7 L12,9 L19,2 L17,7.10542736e-14 Z M0,6 L3,9 L5,7 L2,4 L0,6 Z"></path> <path id="poll-grid-design" d="M20,0 C22.209139,-4.05812251e-16 24,1.790861 24,4 L24,36 L16,36 L16,4 C16,1.790861 17.790861,4.05812251e-16 20,0 Z M4,16 C6.209139,16 8,17.790861 8,20 L8,36 L0,36 L0,20 C-2.705415e-16,17.790861 1.790861,16 4,16 Z M4,0 L4,0 C6.209139,-4.05812251e-16 8,1.790861 8,4 L8,4 C8,6.209139 6.209139,8 4,8 L4,8 C1.790861,8 2.705415e-16,6.209139 0,4 L0,4 C-2.705415e-16,1.790861 1.790861,4.05812251e-16 4,0 Z" fill="#999999"></path> <path id="poll-grid-x" d="M22,0 L12,10 L2,0 L0,2 L10,12 L5,17 L7,19 L12,14 L17,19 L19,17 L14,12 L24,2 L22,0 Z M19,21 L22,24 L24,22 L21,19 L19,21 Z M0,22 L2,24 L5,21 L3,19 L0,22 Z" id="x" fill="#F8F8F8"></path> <path id="poll-grid-twitter" d="M20.645472,4.65492896 C20.6554955,4.85740434 20.6595049,5.05887736 20.6595049,5.2643598 C20.6595049,11.5 15.9133618,18.6898806 7.23398414,18.6898806 C4.56772422,18.6898806 2.08890438,17.9090473 0,16.5699033 C0.37087074,16.6120021 0.745750893,16.6350562 1.12564281,16.6350562 C3.33883901,16.6350562 5.37060926,15.8822889 6.98540051,14.6163166 C4.92155496,14.5772248 3.17846248,13.2120195 2.57905517,11.3396235 C2.86673058,11.3927482 3.16142247,11.4238211 3.46613789,11.4238211 C3.89714983,11.4238211 4.31412882,11.3646823 4.70805369,11.2584328 C2.55199163,10.8234115 0.92416979,8.91693541 0.92416979,6.63156977 L0.92416979,6.57243092 C1.56066417,6.92626166 2.2883727,7.13675586 3.06218949,7.1618147 C1.79521485,6.31683082 0.963261571,4.87143729 0.963261571,3.23459426 C0.963261571,2.36956332 1.19580755,1.55865946 1.60176066,0.862023882 C3.92822278,3.71772858 7.40638891,5.59513641 11.3275952,5.79159766 C11.247407,5.44678811 11.2053081,5.08694326 11.2053081,4.71707487 C11.2053081,2.11095616 13.318269,0 15.9243877,0 C17.2805718,0 18.5074523,0.572343764 19.3684738,1.48849473 C20.4419942,1.27699817 21.4523664,0.884075656 22.3655103,0.342804846 C22.0116796,1.44639589 21.2649263,2.36956332 20.2906389,2.95393533 C21.2448793,2.84167175 22.1550161,2.58607165 23,2.21219385 C22.367515,3.15841541 21.5676371,3.98936634 20.645472,4.65492896"></path> <path id="poll-grid-facebook" d="M21.9913483,1.21370787 L21.9913483,20.7775581 C21.9913483,21.4477753 21.4478577,21.9912659 20.7776404,21.9912659 L15.1736554,21.9912659 L15.1736554,13.4751236 L18.0322547,13.4751236 L18.4602247,10.1561723 L15.1736554,10.1561723 L15.1736554,8.03716854 C15.1736554,7.07625468 15.4404569,6.42144569 16.8185468,6.42144569 L18.5759101,6.42062172 L18.5759101,3.45218727 C18.2718652,3.41181273 17.2287191,3.32142322 16.0150112,3.32142322 C13.4811386,3.32142322 11.7462697,4.86809738 11.7462697,7.70856929 L11.7462697,10.1561723 L8.88041948,10.1561723 L8.88041948,13.4751236 L11.7462697,13.4751236 L11.7462697,21.9912659 L1.21379026,21.9912659 C0.543325843,21.9912659 0,21.4477753 0,20.7775581 L0,1.21370787 C0,0.543243446 0.543325843,0 1.21379026,0 L20.7776404,0 C21.4478577,0 21.9913483,0.543243446 21.9913483,1.21370787"></path> <path id="poll-grid-arrow-left" d="M0,0 L22,0 L22,24 L0,24 L0,0 Z M13,5 L6,12 L13,19 L15,17 L10,12 L15,7 L13,5 Z" fill="#f8f8f8"></path> <path id="poll-grid-arrow-right" d="M0,0 L22,0 L22,24 L0,24 L0,0 Z M7,7 L12,12 L7,17 L9,19 L16,12 L9,5 L7,7 Z" fill="#f8f8f8"></path> </defs> </svg>'),n.fl()}),function(e,t){"use strict";t.fn.CopyToClipboard=function(){var e;e=this.is("select")||this.is("textarea")||this.is("input")?this.val():this.text(),i(e)};var i=function(i){var n=t('<input id="hidden-clipboard">');t("body").append(n),n.val(i).select(),e.document.execCommand("copy"),n.remove()}}(this,jQuery),function(e){"use strict";function t(t){var i=l(t.target);i.CopyToClipboard();var n=i.attr("value");i.attr("value","COPIED").animate({opacity:1},500),i.text("value","COPIED").animate({opacity:0},100),e.setTimeout(function(){i.attr("value",n).animate({opacity:1})},600),i.focus()}var i=e.Disney,n=e.Grill,s=e.cto,o=e.Whiskers,a=e.Backbone,r=e._,l=e.jQuery;n.ModuleView.register("poll_grid",{template:o.modules.poll_grid,events:{"click .item .large-play-btn":function(e){e.stopPropagation(),e.preventDefault();var t=this.$(e.target).closest("li").index(),i=this.voting_choices;i&&i[t]&&this.loadVideo(t,i[t])},"click .vote .vote-text":function(e){e.stopPropagation();var t=l(e.currentTarget),i=t.parents("li").data("id"),n=r.find(this.voting_choices,function(e){return e.id===i});this.sendVote(l(e.currentTarget),n)},"click .share-text":"shareToggle","keydown .share-text":function(t){13===t.keyCode&&(this.shareToggle(t),e.setTimeout(function(){var e=l(t.target).closest("li").find(".share-card button.close");e.trigger("focus")},100))},"click .link":function(e){t(e)},"keydown .link":function(e){13===e.keyCode&&t(e)},"click .close":function(e){var t=l(e.target).closest("li");t.find(".share-card").removeClass("show"),t.find(".details-container").removeClass("hide")},"keydown .close":function(e){if(13===e.keyCode||27===e.keyCode){var t=l(e.target).closest("li");t.find(".share-card").removeClass("show")}},"click .details-container, .aspect-container.image":function(e){e.stopPropagation(),e.preventDefault();var t=this.$(e.target).closest("li").index();this.openModal(t)},"click .view-gallery":function(){this.voting_choices&&this.voting_choices.length&&this.openModal()},"keydown .details-container, .aspect-container.image":function(e){if(13===e.keyCode&&e.target===e.currentTarget){e.preventDefault();var t=this.$(e.target).closest("li").index();this.openModal(t)}},"click .social-share":function(t){var i=this.$(t.target).closest(".social-icons").closest("li"),n=l(t.currentTarget),s="poll-grid/share/item-"+i.index()+"/"+i.data("id"),o=n.data("social-type"),a=s+"/"+o,r=n.data("share-url")||n.data("href");e.cto.trackLink(a,s,void 0,r)}},shareToggle:function(e){e.stopPropagation(),e.preventDefault(),l(".share-card").each(function(){"visible"===l(this).css("visibility")&&l(this).removeClass("show")});var t=l(e.target).closest("li");t.find(".share-card").addClass("show"),l(".details-container").each(function(){l(this).hasClass("hide")&&l(this).removeClass("hide")}),t.find(".details-container").addClass("hide")},initialize:function(){var e=this,t=this.model.get("data")[0].voting_choices,s=this.model.get("config_options")||{};"random"===s.order&&(t=r.shuffle(t)),this.show_awards=s.show_awards,this.voting_choices=t.map(function(t){var i,n,s;return i=t.image_assets&&t.image_assets.image&&t.image_assets.image.desktop,i&&i.aspect_ratio>.75&&(t.image_assets.image.desktop.aspect_ratio_pct="75%"),n=t.author_name,n&&(s=n.lastIndexOf(" ")+2,t.author_name=n.substring(0,s)+"."),t.shareUrl=e.getShareUrl(t),t.shareUrlEncoded=encodeURIComponent(t.shareUrl),t.titleEncoded=encodeURIComponent(t.title),t});var o=this.model.collection&&this.model.collection.social_share_networks;o&&o.facebook&&i.Social.init("facebook"),this.modal=new n.PollGridModalView({voting_choices:this.voting_choices,show_awards:this.show_awards,player:this.player,translations:this.model.attributes.translations,voteFunction:this.sendVote.bind(this)});var a=this.voting_choices.some(function(e){return e.video});a&&(this.assets={scripts:["https://static-mh.content.disney.io/starwars/assets/videoplayer-e3b6071053c8.js"]})},render:function(){var e=r.extend({show_awards:this.show_awards,voting_choices:this.voting_choices},this.model);this.$el.html(this.template.render(e,{"modules/poll_grid/poll_grid_svg":o.modules.poll_grid.poll_grid_svg}))},ready:function(){var t=e.window.location.search;if(t.indexOf("choiceId=")>0){var i=t.split("choiceId=")[1].split("&")[0],n=null;this.voting_choices.forEach(function(e,t){e.id===i&&(n=t)}),null!==n&&this.openModal(n)}},loadVideo:function(e,t){this.resetPlayer();var i=l(this.$el),n=i.find(" .wrapper > li").eq(e);this.player=new c({model:{video:t.video,module_id:i[0].id}}),n.find(".background-image").find(".large-play-btn, img").addClass("hide-poster"),n.find(".background-image").append(this.player.render()),this.player.init()},sendVote:function(t,i){var n=this.options.guest;if(n.current){t.addClass("loading");var o=this,a=this.options.guest.current,r=a.tokens&&a.tokens.access,c="GAE "+o.model.get("interaction_client_id"),d=a.profile&&a.profile.swid,u=a.profile&&a.profile.countryCodeDetected,f=this.model.get("data"),p=f[0]&&f[0].id,h=i.id,v=i.title,m={engagementType:"SWFFA_Vote_Success",label:e.location.href};r&&(c=c+", Bearer "+r),l.ajax({url:this.model.get("interaction_base_uri")+"interaction/poll",headers:{Authorization:c,"content-type":"application/json"},type:"POST",data:JSON.stringify({userId:d,objectId:p,objectSubId:h,metadata:{subIdDisplayName:v,pageUrl:e.window.location.pathname,countryCode:u}}),dataType:"json"}).done(function(){t.removeClass("loading").addClass("voted"),s.trackEvent(m)}).fail(function(e){t.removeClass("loading voted"),m.engagementType="SWFFA_Vote_Failure",s.trackEvent(m),409===e.status?o.voteFailed(t,"tomorrow"):o.voteFailed(t,"failure")})}else this.modal.modalOpen&&this.modal.hide(),n.login()},voteFailed:function(e,t){e.addClass(t),r.delay(function(){e.removeClass(t)},2e3)},resetPlayer:function(){this.player&&(this.player.remove(),l(this.el).find(".background-image").find(".large-play-btn, img").removeClass("hide-poster"))},openModal:function(e){this.resetPlayer(),this.modal.show(),e||(e=0),this.modal.setSlide(e),l(this.modal.$el).find(".pg-nav .modal-close").focus()},getShareUrl:function(t){var i=e.window.location;return i.origin+i.pathname+"?choiceId="+t.id}});var c=n.ModuleView.register("video-player",{className:"inline-video-container",template:o.modules.inline_video_player,render:function(){return this.$el.html(this.template.render(this.model)),this.el},init:function(){var e="inline-video-player"+(this.model.module_id?"-"+this.model.module_id:"");this.player=new i.StarWarsVideoPlayer(e,{video:this.model.video,autoPlay:!0,clickToPlay:!0,showTitle:!0,ads:{enabled:!1,context:!1}})},pause:function(){this.player.controls.pause()},remove:function(){this.$(".inline-video-container").remove(),this.player&&(this.player.destroy(),this.player=null),n.BunView.prototype.remove.call(this)}});n.PollGridModalView=n.ModalView.extend({voting_choices:[],player:null,slideIndex:0,options:{name:"poll-grid-gallery",template:o.modals.poll_grid_gallery,events:{onkeyup:!0},keyEvents:[{name:"keyup",keyCode:27,callback:function(){this.hide()}},{name:"keydown",keyCode:39,callback:function(){this.next()}},{name:"keydown",keyCode:37,callback:function(){this.previous()}}]},events:{"click .pg-nav .modal-close":function(e){e.preventDefault(),this.hide()},"click .video-asset .large-play-btn":function(){this.loadVideo()},"click .share-text":function(e){e.stopPropagation(),e.preventDefault(),this.openShareModal(),l(".pg-share-modal").find(".close-container .modal-close").eq(0).focus()},"click .pg-share-modal .modal-close":function(){this.closeShareModal()},"click .pg-share-modal-mask":function(){this.closeShareModal()},"click .pg-asset":function(e){l(e.target).hasClass("pg-asset")?this.hide():l(".pg-info").find(".pg-details, .heading, .desc").toggleClass("hidden")},"click .social-share":function(t){var i=l(t.currentTarget),n="poll-grid/gallery-modal/share/item-"+this.slideIndex+"/"+this.voting_choices[this.slideIndex].id,s=i.data("social-type"),o=n+"/"+s,a=i.data("share-url")||i.data("href");e.cto.trackLink(o,n,void 0,a)},"click .pg-share-modal #share-link":function(e){t(e)},"keydown .pg-share-modal #share-link":function(e){9!==e.keyCode||e.shiftKey?13===e.keyCode&&t(e):(e.preventDefault(),e.currentTarget.focus())},"keydown .pg-share-modal .modal-close":function(e){13===e.keyCode?(e.preventDefault(),this.closeShareModal()):9===e.keyCode&&e.shiftKey&&(e.preventDefault(),e.currentTarget.focus())},"keydown .share-text":function(e){9!==e.keyCode||e.shiftKey||(e.preventDefault(),e.currentTarget.focus())},"keydown .controls .previous":function(e){9===e.keyCode&&e.shiftKey&&(e.preventDefault(),e.currentTarget.focus())},"keydown .pg-nav .modal-close":function(e){13===e.keyCode&&(e.preventDefault(),this.hide())},"click .vote .vote-text":function(e){e.stopPropagation();var t=l(e.currentTarget),i=t.attr("data-id"),n=r.find(this.voting_choices,function(e){return e.id===i});this.options.voteFunction(t,n)}},initialize:function(e){var t=this;this.player=this.options.player,this.voting_choices=e.voting_choices,this.translations=e.translations,this.show_awards=this.options.show_awards,t.voting_choices.length>0&&(this.isVideo=!!t.voting_choices[0].video),this.votingChoicesCollection=new a.LazyCollection(this.voting_choices),this.votingChoicesList=new n.ListView({className:"pg-voting-choices",collection:this.votingChoicesCollection,template:{render:function(i){return r.extend(i,{translations:e.translations,show_awards:t.show_awards,total_items:t.voting_choices.length}),o.modules.poll_grid.poll_grid_gallery_item.render(i,{})}}})},render:function(){var e=this;return this.options.template.render({translations:e.translations,poll_grid_items:i.placeHtml(this.votingChoicesList),show_awards:e.show_awards,isVideo:e.isVideo})},ready:function(){if(this.shareEventsBound||this.bindShareClick(),!this.$slides){i.placeSwap(this,this.votingChoicesList);var e=this.$slides=this.$(".pg-voting-choices"),t=this;e.swipeasaurus({arrows:!0,next:".next",prev:".previous",loop:!1,speed:500}),e.on("slide",function(e,i){t.slideIndex=i,t.resetPlayer(),t.updatePageCount(i),t.updateUrl(i),t.updateVoteButton(i),t.updateAwardText(i),t.setFocusable()}),this.updatePageCount(0)}},setSlide:function(e){this.$slides&&(this.$slides.swipeasaurus("effect","fade"),this.$slides.swipeasaurus("slide",e),this.updatePageCount(e),this.updateUrl(e),this.updateVoteButton(e),this.updateAwardText(e),this.$slides.swipeasaurus("effect","slide"),this.setFocusable())},next:function(){!this.shareModalActive&&this.modalOpen&&this.$slides.swipeasaurus("next")},previous:function(){!this.shareModalActive&&this.modalOpen&&this.$slides.swipeasaurus("prev")},setFocusable:function(){var e=l(".swipe-container");l(e.splice(this.slideIndex,1)).find("button, a").removeAttr("tabindex"),e.find("button, a").attr("tabindex",-1)},updatePageCount:function(e){l(".pg-nav .controls .page-num").text(e+1+"/"+this.voting_choices.length)},loadVideo:function(){var e=l(this.$el).find(".video-asset").eq(this.slideIndex),t=this;this.resetPlayer(),this.player=new c({model:{module_id:"poll-grid-modal",video:this.voting_choices[this.slideIndex].video}}),e.find(".large-play-btn, img").addClass("hidden"),e.append(this.player.render()),this.player.init(),this.player.player.messageBus.addMessageListener("playing",function(){t.$slides.swipeasaurus("disableHandlers")}),this.player.player.messageBus.addMessageListener("paused",function(){t.$slides.swipeasaurus("attachHandlers")})},resetPlayer:function(){this.player&&(this.player.remove(),l(this.$el).find(".video-asset").find(".large-play-btn, img").removeClass("hidden"))},closeShareModal:function(){l(".pg-share-modal, .pg-share-modal-mask").removeClass("active"),this.shareModalActive=!1,this.$slides.swipeasaurus("attachHandlers"),l(".poll-grid-gallery").find(".share-text button").eq(this.slideIndex).focus()},openShareModal:function(){var e=this.voting_choices[this.slideIndex],t=l(".pg-share-modal"),i=t.find(".icon-fb"),n=t.find(".icon-tw");l(".pg-share-modal, .pg-share-modal-mask").addClass("active"),t.find("#share-link").attr("value",e.shareUrl),t.find(".social-share").attr("data-text",e.title),i.data("share-url",e.shareUrl),n.data("href","https://twitter.com/intent/tweet?url="+e.shareUrlEncoded+"&text= "+encodeURIComponent(e.title)),this.shareModalActive=!0,this.$slides.swipeasaurus("disableHandlers"),l(".pg-share-modal").find(".modal-close").focus()},hide:function(){this.shareModalActive?this.closeShareModal():(this.clearUrl(),this.resetPlayer(),this.modalOpen=!1,n.ModalView.prototype.hide.call(this),l(".poll_grid .details-container").eq(this.slideIndex).focus())},updateUrl:function(t){e.window.history.replaceState(null,null,this.voting_choices[t].shareUrl)},updateVoteButton:function(e){var t=l(".pg-vote.mobile .vote button");t.removeClass("voted"),t.attr("data-id",this.voting_choices[e].id)},updateAwardText:function(e){
var t=this.voting_choices[e];this.$(".pg-vote.mobile .winner-label").text(t.award_label),this.$(".pg-vote.mobile .award").text(t.award)},clearUrl:function(){var t=e.window.location.pathname;e.window.history.replaceState(null,null,t)},show:function(){this.modalOpen=!0,n.ModalView.prototype.show.call(this)},bindShareClick:function(){l(".pg-share-modal .social-share.service").on("click",function(e){e.preventDefault();var t=l(this),n=t.data("social-type"),s=t.data("share-url"),o=t.data("href");"facebook"===n&&i.Social.shareFacebook(s),"twitter"===n&&i.Social.shareSocial(o,n)}),this.shareEventsBound=!0}}),function(t){t.forEach(function(t){t.hasOwnProperty("prepend")||Object.defineProperty(t,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),i=e.document.createDocumentFragment();t.forEach(function(t){var n=t instanceof e.Node;i.appendChild(n?t:e.document.createTextNode(String(t)))}),this.insertBefore(i,this.firstChild)}})})}([e.Element.prototype,e.Document.prototype,e.DocumentFragment.prototype])}(this),Whiskers("modules.rich_text",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="rich_text_container"> '),n.s(n.f("image",e,t,1),e,t,0,115,209,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="rich_text_image '),i.b(i.v(i.f("position",e,t,0))),i.b('_align"><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"></div>')}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("image",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.f("style",e,t,1),e,t,0,265,440,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("images",e,t,1),e,t,0,276,429,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("foreground_image",e,t,1),e,t,0,297,408,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("url",e,t,1),e,t,0,305,400,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_image '),i.b(i.v(i.f("alignment",e,t,0))),i.b('_align"><img src="'),i.b(i.v(i.f("url",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"></div> ')}),e.pop())}),e.pop())}),e.pop())}),e.pop()),n.b(" ")),n.b(" "),n.s(n.f("rich_text",e,t,1),e,t,0,476,594,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_body rich-text-enabled'),i.s(i.f("image",e,t,1),e,t,0,531,560,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-image "),i.b(i.v(i.f("position",e,t,0))),i.b("_align")}),e.pop()),i.b('">'),i.b(i.t(i.f("rich_text",e,t,0))),i.b("</div> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.Backbone,s=e.Disney,o=s.Style.breakpoints,a=o.midHigh.toString(),r=e.devicePixelRatio>1.5,l=e._;t.ModuleView.register("rich_text",{breakpoints:a,template:i.modules.rich_text,render:function(){var e,t=l.first(this.model.get("data")),s=this.model.get("style"),a=s&&s.images&&s.images.foreground_image,c=!(!a||!a.url&&!a.mobile_url),d=n.Resize.width()>=o.midHigh;if(c){var u=r&&a.retina_url?a.retina_url:a.url,f=r&&a.mobile_retina_url?a.mobile_retina_url:a.mobile_url;e=d?u:f}var p=l.extend({data:t,image:e,alt_text:a&&a.alt_text,position:c&&a.alignment},this.model);this.$el.html(this.template.render(p,{module_header:i.modules.shared_components.module_header}))}})}(this),Whiskers("modules.search",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="bound"> <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),n.b(n.v(n.f("placeholder",e,t,0))),n.b('" spellcheck="false" autocorrect="off" autocapitalize="off"> '),n.s(n.f("filter",e,t,1),e,t,0,353,420,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <input type="hidden" value="'),i.b(i.v(i.f("filter",e,t,0))),i.b('" name="f[search_section]"> ')}),e.pop()),n.b(' <span class="search-button"> <input class="large button" type="submit" value="'),n.b(n.v(n.d("translations.search",e,t,0))),n.b('"> </span> </div> </form> </div>'),n.fl()}),function(e){"use strict";function t(){return e.window.location.pathname.split("/")[1].toLowerCase()}function i(e){switch(e){case"games_apps":return"Games+Apps";case"tv_shows":return"TV Shows";default:return n(e)}}function n(e){return e=e.toLowerCase(),e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})}function s(e,t){t=l.isUndefined(t)?"":t,e.target.placeholder=t}var o=e.Grill,a=e.NAV,r=e.Tracker,l=e._;o.ModuleView.register("search",{template:e.Whiskers.modules.search,initialize:function(){var e=this.model,n=e.get("title"),s=e.get("translations")||{},o="",a=t();this.placeholder_text=n?n:s.sw_placeholder,a&&"search"!==a&&a.indexOf("error")&&(o=l.invert(s)[a]||a,e.set("filter",i(o)))},ready:function(){a&&a.ac(this.el,"section/search_module",this.model.get("filter"))},render:function(){var e=this,t=l.extend({placeholder:e.placeholder_text},e.model);e.$el.html(e.template.render(t))},events:{"click input[name=q]":function(e){s(e)},"blur input[name=q]":function(e){s(e,this.placeholder_text),a.searchAttemptUsedPlacements={}},"onfocus input[name=q]":function(e){s(e)},"submit form.mod-search":function(){var e=t();r.link({linkName:e+"/searchbox/search_enter",linkPosition:e+"/searchbox"})}}})}(this),function(e){"use strict";var t=e.jQuery,i=e.document,n=e.Tracker;t(function(){t(i).on("click",".social-dropdown-btn .label",function(){var i=t(this).closest(".social-dropdown-btn"),s=function(e){t(e).removeClass("active"),t("body").off("click.watch"),t(e).hasClass("active")&&(t(e).removeClass("active"),o(e))},o=function(i){n&&n.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t(i).addClass("active"),t("body").on("click.watch",function(e){var n=t(e.target);0===n.closest(".dropdown-panel").length&&0===n.closest(".social-dropdown-btn").length&&s(i)})};i.hasClass("active")?s(i):(t.each(t(".social-dropdown-btn.active"),function(e,t){s(t)}),o(i))}),t(".social-share").find(".dropdown-panel").on("click",function(){t(this).find(".text-output").select()})})}(this),Whiskers("modules.stats",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("data",e,t,1),e,t,0,29,420,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="stats-container cols-'),i.b(i.v(i.f("numCategories",e,t,0))),i.b('"> '),i.s(i.f("categories",e,t,1),e,t,0,98,397,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="category'),i.s(i.f("linebreaks",e,t,1),e,t,0,134,145,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" linebreaks")}),e.pop()),i.b('"> <div class="heading">'),i.b(i.v(i.f("name",e,t,0))),i.b("</div> <ul> "),i.s(i.f("properties",e,t,1),e,t,0,219,368,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="data"> '),i.s(i.f("link",e,t,1),e,t,0,247,288,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="section-color" href="'),i.b(i.v(i.f("link",e,t,0))),i.b('">')}),e.pop()),i.b(" "),i.b(i.v(i.f("name",e,t,0))),i.b('<span class="separator">,</span> '),i.s(i.f("link",e,t,1),e,t,0,348,352,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" </ul> </div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),n.b(" </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=i.midHigh.toString(),s=e.Grill,o=e.Whiskers,a=e._;s.ModuleView.register("stats",{breakpoints:n,template:o.modules.stats,render:function(){var e=a.first(this.model.get("data")),t=e.categories||[],i=a.extend({numCategories:t.length},this.model);this.$el.html(this.template.render(i,{}))}})}(this),Whiskers("modules.swfa_voting_login",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> <button class="login-btn'),n.s(n.f("loggedIn",e,t,1),e,t,0,57,67,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" logged-in")}),e.pop()),n.b(' ada-el-focus"> '),n.s(n.f("loggedIn",e,t,1),e,t,0,109,134,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.vote_now",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("loggedIn",e,t,1),e,t,1,0,0,"")||(n.b(n.v(n.d("translations.login_cta",e,t,0))),n.b('<div class="sw-logo" aria-label="Star Wars logo"></div>')),n.b(" </button> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e._,n=e.Whiskers,s=e.$;t.ModuleView.register("swfa_voting_login",{template:n.modules.swfa_voting_login,events:{"click .login-btn":function(){this.options.guest.login()}},initialize:function(){this.options.guest.retain(),i.extend(this,{loggedIn:!1})},ready:function(){this.options.guest.on("login",this.handleLogin,this),this.options.guest.on("close",this.votingClose,this)},handleLogin:function(){this.loggedIn=!this.loggedIn,this.render()},render:function(){var e=this.model.get("translations")||{},t=i.extend({loggedIn:this.loggedIn,translations:e},this.model);this.$el.html(this.template.render(t))},votingClose:function(){s(".login-btn").focus()}})}(this),Whiskers("modules.tab_nav",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound" id="tab-nav-module"> <nav class="tab-nav"> <ul class="tab-nav-list"> '),n.s(n.f("links",e,t,1),e,t,0,98,227,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class="tab-nav-item'),i.s(i.f("active",e,t,1),e,t,0,133,140,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('"><a class="ada-el-focus" href="'),i.b(i.v(i.f("href",e,t,0))),i.b('#tab-nav-module">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),n.b(' </ul> <div class="mobile"> <div class="select"> <label class="genre">'),n.b(n.v(n.d("translations.genre",e,t,0))),n.b('</label> <select class="tab-nav-options"> '),n.s(n.f("links",e,t,1),e,t,0,381,478,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <option class="tab-nav-item" value="'),i.b(i.v(i.f("slug",e,t,0))),i.b('"'),i.s(i.f("active",e,t,1),e,t,0,438,447,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" selected")}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</option> ")}),e.pop()),n.b(" </select> </div> </div> </nav> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e._,s=e.$,o=e.Disney,a=e.location.hash;t.ModuleView.register("tab_nav",{template:i.modules.tab_nav,events:{"change .tab-nav-options":function(){e.location.href=e.location.protocol+"//"+e.location.hostname+"/"+s(".tab-nav-options").val()+"#tab-nav-module"}},render:function(){var t=this.model.get("data"),i=t&&n.first(t)&&t[0].links,r=this.model.get("translations")||{},l=e.location.pathname;l=l.replace(/^\/|\/$/g,""),i=n.map(i,function(e){return e.active=l===e.slug,e});var c=n.extend({links:i,translations:r},this.model);this.$el.html(this.template.render(c,{})),o.top.on("ready",function(){var t=s(a);if("#tab-nav-module"===a&&t.length){var i=t.find(".tab-nav-list");e.setTimeout(function(){s("html, body").animate({scrollTop:t.offset().top-s("#body-wrapper").offset().top},800),"none"!==i.css("display")?i.find(".tab-nav-item").first().find("a").focus():t.find("select.tab-nav-options").focus()},500)}})}})}(this),Whiskers("modules.this_is_madness",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<!--[if lte IE 9]><iframe class='unsupported' scrolling='"),n.b(n.v(n.f("scrolling",e,t,0))),n.b("' src='"),n.b(n.v(n.f("source",e,t,0))),n.b("'></iframe><![endif]--> <!--[if (gt IE 9)|(!IE)]><!--> <iframe scrolling='"),n.b(n.v(n.f("scrolling",e,t,0))),n.b("' src='"),n.b(n.v(n.f("source",e,t,0))),n.b("'></iframe> <!--<![endif]-->"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.$,s=e._;t.ModuleView.register("this_is_madness",{template:i.modules.this_is_madness,render:function(){var t=this,i=t.queryParams.stage,o=i?"/proxy/this-is-madness?stage="+i:"/proxy/this-is-madness",a=s.extend({scrolling:"no",source:o},this.model),r=this.template.render(a);this.$el.html(r),this.$el.children("iframe").hasClass("unsupported")&&n("#browser_warning").css({opacity:1,visibility:"visible"}),this.$el.children("iframe").load(function(){var i=t.$el.children("iframe"),o=i.get(0).contentWindow;n(o.document).ready(function(){var a=i.contents(),r=a.find("body");!function l(){if(void 0!==o.GlobalsObj){var t=e.location.protocol+"//"+e.location.host+e.location.pathname;"/"!==t.substr(-1)&&(t+="/"),o.GlobalsObj.ROOT_LOCATION=t}else e.setTimeout(l,100)}(),r.on("click","#bracket-nav > li > button",function(){t.resizeIframe.call(t)}),r.find("#bracket-nav > li:first > button").click(),r.on("click",".char",t.fixModalPosition(i,"#vote-confirm-content-box")),r.on("click",".recap",t.fixModalPosition(i,"#recap .matchup")),t.disableScrollingWithModal(a),n(e).on("orientationchange",function(){t.resizeIframe.call(t)}),n(e).on("resize",s.debounce(function(){t.resizeIframe.call(t)},100))})})},setIframeWidth:function(){var t=this.$el.children("iframe");n("#main").css("max-width","1201px");var i=s.min([n(e).width(),1201]);t.width(i)},setIframeHeight:function(){var e=10;this.$el.children("iframe").height(this.getInnerHeight()+e)},resizeIframe:function(){var t=this,i=t.getInnerHeight();i!==t.heightHistory.last()?(t.heightHistory.save(i),e.setTimeout(function(){t.resizeIframe.call(t)},100)):(t.setIframeWidth(),t.setIframeHeight(),t.heightHistory.reset())},heightHistory:function(){var e=[];return{save:function(t){e.push(t)},reset:function(){e=[]},last:function(){return e[e.length-1]}}}(),getInnerHeight:function(){return this.$el.children("iframe").contents().find("#container").height()},fixModalPosition:function(t,i){return function(){var s=t.contents(),o=s.find(i),a=o.height(),r=n("#nav-inner-container").height(),l=n(e).height(),c=l-r,d=n(e).scrollTop()+r,u=d+c/2,f=t.offset().top;o.offset({top:u-a/2-f})}},disableScrollingWithModal:function(t){var i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=new i(function(e){var t=s.any(e,function(e){return n(e.target).is(":visible")});t?n("body").addClass("no-scroll"):n("body").removeClass("no-scroll")}),a=t.find("#vote-confirm").get(0);o.observe(a,{attributes:!0}),a=t.find("#recap").get(0),o.observe(a,{attributes:!0})}},queryParams:function(){var t=e.location.search.substring(1);return t?s.chain(t.split("&")).map(function(e){var t=e.split("=");return[t[0],decodeURIComponent(t[1])]}).object().value():{}}()})}(this),Whiskers("modals.timed_item_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<style type='text/css'> "),n.s(n.f("image",e,t,1),e,t,0,34,264,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,47,118,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .modal.timed-item-list .header{ background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,142,252,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: 768px){ .modal.timed-item-list .header{ background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" </style> <div class='modal-content'> <div class='header'></div> "),n.s(n.f("header_data",e,t,1),e,t,0,355,389,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<h1 class='title'>"),i.b(i.t(i.f("title",e,t,0))),i.b("</h1>")}),e.pop()),n.b(" "),n.s(n.f("items_by_group",e,t,1),e,t,0,425,655,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" <h2 class='date'>"),i.b(i.v(i.f("group_header",e,t,0))),i.b("</h1> <ul> "),i.s(i.f("items",e,t,1),e,t,0,480,638,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li class='item'> <div class='headline'><p>"),i.b(i.v(i.f("headline",e,t,0))),i.b("</p></div> <div class='description'> <h1>"),i.b(i.v(i.f("display_title",e,t,0))),i.b("</h1> <p>"),i.b(i.t(i.f("description",e,t,0))),i.b("</p> </div> </li> ")}),e.pop()),i.b(" </ul> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";function t(e,t){for(var i,n=[],o={},a=0;a<e.length;a++){var r=e[a],l=r[t];l!==i&&(s.isEmpty(o)||n.push(o),i=l,o={},o[t]=i,o.items=[]),o.items.push(r)}return s.isEmpty(o)||n.push(o),n}var i=e.Grill,n=e.Whiskers,s=e._;i.TimedItemListModalView=i.ModalView.extend({options:{name:"timed-item-list",template:n.modals.timed_item_list,events:{}},render:function(){var i=new Date,n=this.model.get("module_style_options"),o=n&&n.timed_item_list&&n.timed_item_list.modal_header_image||{},a=e.devicePixelRatio>1.5,r=s.select(this.model.get("data"),function(e){var t=new Date(e.expires_at);return t.getTime()>=i.getTime()}),l=s.extend({items_by_group:t(r,"group_header"),image:{desktop:a&&o.desktop_retina?o.desktop_retina:o.desktop,mobile:a&&o.mobile_retina?o.mobile_retina:o.mobile}},this.model);return this.options.template.render(l)}})}(this),Whiskers("modules.timed_item_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<style type="text/css">'),n.b(n.rp("module_styles",e,t,"")),n.b('</style> <div class="bound '),n.b(n.v(n.f("type",e,t,0))),n.b(" "),n.b(n.v(n.f("entity_type",e,t,0))),n.b('"> <div class="timed-item-list-container"> '),n.s(n.f("header_data",e,t,1),e,t,0,151,169,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="category-container cols-5"> '),n.s(n.f("items",e,t,1),e,t,0,236,426,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="category"> <div class="content"> <div class="heading">'),i.b(i.v(i.f("headline",e,t,0))),i.b('</div> <h1 class="title">'),i.b(i.v(i.f("display_title",e,t,0))),i.b('</h1> <div class="description">'),i.b(i.t(i.f("description",e,t,0))),i.b("</div> </div> </div> ")}),e.pop()),n.b(" </div> </div> </div>"),n.fl()}),Whiskers("partials.style_overrides.modules.timed_item_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("module_style_options",e,t,1),e,t,0,25,1886,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,38,318,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("bg_color",e,t,1),e,t,0,52,151,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("title_color",e,t,1),e,t,0,181,301,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header .module_title{ color: "),i.b(i.v(i.f("title_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("timed_item_list",e,t,1),e,t,0,351,1865,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("header_image",e,t,1),e,t,0,369,693,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,382,500,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header{ background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,524,681,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header{ background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("enable_color_options",e,t,1),e,t,0,736,1839,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("module_link_color",e,t,1),e,t,0,759,991,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header .see-all{ color: "),i.b(i.v(i.f("module_link_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .description a{ color: "),i.b(i.v(i.f("module_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("module_link_hover_color",e,t,1),e,t,0,1042,1298,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header .see-all:hover{ color: "),i.b(i.v(i.f("module_link_hover_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .description a:hover{ color: "),i.b(i.v(i.f("module_link_hover_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("item_headline_color",e,t,1),e,t,0,1351,1459,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .heading{ color: "),i.b(i.v(i.f("item_headline_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("item_title_color",e,t,1),e,t,0,1505,1647,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .category-container .category .content .title{ color: "),i.b(i.v(i.f("item_title_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("item_description_color",e,t,1),e,t,0,1696,1811,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .description{ color: "),i.b(i.v(i.f("item_description_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.fl()}),function(e){"use strict";function t(t){var i=new Date,a=e.devicePixelRatio>1.5,r=t.model.get("module_style_options"),l=r&&r.timed_item_list&&r.timed_item_list.module_header_image||{},c=t.model.get("translations")||{},d=s.extend({header_image:{desktop:a&&l.desktop_retina?l.desktop_retina:l.desktop,mobile:a&&l.mobile_retina?l.mobile_retina:l.mobile},seeAll:c.see_all},t.model);d.items=s.select(d.get("data"),function(e){var t=new Date(e.expires_at);return t.getTime()>=i.getTime()}),d.items=d.items.slice(0,o),t.$el.html(t.template.render(d,{module_header:n.modules.shared_components.module_header,module_styles:n.partials.style_overrides.modules.timed_item_list}))}var i=e.Grill,n=e.Whiskers,s=e._,o=5,a=15e3;i.ModuleView.register("timed-item-list",{template:n.modules.timed_item_list,events:{"click .see-all":function(e){this.modal.show({event:e,render:!0})}},initialize:function(){var e=this.model.get("cto");this.modal=new i.TimedItemListModalView({model:this.model,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWTimedItemListModal"}})},render:function(){var i=this;t(i),e.setInterval(function(){t(i)},a)}})}(this),/*
 * jQuery UI Widget 1.10.3+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(t,i,n){var s,o,a,r,l={},c=t.split(".")[0];t=t.split(".")[1],s=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(i){for(var s,o,a=n.call(arguments,1),r=0,l=a.length;l>r;r++)for(s in a[r])o=a[r][s],a[r].hasOwnProperty(s)&&o!==t&&(e.isPlainObject(o)?i[s]=e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):i[s]=o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(a){var r="string"==typeof a,l=n.call(arguments,1),c=this;return a=!r&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[a])&&"_"!==a.charAt(0)?(n=s[a].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new s(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,a,r=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(r={},s=i.split("."),i=s.shift(),s.length){for(o=r[i]=e.widget.extend({},this.options[i]),a=0;a<s.length-1;a++)o[s[a]]=o[s[a]]||{},o=o[s[a]];if(i=s.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,a){function r(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?s.delegate(d,c,r):i.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),a=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&e.effects&&e.effects.effect[r]?n[t](s):r!==t&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}),function(e){"use strict";function t(e,t){var n,o=new l.Deferred,a=new i(t.options&&t.options.Cookie);this.get=function(i){return"resolved"!==o.state()&&(i?e.then(function(e){e.campaigns.get({id:i}).then(function(e){o.resolve(e)},function(e){t.reportError(e),o.reject(s(t.options,e))})},function(e){t.reportError(e),o.reject(s(t.options,e))}):(t.reportError({message:"Campaign ID not set."}),o.reject(s(t.options,{response:{status:404,statusText:"Not Found"}})))),o},this.prepare=function(e,i){return n=new l.Deferred,this.get().then(function(o){var r=o&&o.constraints||{},l=parseInt(r.uploadSize,10)||1/0,c=1048576*l;if(c>e.size){var d={filename:e.name,mediaType:e.type,metadata:i};o.submissions.prepare(d,t.configuration).then(function(e){t.track("SWFFA_UploadBegin"),n.resolve(e)},function(e){(429===e.statusCode||429===e.response.status)&&a.set(t.getGuest().current,o),t.reportError(e),n.reject(s(t.options,e))})}else{var u=s(t.options,{response:{status:413}})+" (< "+r.uploadSize+")";n.reject(u)}}),n},this.upload=function(e,i){var o=new l.Deferred;return n.then(function(n){n._upload(e,l.extend({},t.configuration,i||{})).then(function(e){t.track("SWFFA_UploadComplete"),a.set(t.getGuest().current,e),o.resolve(e)},function(e){t.track("SWFFA_UploadFail"),t.reportError(e),o.reject(s(t.options,e))})}),o},this.submissionAllowed=function(e,t){if(e&&t){var i=a.get(e,t);return i?!Boolean(i):!0}}}function i(e){function t(e){if(o){var t=e.constraints||{},i=t.intervalLimit||t.calendarLimit,n=t.submissionLimit;if(i){var s=i.period,a=i.value;return a?o().add(a,s).toDate():o().endOf(s).toDate()}return n?o().add(1,"year").toDate():void 0}}this.get=function(t,i){return e&&"object"==typeof e&&t&&i?e.get(this._cookieKey(t,i)):void 0},this.set=function(i,n){var s=n&&n.campaignID||n.id;if(e&&"object"==typeof e&&i&&s){var o="function"==typeof e.domain&&e.domain(),a=t(n);if(a){var r=this._cookieKey(i,s),l=this._cookieValue(n);e.set(r,l,{domain:o,expires:a})}}},this._cookieKey=function(e,t){var i=e&&e.profile&&e.profile.swid;return t&&i?"ugcCampaign<"+t+">:"+i:void 0},this._cookieValue=function(e){var t=parseInt(this.get(e.campaignID),10);if(t){var i=e.constraints||{},n=i.submissionLimit;return n&&t>n?t+=1:!0}return!0}}function n(e,t){var i="https://a.dilcdn.com/sa/ugc/wisp-client/ugcAPI-browser.js";l.getScript(i).done(e).fail(t)}function s(e,t){var i=t.response.status||t.statusCode||0,n=e&&e.translations||{},s=n["error_"+i]||t.response.statusText||t.message;return s}var o=e.moment,a=e.cto,r=e.NREUM,l=e.$,c=l.Deferred();e.UGC=function(i,o){this.configuration={headers:{}},this.options=o||{},this.campaign=new t(c,this),this.initialize=function(){var e=this.getGuest().retain();e&&(e.on("refresh",this._refreshAuth,this),e.on("login",this._refreshAuth,this)),"resolved"!==c.state()&&n(this._setupClient.bind(this),this._rejectClient.bind(this))},this.destroy=function(){this.getGuest()&&this.getGuest().release()},this.getGuest=function(){return this.options&&this.options.guest},this.reportError=function(e){if(r){var t=this.getGuest().current;if(t&&"object"==typeof t){var i="",n=t.profile||{};i+="ageBand: <"+n.ageBand+">, ",i+="legalCountry: <"+(n.region||n.countryCodeDetected)+">, ",i+="referenceId: <"+n.referenceId+">",e.message+=" Guest Info ("+i+")"}r.noticeError(e)}},this.track=function(t,i){if(a){var n={engagementType:t,label:e.location.href};i&&(n.engagementMeta=i),a.trackEvent(n)}},this._refreshAuth=function(e){var t=this._getHeader(),i=e&&e.tokens&&e.tokens.access;return i&&(t+=", DisneyID token="+i),this.configuration.headers.Authorization=t,this.configuration},this._rejectClient=function(e){c.reject({response:e})},this._setupClient=function(){var t=this,i=t._refreshAuth(t.getGuest()&&t.getGuest().current);e.ugcAPI.discover(t._getApiUrl(),i).then(function(e){c.resolve(e)},function(e){t.reportError(e),c.reject(s(o,e))})},this._getApiUrl=function(){return this._isJarvisClient()?this.options.ugc_api_url:this.options.cellophane_base_uri+i},this._getHeader=function(){return this._isJarvisClient()?this.options.ugc_client_id:this.options.cellophane_auth_key},this._isJarvisClient=function(){return"wisp"!==this.options.ugc_system},this.initialize(i,o)}}(this),Whiskers("modules.user_upload",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(" "),n.s(n.f("schema_json",e,t,1),e,t,0,74,1061,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("header_color",e,t,1),e,t,0,116,180,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info h1{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("button_color",e,t,1),e,t,0,215,533,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ background-color: "),i.b(i.v(i.f("button_color",e,t,0))),i.b('; position: relative; overflow: hidden; } .module.user_upload .button:hover{ opacity: 0.9; } .module.user_upload .button:before{ content: ""; background-color: rgba(0, 0, 0, 0.08); z-index: -1; position: absolute; top: 0; left: 0; right: 0; bottom: 0; } ')}),e.pop()),i.b(" "),i.s(i.f("button_text_color",e,t,1),e,t,0,573,635,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ color: "),i.b(i.v(i.f("button_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("tips_link_color",e,t,1),e,t,0,678,755,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info .tips-button{ color: "),i.b(i.v(i.f("tips_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("progress_color",e,t,1),e,t,0,795,881,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices .slice, .progress-slices:before{ border-color: "),i.b(i.v(i.f("progress_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" "),i.s(i.f("progress_wheel_bg_color",e,t,1),e,t,0,929,1023,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices, .progress-slices .slice.cover{ border-color: "),i.b(i.v(i.f("progress_wheel_bg_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" </style> ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.d("style.images.background_image",e,t,1),e,t,0,1179,1278,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> .module.user_upload .bg-image{ background-image: url('),i.b(i.v(i.f("url",e,t,0))),i.b("); } </style> ")}),e.pop()),n.b(' <div class="'),n.b(n.v(n.f("type",e,t,0))),n.b(" "),n.b(n.v(n.f("entityType",e,t,0))),n.b(' bound"> <div class="content-container inner-container"> <div class="bedazzlement bg-image"></div> <div class="stunt-info rich-text-enabled'),n.s(n.d("style.images.foreground_image.url",e,t,1),e,t,1,0,0,"")||n.b(" no-logo"),n.b('"> <div class="details-container"> '),n.s(n.d("style.images.foreground_image.url",e,t,1),e,t,0,1644,1716,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <img class="contest-logo" src="'),i.b(i.v(i.d("style.images.foreground_image.url",e,t,0))),i.b('"> ')}),e.pop()),n.b(" <h1>"),n.b(n.t(n.d("schema_json.start_header",e,t,0))),n.b('</h1> <div class="description">'),n.b(n.t(n.d("schema_json.start_description",e,t,0))),n.b("</div> "),n.s(n.f("has_tips",e,t,1),e,t,0,1875,1951,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <a href="" class="tips-button" aria-role="button">'),i.b(i.v(i.d("schema_json.tips",e,t,0))),i.b("</a> ")}),e.pop()),n.b(' </div> </div> <div class="form-container rich-text-enabled"> <div class="login form-mask"> '),n.b(n.t(n.d("schema_json.login",e,t,0))),n.b(' <button class="button large disid-button"> '),n.s(n.d("schema_json.start_button_text",e,t,1),e,t,0,2157,2192,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.start_button_text",e,t,0)))}),e.pop()),n.b(" "),n.s(n.d("schema_json.start_button_text",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.start",e,t,0))),n.b(" </button> "),n.s(n.d("schema_json.ie9_text",e,t,1),e,t,0,2353,2403,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="no-fileapi">'),i.b(i.v(i.d("schema_json.ie9_text",e,t,0))),i.b("</p>")}),e.pop()),n.b(' </div> <div class="asset-pack form-mask disabled"> '),n.s(n.d("schema_json.asset_pack_info",e,t,1),e,t,0,2512,2545,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.asset_pack_info",e,t,0)))}),e.pop()),n.b(' <button class="button large ugc-upload"> '),n.s(n.d("schema_json.go_to_upload_file_button_text",e,t,1),e,t,0,2665,2712,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.go_to_upload_file_button_text",e,t,0)))}),e.pop()),n.b(' </button> </div> <div class="ineligible form-mask hidden"></div> <div class="progress"> <div class="progress-indicator"> <div class="progress-slices"> <div class="slice slice-1"></div> <div class="slice cover"></div> <div class="slice slice-2"></div> </div> </div> <div class="uploading"> <h3>'),n.b(n.v(n.d("schema_json.uploading",e,t,0))),n.b('</h3> </div> <div class="thank-you rich-text-enabled"> '),n.s(n.d("schema_json.thank_you_header",e,t,1),e,t,0,3165,3208,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<h3>"),i.b(i.t(i.d("schema_json.thank_you_header",e,t,0))),i.b("</h3>")}),e.pop()),n.b(" "),n.s(n.d("schema_json.thank_you_text",e,t,1),e,t,0,3273,3336,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="description">'),i.b(i.t(i.d("schema_json.thank_you_text",e,t,0))),i.b("</div>")}),e.pop()),n.b(' </div> </div> </div> </div> <div class="tips-bound"> <button class="close-icon close-tips" aria-label="close"></button> <div class="bound"> '),n.s(n.d("schema_json.helpful_tip_header",e,t,1),e,t,0,3543,3620,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<span class="tip-header"><h2>'),i.b(i.t(i.d("schema_json.helpful_tip_header",e,t,0))),i.b("</h2></span>")}),e.pop()),n.b(' <div class="tips"> <div class="tips-container left"> <h3 class="tips-header"> '),n.s(n.d("schema_json.dos_header",e,t,1),e,t,0,3761,3789,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.dos_header",e,t,0)))}),e.pop()),n.b(" "),n.s(n.d("schema_json.dos_header",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.do",e,t,0))),n.b(" </h3> "),n.s(n.d("schema_json.dos",e,t,1),e,t,0,3917,3975,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.d("schema_json.dos",e,t,0))),i.b("</div>")}),e.pop()),n.b(' </div> <div class="tips-container right"> <h3 class="tips-header"> '),n.s(n.d("schema_json.donts_header",e,t,1),e,t,0,4092,4122,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.donts_header",e,t,0)))}),e.pop()),n.b(" "),n.s(n.d("schema_json.donts_header",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.dont",e,t,0))),n.b(" </h3> "),n.s(n.d("schema_json.donts",e,t,1),e,t,0,4260,4320,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.d("schema_json.donts",e,t,0))),i.b("</div>")}),e.pop()),n.b(' </div> <div class="button small close-button close-tips">'),n.b(n.v(n.d("translations.close_button",e,t,0))),n.b("</div> </div> "),n.s(n.d("schema_json.helpful_tip_footnote",e,t,1),e,t,0,4480,4547,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="tips-footnote">'),i.b(i.t(i.d("schema_json.helpful_tip_footnote",e,t,0))),i.b("</p>")}),e.pop()),n.b(' </div> </div> <div class="container-mask"></div> </div>'),n.fl()}),Whiskers("modules.shared_components.character_countdown",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<input type='text' class='char-counter has-count' name='"),n.b(n.v(n.f("key",e,t,0))),n.b("' placeholder='"),n.b(n.v(n.f("title",e,t,0))),n.b("' maxlength='"),n.s(n.f("maxLength",e,t,1),e,t,0,114,127,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("maxLength",e,t,0)))}),e.pop()),n.b("' "),n.s(n.f("required",e,t,1),e,t,0,156,164,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("required")}),e.pop()),n.b(" /> <span class='char-counter count-remaining'></span>"),n.fl()}),Whiskers("partials.forms.user_upload_form",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<form action="'),n.b(n.v(n.f("form_action",e,t,0))),n.b('"> <fieldset class="info-fs"> <legend>'),n.b(n.t(n.d("schema_json.submission_info",e,t,0))),n.b("</legend> "),n.s(n.f("fields",e,t,1),e,t,0,121,553,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("string",e,t,1),e,t,0,133,212,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enum",e,t,1),e,t,1,0,0,"")||(i.b(" <div class='input-group'> "),i.b(i.rp("character_countdown",e,t,"")),i.b(" </div> ")),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("checkbox",e,t,1),e,t,0,237,539,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="checkboxFieldWrapper"> <div class="checkboxWrapper"> <button class="checkbox '),i.b(i.v(i.f("key",e,t,0))),i.b('" aria-label="'),i.b(i.v(i.f("key",e,t,0))),i.b('" aria-role="checkbox"> <span class="check"></span> <input type="checkbox" id="'),i.b(i.v(i.f("key",e,t,0))),i.b('" name="'),i.b(i.v(i.f("key",e,t,0))),i.b('"/> </button> </div> <label class="check" for="'),i.b(i.v(i.f("key",e,t,0))),i.b('">'),i.b(i.t(i.f("label",e,t,0))),i.b("</label> </div> ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' </fieldset> <div class="file-name-container"> <div class="file-name"></div> <button class="delete-file" aria-label="Cancel"></button> </div> <div class="button small select-file visible ada-el-focus" tabindex="0" aria-label="'),n.b(n.v(n.d("schema_json.select_file_button_text",e,t,0))),n.b('" role="button"> '),n.b(n.v(n.d("schema_json.select_file_button_text",e,t,0))),n.b(' <input type="file" name="file" class="tos-gated" tabindex="0" disabled="disabled" required /> </div> <button class="button small begin-upload"> '),n.b(n.v(n.d("schema_json.upload_file_button_text",e,t,0))),n.b(' </button> <div class="notification"></div> '),n.s(n.d("schema_json.footnotes",e,t,1),e,t,0,1139,1213,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="footnotes rich-text-enabled">'),i.b(i.t(i.d("schema_json.footnotes",e,t,0))),i.b("</div>")}),e.pop()),n.b(" </form>"),n.fl()}),/*
 * Copyright <%= DateTime.now.year %> Disney
 * All Rights Reserved
 *
 * jQuery UI Widget 1.10.3+amd
 * Copyright 2012 jQuery Foundation
 * MIT License
 */
function(e){"use strict";var t,i,n=e.Backbone,s=e.Disney,o=e.Grill,a=e.UGC,r=e.Whiskers,l=e.jQuery,c=e._,d=new l.Deferred,u="/ugc/kidsascreators/v1";o.ModuleView.register("user_upload",{messaging:{age_band_violation:"Sorry, you are ineligible to participate.",country_violation:"Sorry, your country is ineligible to participate.",file_not_included_violation:"Sorry, please select a file.",file_type_violation:"Sorry, this file type is not allowed.",is_required_violation:"is required",login_violation:"Sorry, you must log in to participate.",unexpected_error:"Sorry, an unexpected error has occurred. Please try again later.",tos_required_violation:"Accept terms of service"},progressConfig:{stepPercent:1,minimumMilliseconds:800},template:r.modules.user_upload,events:{"click .disid-button":function(e){e.preventDefault(),this.handleGetStartedClick()},"click .asset-pack .button":function(e){e.preventDefault(),this.showForm()},"click .begin-upload":function(e){e.preventDefault(),this.beginUpload()},"click .cancel-upload":function(){this.handleCancelUploadClick()},"click .tips-button":function(e){e.preventDefault(),this.handleTipsClick()},"click .close-tips":function(){this.handleTipsClose()},"click .delete-file":function(e){e.preventDefault(),this.handleFileNameClick(),l(".ugccampaign").find(".begin-upload, .select-file").focus()},'change input[type="file"]':function(e){this.updateSelectedFile(e)},"keydown .select-file":function(e){13===e.keyCode&&l(".ugccampaign .tos-gated").click()},"change select":function(){this.updateSelect()},'keypress input[name="name"]':function(e){if(0!==e.which&&8!==e.which){var t=String.fromCharCode(e.which);/[a-z0-9]/i.test(t)||e.preventDefault()}},'change input[name="name"]':function(e){var t=l(e.currentTarget),i=t.val()||"";t.val(i.replace(/[^a-z0-9]/gi,""))},"click .checkbox.tos-checkbox":"tosCheckboxAction"},initialize:function(){var e=100/this.progressConfig.stepPercent;c.extend(this,{messaging:c.extend(this.messaging,this.model.get("schema_json")),progressConfig:c.extend(this.progressConfig,{minimumInterval:this.progressConfig.minimumMilliseconds/e})}),c.bindAll.apply(c,[this].concat(c.functions(this))),t=new a(u,{ugc_system:this.model.get("config_options").ugc_system,ugc_api_url:this.model.get("ugc_api_url"),ugc_client_id:this.model.get("ugc_client_id"),cellophane_auth_key:this.model.get("cellophane_auth_key"),cellophane_base_uri:this.model.get("cellophane_base_uri"),Cookie:s.Cookie,guest:this._getGuest(),translations:this.model.get("translations")}),i=[{key:"tos-checkbox",type:"checkbox",checkbox:!0,label:this.model.get("text_options").ugc_consent_to_official_rules||"",title:this.messaging.tos_required_violation,required:!0}]},render:function(){var e=this.template||{};if(e&&"function"==typeof e.render){var t=this.model.toJSON(),i=t.schema_json||{};c.extend(t,{has_tips:!(c.isEmpty(i.dos)&&c.isEmpty(i.donts))}),this.$el.html(e.render(t)),this.setupGuest()}},renderCampaign:function(e,t){var i=r.partials.forms.user_upload_form||{};if(i&&"function"==typeof i.render){var n=this.$el.find(".form-container");if(!n.find("form").length){var s=this.model.toJSON();c.extend(s,t,{fields:this.generateFields(e),form_action:this.model.get("cellophane_base_uri")+u}),n.append(i.render(s,{character_countdown:r.modules.shared_components.character_countdown})),this.countdown()}this.showAssetPack()}},setupCampaign:function(e){if("resolved"!==d.state())if(e){var i=this._getCampaignContent(e);i?this._isAllowedAgeBand(e,i)?t.campaign.submissionAllowed(e,i.id)?t.campaign.get(i.id).then(function(e){d.resolve(e)}).fail(function(e){d.reject(e)}):d.reject("submission_limit_reached"):(d.reject("age_band_violation"),t.track("SWFFA_Ineligible_UnderAge",this._getGuestAgeBand(e))):(d.reject("country_violation"),t.track("SWFFA_Ineligible_WrongCountry",this._getGuestLegalCountry(e)))}else d.reject("login_violation");return d},setupGuest:function(){var t=this,i=t._getGuest();i.on("login",function(e){t.setupCampaign(e).then(t.renderCampaign,t.toggleIneligible)}),i.on("close",function(){l(".ugccampaign").find(".disid-button, .ugc-upload, .select-file").focus()}),i.on("logout",function(){t.hideForm(),t.showLogin(),t.$(".asset-pack.form-mask").removeClass("hidden").addClass("disabled"),e.location.reload()})},updateSelect:function(){this.$("select").each(function(){var e=l(this),t=e.find("option:selected"),i=0===t.index();e.toggleClass("empty",i&&""===e.val())})},updateSelectedFile:function(e){if(this.activeFile=e&&e.currentTarget,this.resetAlert(),this.activeFile){var t=this.activeFile.files[0],i=t.name;this.$(".file-name-container").addClass("visible"),this.$(".file-name").text(i),this.$(".select-file").removeClass("visible"),this.$(".begin-upload").addClass("visible"),this.$(".extra-fs").addClass("file-show"),this.$(".footnotes").addClass("visible")}else this.$('form input[type="file"]')[0].value=null,this.$(".file-name-container").removeClass("visible"),this.$(".file-name").text(""),this.$(".select-file").addClass("visible"),this.$(".begin-upload").removeClass("visible"),this.$(".extra-fs").removeClass("file-show"),this.$(".footnotes").removeClass("visible")},showAssetPack:function(){this.$(".login.form-mask").fadeOut(150),this.$(".container-mask").fadeOut(150),this.$(".asset-pack.form-mask").removeClass("disabled")},hideForm:function(){this.$(".container-mask, .form-mask").addClass("hidden"),this.$(".form-container form").removeClass("visible")},showForm:function(){this.$(".asset-pack.form-mask").addClass("hidden"),this.$(".form-container form").addClass("visible"),this.$(":input:visible:first").focus(),t.track("SWFFA_Eligible")},showLogin:function(){this.hideForm(),this.$(".container-mask, .login.form-mask").fadeIn(150)},toggleIneligible:function(e,t){switch(this.hideForm(),e){case"submission_limit_reached":this.showProgress(),this.updateProgressIndicator(100),this.revealSuccess(),this.$(".container-mask").fadeOut(150);break;default:var i=this.$(".ineligible.form-mask");i.toggleClass(e).toggleClass("hidden",!!t),i.html(this.messaging[e]||e||this.messaging.unexpected_error)}},beginUpload:function(){this.$(".uploading").addClass("visible"),this.resetAlert(),this.setupCampaign().then(this.validateForm,this.showAlert).then(this.prepareUpload,this.showAlert).then(this.showProgress,this.showAlert).then(this.upload,this.showAlert).then(this.handleUploadSuccess,this.handleUploadFailure)},prepareUpload:function(e,i){var n=c.first(this.activeFile.files),s=c.inject(i,function(e,t){return e[t.key]=t.value,e},{});return t.campaign.prepare(n,s)},upload:function(){var e=c.first(this.activeFile.files);return t.campaign.upload(e,{progressCallback:this.updateProgressIndicator})},validateForm:function(e){for(var t=new l.Deferred,i=this.generateFields(e),n=this.activeFile&&c.first(this.activeFile.files),s=0;s<i.length;s++){var o=this.$("form").find('[name="'+i[s].key+'"]'),a=null;if("checkbox"===i[s].type?a=o.prop("checked"):(a=o.val(),a&&(i[s].value=a)),!a&&i[s].required)return t.reject(i[s].title+" "+this.messaging.is_required_violation)}return n?c.contains(e.allowedTypes,n.type)?t.resolve(e,i):t.reject(this.messaging.file_type_violation):t.reject(this.messaging.file_not_included_violation)},showProgress:function(){this.resetProgressIndicator(),this.$("form").addClass("hide"),this.$(".progress").addClass("visible")},hideProgress:function(){this.$(".progress").removeClass("visible"),this.$("form").delay(1e3).removeClass("hide"),this.resetProgressIndicator()},updateProgressIndicator:function(e){var t=e>1?e:100*e,i=this.progressConfig&&this.progressConfig.stepPercent,n=i*Math.round(t/i),s=this.$(".progress-indicator");s.attr("data-loading",100>n),s.attr("data-progress",n)},resetProgressIndicator:function(){var e=this.$(".progress-indicator");e.attr("data-loading","false"),e.attr("data-progress","0"),e.removeClass("upload-success")},handleUploadSuccess:function(){var t,i=this,n=parseInt(this.$(".progress-indicator").attr("data-progress"),10),s=this.progressConfig;100===n?i.revealSuccess():t=e.setInterval(function(){n+=s.stepPercent,i.updateProgressIndicator(n),100===n&&(i.revealSuccess(),e.clearInterval(t),i.$(".progress-indicator").attr("data-loading","false"))},s.minimumInterval)},revealSuccess:function(){this.$(".progress-indicator").addClass("upload-success"),this.$(".thank-you").addClass("visible"),this.$(".uploading").removeClass("visible")},handleUploadFailure:function(e){this.$(".uploading").removeClass("visible"),this.revealError(e)},revealError:function(e){this.hideProgress(),this.showAlert(e),this.resetProgressIndicator()},showAlert:function(e){t.track("SWFFA_Failed_Submission"),this.$(".notification").removeClass("notice").addClass("alert").stop(!0).hide().text(e).slideDown(500)},resetAlert:function(){this.$(".notification").addClass("notice").removeClass("alert").hide()},handleFileNameClick:function(){this.updateSelectedFile(null)},handleTipsClick:function(){l(".tips-bound").addClass("visible").find("a:first").focus(),l(".modal-overlay").addClass("ugc-show")},handleTipsClose:function(){l(".tips-bound").removeClass("visible"),l(".modal-overlay").removeClass("ugc-show"),l(".ugccampaign").find(".disid-button, .ugc-upload, .select-file").focus()},handleGetStartedClick:function(){this._getGuest().login()},countdown:function(){var e=this.$(".has-count");s.FormElements.characterCountdown.onReady(e)},generateFields:function(e){var t=e.submissionMetadata,n=c.inject(t.properties,function(e,i,n){var s=c.extend(i,{key:n,required:c.contains(t.required,n),maxLength:i.maxLength||300});return s[i.type]=!0,e.push(s),e},[]);return n.concat(i)},tosCheckboxAction:function(e){e.preventDefault();var t=l(e.currentTarget),i=t.hasClass("checked"),n=this.$(".button.select-file"),s=this.$('.tos-checkbox input[type="checkbox"]'),o=this.$(".tos-gated");o.prop("disabled",i),n.toggleClass("disabled",i),s.prop("checked",!i),t.toggleClass("checked",!i)},destroy:function(){t&&t.destroy()},_getCampaignContent:function(e){var t=this._getGuestLegalCountry(e);return c.find(this.model.get("data")||[],function(e){return!s.vis.geoExcluded(new n.Model(e),t)})},_getGuest:function(){return this.options&&this.options.guest},_getGuestAgeBand:function(e){return e&&e.profile&&e.profile.ageBand},_getGuestLegalCountry:function(e){var t=e&&e.profile||{};return t.region||t.countryCodeDetected||"unknown"},_isAllowedAgeBand:function(e,t){var i=this._getGuestAgeBand(e),n=(t&&t.age_bands||{}).allowed;return c.contains(n,i)}})}(this),Whiskers("modals.video",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<div class='modal-close top-right'></div> <div class='modal-content'> <div class=\"thumb\" style=\"background-image: url( "),n.s(n.f("video",e,t,1),e,t,0,129,156,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("asset_thumbnail_image",e,t,0))),i.b(" ")}),e.pop()),n.b(' ); background-repeat: no-repeat; background-size: cover;"> <div class="thumb-sizer"></div> </div> '),n.s(n.f("video",e,t,1),e,t,0,275,716,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="details"> <div class="content"> <h3 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h3> <div class="author">'),i.b(i.v(i.f("short_description",e,t,0))),i.b('</div> <div class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b('</div> </div> <div class="modal-vote-btn-container"> <button type="button" class="modal-voting-btn" data-modal-video-slug="'),i.b(i.v(i.f("slug_base",e,t,0))),i.b('"> <span class="modal-voting-icon"></span> <span class="modal-voting-text">'),i.b(i.v(i.d("translations.voting_btn_text",e,t,0))),i.b("</span> </button> </div> </div> ")}),e.pop()),n.b(" </div> <div id='social-buttons' class='large-social'> "),n.b(n.rp("socialShare",e,t,"")),n.b(" </div>"),n.fl()}),Whiskers("modules.voting_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div id="voting-video"> <div class="aspect"> <!-- Orphan video markup --> '),n.s(n.f("expired",e,t,1),e,t,1,0,0,"")||n.b(' <div id="voting_video_player" class="voting-video-player"></div> '),n.b(" "),n.s(n.f("expired",e,t,1),e,t,0,177,242,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),n.b(" <!-- /Orphan video markup --> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e.Backbone,s=t.Utilities,o=e.Modernizr,a=t.Style.breakpoints,r=e.jQuery,l=e._,c=e.Whiskers,d=e.window;i.VideoModalView=i.ModalView.extend({options:{name:"video",events:{onkeyup:!1,onclick:!1},template:c.modals.video},events:{"click .modal-voting-btn":function(){this.handleVoteClick()},"click .modal-close":function(){this.removePlayer()}},initialize:function(){this.options.guest.retain(),this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this)},render:function(){var t=this.model.get("data"),i=this.model.get("translations")||{},n=e.location.hash.substring(1),s=l.filter(t,function(e){return l.findWhere(e.video,{slug_base:n})});this.video=s[0].video[0],this.poll=s[0].poll[0];var o={voting_btn_text:"vote",voting_pre_login_text:"Login to vote for all your favorite videos.",voting_post_login_text:"You can vote for each film once per day",voting_success_default:"Let your friends know you voted!",voting_error_maxnum:"You've already voted today.",voting_error_default:"Oops! Something went wrong. Try again later."};l.defaults(i,o);var a=l.extend({video:this.video,translations:i,title:this.video.title,source:this.video.url,titleEncoded:encodeURIComponent(this.video.title),sourceEncoded:encodeURIComponent(this.video.url),socialShare:this.model.collection&&this.model.collection.social_share_networks},this.model);return this.options.template.render(a,{socialShare:c.modules.shared_components.social_share})},ready:function(){this.initVideoPlayer()},handleVoteClick:function(){var e=this;this.options&&this.options.guest&&this.options.guest.current?e.makeVoteRequest(this.options.guest.retain()):this.options.guest.login().then(function(t){t||e.makeVoteRequest(t)})},makeVoteRequest:function(){var e=this,i=e.model.get("translations"),n=e.model.collection&&e.model.collection.config_translations||{};l.defaults(i,n);var s=this.poll.id,o=this.poll.voting_choices[0].identifier,a=this.poll.voting_choices[0].text,c=t.visitorId(),u=d.location.pathname,f="GAE "+this.model.get("interaction_client_id"),p=this.model.get("interaction_base_uri")+"interaction/poll",h=i.voting_success_default,v=i.voting_error_default,m=i.voting_error_maxnum,b=i.voting_pre_login_text,g=r(".modal-voting-btn"),y=r("ul").find("[data-video-poll-id='"+this.poll.id+"']"),_=JSON.stringify({objectId:s,objectSubId:o,userId:c,quantity:1,metadata:{subIdDisplayName:a,pageUrl:u}});r.ajax({url:p,headers:{Authorization:f,"content-type":"application/json"},type:"POST",data:_,dataType:"json"}).always(function(e){switch(e.status){case 202:g.addClass("voted").text(h),y.find("notivications").addClass("active").find(".content h3").text(h);break;case 429:g.text(m);break;case 409:g.text(m);break;case 401:g.text(b);break;case 403:g.text(b);break;default:g.text(v)}})},removePlayer:function(){this.player&&this.player.remove()},initVideoPlayer:function(){var e=this,i=this.video;if(this.removePlayer(),this.player=new u({model:i}),t.Social.bindShareClick(),this.$el.find(".thumb-sizer").html(this.player.render()),this.player.init(i),o.mobile){var r=this.player.$el.find("video");r.play(),n.Resize.width()<a.midHigh&&(s.toggleFullScreen(r,!0),s.onFullScreenChange(function(){s.isFullScreen()||(r.pause(),e.playerView&&(e.playerView.remove(),e.playerView=null,e.$voteItem=null),s.offFullScreenChange())}))}}});var u=i.ModuleView.register("video-player",{className:"modal-voting-video-container",template:c.modules.voting_player,render:function(){return this.$el.html(this.template.render()),this.el},init:function(e){this.player=new t.StarWarsVideoPlayer("voting_video_player",{video:e,autoPlay:!0,clickToPlay:!0,showTitle:!0,ads:{enabled:!1,context:!1}})},remove:function(){this.$(".modal-voting-video-container").remove(),this.player&&(this.player.cleanup(),this.player.destroy(),this.player=null),i.BunView.prototype.remove.call(this)}})}(this),Whiskers("modules.voting",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="voting-info-wrap"> <button type="button" class="voting-login"> '),n.b(n.v(n.d("translations.voting_pre_login_text",e,t,0))),n.b(' </button> <div class="voting-rules"> <p>'),n.b(n.v(n.d("header_data.desc",e,t,0))),n.b('</p> </div> </div> <ul class="voting-items"> '),n.s(n.f("randData",e,t,1),e,t,0,303,1696,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li data-video-poll-id="'),i.s(i.f("poll",e,t,1),e,t,0,337,343,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("id",e,t,0)))}),e.pop()),i.b('" data-video-poll-slug="'),i.s(i.f("poll",e,t,1),e,t,0,385,393,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("slug",e,t,0)))}),e.pop()),i.b('" data-video-poll-title="'),i.s(i.f("poll",e,t,1),e,t,0,436,445,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0)))}),e.pop()),i.b('" data-option-id="'),i.s(i.f("poll",e,t,1),e,t,0,481,533,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("voting_choices",e,t,1),e,t,0,500,514,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("identifier",e,t,0)))}),e.pop())}),e.pop()),i.b('" data-option-name="'),i.s(i.f("poll",e,t,1),e,t,0,571,617,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("voting_choices",e,t,1),e,t,0,590,598,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("text",e,t,0)))}),e.pop())}),e.pop()),i.b('" data-video-id="'),i.s(i.f("video",e,t,1),e,t,0,653,659,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("id",e,t,0)))}),e.pop()),i.b('" data-video-slug="'),i.s(i.f("video",e,t,1),e,t,0,698,711,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("slug_base",e,t,0)))}),e.pop()),i.b('" data-video-title="'),i.s(i.f("video",e,t,1),e,t,0,751,760,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0)))}),e.pop()),i.b('" data-video-url="'),i.s(i.f("video",e,t,1),e,t,0,798,805,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("url",e,t,0)))}),e.pop()),i.b('"> <div class="bedazzlement"></div> <div class="item-container"> <div class="item-head"> <div class="thumb" style="background-image: url( '),i.s(i.f("video",e,t,1),e,t,0,963,990,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("asset_thumbnail_image",e,t,0))),i.b(" ")}),e.pop()),i.b(' );"> <span class="thumb-sizer"></span> </div> <button type="button" class="voting-btn"> <span class="vote-text">'),i.b(i.v(i.d("translations.voting_btn_text",e,t,0))),i.b('</span> <span class="voted-icon"></span> </button> </div> <div class="item-body"> <div class="details"> <h3 class="title">'),i.s(i.f("video",e,t,1),e,t,0,1277,1288,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("title",e,t,0))),i.b(" ")}),e.pop()),i.b('</h3> <div class="author">'),i.s(i.f("video",e,t,1),e,t,0,1334,1357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("short_description",e,t,0))),i.b(" ")}),e.pop()),i.b('</div> <div class="description">'),i.s(i.f("video",e,t,1),e,t,0,1409,1426,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("description",e,t,0))),i.b(" ")}),e.pop()),i.b('</div> </div> </div> </div> <div class="notifications"> <div class="bedazzlement"></div> <span class="close-icon"></span> <div class="content"> <h3>'),i.b(i.v(i.d("translations.voting_success_default",e,t,0))),i.b("</h3> "),i.b(i.rp("socialShare",e,t,"")),i.b(' </div> </div> <span class="bg-fill"></span> </li> ')}),e.pop()),n.b(" </ul> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e.Backbone,s=t.Utilities,o=e.Modernizr,a=t.Style.breakpoints,r=e.jQuery,l=e._,c=e.Whiskers,d=e.window;i.ModuleView.register("voting-sw",{template:c.modules.voting,assets:{scripts:["https://static-mh.content.disney.io/starwars/assets/videoplayer-e3b6071053c8.js"]},events:{"click .voting-login":function(){this.options.guest.login()},"click .voting-btn":function(e){this.$voteItem=r(e.currentTarget).closest("li"),this.handleVoteClick()},"click .thumb":function(e){var t=r(e.currentTarget),i=t.closest("li"),n=i.data("video-id");this.thumbParent=i,this.thumbParentID=n,t.hasClass("active")||(r(".thumb.active").removeClass("active"),t.addClass("active"),this.initInlineVideoPlayer())},"click .close-icon":function(e){this.closeInlineModal(r(e.currentTarget).closest("div"))}},initialize:function(){this.options.guest.retain(),this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this)},render:function(){var i=this,n=this.model.get("data"),s=this.model.get("translations"),o=l.shuffle(n);this.model.set("randData",o);var a={voting_btn_text:"vote",voting_pre_login_text:"Login to vote for all your favorite videos.",voting_post_login_text:"You can vote for each film once per day",voting_success_default:"Let your friends know you voted!",voting_error_maxnum:"You've already voted today.",voting_error_default:"Oops! Something went wrong. Try again later."};l.defaults(s,a);var r=l.extend({translations:s,socialShare:this.model.collection&&this.model.collection.social_share_networks},this.model);t.Social.init("facebook"),this.$el.html(this.template.render(r,{module_header:c.modules.shared_components.module_header,socialShare:c.modules.shared_components.social_share})),e.setTimeout(function(){i.rewriteSocialLinks(),i.initDeepLink()},2e3)},handleVoteClick:function(){var e=this;this.options.guest.current?e.makeVoteRequest(this.options.guest.retain()):this.options.guest.login().then(function(t){t||e.makeVoteRequest(t)})},initDeepLink:function(){if(e.location.hash){var t=e.location.hash.substring(1),i=r(".voting-items").find('[data-video-slug="'+t+'"]'),n=140;r("html,body").animate({scrollTop:i.offset().top-n},1e3),o.mobile?i.find(".thumb").trigger("click"):this.initModal()}},rewriteSocialLinks:function(){var e=r(".voting-items li");r.each(e,function(e,t){var i=r(t),n=i.data("video-title"),s=i.data("video-url"),o=encodeURIComponent(n),a=encodeURIComponent(s);i.find(".social-share").attr("data-text",n),i.find(".social-share.facebook").attr("data-share-url",s),i.find(".social-share.twitter").attr("data-href","https://twitter.com/intent/tweet?url="+a+"&text="+o+"&hashtags=SWFanFilms")})},makeVoteRequest:function(){var e=this,i=e.model.get("translations"),n=e.model.collection&&e.model.collection.config_translations||{};l.defaults(i,n);var s=this.$voteItem.closest("li").data("video-poll-id"),o=this.$voteItem.data("option-id"),a=this.$voteItem.data("option-name"),c=t.visitorId(),u=d.location.pathname,f="GAE "+this.model.get("interaction_client_id"),p=this.model.get("interaction_base_uri")+"interaction/poll",h=i.voting_success_default,v=i.voting_error_default,m=i.voting_error_maxnum,b=i.voting_pre_login_text,g=JSON.stringify({objectId:s,objectSubId:o,userId:c,quantity:1,metadata:{subIdDisplayName:a,pageUrl:u}});r.ajax({url:p,headers:{Authorization:f,"content-type":"application/json"},type:"POST",data:g,dataType:"json"}).always(function(t){switch(t.status){case 202:e.animateVoteSuccess(h);break;case 429:e.animateVoteFail(m);break;case 409:e.animateVoteFail(m);break;case 401:e.animateVoteFail(b);break;case 403:e.animateVoteFail(b);break;default:e.animateVoteFail(v)}})},animateVoteSuccess:function(t){var i=this;i.$voteItem.addClass("selected"),i.$voteItem.find(".social-share-links").show(),e.setTimeout(function(){i.initInlineModal(t)},500)},animateVoteFail:function(e){this.initInlineModal(e),this.$voteItem.find(".social-share-links").hide()},destroy:function(){this.options.guest&&this.options.guest.release()},initInlineModal:function(e){this.$voteItem.find(".notifications").addClass("active").find("h3").text(e)},closeInlineModal:function(e){e.removeClass("active")},login:function(){this.$el.addClass("loggedin")},logout:function(){this.$el.removeClass("loggedin")},initModal:function(){var e=this.model.get("cto");this.modal=new i.VideoModalView({guest:this.options.guest,model:this.model,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWVideoPlayerModal"}}),r(this.modal).remove(),this.modal.show()},initInlineVideoPlayer:function(){var e=this,t=l.filter(this.model.get("data"),function(t){return l.findWhere(t.video,{id:e.thumbParentID})}),i=t[0].video[0];if(this.player&&this.player.remove(),this.player=new u({model:i}),r(this.thumbParent).find(".thumb-sizer").html(this.player.render()),this.player.init(i),o.mobile){var c=this.player.$el.find("video");c.play(),n.Resize.width()<a.midHigh&&(s.toggleFullScreen(c,!0),s.onFullScreenChange(function(){s.isFullScreen()||(c.pause(),e.playerView&&(e.playerView.remove(),e.playerView=null,e.$voteItem=null),s.offFullScreenChange())}))}}});var u=i.ModuleView.register("video-player",{className:"voting-video-container",template:c.modules.voting_player,render:function(){return this.$el.html(this.template.render()),this.el},init:function(e){this.player=new t.StarWarsVideoPlayer("voting_video_player",{video:e,autoPlay:!0,clickToPlay:!0,showTitle:!0,ads:{enabled:!1,context:!1}})},remove:function(){this.$(".voting-video-container").remove(),this.player&&(this.player.destroy(),this.player=null),i.BunView.prototype.remove.call(this)}})}(this),Whiskers("modals.social_share",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<div class='modal-content'> <div class='modal-close top-right'></div> <p class='modal-header top-left'>"),n.b(n.v(n.d("config_translations.share_modal_header",e,t,0))),n.b("</p> <div id='social-buttons' class='large-social'> "),n.b(n.rp("socialShare",e,t,"")),n.b(" </div> <div id='share-links'> <p class='link-text'>"),n.b(n.v(n.d("config_translations.share_modal_link",e,t,0))),n.b("</p> <input type='text' value='"),n.b(n.v(n.f("source",e,t,0))),n.b("'> </div> <div class='decal'></div> </div>"),n.fl()}),Whiskers("modules.watch",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("data",e,t,1),e,t,0,9,2606,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div itemprop="video" itemscope itemtype="http://schema.org/VideoObject" class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-'),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b('"></div> <div id="frame"> '),i.b(i.rp("kaltura_player",e,t,"")),i.b(' <div id="card" class="card watch skip-styles"> '),i.s(i.f("standalonePlayer",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="card_header"> <div class="btn_replay"> <span class="button"> '),i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b(' <div class="bedazzlement"></div> </span> </div> <p class="countdown_intro">'),i.b(i.v(i.d("translations.next_video_start",e,t,0))),i.b(' <span class="countdown">10</span><span class="autoplay">'),i.b(i.v(i.d("translations.autoplay_off",e,t,0))),i.b("</span></p> "),i.s(i.f("upNext",e,t,1),e,t,0,729,866,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="btn_next"> <a class="button" href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.watch_next_video",e,t,0))),i.b(' <div class="bedazzlement"></div> </a> </div> ')}),e.pop()),i.b(' </div> <div class="suggested"> <ul> '),i.s(i.f("upNext",e,t,1),e,t,0,925,947,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li> "),i.b(i.rp("entity",e,t,"")),i.b(" </li>")}),e.pop()),i.b(" "),i.s(i.f("suggested",e,t,1),e,t,0,973,995,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li> "),i.b(i.rp("entity",e,t,"")),i.b(" </li>")}),e.pop()),i.b(" </ul> </div> ")),i.b(" "),i.s(i.f("standalonePlayer",e,t,1),e,t,0,1066,1569,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="card-content"> <div class="btn_replay replay_btn_teaser"> <span class="icon-replay"></span> <span>'),i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b("</span> </div> "),i.s(i.f("hasSocial",e,t,1),e,t,0,1235,1547,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="spacer"></div> <div class="share-text">'),i.b(i.v(i.d("translations.share_this",e,t,0))),i.b('</div> <div class="large-social">'),i.b(i.rp("socialShare",e,t,"")),i.b('</div> <div class="share-links"> <p class="link-text">'),i.b(i.v(i.d("translations.quick_link",e,t,0))),i.b('</p> <input type="text" value="'),i.b(i.v(i.f("source",e,t,0))),i.b('"> </div> '),i.s(i.f("shareUtility",e,t,1),e,t,0,1512,1529,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("shareUtility",e,t,""))}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </div> </div> </div> <!-- End of video_wrapper --> </div> "),i.s(i.f("hideContentMetaDataContainer",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="content-metadata-container"> '),i.s(i.f("standalonePlayer",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="bedazzlement"></div> '),i.b(' <div id="meta"></div> ')),i.b(" "),i.s(i.f("standalonePlayer",e,t,1),e,t,0,1867,2502,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("schema_json",e,t,1),e,t,0,1883,2486,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("schema_json.hide_visit_link",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="site-link-container"> <a class="underline" href=" '),i.s(i.d("schema_json.visit_link",e,t,1),e,t,0,2006,2034,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.d("schema_json.visit_link",e,t,0))),i.b(" ")}),e.pop()),i.b(" "),i.s(i.d("schema_json.visit_link",e,t,1),e,t,1,0,0,"")||i.b(" https://www.starwars.com "),i.b(' "> '),i.s(i.d("schema_json.visit_link_text",e,t,1),e,t,0,2178,2209,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("schema_json.visit_link_text",e,t,0)))}),e.pop()),i.b(" "),i.s(i.d("schema_json.visit_link_text",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.d("translations.visit_link",e,t,0))),i.b(" </a> </div> ")),i.b(" "),i.s(i.d("schema_json.hide_share_button",e,t,1),e,t,1,0,0,"")||i.b(' <div id="share-btn-container"></div> '),i.b(" ")}),e.pop())}),e.pop()),i.b(" </div> ")),i.b(" </div> </div> </div> </div> <!-- End --> ")}),e.pop()),n.fl()}),Whiskers("entities.video",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<!-- TODO This is pulled from matterhorn and needs to be set up for StarWars --> <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,108,129,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),n.b(' class="skip-styles"> <div class="thumb-box"><div class="aspect"> <img src="'),n.b(n.v(n.f("default_thumb",e,t,0))),n.b('" class="thumb" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> '),n.s(n.f("badge",e,t,1),e,t,0,274,316,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="badge" alt="">')}),e.pop()),n.b(" "),n.s(n.f("duration",e,t,1),e,t,0,340,389,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="duration"><p>'),i.b(i.v(i.f("duration",e,t,0))),i.b("</p></div> ")}),e.pop()),n.b(' </div></div> <div class="thumb-title"> <h3 class="overlay-title" aria-hidden="true">'),n.b(n.v(n.f("title",e,t,0))),n.b("</h3> </div> </a>"),n.fl()}),Whiskers("modules.shared_components.share_btn",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<button type="button" class="social-share-btn button" data-source="'),n.b(n.v(n.f("href",e,t,0))),n.b('" data-title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <span class="icon-share"></span> <span class="social-share-title">'),n.b(n.v(n.d("translations.share",e,t,0))),n.b("</span> </button>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.Grill,s=e.Whiskers,o=e._,a=e.jQuery,r=i.View.extend({el:"#share-btn-container",render:function(){var e=o.extend({translations:this.options.translations},this.options.share_object);this.$el.html(s.modules.shared_components.share_btn.render(e,{}))}});n.SocialShareModalView=n.ModalView.extend({options:{name:"social-share",template:s.modals.social_share},initialize:function(e){if(this.socialShare=e&&e.model.collection&&e.model.collection.social_share_networks,this.socialShareButton=new r({share_object:e.share_object,translations:e.translations}),this.socialShare){var i=this.socialShare;i.facebook&&t.Social.init("facebook")}this.socialShareButton.render()},render:function(){var e=o.first(this.model.get("data")),t=a(".social-share-btn"),i=t.data("source"),n=t.data("title"),r=o.extend({socialShare:this.socialShare,source:i,sourceEncoded:encodeURIComponent(i),titleEncoded:encodeURIComponent(n),translations:this.options.translations,config_translations:this.options.config_translations},e);return this.options.template.render(r,{socialShare:s.modules.shared_components.social_share})},ready:function(){this._bindEvents()},_bindEvents:function(){t.Social.bindShareClick()}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.flashembed,s=t.Capabilities={MIN_FP_VERSION:[9,0],isHTML5Capable:function(){return e.Modernizr.canvas;
},isFlashCapable:function(e){var t=e||s.MIN_FP_VERSION;return n.isSupported(t)},isMobileBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad|android|silk|iemobile)/i)?!0:!1},isiOSBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)?!0:!1},isAndroidBrowser:function(){return e.navigator.userAgent.match(/(android)/i)?!0:!1},isKindleBrowser:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)?!0:!1},isIE8:function(){return i.browser.msie&&8===parseInt(i.browser.version,10)}}}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e._,s=e.jQuery,o=e.Whiskers,a=e.Math,r=null,l=e.sessionStorage,c=e.JSON,d=i.ModuleView.extend({assets:{scripts:["https://static-mh.content.disney.io/starwars/assets/videoplayer-e3b6071053c8.js"]},events:{"click .social-share-btn":function(e){this.modal.show({event:e})}},initialize:function(){var t=this,i="true"===this.model.collection.disable_video_endcard,o=this.model.collection&&this.model.collection.social_share_networks;n.extend(this,{disableEndCard:i,socialShare:o,hasSocial:!!o,share_object:this.pointSocialToPage?this.model.collection:n.first(this.model.get("data"))}),t.h=s(e).on("resize."+t.cid,n.throttle(function(){var i=s(e).height();i!==t.h&&(t.h=i,t.layout())},100)).height()},render:function(){var e=this.share_object,t=this.model.get("schema_json"),i=t?t.aspect_ratio:"",s="standalone_player"===this.model.get("view"),a=s&&t&&t.hide_visit_link&&t.hide_share_button;this.isStandalonePlayer=s;var l=n.extend({tags:this.model.get("data")[0].tags,contenttype:this.model.get("data")[0].contenttype,upNext:this.upNext(),cds:!1,hasSocial:this.hasSocial,socialShare:this.socialShare,source:e.href,sourceEncoded:encodeURIComponent(e.href),titleEncoded:encodeURIComponent(e.title),standalonePlayer:this.isStandalonePlayer,hideContentMetaDataContainer:a,aspect_ratio:i},this.model.toJSON());this.$el.html(o.modules.watch.render(l,{kaltura_player:o.modules.shared_components.kaltura_player,entity:o.entities.video,socialShare:o.modules.shared_components.social_share})),r=l.data[0],this.layout()},ready:function(){var e=this.model.get("cto"),s=this.model.get("translations"),o=this.model.get("config_options")||{},a=void 0!==o.autoplay?o.autoplay:this.playerConfig.autoPlay,r=this.options;new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:this.shareUtility()}),this.modal=new i.SocialShareModalView({closeElement:".modal-close",config_translations:this.model.collection&&this.model.collection.config_translations,model:this.model,share_object:this.share_object,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWSocialShareModal"},translations:s});var l=n.first(this.model.get("data"));l.ads=l.ads||{},l.ads.context=r.ads,this.isStandalonePlayer&&l.default_thumb&&(l.poster=l.default_thumb),n.extend(this.playerConfig,{video:l,translations:s,autoPlay:a,autoPlay_mute:a,ads:{enabled:!r.cds&&!r.noAds}}),this.player=new t.StarWarsVideoPlayer(l.kaltura_id,this.playerConfig)},upNext:function(){var e=n.first(this.model.get("data")),t=l&&c.parse(l.getItem("videoHistoryOnDisneyVideo")||"[]"),i=e.next||[],s=[];n.each(i,function(e){s.push(e.id)});var o=n.first(n.difference(s,t)),a=n.find(i,function(e){return e.id===o});a||(a=n.first(i)),t.push(e.id),t.length>10&&t.shift();try{l.setItem("videoHistoryOnDisneyVideo",c.stringify(t))}catch(r){}return a},layout:function(){var e=a.ceil((this.h-120)/.5625),t=a.max(320,e),i=a.min(1024,t),n=this.$("#video_wrapper .bound");n.css("maxWidth",i)},remove:function(){this.player&&(this.player.destroy(),this.player=null),i.ModuleView.prototype.remove.call(this),s(e).off("resize."+this.cid)}});d.register("watch",{playerConfig:{autoPlay:!0,showTitle:!1,showDuration:!0},shareUtility:function(){var e=this.model.get("translations"),t=[{share_type:"embed",share_text:e.embed,output_label:e.embed},{share_type:"share",share_text:e.share,output_label:e.quick_link}];return this.playerConfig.showEndCard=!this.disableEndCard,this.playerConfig.clickToPlay=this.disableEndCard,t}}),d.register("watch_2",{className:"module watch",playerConfig:{autoPlay:!1,clickToPlay:!0,showTitle:!1,showDuration:!1,showEndCard:!1,skinUrl:{kaltura:"https://static-mh.content.disney.io/starwars/assets/video/videoplayer_skin-d72cdbc8943c.css",kalturaV3:"https://static-mh.content.disney.io/starwars/assets/video/videoplayer_v3_skin-fdf0029e8be7.css",matterhorn:"https://static-mh.content.disney.io/starwars/assets/videoplayer_assets_starwars-b718b73750f4.swf"}},shareUtility:function(){return!1}}),d.register("standalone_player",{pointSocialToPage:!0,playerConfig:{autoPlay:!1,clickToPlay:!1,showTitle:!1,showDuration:!1,showEndCard:!0},shareUtility:function(){return!1}})}(this),Whiskers("modules.watch_video",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-16x9"></div> '),n.b(n.rp("player",e,t,"")),n.b(' </div> </div> </div> </div> </div> </div> <div class="module-spinner"> <span class="loader"></span> </div>'),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.jQuery,s=e._,o=t.ModuleView.extend({className:"module video-player",template:i.modules.watch_video,initialize:function(){this.el.className+=" "+this._playerType(),s.extend(this,{partials:{player:i.modules.shared_components[this._playerType()]}})},render:function(){var e=this.model,t=s.first(e.get("data")),i=s.extend({nowlive_id:e.get("nowlive_id")},t);this._playerType()&&this.$el.html(this.template.render(i,this.partials))},ready:function(){if(this._playerType()){var e=this.$(".watch-padding").outerHeight(),t=this.$(".watch-container").position().top,i=this.$(".bound").css("padding-top");e>0&&this.$(".module-spinner").css("top",e/2+t+i),this.$(".youtube-inline-player iframe, .nowlive-inline-player iframe").on("load",function(){n(this).addClass("loaded")})}},_playerType:function(){var e=s.first(this.model.get("data"))||{};return e.youtube_id?"youtube_player":this.model.get("nowlive_id")?"nowlive_player":void 0}});o.register("starwars_standalone_youtube_player")}(this);